<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181187B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181187</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181187</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="23623317" extended-family-id="42107520">
      <document-id>
        <country>US</country>
        <doc-number>09410121</doc-number>
        <kind>A</kind>
        <date>19990930</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09410121</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43163760</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>41012199</doc-number>
        <kind>A</kind>
        <date>19990930</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09410121</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G11B  20/10        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>11</class>
        <subclass>B</subclass>
        <main-group>20</main-group>
        <subgroup>10</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G11B  21/10        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>11</class>
        <subclass>B</subclass>
        <main-group>21</main-group>
        <subgroup>10</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H03L   7/099       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>099</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>327323000</text>
        <class>327</class>
        <subclass>323000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>327087000</text>
        <class>327</class>
        <subclass>087000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>327361000</text>
        <class>327</class>
        <subclass>361000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>G9B021020</text>
        <class>G9B</class>
        <subclass>021020</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G11B-021/10D</text>
        <section>G</section>
        <class>11</class>
        <subclass>B</subclass>
        <main-group>021</main-group>
        <subgroup>10D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H03L-007/099</text>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>099</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03L-007/099</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>099</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G11B-020/10009</classification-symbol>
        <section>G</section>
        <class>11</class>
        <subclass>B</subclass>
        <main-group>20</main-group>
        <subgroup>10009</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G11B-021/106</classification-symbol>
        <section>G</section>
        <class>11</class>
        <subclass>B</subclass>
        <main-group>21</main-group>
        <subgroup>106</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S11B-020/10A</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>11</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>1</number-of-drawing-sheets>
      <number-of-figures>3</number-of-figures>
      <image-key data-format="questel">US6181187</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Circuit for auto-centering control loop bias currents</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>IDE TETSUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4456840</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4456840</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>TABATABAI ALI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5892376</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5892376</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>BERTOLINI LUCA</text>
          <document-id>
            <country>US</country>
            <doc-number>6072339</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6072339</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Texas Instruments Incorporated</orgname>
            <address>
              <address-1>Dallas, TX, US</address-1>
              <city>Dallas</city>
              <state>TX</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>TEXAS INSTRUMENTS</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Daffron, Christopher J.</name>
            <address>
              <address-1>Tustin, CA, US</address-1>
              <city>Tustin</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Aralis, James M.</name>
            <address>
              <address-1>Mission Viejo, CA, US</address-1>
              <city>Mission Viejo</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Petersen, Bret J.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Telecky, Jr., Frederick J.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Kim, Jung Ho</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A method and circuit for automatically centering the control loop bias current by sensing and "memorizing" the total steady state bias current used by the function block (VGA or VCO) through the use of both digital and analog memory elements.
      <br/>
      The present invention uses an auto-centering, high-impedance current driver to supply the bias current.
      <br/>
      This current driver cancels out offset currents by exploiting the high output impedance nature of a CMOS current driver using cascoded or resistor source de-generated FET devices.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
    <p num="1">The following co-assigned and co-filed patent application, filed Sep. 30, 1999, is incorporated herein by reference:</p>
    <p num="2">
      --
      <br/>
      -- Number    Inventors            Title
      <br/>
      -- 09/409640 Daffron, Christopher J. A Circuit for Auto-Zeroing A High
      <br/>
      --           Aralis, James M.     Impedance CMOS Current Driver
    </p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="3">
      This invention generally relates to control loop bias currents.
      <br/>
      More particularly, it relates to a circuit for auto-centering a control loop bias current using a high impedance CMOS current driver.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="4">
      Many important system level circuit functions, such as automatic gain control (AGC) and phase-locked loops (PLL), use the general control loop as shown in FIG. 1.
      <br/>
      The function block 10 would consist of a variable gain amplifier (VGA) in the case of a AGC loop, or a voltage controlled oscillator (VCO) in the case of a PLL system.
      <br/>
      The bias 12 to the function block 10 is controlled by a feedback loop (Vsense) 14 which senses the current state of the function block, and compares it to the desired state (Vref) 16 resulting in an adjustment of the bias IBias 12 by IError 18 provided by the Gm block 20.
      <br/>
      The digital-to-analog converter (DAC) 22 generates the main bias current (ICenter) 24 to the function block 10, and is adjustable through an external register.
      <br/>
      This programmable DAC extends the operational range of the function block, as well as, limits the gain and range of the Gm block needed for proper control loop functionality.
    </p>
    <p num="5">
      In the circuit described above, it is desirable to keep the Gm block operating at or near its zero differential operating point in order to maintain its optimal linearity and noise rejection characteristics.
      <br/>
      The farther the center current is from the desired bias current, the greater error current the Gm block must provide, and therefore must deviate from it's optimal operational point.
      <br/>
      If the DAC block could adjust or "adapt" the centering current, for which it provides, to the changing bias current needs of the function block, then the Gm block would need only provide the transitory error current for the loop during the acquisition period, and would always operate at it's zero differential point during steady state.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="6">The present invention provides a method and circuit for automatically centering the control loop bias current by sensing and "memorizing" the total steady state bias current used by the function block (VGA or VCO) through the use of both digital and analog memory elements.</p>
    <p num="7">
      The present invention uses an auto-zeroing, high-impedance current driver to supply the bias current.
      <br/>
      This current driver cancels out offset currents by exploiting the high output impedance nature of CMOS current drivers as described in the cofiled application cited above.
      <br/>
      The invention uses cascoded or resistor source degenerated FET devices to create two very high impedance current sources.
      <br/>
      The mismatch between the bias currents is balanced to reduce the offset current using an auto-zeroing circuit.
    </p>
    <p num="8">
      An advantage of the present invention is the non-intrusive nature of the digital centering.
      <br/>
      Prior art circuits typically would cause transitions on the bias current input to the function block upon completion of updating the digital portion of the centering current.
      <br/>
      Advantageously, in the present invention the bias current is held constant while updating the digital portion of the bias current.
      <br/>
      Thus, when the bias current loop is closed and the bias current is again allowed to adjust with the feedback from the function block there is no transition on the bias current.
      <br/>
      This is particularly advantageous where the function block continues to operate during the auto-centering process.
    </p>
    <p num="9">
      Another advantage of the present invention is its versatility.
      <br/>
      The auto-centering control loop bias current can be used for common control loops such as phase locked loops and automatic gain control circuits.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="10">
      The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself, however, as well as other features and advantages thereof, will be best understood by reference to the detailed description which follows, read in conjunction with the accompanying drawings, wherein:
      <br/>
      FIG. 1 A basic circuit diagram for a control loop according to the prior art;
      <br/>
      FIG. 2 A control-loop circuit having an auto-centering circuit according to an embodiment of the present invention; and
      <br/>
      FIG. 3 A hard disk drive having an auto-centering circuit according to an embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="11">The preferred embodiment of the present invention is best understood by referring to FIGS. 1-3 of the drawings, like numerals are used for like and corresponding parts of the various drawings.</p>
    <p num="12">
      FIG. 2 illustrates a circuit block diagram for a control loop circuit having an auto-centering circuit to provide a bias current according to a preferred embodiment of the present invention.
      <br/>
      The control loop circuit of FIG. 2 includes the same basic structure as FIG. 1.
      <br/>
      The function block 10 could, for example, consist of a variable gain amplifier (VGA), or a voltage controlled oscillator (VCO).
      <br/>
      The bias current 12 to the function block 10 is controlled by a feedback loop.
      <br/>
      The feedback loop senses the current state of the function block (VSense 14), and compares it to the desired state Vref 16 resulting in an adjustment of the bias IBias by IError 18 provided by the Gm block 20.
      <br/>
      The digital-to-analog converter (DAC) 22 generates the main bias current Icenter 24 to the function block 10 through the auto centering bias current circuit, which will be described below.
      <br/>
      The center current 24 is adjustable using the increment/decrement counter 28 and the comparator 30.
    </p>
    <p num="13">
      The auto-centering control loop bias circuit according to the embodiment shown in FIG. 2 has an adjustable center current circuit 31, a variable bias current generator circuit 32 and a current mirror circuit 33.
      <br/>
      The center current circuit, shown generally at 31 comprises a current source connected to the current mirror circuit to provide a control loop center bias current ICenter that is combined with IError and mirrored to the function block 10 as IBias.
    </p>
    <p num="14">
      The bias current generator circuit 32 supplies a current to the current mirror of the center current circuit 31.
      <br/>
      The bias current generator circuit 32 comprises a DAC 22, which sinks a current through PFETs 34, 36 of the center current circuit 31.
      <br/>
      The bias current generator circuit 32 includes a comparator 38 with one input tied to the top current source control input described below, and the second input to gate of PFET 36.
      <br/>
      The output of the comparator 38 is input to an increment/decrement or up/down counter 39.
      <br/>
      The counter 39 has a clock input, which is gated by the input from the comparator 38 to increment or decrement the counter when an imbalance is detected at the inputs comparator 38 inputs.
      <br/>
      The counter 39 has a parallel register output to the DAC 22.
    </p>
    <p num="15">
      The center current circuit 31 includes a current source comprising P type FET (PFET) devices 40, 42; with the top PFET 40 having its source connected to supply voltage V1, and the bottom PFET 42 having its drain connected to node 44.
      <br/>
      The gate of the bottom PFET 42 is connected to an input of the comparator 38 and to node 44 through switch SWn 46.
      <br/>
      The gate of PFET 42 is also connected to a gate capacitor 47, with the other terminal of the capacitor connected to a supply voltage V1.
      <br/>
      The center current circuit 31 includes PFETs 34,36, which are diode connected.
      <br/>
      PFET 34 has a source tied to V1 and a drain connected to the source of PFET 36.
      <br/>
      PFET 36 has a drain connected to DAC 10.
      <br/>
      The gate drain connection of the top PFET 34 provides a bias voltage to the gate of the top PFET 40 of the top current source of the center current circuit 31 that provides the ICenter current.
    </p>
    <p num="16">
      The auto-centering control loop bias circuit according to the embodiment includes a current mirror circuit 33 as stated above.
      <br/>
      The current mirror circuit 33 includes cascoded NFETS 52, 54 connected to the ICenter current source through node 44.
      <br/>
      NFET 54 is diode connected and its source connected to ground and drain connect to source of NFET 52.
      <br/>
      NFET 52 has a drain connected to node 44 and the gate connected to switch SWp156 so that NFET 52 can be diode connected when SWp1 is closed.
      <br/>
      The current mirror circuit 33 further includes a bottom current source composed of cascoded N type FET (NFET) devices 48, 50.
      <br/>
      NFET 48 has a source connected to the function block 10 to sink a current IBias.
      <br/>
      The gate of NFET 48 is connected to a second capacitor 60, to the gate of NFET 52 and to node 44 through switch SWp158.
      <br/>
      NFET 50 has its drain connected to the source of NFET 48 and source connected to ground, and a gate connected to the gate of NFET 54.
      <br/>
      The current mirror circuit 33 also includes switch SWp258, which closes the control loop by connecting node 44 to the IError 18 from the Gm block 20.
    </p>
    <p num="17">
      During closed loop operation of the control loop, switch SWn 46 is open while switches SWp156 and SWp258 are closed.
      <br/>
      The center current 24 is provided by the cascoded PFET current source 40,42, which is largely controlled by the mirrored output current of the DAC 22.
      <br/>
      The center current is combined with the error current provided by the Gm block and is mirrored through the cascoded NFET current mirror providing the entire loop bias current to the function block.
      <br/>
      In this mode, the NFET devices are configured as a current mirror, which is "slaved" to the PFET devices that are configured as a high impedance current source.
      <br/>
      As the control loop acquires the required bias current, it adjusts the error current 18 while the center current 24 remains fixed.
    </p>
    <p num="18">
      During Adapt mode, or when the control loop is in open loop, switch SWn 46 is closed while switches SWp156 and SWp258 are open.
      <br/>
      The NFET devices 52, 54 are now configured as a current source, which retains the value of the bias current through the use of the gate capacitor 60.
      <br/>
      At the same time, the PFET devices are configured as a low impedance current source, which is now "slaved" to the NFET devices.
      <br/>
      The error current 18 is removed from the circuit by opening the control loop with SWp258.
      <br/>
      The centering current will adjust until it equals the NFET current sources, and hence will equal the bias current.
      <br/>
      The new center current will be the sum of the old center current and the old error current.
      <br/>
      Therefore, during the next acquisition of bias current, the error current should be reduced, bringing the Gm block closer to its optimal operation point.
      <br/>
      Once the control loop reaches steady state, the auto-centering circuit should be providing the entire bias current to the function block 10.
    </p>
    <p num="19">
      The detailed process by which the circuit "adapts" to the bias current stored on the NFET current source is now described.
      <br/>
      First, there is both an analog (continuous) adjustment, as well as, a digital (discrete) adjustment of the center current.
      <br/>
      The analog adjustment of current is controlled by the drain/source impedance of the top PFET device 40 in the PFET current source, and the gate voltage seen on the bottom PFET device 42.
      <br/>
      The gate voltage will adjust until the current in the PFET current source equals the current in the cascoded NFET current source.
      <br/>
      The gate capacitor 47 is used to retain this equalized current.
      <br/>
      During the auto-centering mode, SWn closes while SWp1 and SWp2 open.
      <br/>
      This configuration connects both the capacitor, and the gate of the lower PFET 42 in the upper current source 40, 42 to the high impedance output node 44.
      <br/>
      Since the current in the upper current source 40,42 can now only flow into the NFET current source 52, 54, the two currents will now be equal.
      <br/>
      Concurrently, the voltage at the output node 44 will settle to a value such that the voltage across the output impedances of each current source produces equal currents.
      <br/>
      Since the upper current source is no longer in the cascode configuration, its output impedance is reduced to the impedance of the top PFET 40 device.
      <br/>
      This output impedance will control the close loop gain and hence the amount of voltage swing on the output node during autozeroing.
      <br/>
      The resulting gate voltage is stored on the capacitor 47.
    </p>
    <p num="20">
      During the current equalization process, the hysteresis comparator monitors the gate voltage of the PFET 42 relative to the gate voltage of the gate voltage of PFET 36.
      <br/>
      If the difference in the gate voltages deviates beyond the threshold of the comparator, the digital counter, shown in FIG. 2, will increment or decrement accordingly.
      <br/>
      This will step the DAC to a new current setting that will reduce the gate voltage difference.
      <br/>
      This constitutes the digital portion of the current adjustment process.
      <br/>
      The portion of the total center current "memorized" by the analog circuit (capacitor 47) is dictated by the resolution of the digital memory (DAC, Flip-Flops in INC/DEC counter), and by the hysteresis of the comparator 38.
    </p>
    <p num="21">
      FIG. 3 is a diagrammatic view of part of a hard disk drive system 110 that embodies the present invention.
      <br/>
      The system 110 includes a plurality of magnetic disks 112, which are fixedly secured to a spindle 113 that is rotationally driven by a not-illustrated spindle motor.
      <br/>
      A plurality of arms 116 are supported for pivotal movement about an axis defined by a pivot axle 117, pivotal movement of the arms 116 being effected under control of a voice coil motor 118.
      <br/>
      At the outer end of each arm is a read/write head 121.
      <br/>
      The head 121 includes respective portions that serve as a read head and a write head.
    </p>
    <p num="22">
      As shown diagrammatically at 122, the output of the read head is coupled to an input of a preamplifier 126.
      <br/>
      The output of the preamplifier 126 is coupled to an input of a read channel circuit 127.
      <br/>
      The read channel circuit 127 includes a variable gain amplifier (VGA) 131, which facilitates an automatic gain control (AGC) function.
      <br/>
      The input to the VGA 131 is coupled to the output of the preamplifier b, and the output of the VGA 131 is coupled to an input of a low pass filter (LPF) 132. The output of the LPF 132 is coupled to the input of an analog-to-digital converter (ADC) 133. The output of the ADC 133 is coupled to an input of a finite input response (FIR) filter 136, the output of which is coupled to an input of a digital data detector 137.
    </p>
    <p num="23">
      The output of the ADC 133 is also coupled to an input to a servo burst demodulation circuit 138.
      <br/>
      Alternatively, the input to the servo burst demodulation circuit 138 could be coupled to the output of the FIR filter 136, rather than to the output of the ADC 133.
      <br/>
      The outputs of the detector circuit 137 and demodulation circuit 138 are both coupled to a not-illustrated control circuit, such as a digital signal processor.
    </p>
    <p num="24">
      The information stored on the magnetic disk 112 is organized in the form of a plurality of circular tracks that are arranged concentrically with respect to each other.
      <br/>
      Pivotal movement of the arm 116 causes the head 121 to move radially of the disk 112, so that the head can be radially aligned with a selected one of the tracks.
      <br/>
      Each of the tracks has portions that store data, and portions that store servo information.
      <br/>
      The servo information allows the system to identify a selected track, and to achieve and maintain radial alignment of the head 121 with that selected track.
    </p>
    <p num="25">
      In the present invention, the circuit of FIG. 2 would reside in VGA block 131.
      <br/>
      The auto-centering control loop bias circuit would allow the VGA 131 to adjust the gain of the pre-amp signal to maximize the dynamic range of the ADC 133.
      <br/>
      Thus the auto-centering control loop bias circuit would adjust the bias current 12 by closing SWp156 and SWp258 and opening SWn 46 as described above.
      <br/>
      This adjustment would typically be done when the disk head 121 is over the AGC field in the data structure of the disk tracks as is well known in the art of disk drives.
    </p>
    <p num="26">
      Finally, it is noted that FETs, combined with source degenerating resistors, could have replaced all of the cascoded current sources, shown in the figures, and all aspects of the invention would still apply.
      <br/>
      Further, the illustrated embodiments do not show the control circuitry that would control the switches for the reset and auto-zeroing operations.
      <br/>
      It is contemplated that this functionality and structure is easily within the ability and knowledge of those skilled in this art.
    </p>
    <p num="27">
      While this invention has been described with reference to illustrative embodiments, this description is not intended to be construed in a limiting sense.
      <br/>
      Various modifications and combinations of the illustrative embodiments, as well as other embodiments of the invention, will be apparent to persons skilled in the art upon reference to the description.
      <br/>
      It is therefore intended that the appended claims encompass any such modifications or embodiments.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A circuit for auto-centering a control loop bias current comprising:</claim-text>
      <claim-text>a. a current source connected to a common node; b. a first switch operable to connect the common node to an error current input; c. a second switch operable to connect a first terminal of a capacitor to the common node and charge the capacitor to a voltage on the common node when the first switch is open; d. an input to the current source connected to the first terminal of the capacitor to adjust the current source current using a voltage on the capacitor; e. a current mirror circuit connected to the common node to output a bias current to a control loop, where the bias current is the sum of the current through the first current source and the error current input at the common node;</claim-text>
      <claim-text>and f. a bias current generator circuit that generates a digital bias current to the current source.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The circuit for auto-centering a control loop bias current according to claim 1, wherein the bias current generator circuit comprises a digital-to-analog-converter connected to provide a bias current to the current source.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The circuit for auto-centering a control loop bias current according to claim 2, wherein the bias current generator circuit further comprises a digital counter connected to the digital-to-analog-converter and a comparator connected to the digital-to-analog-converter with the comparator having an input connected to the capacitor.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The circuit for auto-centering a control loop bias current according to claim 1, wherein the current mirror to output a bias current to a control loop comprises an NFET current source connected to the current mirror.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The circuit for auto-centering a control loop bias current according to claim 4, wherein the current mirror further comprises two diode connected NFETs with the top NFET diode connected when a third switch is closed, and wherein the NFET current source comprises two cascoded NFETs, with the gate of the top NFET of the NFET current source connected to the gate of the top diode connected NFET of the current mirror and to the common node through the second switch.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A hard disk drive for a computer system comprising: at least one disk and a head for reading magnetically stored data on the disk; a pre-amplifier to output an electrical signal representing the data stored on the disk detected by the head; a variable gain amplifier for adjusting the gain of the electrical signal from the pre-amp, the variable gain amplifier having a circuit for auto-centering a control loop bias current comprising:</claim-text>
      <claim-text>- a. a current source connected to a common node; - b. a first switch operable to connect the common node to an error current input; - c. a second switch operable to connect a first terminal of a capacitor to the common node and charge the capacitor to the voltage on the common node when the first switch is open; - d. an input to the current source connected to the first terminal of the capacitor to adjust the current source current using a voltage on the capacitor; - e. a current mirror circuit connected to the common node to output a bias current to a control loop, where the bias current is the sum of the current through the first current source and the error current input at the common node;</claim-text>
      <claim-text>and - f. a bias current generator circuit that generates a digital bias current to the first current source.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The disk drive according to claim 5, wherein the bias current generator circuit comprises a digital-to-analog-converter connected to provide a bias current to the current source.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The disk drive according to claim 7, wherein the bias current generator circuit further comprises a digital counter connected to the digital-to-analog-converter and a comparator connected to the digital-to-analog-converter with the comparator having an input connected to the capacitor.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The disk drive according to claim 6, wherein the current mirror to output a bias current to a control loop comprises an NFET current source mirror connected to the current mirror.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The disk drive according to claim 9, wherein the current mirror further comprises two diode connected NFETs with the top NFET diode connected when a third switch is closed, and wherein the NFET current source comprises two cascoded NFETs, with the gate of the top NFET of the NFET current source connected to the gate of the top diode connected NFET of the current mirror and to the common node through the second switch.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A circuit for auto-centering a control loop bias current comprising: a. a current source to supply a bias current to a control loop; b. an analog bias current circuit for the current source; c. a digital bias current circuit for the current source; d. wherein the digital bias current is adjusted to include an error current of the control loop within the digital resolution of the digital bias current circuit elements, and wherein the bias current to the control loop does not transition from its previous value before the auto-centering when the auto-centering of the circuit is completed and the control loop bias current is allowed to adjust with the error current.</claim-text>
    </claim>
  </claims>
</questel-patent-document>