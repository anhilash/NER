<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181422B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181422</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181422</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="10809111" extended-family-id="14420142">
      <document-id>
        <country>US</country>
        <doc-number>09038308</doc-number>
        <kind>A</kind>
        <date>19980311</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09038308</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>14740537</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>GB</country>
        <doc-number>9705105</doc-number>
        <kind>A</kind>
        <date>19970312</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997GB-0005105</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01B  11/30        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>30</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01B  11/02        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>02</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>356600000</text>
        <class>356</class>
        <subclass>600000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>250201300</text>
        <class>250</class>
        <subclass>201300</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>250201500</text>
        <class>250</class>
        <subclass>201500</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>369044240</text>
        <class>369</class>
        <subclass>044240</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01B-011/02D</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>02D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G01B-011/30B</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>30B</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G01B-011/30C</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>30C</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/026</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>026</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/303</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>303</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/306</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>306</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>21</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>5</number-of-drawing-sheets>
      <number-of-figures>8</number-of-figures>
      <image-key data-format="questel">US6181422</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Optical surface measurement apparatus and methods</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>NOSE NORIYUKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5033856</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5033856</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>BROWN C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>3770353</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US3770353</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>OPHEIJ WILLEM G, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4270045</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4270045</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>ANDO HIDEO</text>
          <document-id>
            <country>US</country>
            <doc-number>4656348</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4656348</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>ULBERS GERD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4806777</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4806777</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>MIKURIYA KENTA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4850695</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4850695</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>ZUCKER FRIEDHELM</text>
          <document-id>
            <country>US</country>
            <doc-number>4888476</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4888476</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>GEARY JOSEPH M</text>
          <document-id>
            <country>US</country>
            <doc-number>4917498</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4917498</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>INOUE AKINO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5161139</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5161139</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>KINO GORDON S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5194918</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5194918</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>COHEN DONALD K, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5204734</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5204734</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>FUJITA TERUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5532987</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5532987</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>FOCUS MESSTECHNIK GMBH &amp; CO KG</text>
          <document-id>
            <country>DE</country>
            <doc-number>4019405</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE4019405</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>CENTRE NAT ETD SPATIALES</text>
          <document-id>
            <country>EP</country>
            <doc-number>0083268</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP--83268</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>COMMISSARIAT ENERGIE ATOMIQUE</text>
          <document-id>
            <country>EP</country>
            <doc-number>0600800</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-600800</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>PERKIN ELMER CORP</text>
          <document-id>
            <country>EP</country>
            <doc-number>0111648</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-111648</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>MATSUSHITA ELECTRIC IND CO LTD</text>
          <document-id>
            <country>EP</country>
            <doc-number>0208276</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-208276</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>ELESTA AG ELEKTRONIK</text>
          <document-id>
            <country>EP</country>
            <doc-number>0340172</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-340172</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>HONEYWELL REGULATOR CO</text>
          <document-id>
            <country>GB</country>
            <doc-number>956347</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB-956347</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="20">
          <text>AMF INTERNAT LTD</text>
          <document-id>
            <country>GB</country>
            <doc-number>982091</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB-982091</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="21">
          <text>PLASSER BAHNBAUMASCH FRANZ</text>
          <document-id>
            <country>GB</country>
            <doc-number>1249905</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB1249905</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="22">
          <text>LEITZ ERNST GMBH</text>
          <document-id>
            <country>GB</country>
            <doc-number>1355472</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB1355472</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="23">
          <text>THOMSON BRANDT</text>
          <document-id>
            <country>GB</country>
            <doc-number>1493963</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB1493963</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="24">
          <text>WITTE W</text>
          <document-id>
            <country>GB</country>
            <doc-number>1536496</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB1536496</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="25">
          <text>DRESSER IND</text>
          <document-id>
            <country>GB</country>
            <doc-number>1557441</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB1557441</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="26">
          <text>PLATON LIMITED G A</text>
          <document-id>
            <country>GB</country>
            <doc-number>2111196</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2111196</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="27">
          <text>LEITZ ERNST GMBH</text>
          <document-id>
            <country>GB</country>
            <doc-number>2122045</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2122045</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="28">
          <text>SPECTRON DEV LAB INC</text>
          <document-id>
            <country>GB</country>
            <doc-number>2158228</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2158228</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="29">
          <text>KYRIAKIS JOHN</text>
          <document-id>
            <country>GB</country>
            <doc-number>2221296</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2221296</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="30">
          <text>SONY CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H06241720</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP06241720</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="31">
          <text>RENISHAW PLC</text>
          <document-id>
            <country>WO</country>
            <doc-number>8802846</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO8802846</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>"Principles of optical storage -2", Electronics and Wireless World, vol. 91, No. 1590, pp. 43-46 Apr., 1985.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Brown &amp; Sharpe Limited</orgname>
            <address>
              <address-1>Telford, GB</address-1>
              <city>Telford</city>
              <country>GB</country>
            </address>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>HEXAGON METROLOGY</orgname>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Veltze, J. Andrew</name>
            <address>
              <address-1>London, GB</address-1>
              <city>London</city>
              <country>GB</country>
            </address>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Wolf, Greenfield &amp; Sacks, P.C.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Pham, Hoa Q.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An optical surface measurement device is disclosed.
      <br/>
      A beam of light is focused through an optical system into a spot on a sample and the optical system collects light reflected and scattered by the sample forming an image of the illuminated part of the sample on a focus detector.
      <br/>
      A control system responds to the focus detector moving the optical system to keep the spot in focus on the sample as the sample is tracked past the apparatus.
      <br/>
      The optical system may be moved as a whole or one of the lenses therein may be moved with respect to the others.
      <br/>
      Alternatively the movable lens may be set to oscillate and its position is recorded each time focus is achieved.
      <br/>
      The focus detector has two outputs one of which is larger than the other when the surface of the sample is above the plane focussed by the optical system and the other being larger when it is below.
      <br/>
      The control system uses both sum and difference signals calculated from those outputs to discriminate the point of focus.
      <br/>
      Other instruments are combined into the same optical system one of which is a camera which enables the measuring spot to be located on the sample.
      <br/>
      A beam splitting prism is used to divert light collected from the sample into the focus detector.
      <br/>
      In an alternative embodiment the light through the optical system on its way to the sample is caused to pass through separate parts of the optical components making up the optical system from those parts through which light is brought back to the focus detector from the sample.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      The present invention relates to apparatus and methods for measuring the positions of points on sample surfaces.
      <br/>
      Those measurements may be used to calculate the numerical values of such characteristics as the flatness, form and roughness of the sample.
    </p>
    <p num="2">According to a first aspect of the invention there is provided an apparatus for measuring the position of a point on the surface of a sample comprising,</p>
    <p num="3">
      means for producing a spot of light to illuminate said point on the surface of the sample,
      <br/>
      a focus detector,
      <br/>
      a focusing element system, comprising a movable focusing element and at least one other focusing element, arranged to project onto the focus detector an image of a plane beyond the focusing element system in the region of the sample surface,
      <br/>
      a focusing element system drive means for translating the focusing element system,
      <br/>
      a movable focusing element drive means for moving the movable focusing element within the focusing element system so as to vary the distance between the plane imaged on the focus detector and the focusing element system,
      <br/>
      a control means responsive to the focus detector for so operating the focusing element system drive and movable focusing element drive that an image of the illuminated point on the sample surface is kept in focus, or in a desired state of defocus, on the focus detector.
    </p>
    <p num="4">The focus element system drive may be arranged to move the focus element system mechanically and the movable focusing element drive may be arranged to move the movable focusing element electromagnetically.</p>
    <p num="5">The control means may be arranged to operate the movable focusing element drive in preference to the focusing element system drive to achieve focus.</p>
    <p num="6">The control means may be arranged to operate the focusing element system drive when the movable focus element drive approaches the end of its range.</p>
    <p num="7">The control means may be arranged to operate, when the movable focus element drive approaches the end of its range, the focusing element system drive further than is necessary to achieve focus and to operate the movable focusing element drive so that it moves back towards the centre of its range.</p>
    <p num="8">The movable focusing element drive may comprise a coil for producing a field for moving the movable focusing element and may comprise a driver circuit having a low output impedance.</p>
    <p num="9">The control means may be arranged, in response to the focus detector indicating that the apparatus is a long way from focus, to fix the position of the movable focusing element and to move the focusing element system with its drive towards the sample from a predetermined point until focus is achieved, having first withdrawn the focus element system if it is closer to the sample than the predetermined point.</p>
    <p num="10">
      According to a second aspect of the invention there is provided an apparatus for measuring the position of a point on the surface of a sample comprising,
      <br/>
      means for producing a spot of light to illuminate said point on the surface of the sample,
      <br/>
      a focus detector,
      <br/>
      a focusing element system, comprising a movable focusing element, arranged to project onto the focus detector an image of a plane beyond the focusing element system in the region of the sample surface,
      <br/>
      a movable focusing element drive means for so moving the movable focusing element as to vary the distance between the plane imaged on the focus detector and the focusing element system,
      <br/>
      a control means responsive to the focus detector for so operating the movable focusing element drive means that the position of the movable focusing element oscillates about the position at which an image of the illuminated point on the sample surface is in focus on the focus detector, the control means being arranged to record a measurement of the position of the movable focusing element at times when the image of the illuminated point is in focus on the focus detector.
    </p>
    <p num="11">
      The apparatus may comprise means for moving the spot across the sample and the control means may be arranged to keep the oscillation of the movable focusing element generally centred about the point of focus as the spot moves across the sample or the control means may be arranged to move the centre of the oscillation of the movable focusing element when the focus point approaches the end of the range of the oscillation.
      <br/>
      The control means may be arranged to control the frequency of oscillation to correspond to the desired spatial frequency of measurement points across the sample, or to a multiple thereof.
    </p>
    <p num="12">
      According to a third aspect of the invention there is provided an apparatus for measuring the position of a point on the surface of a sample comprising,
      <br/>
      means for producing a spot of light to illuminate said point on the surface of the sample,
      <br/>
      a focus detector comprising a transducer having at least two light sensitive areas,
      <br/>
      a focusing element system, comprising at least one focusing element, arranged to project onto the focus detector an image of a plane beyond the focusing element system in the region of the sample surface,
      <br/>
      the focus detector and the focusing element system being so arranged that a first one of the light sensitive areas receives more light when the illuminated spot is out of the said plane to one side and that a second one of the light sensitive areas receives more light when the illuminated spot is out of the said plane to the other side,
      <br/>
      a drive means for so moving the focusing element system, or one of its elements, as to vary the distance between the plane imaged on the focus detector and the focusing element system,
      <br/>
      signal generation means for adding signals from the said first and second light sensitive areas of the focus detector to provide a sum signal and comparing the level of the sum signal, or the level of a signal derived from the sum signal, with a threshold level for providing a gating signal indicating whether or not that sum is greater than the threshold, and also for providing a difference signal being the difference, or a function of the difference, of the signals from the said first and second light sensitive areas, and
      <br/>
      a control means responsive to the gating and difference signals controlling the drive means.
    </p>
    <p num="13">The said function of the difference signal may have the sum signal in its denominator.</p>
    <p num="14">The focus detector may comprise a first plurality of light sensitive areas that receive more light when the illuminated spot out of the said plane is to one side and a second plurality of light sensitive areas that receive more light when the illuminated spot is out of the said plan e to the other side, the signals from the first plurality may be added together before being passed to the signal generation means and the signals from the second plurality may be added together before being passed to the signal generation means.</p>
    <p num="15">
      According to a fourth aspect of the invention there is provided an apparatus for measuring the position of a point on the surface of a sample and for imaging an area of the surface, the apparatus comprising,
      <br/>
      spot producing means for producing a spot of light to illuminate said point on the surface of the sample,
      <br/>
      an objective focusing element or system of focusing elements for collecting light reflected or scattered from said illuminated point and for collecting light from the area to be imaged, and
      <br/>
      a plate arranged to receive the light collected by the objective focusing element or system of focusing elements and orientated at an angle inclined to the direction of that light, the plate transmitting part of and reflecting part of that light,
      <br/>
      the apparatus further comprising sensing means sensitive to and arranged to receive light reflected from the plate.
    </p>
    <p num="16">The said plate may be such that it transmits a substantial portion of the collected light scattered or reflected from the illuminated point and reflects a substantial portion of a band of wavelengths other than that emitted by the spot producing means and to which the sensing means is sensitive.</p>
    <p num="17">The said plate may also reflect a portion of the collected light scattered or reflected from the illuminated point and the sensing means may also sensitive to that light.</p>
    <p num="18">The sensing means may be a camera.</p>
    <p num="19">The sensing means may be a receptor of an edge detector.</p>
    <p num="20">
      According to a fifth aspect of the present invention there is provided an apparatus for measuring the position of a point on the surface of a sample comprising,
      <br/>
      means for producing a spot of light to illuminate said point on the surface of the sample,
      <br/>
      a focus detector,
      <br/>
      a focusing element system, comprising at least one focusing element, arranged to project onto the focus detector an image of a plane beyond the focusing element system in the region of the sample surface,
      <br/>
      wherein the means for producing said spot of light projects said spot though the focusing element system, and wherein the apparatus is arranged such that light passing through the focusing element system on its way to producing the said spot is deflected by a first portion of the or each focusing element and that said focus detector receives light from said sample that has been deflected by a second portion, separate from the first, of the or each focusing element.
    </p>
    <p num="21">The apparatus may comprise a prism positioned so as to deflect the light deflected by said second portions into the focus detector and may be positioned so as not to be struck by light on its way to said spot.</p>
    <p num="22">In any of the above aspects of the invention the means for producing the spot of light on the surface of the sample may be arranged to project that spot through the focusing element system, and the source of light for that may be polarised and the apparatus may include a polarising beam splitter arranged to allow a major portion of the laser light to pass through undeflected on its way to the sample and to deflect light returning form the sample into the focus detector.</p>
    <p num="23">In any of the above aspects of the invention the means for producing a spot of light may comprise a linearly polarised source of light and the apparatus may comprise a quarter wave plate through which the light passes on its way from the source to the spot.</p>
    <p num="24">In any of the above aspects of the invention the apparatus may comprise an aperture set in front of the focus detector or around a focus lying between the spot on the sample and the focus detector.</p>
    <p num="25">In any of the above aspects of the invention the apparatus may have mounting means for translating and rotating a sample and the control means may be arranged to measure the shape or form of the sample.</p>
    <p num="26">In any of the above aspects of the invention the control means may be arranged to operate the mounting means to maintain the orientation of the sample such that the light from the means for producing the spot that is specularly reflected by the sample is received by the focus detector.</p>
    <p num="27">In any of the above aspects of the invention the movable focusing element may be mounted on at least one spring system, the or each spring system may comprise a plurality of arms arranged generally in a plane perpendicular to the axis of movement of the movable focusing element which support the movable focusing element, and the arms may be other than radial to the axis of movement, which may be spiral.</p>
    <p num="28">
      In any of the above aspects of the invention the apparatus may comprise a displacement sensor comprising,
      <br/>
      a tab of opaque material for mounting on the movable focusing element or on a co-moving support,
      <br/>
      a source of diffuse light placed to one side of the tab, and
      <br/>
      a transducer so placed that the source casts a shadow of the tab on the transducer,
      <br/>
      wherein the transducer has first and second separate light sensitive areas so placed that the shadow progressively covers more of the first area and less of the second as the tab moves in one direction.
    </p>
    <p num="29">In any of the above aspects of the invention the or a drive may be arranged to move the or a focus element or the focus element system mechanically or electromagnetically, and such an electromagnetic drive may comprise a coil for producing a field for moving the focusing element or focusing element system and may comprise a driver circuit having a low output impedance.</p>
    <p num="30">Any of the above aspects of the invention may be used in combination in a single apparatus.</p>
    <p num="31">In any of the above aspects of the invention the focusing elements may be and the focusing element systems may comprise lenses or mirrors.</p>
    <p num="32">
      One form of the invention will now be described in greater detail, by way of example only, and with reference to the accompanying drawings, of which:
      <br/>
      FIG. 1 shows a position measurement head.
      <br/>
      FIG. 2 shows a spring system used in the position measurement head of FIG. 1.
      <br/>
      FIG. 3 shows the focus detector used in the position measurement head of FIG. 1.
      <br/>
      FIG. 4 illustrates the operation of the focus detector of FIG. 3.
      <br/>
      FIG. 5 shows the movable lens position detector used in the position measurement head of FIG. 1.
      <br/>
      FIG. 6 shows part of the control circuit associated with the position measurement head of FIG. 1.
      <br/>
      FIG. 7 is a plot of various signals derived from the outputs of the focus detector.
      <br/>
      FIG. 8 illustrates an alternative optical arrangement to that of FIG. 1.
    </p>
    <p num="33">
      FIG. 1 shows a position measurement head 1 and a sample 2 mounted on a table 3.
      <br/>
      For convenience and to avoid stressing a substantially planar sample the table is generally horizontal and the sample simply rests on the table; different arrangements will be appropriate for samples of other shape and configuration.
      <br/>
      The position measurement head is mounted in a mechanically driven support, of which only the mounting 4 for the measurement head 1 is shown in FIG. 1.
      <br/>
      The mechanical drive has a vertical travel of approximately 300 mm; a longer travel may be provided if necessary to accommodate the sample.
    </p>
    <p num="34">
      To reduce the effects of vibration, the position measurement head 1 and the table 3 are mounted on a massive stiff frame (not shown).
      <br/>
      That frame may be mounted on air springs to reduce the amount of vibration picked up by the frame from the floor on which it stands.
    </p>
    <p num="35">
      A system of lenses within the measurement head focuses the light from a laser 5 into a spot 21, which is on the surface of the sample 2 when a measurement of the position of the surface is being made.
      <br/>
      The laser light reflected from the surface returns through most of the lenses and is fed to a focus detector 6.
    </p>
    <p num="36">
      Laser 5 is a convenient source of a small intense spot of light.
      <br/>
      White light could be used instead of laser light.
      <br/>
      A source of white light that may be provided is that emitted at the end of an optic fibre which has a larger source of white light at its other end.
    </p>
    <p num="37">
      One of the lenses, a movable lens 7, is mounted to move along the optical path from the laser.
      <br/>
      The mounting 8 for the movable lens is suspended within the measurement head 1 by two spring systems 9 and 10 fixed to the housing of the sensor head 1.
    </p>
    <p num="38">
      The spring systems 9 and 10 are identical and one is shown in FIG. 2.
      <br/>
      The spring system is cut from a single thin metal sheet.
      <br/>
      It has an outer ring 25 which is fixed to the housing 11 of the sensor head 1 and an inner ring 26 which is fixed to the mounting 8 for the movable lens 7.
      <br/>
      The outer and inner rings are connected by three spiral spring arms 27.
      <br/>
      That arrangement is very stiff in the plane of the springs but allows movement perpendicular to that plane.
    </p>
    <p num="39">
      The mounting 8 for the movable lens 7 has a conducting coil 12 mounted on it.
      <br/>
      The coil is located between pole pieces 13 and 14 of a magnet 15.
      <br/>
      The coil, and hence the movable lens 7 and its mounting 8, move in response to the current passed though the coil and, in equilibrium, take up a position where the force provided by the current passing through the coil is balanced by the force provided by the springs in response to the displacement of the mounting 8.
      <br/>
      For example, if the current passing through the coil provides a force tending to move the coil 12 and the mounting 8 downwards, they will move downwards bending the spring arms 27 progressively until the spring arms provide a balancing upwards force.
      <br/>
      The damping of this motion will be discussed below.
    </p>
    <p num="40">
      The path of the light from the laser to the focus detector is as follows.
      <br/>
      First the light from the laser 5 is collimated into a parallel beam by a collimating lens 16.
      <br/>
      The parallel beam is passed through a polarising beam splitter 17.
      <br/>
      In this embodiment a cube comprising two 45 (degree)  prisms made by Melles-Girot (product no 03PBS052) is used.
      <br/>
      The light emitted by the laser has mostly one linear polarisation and the polarising beam splitter is set to pass that polarisation undeflected.
      <br/>
      The parallel beam next passes through the movable lens 7 which brings laser light to a first focus 18.
      <br/>
      That focus is taken as the object for relay lens systems 19 and 20 which bring the light from it to a second focus, the laser spot 21.
    </p>
    <p num="41">
      The position of the surface of the sample 2 relative to the table 3 is determined from the position of the second focus 21 relative to the upper surface of the table 3.
      <br/>
      That in turn is determined from the position of the measurement head 1 relative to the table 3 and the position of the second focus 21 relative to the position measurement head 1.
    </p>
    <p num="42">
      The position of the head 1 relative to the table is determined counting Moire fringes produced by two gratings mounted at a small angle to each other, one of those gratings being fixed relative to the measurement head and the other being fixed relative to the table.
      <br/>
      Other scale systems may be used, however.
    </p>
    <p num="43">
      The position of the second focus below the sensor head 1 is affected by the position of the movable lens relative to the sensor head 1.
      <br/>
      As the movable lens 7 moves, for example, up the first focus 18 moves up by an identical amount because the beam between the collimating lens 16 and the movable lens 7 is parallel.
      <br/>
      Depending on the construction of the relay lens systems 19 and 20 the second focus 21 at the surface of the sample 2 will also move up either by the same or by a related amount.
      <br/>
      The position of the movable lens 7 relative to the measurement head 1 is measured by the movable lens position detector 23.The lens position detector is frictionless and adds minimum mass to the movable lens as described below.
      <br/>
      Any scaling or nonlinearity of the movement of the second focus 21 as a function of the movement of the movable lens 7 may be compensated for if desired.
    </p>
    <p num="44">
      As stated above, the position of the surface of the sample 2 is measured when the second focus 21 is on the surface of the sample 2.
      <br/>
      Positioning of the second focus 21 on the surface of the sample is achieved by moving the measurement head 1 with the mechanical drive and/or by moving the movable lens by varying the current through the coil 12, which may both be under the control of the electronic control circuit.
      <br/>
      That circuit operates in response to signals from the focus detector 6.
    </p>
    <p num="45">
      As is explained in more detail below, the lenses of the measurement head 1 produce an image of the plane at the second focus 21 that is normal to the optical path on a transducer 24 within the focus detector 6.
      <br/>
      Therefore if the second focus 21 is at a surface of the sample 2 then an image of that focus or laser spot on that surface will be formed on the transducer 24 of the focus detector 6.
    </p>
    <p num="46">
      If, however, the surface of the sample 2 is above or below the laser spot 21, the image formed on the transducer 24 of the focus detector 6 will be out of focus.
      <br/>
      The focus detector can detect whether the surface is above or below the second focus 21 as is explained hereinafter.
      <br/>
      The control circuit moves the mechanical drive and/or the movable lens accordingly.
    </p>
    <p num="47">
      In an alternative mode of operation the current through the coil 8 that moves the moving lens 7 is controlled so that the moving lens oscillates with an amplitude of a up to its full range of travel, which range depends on the application.
      <br/>
      This is normally much less than the full travel of the moving lens, and the focus detector is used to signal the moment in time when the focus is achieved.
      <br/>
      The control circuitry then measures the height of surface at that time and again may move the mechanical drive and the lens accordingly, which preferably is to keep the range of oscillation centred on the focus point but may also be to move the drives only when the focus point moves near to the end of the oscillation range.
      <br/>
      One advantage of the oscillating mode (others are mentioned below) is that a focus is definitely achieved twice per oscillation allowing a valid surface height measurement to be made.
      <br/>
      The other mode of operation disclosed above relies on the control circuitry being able to keep the system in focus within the surface height measurement error acceptable to make a valid measurement.
      <br/>
      In the oscillating mode the frequency of oscillation is preferably set to correspond with the desired spatial frequency of height measurement points as the spot scans across the sample being measured.
    </p>
    <p num="48">
      When the sample 2 is first mounted on the table 3 the surface will in general be a long way from the second focus 21.
      <br/>
      In such a condition the focus detector cannot discriminate between the sample surface being above or below the second focus.
      <br/>
      To achieve a focus the mechanical drive is raised up to a height where the second focus 21 must be above the sample surface.
      <br/>
      The measurement head 1 is then lowered with the mechanical drive until a focus is detected.
      <br/>
      While the lowering takes place the movable lens is held at a position in the middle of its travel.
    </p>
    <p num="49">
      The apparatus of FIG. 1 may be used to provide a series of surface position measurements across a sample surface by translating the table 3 transverse to the direction of the light emerging from the measurement head 1.
      <br/>
      A three dimensional map of the surface may be recorded if the table is moved so that the whole area is exposed to the light, for example in a raster pattern.
    </p>
    <p num="50">
      As the table moves, the height of the surface illuminated by the laser will in general change.
      <br/>
      The focus detector detects which way the second focus has to be moved to keep it on the surface.
      <br/>
      To move the second focus the control circuit moves the movable lens 7 in preference to the mechanical drive because the lens can be moved much more quickly.
      <br/>
      To maximise the speed of that movement the weight of the movable lens 7, its mounting 8 and the coil 12 is minimised, that assembly weighing only 4 g, for example.
      <br/>
      The mounting is made from a thin walled aluminium tube.
    </p>
    <p num="51">
      The movable lens may be moved rapidly enough to record the height at 1  MU m lateral intervals to a resolution of 10 nm with the table moving at 30 mm s-1 The movable lens has only, however, a vertical range of 2 mm.
      <br/>
      That is sufficient for profiling or measuring the flatness and surface roughness of many components, for example, packages for semiconductor device packages.
      <br/>
      Another application where the range of the movable lens is sufficient is measuring the depth of the scored groove around the removable tab in the ends, known as "converted ends", of beverage and food cans.
    </p>
    <p num="52">
      If a greater vertical range is required to profile a component, the control circuit may operate the mechanical drive when the movable lens approaches the end of its range.
      <br/>
      The mechanical drive may be displaced further than necessary with the movable lens moving back in the opposite direction in order to bring the movable lens back towards the centre of its range.
      <br/>
      To do so without losing the focus of the spot on the sample, the speed of the table may have to be reduced.
      <br/>
      Alternatively the table may be stopped and the mechanical drive moved a large distance before continuing with the scan moving just the movable lens.
      <br/>
      It may be necessary to knit together the sections of profiles so produced if the mechanical drive cannot be positioned with sufficient accuracy.
      <br/>
      The mechanical drive used in the present example could be positioned accurately to a resolution of 86 nm and so such knitting together was not necessary.
    </p>
    <p num="53">The operation of the focus detector is now disclosed in more detail.</p>
    <p num="54">
      The laser light falling on the surface of the sample 2 is reflected both specularly and by scattering.
      <br/>
      Some of the scattered light is collected by the relay lens system 20 and is returned to the polarising beam splitter 17.
      <br/>
      Specularly reflected light will also be collected if the surface is not at too shallow an angle to the incident light; collection of specularly reflected light may not occur if the surface of the sample is curved or is sloping.
      <br/>
      Scattering is an important mechanism where the surface is rough on the scale of the laser spot size, for example, where the sample is ceramic.
    </p>
    <p num="55">
      On the way to the sample the laser light passes through a quarter wave plate 22, located between the relay lens systems 19 and 20, which converts the linear polarisation of the laser light to a circular polarisation.
      <br/>
      The quarter wave plate used is not suitable to have an anti-reflection coating applied.
      <br/>
      To avoid reflections being returned to the polarising beam splitter 17 and then to the focus detector 6, the quarter wave plate is set at a small angle to the optical path.
    </p>
    <p num="56">
      Circularly polarised light contains light of both linear polarisations.
      <br/>
      This ensures that some materials that reflect one linear polarisation much more than the other will reflect at least some light.
    </p>
    <p num="57">
      On the return path, if the reflected light is circularly polarised it is converted to linearly polarised light.
      <br/>
      The reflected light that has that linear polarisation is reflected into the focus detector 6 by the polarising beam splitter 17.
    </p>
    <p num="58">
      FIG. 3 shows the focus detector 6 in plan.
      <br/>
      The light reflected into the focus detector by the polarising beam splitter 17 is a parallel beam which is incident on a converging lens 28 placed close to the beam splitter.
      <br/>
      The light leaving the lens 28 then passes through a prism 29 placed as close as possible to the lens 28 and arranged to refract the light leaving the right hand half of the converging lens to the left and to refract the light leaving the left hand half to the right (viewed in the direction of the beam).
      <br/>
      The beam is thus split into two beams each of which is brought to a focus on a separate transducer 24. (Either of the transducers 24 would be sufficient to detect whether the laser spot 21 is at the surface of the sample, but two are used to ensure that the measurement is made with as much light energy as possible.) Each of the two transducers comprises a matched pair of p-i-n diodes 30 separated by a gap 31 of only 10  MU m, such as available from Matrox.
    </p>
    <p num="59">
      FIG. 4 illustrates how a transducer 24 detects the position of the laser spot 21 relative to the sample surface.
      <br/>
      A simpler optical arrangement is shown in which there is no prism and only a single transducer 24.
      <br/>
      A stop 32 ensures that the transducer receives light from only one half of the lens 28.
      <br/>
      In the Figure, a single lens designated 33 is used to represent all the lenses in the measurement head 1 apart from converging lens 28.
      <br/>
      The sample 2 is shown in three positions.
      <br/>
      At position B the laser spot 21 is in focus and at positions A and C nearer and further from the measurement head respectively the laser spot is not focussed and is therefore larger.
      <br/>
      The rays from the centres of each of the laser spots A, B and C have been traced to the diodes 30.
      <br/>
      The optical system produces a focussed image of the spot B at B' in the gap between the two diodes.
      <br/>
      The centre of spot A is closer to the lens 33 than is B and so at the diodes the light from the centre of A has not yet been brought to a focus and so strikes the diodes over a larger area than that of B'. Because the light from A has not yet been brought to a focus by lens 28 the lower half of that larger area is removed by the stop 32 resulting in an illuminated area A' which falls mostly on the upper diode 30.
      <br/>
      Spot C is further from lens 33 than spot B and so the rays from the centre of spot C will be brought to a focus by lens 28 in front of the diodes 30; those rays then spread out to form a larger spot than spot B', but because those rays have come to a focus and have crossed over the effect of the stop 32 is to remove the upper half of that larger spot resulting in the spot C' which falls mostly on the lower diode 30.
      <br/>
      The spots A and C are, of course, larger than spot B. This results in further broadening of spots A' and C', as illustrated by the dotted rays, but that does not alter the result that A' falls mostly on the upper diode and C' falls mostly on the lower.
      <br/>
      The outputs of the two diodes 30 are summed algebraically with one output being given a negative sense to give a signal indicating whether the surface of the sample is above or below the focussed laser spot 21 (i.e the difference of the outputs is formed).
    </p>
    <p num="60">
      In the actual focus detector 6 shown in FIG. 3, the prism 29 performs the same function as the stop 32 in the arrangement of FIG. 4 in that it selects two geometrical halves of the light leaving the lens 28 and directs the light from each half respectively to one transducer 24.
      <br/>
      The outputs from the two transducers 24 are added together to make use of all the light energy available.
    </p>
    <p num="61">
      In some cases the sample may appear to scatter light from two points on its surface, for example if the laser spot is projected into a wall of a deep groove light will be scattered directly from that wall back to the focusing element system 20.
      <br/>
      Light may also, however, be scattered to the opposite wall of the groove and from there be scattered to the lens system 20.
      <br/>
      This may cause two spots to be imaged on the transducers 24 of the focus detector which may in turn cause the focus detector to signal falsely a loss of focus.
      <br/>
      To prevent that a stop 56 may be placed at the first focus 18, the stop having a small aperture to allow through only directly scattered rays.
    </p>
    <p num="62">Alternatively a stop may be placed in front of each of the transducers 24 with an aperture just large enough to allow through the in or out of focus spots A', B' and C' in FIG. 4) from directly scattered rays.</p>
    <p num="63">
      The use of a stop is particularly advantageous in the mode of operation disclosed above in which the position of the moving lens is set to oscillate.
      <br/>
      That is because the system needs only to detect the point at which focus is passed through, or a small range about that, and therefore the stop may be made as small as the focus, for example the focus 18, around which it is placed.
      <br/>
      This results in a high degree of exclusion of stray light whether from the environment of as the result of multiple scattering by the sample.
      <br/>
      The use of the stiff spring arrangement to support the moving lens described above is advantageous when a small aperture is used because it keeps the focus centred in the aperture.
    </p>
    <p num="64">
      The transducers 24 of the focus detector 6 described above have two light sensitive areas.
      <br/>
      As an alternative an array of light sensitive areas may be provided.
      <br/>
      With such an array the spot falling on the transducer may be tracked as it moves about the array focusing and defocusing.
      <br/>
      This, like the stop 56, helps to reject spots from indirect scattering of the laser spot 21 or spots produced by ambient light.
      <br/>
      Circuitry, preferably a suitable programmed digital circuit, is provided to perform the tracking.
    </p>
    <p num="65">FIG. 5 shows a detail of the movable lens position detector 23.</p>
    <p num="66">
      Light from a source 34, diffused by a diffuser 35, illuminates a tab 36 (see FIG. 1 also) mounted on the mounting 8.
      <br/>
      The light casts the shadow of the tab on a pair of p-i-n diodes 36 separated by a gap. (This gap may, however, be much larger than that of the transducer in the focus detector 6.) As the mounting 8 for the movable lens moves up and down the tab moves with it, exposing more of the lower diode and less of the upper to the light and vice versa.
      <br/>
      The signals produced by the p-i-n diodes are algebraically summed with one signal being given a negative sense to obtain a signal indicative of the displacement of the tab 36 and hence of the movable lens 7 (i.e. the difference of the signals is formed).
      <br/>
      Suitable diodes are BPW34 p-i-n diodes made by Siemens or Telefunken.
    </p>
    <p num="67">FIG. 6 is a block diagram of part of the control circuitry associated with the measurement head 1.</p>
    <p num="68">
      The signals from respective ones of the diodes of the transducers 24 of the focus detector are added together by respective adder circuits 40 to form signals a and b which are then amplified to a suitable level by an auto-range circuit 41.
      <br/>
      The difference of those signals divided by their sum is then formed by a circuit 42.
      <br/>
      The resulting signal indicates the distance of the surface of the sample 2 from the laser spot 21 and, as a result of the division, is independent of the amount of light scattered back to the measurement head 1 by the sample 2.
      <br/>
      That independence is important where the laser spot moves from, for example, a level specularly reflecting portion of the sample surface to a sloping section which only scatters.
      <br/>
      In such a transition the intensity of the light captured by the measurement head may drop by several orders of magnitude.
      <br/>
      An extreme but not unusual example of such a transition is that from a ceramic, which scatters weakly, to a gold layer deposited on the ceramic, which reflects strongly.
    </p>
    <p num="69">
      The output signal of the movable lens position detector 23 is amplified by an amplifier 43.
      <br/>
      The output of that amplifier and that of the circuit 42 are input to a control unit.
      <br/>
      The control unit 44 also receives an input from the gratings that detect the relative position of the measurement head 1 and the table 3.
    </p>
    <p num="70">
      On the basis of those sensor signals the control unit 44 outputs control signals for controlling current in the coil 12 that moves the movable lens and for controlling the movement of the mechanical drive, shown as a block in FIG. 6 at 45. In general the control unit 44 issues control signals that tend to bring the moving lens to a desired position from the actual position indicated by the movable lens position detector 23 and that tend to bring the measurement head to a desired position from that indicated by the gratings.
      <br/>
      What those desired positions are will depend on the measurement being made as indicated by the test program instruction signals 46 input to the control unit 44.
      <br/>
      If a scan of the heights of a surface is being measured then the desired positions of the moving lens and of the measurement head will be adjusted to tend to keep the laser spot 21 on the surface of the sample.
      <br/>
      As has been discussed above a choice may be made as to which or both of the desired positions for the measurement head and the movable lens is to be changed at any one time.
    </p>
    <p num="71">
      For the mode of operation disclosed above in which the position movable lens is set to oscillate about the focus position the desired position of the movable lens is, of course, varying with time and the control circuit operates to move the moving lens towards that desired but oscillating position.
      <br/>
      If during a scan the height of the sample changes so that the focus point occurs away from the centre of the oscillation then the control circuit will operate to move either the measurement head or the position of the movable lens within the head so as to return the focus point to the centre of the oscillation.
    </p>
    <p num="72">
      In a preferred embodiment the control unit 44 receives a further signal derived from the signals a and b. Signals a and b are added together by an adding circuit 60, the sum is then preferably squared by squaring circuit 61 and the signal is fed to a comparator circuit 62 which provides a high logic level to the control unit 44 if the analogue level output by the squaring circuit is above a threshold level on conductor 63 and a low logic level otherwise.
      <br/>
      The control unit uses the signal from the comparator 62 to determine whether the signal from the circuit 42 is valid or whether focus has been completely lost.
      <br/>
      Should that occur the control unit repeats the initial procedure for finding focus described above.
      <br/>
      The level on conductor 63 is set by the control unit either in accordance with an input by the operator or from measurements of the output of the squaring circuit 61 which are also fed to the control unit.
    </p>
    <p num="73">
      FIG. 7 illustrates the problem solved by the adder circuit 60, the squaring circuit 61 and the comparator 62.
      <br/>
      FIG. 7 is a plot of levels of the signals a+b and (a-b)/(a+b) experimentally determined against distance z from focus.
      <br/>
      The sum signal a+b is large near focus and drops towards zero away from focus.
      <br/>
      The (a-b)/(a+b) signal is zero at focus, varies linearly near zero, reaches maximal magnitude, respectively positive and negative on each side of focus, and then falls back towards zero.
      <br/>
      If the control unit used only the (a-b)/(a+b) signal to determine whether focus has been achieved it could falsely assume focus had been achieved at large distances from focus because there that signal is almost zero.
      <br/>
      That could occur both in the normal and oscillating modes of operation because the noise may cause the level of the signal to reach or cross zero.
      <br/>
      FIG. 7 also shows the output of the squaring circuit 61, the comparator 62 on conductor 64 and the threshold level 63.
      <br/>
      The output 64 of the comparator 62 is only a logic high near focus because (a+b)2 is only above the threshold near focus.
      <br/>
      The validating signal produced by the comparator 62 therefore prevents the control circuit from falsely assuming that focus has been achieved.
      <br/>
      The comparator 62 is fed with (a+b)2 rather than a+b because the former has a steeper sided and narrower peak and so produces a high level in a narrower window about the focus position thereby producing a more reliable triggering of the comparator.
    </p>
    <p num="74">
      The control signal for the coil 12 is fed as the input of a voltage follower 47 having low output impedance.
      <br/>
      This circuit sets the current through the coil (and hence the position of the movable lens) to a value of the voltage of the control signal divided by the resistance of the coil.
      <br/>
      If necessary a resistor may be wired in series with the coil to adjust the current for a particular control voltage.
      <br/>
      The low output impedance serves to damp the motion of the moving lens as the motion of a short circuited coil in a magnetic field is damped.
      <br/>
      The damping ensures rapid take up of a new position for the movable lens and also damps extraneous vibration.
    </p>
    <p num="75">
      The circuit shown in FIG. 6 may be implemented as an analogue circuit, but the parts performing calculations may perform digitally.
      <br/>
      The test program instructions are provided by a suitably programmed computer.
    </p>
    <p num="76">
      In the optical arrangement of FIG. 1 the beam splitter 17 reflects about 2% of the light from the laser 5 directly into the focus detector 6.
      <br/>
      The path that this light mostly takes is to be reflected from the 45 (degree)  interface inside the beam splitter in the direction away from the focus detector.
      <br/>
      It is then reflected from the outer surface of the beam splitter back towards the focus detector this time crossing the interface and the opposite outer surface.
      <br/>
      That light is not light reflected from the sample, and accordingly the signal to noise ratio of the focus detector 6 is reduced.
      <br/>
      An alternative embodiment is shown in FIG. 8 which for the purpose of illustration shows only a replacement for the beam splitter 17, namely a prism 65, a stop 66, a lens 67 representing the movable lens 7 and the relay lens systems 19 and 20, the sample 2, and the focus detector 6.
      <br/>
      In this arrangement the paths of the light to and from the sample are separated although the light passes through the same lenses on the paths towards and back from the sample 2.
      <br/>
      A stop 66 is arranged so that only half the lens 67 is illuminated by light from the laser 5 and that light produces a spot on the sample 2 but only approaches the spot from one side of a plane passing through the optic axis.
      <br/>
      The region having light travelling towards the sample is hatched in FIG. 8.
      <br/>
      In the full arrangement of lenses of FIG. 1 that light passes only through one half of each lens, although the light occupies the other side of the plane when it passes through an intermediate focus.
      <br/>
      All the specularly reflected light and about half of the scattered light is collected by the other half of the lens 67.
      <br/>
      The light leaving that half of the lens 67 is reflected into the focus detector 6 by the prism 65, which may be replaced by a mirror.
      <br/>
      The prism 67 is shielded from the light coming directly from the laser by the stop 66 preventing light from the laser being deflected into the focus detector through multiple reflections in the prism 65.
    </p>
    <p num="77">
      In the position measurement head of FIG. 1 the movable lens 7 is mounted so that it moves vertically.
      <br/>
      Since most of the vibration picked up from the floor on which the instrument stands is in a vertical direction, the movable lens 7 and its mounting 8 may vibrate vertically and reduce resolution.
      <br/>
      In an alternative embodiment, not shown, the movable lens and its mounting may be arranged so that they move horizontally, by deflecting the optical path through the measurement head through 90 (degree)  at a convenient point with a mirror.
    </p>
    <p num="78">
      The relay lens system 21 may be replaced with others of different magnification by means of a revolving turret 57.
      <br/>
      At one of the revolving turret positions there may be, instead of a lens, a touch trigger probe, which comprises a thin arm with a ruby ball mounted on its end.
      <br/>
      This can also be used to measure the position of the surface of a sample by advancing the mechanical drive until the ruby ball touches the sample.
      <br/>
      When the ruby ball touches the sample the arm operates a switch and the position of the surface is recorded.
    </p>
    <p num="79">
      The mechanical drives for the table 3 also have control circuits and these and the circuit of FIG. 6 receive test program instructions from a computer programmed to perform the measurement tests of the samples desired.
      <br/>
      The computer, for example, stores the paths to be scanned over the surface of the component to be tested; it also computes the heights of the sample surface from the outputs of the movable mirror position detector and the gratings associated with the vertical mechanical drive and records those heights for analysis.
    </p>
    <p num="80">
      As an alternative to the table 3 a component may be mounted in a drive that not only provides horizontal translation but will also rotate the component.
      <br/>
      As the laser spot is scanned along the component the curvature of the surface may be calculated and the component rotated to keep the reflection of the light specular.
      <br/>
      With a rotatable mount the whole three dimensional surface may be profiled or the shapes of selected portions though the component could be determined.
    </p>
    <p num="81">
      The optical surface position measuring system described above may be integrated with other optical sensors, for example as follows.
      <br/>
      In FIG. 1 a filter plate 50 is inserted in the optical path between the relay lens systems 19 and 20 at an angle.
      <br/>
      The filter plate transmits most of the laser light incident in both directions. (The laser preferably used operates at wavelength of 780 nm, just in the infra-red.) The filter plate reflects nearly all of the light incident on it having a wavelength of less than 700 nm and so reflects most of the visible light collected by the relay lens system 20.
      <br/>
      That visible light is reflected into other detectors, for example, a camera 51 and an edge detector 52 by half-silvered mirrors 53 and 54.
      <br/>
      Illumination for the camera is provided by the source 55, the light from which passes through the half silvered mirrors and the relay lens 20.
      <br/>
      Pictures from the camera may be sampled into the computer where, for example, the areas of certain features may be calculated.
      <br/>
      This arrangement also allows the surface position measurements made with the laser light to be correlated with features seen in the camera because a small proportion of the laser light is reflected by the filter plate 50 and the camera is sensitive to that light also.
    </p>
    <p num="82">
      The measurement head 1 will bring the laser spot 21 to a focus on a surface below a transparent coating or even on an interface between two transparent materials.
      <br/>
      The latter ability is of use if it is desired to image the interface with the camera.
      <br/>
      It is difficult to focus an ordinary camera on the interface between two transparent materials, but the position measurement head 1 brings the camera 51 automatically to be focused on such an interface.
    </p>
    <p num="83">The edge detector operates on collimated light supplied from under the table and signals when an edge is passed as the table moves along; it is particularly useful for measuring the widths of repeated components, for example, the legs of a lead frame for a semiconductor device.</p>
    <p num="84">
      Further, it is within the scope of the invention to employ in combination the preferred features hereinbefore described to the extent that such features are not mutually exclusive and, more especially, a combination of any two or more features recited in the dependent claims.
      <br/>
      The invention further provides any new feature hereinbefore described or any new combination of hereinbefore described features.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An apparatus for measuring the position of a point on the surface of a sample comprising,</claim-text>
      <claim-text>means for producing a spot of light to illuminate said point on the surface of the sample, a focus detector, a measurement head comprising a movable focusing element arranged to project onto the focus detector an image of a plane beyond the measurement head in the region of the sample surface, a measurement head drive constructed and arranged to translate the measurement head, so as to vary a distance between the movable focusing element and the plane imaged on the focus detector, a movable focusing element drive constructed and arranged to move the movable focusing element relative to the measurement head so as to vary a focal length of the measurement head, a controller responsive to the focus detector which operates the measurement head drive and movable focusing element drive such that an image of the illuminated point on the sample surface is kept in focus, or in a desired state of defocus, on the focus detector by simultaneously adjusting the focal length and the distance between the movable focusing element and the plane imaged on the focus detector.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. An apparatus as claimed in claim 1, wherein the measurement head drive is arranged to move the focus element system mechanically and the movable focusing element drive is arranged to move the movable focusing element electromagnetically.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. An apparatus as claimed in claim 2 wherein the movable focusing element drive comprises a coil for producing a field for moving the movable focusing element and a driver circuit having a low output impedance.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. An apparatus as claimed in claim 1, wherein the controller is arranged to operate the movable focusing element drive in preference to the measurement head drive to achieve focus.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An apparatus as claimed in claim 4, wherein the controller is arranged to operate the measurement head drive when the movable focus element drive approaches the end of its range.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. An apparatus as claimed in claim 5, wherein the controller is arranged to operate, when the movable focus element drive approaches the end of its range, the measurement head drive further than is necessary to achieve focus and to operate the movable focusing element drive so that it moves back towards the centre of its range.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. An apparatus as claimed in claim 1, wherein the movable focusing element is mounted on at least one spring system, each spring system comprising a plurality of arms arranged generally in a plane perpendicular to the axis of movement of the movable focusing element which support the movable focusing element, the arms being other than radial to the axis of movement.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An apparatus as claimed in claim 7, wherein the said arms are spiral.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. An apparatus as claimed in claim 1, wherein the controller is arranged, in response to the focus detector indicating that the apparatus is a long way from focus, to fix relative to the measurement head the position of the movable focusing element and to move the measurement head using the measurement head drive towards the sample from a predetermined point until focus is achieved, having first withdrawn the focus element system if it is closer to the sample than the predetermined point.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. An apparatus as claimed in claim 1 comprising a displacement sensor comprising, a tab of opaque material for mounting on the movable focusing element or on a co-moving support, a source of diffuse light placed to one side of the tab, and a transducer so placed that the source casts a shadow of the tab on the transducer, wherein the transducer has first and second separate light sensitive areas so placed that the shadow progressively covers more of the first area and less of the second as the tab moves in one direction.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. An apparatus as claimed in claim 1, wherein the means for producing the spot of light on the surface of the sample is arranged to project that spot through the focusing element system, and wherein the source of light for that is polarised and the apparatus includes a polarising beam splitter arranged to allow a major portion of the light to pass through undeflected on its way to the sample and to deflect light returning form the sample into the focus detector.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. An apparatus as claimed in claim 1, wherein the means for producing a spot of light comprises a linearly polarised source of light and the apparatus comprises a quarter wave plate though which the light passes on its way from the source to the spot.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. An apparatus as claimed in claim 1, comprising an aperture set in front of the focus detector or around a focus lying between the spot on the sample and the focus detector.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. An apparatus as claimed in claim 1 having mounting means for translating and rotating a sample wherein the control means is arranged to measure the shape or form of the sample.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. An apparatus as claimed in claim 14 wherein the control means is arranged to operate the mounting means to maintain the orientation of the sample such that the light from the means for producing the spot that is specularly reflected by the sample is received by the focus detector.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. An apparatus as claimed in claim 1 comprising means for moving the spot across the sample and wherein the control means is arranged oscillate the movable focusing element in a range generally centered about the point of focus as the spot moves across the sample.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. An apparatus as claimed in claim 1 comprising means for moving the spot across the sample and wherein the control means is arranged to move the centre of the oscillation of the movable focusing element when the focus point approaches the end of the range of the oscillation.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. An apparatus as claimed in claim 1 comprising means for moving the spot across the sample and wherein the control means is arranged to control the frequency of oscillation to correspond to the desired spatial frequency of measurement points across the sample, or to a multiple thereof.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. An apparatus as claimed in claim 1, comprising an aperture set in front of the focus detector or around a focus lying between the spot on the sample and the focus detector.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. An apparatus as claimed in claim 1, wherein the means for producing said spot of light projects said spot through the measurement head, and wherein the apparatus is arranged such that light passing through the measurement head on its way to producing the said spot is deflected by a first element of the measurement head and that said focus detector receives light from said sample that has been deflected by a second element of the measurement head.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. An apparatus as claimed in claim 20 comprising a prism positioned so as to deflect the light deflected by said second portions into the focus detector and so as not to be struck by light on its way to said spot.</claim-text>
    </claim>
  </claims>
</questel-patent-document>