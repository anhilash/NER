<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185326B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185326</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185326</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="27531284" extended-family-id="20663351">
      <document-id>
        <country>US</country>
        <doc-number>08987267</doc-number>
        <kind>A</kind>
        <date>19971209</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08987267</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43171493</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>98726797</doc-number>
        <kind>A</kind>
        <date>19971209</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997US-08987267</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>JP</country>
        <doc-number>34624991</doc-number>
        <kind>A</kind>
        <date>19911227</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1991JP-0346249</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>JP</country>
        <doc-number>34626191</doc-number>
        <kind>A</kind>
        <date>19911227</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1991JP-0346261</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="4">
        <country>JP</country>
        <doc-number>34737291</doc-number>
        <kind>A</kind>
        <date>19911227</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="4">
        <doc-number>1991JP-0347372</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="5">
        <country>JP</country>
        <doc-number>34739091</doc-number>
        <kind>A</kind>
        <date>19911227</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="5">
        <doc-number>1991JP-0347390</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="6">
        <country>US</country>
        <doc-number>42946995</doc-number>
        <kind>A</kind>
        <date>19950427</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="6">
        <doc-number>1995US-08429469</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="7">
        <country>US</country>
        <doc-number>99520492</doc-number>
        <kind>A</kind>
        <date>19921222</date>
        <priority-linkage-type>B</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="7">
        <doc-number>1992US-07995204</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G06T   9/20        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>9</main-group>
        <subgroup>20</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>382164000</text>
        <class>382</class>
        <subclass>164000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>382175000</text>
        <class>382</class>
        <subclass>175000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>382199000</text>
        <class>382</class>
        <subclass>199000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>382266000</text>
        <class>382</class>
        <subclass>266000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G06T-009/20</text>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>9</main-group>
        <subgroup>20</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06T-009/20</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>9</main-group>
        <subgroup>20</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>14</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>38</number-of-drawing-sheets>
      <number-of-figures>67</number-of-figures>
      <image-key data-format="questel">US6185326</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Image processor</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>BLUM DIETRICH, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4627002</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4627002</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>DARBY SAMUEL E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4725966</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4725966</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>KOLL ROMAN</text>
          <document-id>
            <country>US</country>
            <doc-number>3652992</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US3652992</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>YAMAMOTO KAZUHIKO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4566124</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4566124</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>CLARK JOHN I, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4829568</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4829568</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>TUNG CHARLES CHENG-YUAN</text>
          <document-id>
            <country>US</country>
            <doc-number>4847641</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4847641</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>ATKINSON WILLIAM</text>
          <document-id>
            <country>US</country>
            <doc-number>5033105</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5033105</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>KELLY-MAHAFFEY WILLIAM L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5086478</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5086478</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>MURAYAMA NOBORU</text>
          <document-id>
            <country>US</country>
            <doc-number>5091976</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5091976</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>OKAMOTO MASAYUKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5237624</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5237624</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>FUJI PHOTO FILM CO LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H02111161</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP02111161</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Gazou Denshi Gakkaishi publication with an English language summary on the first page thereof</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>42946995</doc-number>
              <kind>A</kind>
              <date>19950427</date>
            </document-id>
          </parent-doc>
        </relation>
      </division>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>99520492</doc-number>
              <kind>A</kind>
              <date>19921222</date>
            </document-id>
            <parent-status>ABANDONED</parent-status>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Minolta Co., Ltd.</orgname>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>MINOLTA</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Ikenoue, Yoshikazu</name>
            <address>
              <address-1>Toyohashi, JP</address-1>
              <city>Toyohashi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Sidley &amp; Austin</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Mancuso, Joseph</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      Additive information for restoring the contour of image is generated and embedded in the image data.
      <br/>
      The format of the additive information is determined beforehand.
      <br/>
      When a hard copy is produced, the additive information is extracted from received image data.
      <br/>
      The additive information is for example very small characteristic points of a density different from the density assigned for image data and arranged inside the contour.
      <br/>
      The image data are restored according to the extracted additive information.
      <br/>
      The additive information can be generated for example from the code information for generating patterns such as control points data of outline font.
      <br/>
      For a half-tone image, a plurality of density bands are assigned to the additive information.
      <br/>
      A read error is detected by comparing the restored image with the received image data.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>RELATED APPLICATIONS</heading>
    <p num="1">
      This is a division of application Ser.
      <br/>
      No. 08/429,469, filed on Apr. 27, 1995 as a continuation of then application Ser.
      <br/>
      No. 07/995,204, filed on Dec. 22, 1992 and now abandoned.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">The present invention relates to a digital image processor such as a digital printer and a data processing thereof.</p>
    <p num="4">2. Description of the Prior Art</p>
    <p num="5">
      In a digital printer or the like, digital image data are read by an image reader section, modified by an image processor section according to the print characteristics and edited according to the editing mode specified with an operational panel.
      <br/>
      After the data processing, the image is printed on a paper by a printer section.
    </p>
    <p num="6">
      In the image reader section, a digital image of a document is read at a specified resolution.
      <br/>
      Therefore, the information on the document which exceeds the resolution is lost inevitably when the image is read.
      <br/>
      In the printer section, the image data can not be reproduced with perfect fidelity.
      <br/>
      Therefore, an image printed on the paper is reproduced by the printer, the information is lost inevitably to a certain degree and the quality of the image regenerated by the printer is degraded.
    </p>
    <p num="7">
      The degradation of image may not be a large problem when the image is reproduced from the original document.
      <br/>
      However, when the image is reproduced again from the hard copy, the quality of the image may be degraded to a large degree.
      <br/>
      Some printers use an outline font.
      <br/>
      However, even if an image is reproduced with fidelity with use of outline font, the quality of the hard copy of the reproduced image is degraded, especially as to the contour.
    </p>
    <p num="8">
      There is no problem if the copying is performed from the digital source in a floppy disk or the like.
      <br/>
      However, a hard copy (analog image) is reproduced again in many cases as to the compatibility or the convenience.
      <br/>
      Therefore, it is desired to improve the quality of a hard copy.
    </p>
    <p num="9">
      In U.S. Pat. No. 4,847,641, a contour line of an image is improved by estimating the original pattern or by using smoothing.
      <br/>
      However, this method cannot restore the deformed contours which occurred on reading and on printing.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="10">An object of the present invention is to provide an image processor which does not degrade an image when it is reproduced from a hard copy.</p>
    <p num="11">Another object of the present invention is to provide an image processor which can add additive information to the original image data for restoring contours when the image is reproduced.</p>
    <p num="12">
      In one aspect of an image processor according to the present invention, additive information on the contour of an image is generated and embedded in the reproduced image in a hard copy.
      <br/>
      For example, characteristic points of a density or a color different from that of the image are added inside a contour of the image.
      <br/>
      When a hard copy is including the additive information is reproduced, the additive information is extracted from received image data on the hard copy, and the contour of the image is restored from the additive information extracted from the received data.
      <br/>
      Preferably, the additive information is embedded again for the next generation of the reproduced image.
    </p>
    <p num="13">
      In another aspect of the present invention, image regions including no additive information on contour are distinguished, and additive information is generated for the image regions without additive information.
      <br/>
      On the other hand, for the image regions including additive information, the additive information is extracted and an image is restored on basis only of the additive information.
      <br/>
      Then, the image data in the restored image regions and those of the non-restored image regions are synthesized and sent for reproduction.
    </p>
    <p num="14">
      In a third aspect of the present invention, a read error is detected, in a comparison of the restored data with the received image data, when the difference of the comparison is larger than a predetermined value.
      <br/>
      In case of a read error, the received image data is corrected by generating additive information on contour for the region wherein the read error occurs.
      <br/>
      If necessary, the read correction can be prohibited.
    </p>
    <p num="15">An advantage of the present invention is that contours of an image lost in a hard copy can be restored as far as the additive information can be extracted from the hard copy.</p>
    <p num="16">Another advantage of the present invention is that the image quality is not degraded if the reproduced hard copy is reproduced repeatedly.</p>
    <p num="17">A third advantage of the present invention is that even for a document such as a patched image including image regions without additive information on contour, the as-received image data on the image regions are synthesized with the image data of the other image regions restored from the additive information.</p>
    <p num="18">A fourth advantage of the present invention is that the image quality of a half-tone image is not degraded in a reproduced hard copy.</p>
    <p num="19">A fifth advantage of the present invention is that a read error can be detected and corrected for an image including additive information on contour.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="20">
      These and other objects and features of the present invention will become clear from the following description taken in conjunction with the preferred embodiments thereof with reference to the accompanying drawings, and in which:
      <br/>
      FIGS. 1(a-b) are a drawing of an example when the density of characteristic points is thicker than that of the pattern;
      <br/>
      FIGS. 2(a), 2(b), 2(c) and 2(d) are diagrams for explaining schematically the processing on the image shown in FIG. 1;
      <br/>
      FIGS. 3(a), 3(b), 3(c) and 3(d) are diagrams of examples of characteristic points;
      <br/>
      FIG. 4 is a graph of the decision of a multi-level document image;
      <br/>
      FIG. 5 is a graph of the decision of a bi-level document image;
      <br/>
      FIG. 6 is a block diagram of an image processor of a first embodiment;
      <br/>
      FIG. 7 is a block diagram of the image analyzer;
      <br/>
      FIG. 8 is a flowchart of the image analysis processor;
      <br/>
      FIGS. 9(a) and 9(b) are diagrams of an example of blocking;
      <br/>
      FIGS. 10(a) and 10(b) are diagrams of block synthesis for characteristic points;
      <br/>
      FIG. 11 is a flowchart of the blocking processing;
      <br/>
      FIG. 12 is a flowchart of the characteristic point search processing;
      <br/>
      FIG. 13 is a flowchart of the vectorization of peripheral data;
      <br/>
      FIG. 14 is a part of a flowchart of the vectorization of irregular points;
      <br/>
      FIG. 15 is the other part of the flowchart of the vectorization of irregular points;
      <br/>
      FIGS. 16(a) and 16(b) are diagrams of an example of the vectorization of irregular points;
      <br/>
      FIG. 17 is a flowchart of the output processing;
      <br/>
      FIGS. 18(a)-18(d) are diagrams for explaining rules for expressing a contour;
      <br/>
      FIG. 19 is a block diagram of an image restoration section;
      <br/>
      FIG. 20 is a flowchart of image restoration;
      <br/>
      FIG. 21 is a flowchart of the restoration of one block;
      <br/>
      FIG. 22 is a block diagram of a characteristic point adder;
      <br/>
      FIG. 23 is a block diagram of an image processor of a digital copying machine;
      <br/>
      FIGS. 24(a), 24(b), 24(c) and 24(d) are diagrams for illustrating the generation of characteristic points;
      <br/>
      FIG. 25 is a block diagram of characteristic point generator;
      <br/>
      FIG. 26 is a flowchart of the processing of the characteristic point generation processor;
      <br/>
      FIG. 27 is a flowchart of characteristic point generation;
      <br/>
      FIG. 28 is a flowchart of arc decision;
      <br/>
      FIG. 29 is a flowchart of irregular processing;
      <br/>
      FIGS. 30(a) and 30(b) are diagrams of an example of a layout of a density standard pattern provided on a document;
      <br/>
      FIG. 31 is diagram of a flow for reading the density standard pattern;
      <br/>
      FIGS. 32(a) and 32(b) are diagrams of density of characteristic points when a plurality of density bands is used;
      <br/>
      FIGS. 33(a) and 33(b) are drawings of an image wherein the density changes gradually and of an image wherein the density is constant for each region, respectively;
      <br/>
      FIGS. 34(a) and 34(b) are graphs of density change of the images shown in FIGS. 33(a) and 33(b);
      <br/>
      FIG. 35(a) is a graph of an example of the density change and FIG. 35(b) is an enlarged view of a part of FIG. 35(a);
      <br/>
      FIG. 36 is a diagram of a flow of the processing of distinguishing an image relevant to characteristic points;
      <br/>
      FIG. 37 is a block diagram of the addition of characteristic points when an original document is prepared;
      <br/>
      FIG. 38 is a block diagram of an image processor and a code processor;
      <br/>
      FIG. 39 is a block diagram of a character pattern generator for adding characteristic points to characters;
      <br/>
      FIG. 40 is a diagram for illustrating control points expressing a contour of outline font;
      <br/>
      FIG. 41 is a diagram for illustrating the generation of characteristic points from control points;
      <br/>
      FIGS. 42(a), 42(b), 42(c) and 42(d) are diagrams for detection an error; and
      <br/>
      FIG. 43 is a block diagram of an image processor including a read error detection section and an error correction section.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="21">Referring now to the drawings, wherein like reference characters designate like or corresponding parts throughout the several views, embodiments of the present invention will be explained in the following order:</p>
    <p num="22">
      A.
      <br/>
      Addition of characteristic points and contour restoration
    </p>
    <p num="23">
      B.
      <br/>
      First embodiment
    </p>
    <p num="24">
      (a) Structure of image processor
      <br/>
      (b) Image analysis
      <br/>
      (c) Image restoration
      <br/>
      (d) Addition of characteristic points
    </p>
    <p num="25">
      C.
      <br/>
      Second embodiment
      <br/>
      (e) Generation and addition of characteristic points when a hard copy is obtained
    </p>
    <p num="26">
      D.
      <br/>
      Third embodiment
      <br/>
      (f) Standard pattern of density
      <br/>
      (g) Addition of characteristic points at low densities for a half-tone image
      <br/>
      (h) Extraction of characteristic points in case of continuous density change
      <br/>
      (i) Addition of characteristic points for a half-tone image with continuous density change
    </p>
    <p num="27">
      E.
      <br/>
      Fourth embodiment
      <br/>
      (j) Addition of characteristic points to an original document
    </p>
    <p num="28">
      F.
      <br/>
      Fifth embodiment
      <br/>
      (k) Error detection and correction
    </p>
    <p num="29">
      A.
      <br/>
      Addition of characteristic points and contour restoration
    </p>
    <p num="30">
      A reproduced image is degraded when a reproduced document is used successively as an original to be copied because the pattern of the image cannot be read or printed correctly.
      <br/>
      Because the reading is performed at a specified resolution, the image information of a continuous image is lost partly.
      <br/>
      Then, in the present invention, additive information on contour (digital or discrete information) is embedded in the image data (analog or continuous information), and the original image can be reproduced by using the additive information.
      <br/>
      That is, the additive information is added to the analog image of the document.
    </p>
    <p num="31">
      Both analog information (image data) and digital information (additive information) are read from a hard copy, and the image is restored by extracting the digital information, and the original image can be restored in a hard copy reproduced by using the additive information.
      <br/>
      Read errors of the analog information are corrected with use of the digital information.
      <br/>
      In the restoration, analog image data is not needed.
    </p>
    <p num="32">
      When the image of a hard copy is printed to get another hard copy, the extracted digital information is added again to the analog image data.
      <br/>
      Then, even if a true copy cannot be obtained, the image data can be corrected as far as the digital information is not lost when the hard copy is used again for copying.
      <br/>
      That is, the image quality is not degraded if the reproduced hard copy is reproduced repeatedly.
    </p>
    <p num="33">
      The digital information has to be added so as not to deform the original image pattern when a user sees a hard copy.
      <br/>
      In concrete, characteristic points of a minute size which represent the contour of the image pattern are added to an image so as to be located near the contour of the original pattern or image, as shown in FIG. 1 for example.
      <br/>
      The characteristic points are expressed with a density or a color different from that of the original pattern.
      <br/>
      The size of the characteristic points is determined not so large to deform the pattern for naked eyes, but large enough to be read surely when the hard copy is read for printing.
    </p>
    <p num="34">
      FIG. 1 shows an example when the density of characteristic points 1 is thicker than that of the pattern (hatched area) 2.
      <br/>
      The pattern 2 represents a character "a", and characteristic points 1 are added to the character around the contour, as shown in an enlarged drawing in the right side.
    </p>
    <p num="35">
      FIG. 2 shows schematically the data processing of the image shown in FIG. 1.
      <br/>
      When a document shown in FIG. 2(a) is read, characteristic points are extracted from the digital read data as shown in FIG. 2(b).
      <br/>
      Next, a contour is calculated, as shown in FIG. 2(c), so as to circumscribe the characteristic points and the image is restored as shown in FIG. 2(d).
      <br/>
      If the restored image data is sent to another instrument, both restored image data (FIG. 2(d)) and extracted characteristic points FIG. 2(b) are sent.
    </p>
    <p num="36">
      Examples of characteristic points 1 are displayed in FIG. 3(a)-3(d).
      <br/>
      Characteristic points 1 are arranged in positions inscribing the contour of a pattern 2.
      <br/>
      The reference numeral 3 denotes a restored contour.
      <br/>
      In the examples of FIGS. 1 and 2, the shapes of the characteristic points 1 are squares.
      <br/>
      However, they are expressed below as circles for convenience.
    </p>
    <p num="37">Usually, a characteristic point is arranged at a corner of the pattern 2 and other characteristic points are located along two lines from the corner, as shown in FIG. 3(a).</p>
    <p num="38">
      On the other hand, FIGS. 3(b)-(d) show examples for irregular processing to be explained later.
      <br/>
      If there are three characteristic points within a predetermined very short distance, this means that the contour near the characteristic points is an object of the irregular processing, and this can reduce the number of the characteristic points.
      <br/>
      It is clear that a part of characteristic points is not located at an edge of the contour of the pattern.
      <br/>
      In case of FIG. 3(b), there are three special adjacent characteristic points 1' which form a rectangle at a convex corner.
      <br/>
      The pattern 3' restored after the irregular processing is a sharp pattern including the characteristic points 1' inside the contour.
      <br/>
      In case of FIG. 3(c), there are three special adjacent characteristic points 1' which form a straight line inside the contour, and the restored deformed contour is obtained by connecting the line with characteristic points in the forward and backward directions with use of an arc of radius "r".
      <br/>
      This processing has no advantage when the original curve is approximated with an arc.
      <br/>
      Further, in case of FIG. 3(d), there are three special adjacent characteristic points 1' which form a rectangle, similarly to that shown in FIG. 3(b), but they are located at a concave corner.
      <br/>
      In this case, the pattern 3' restored after the irregular processing is a curve connecting smoothly the line with characteristic points in the forward and backward directions.
    </p>
    <p num="39">
      The density of a characteristic point 1 is set to be higher than that of image data.
      <br/>
      FIG. 4 shows the decision output of the multi-level image data of a document, wherein the density of a characteristic point 1 is set to be Ia or higher.
      <br/>
      Therefore, if the read density of a document is Ia or higher, the decision for a characteristic point (density M1) is output.
    </p>
    <p num="40">
      However, if the density of a document is low, characteristic points of the density of Ia or more may not be added because they are liable to be regarded as noises.
      <br/>
      FIG. 5 displays another example of the decision of characteristic points for a bi-level pattern only of characters or the like.
      <br/>
      That is, the characteristic points 1 are decided for a document density of Ia or more, where the density Ia is higher than the densities for the characters.
    </p>
    <p num="41">
      In the embodiments explained below, points which inscribe a contour are used as characteristic points.
      <br/>
      However, characteristic points which do not inscribe the contour may also be used.
    </p>
    <p num="42">B. First embodiment</p>
    <p num="43">(a) Structure of image processor</p>
    <p num="44">
      In a digital copying machine, digital image data are read by an image input section such as an image reader section, modified by an image processor section according to the print characteristics and edited according to the editing mode specified with an operational panel.
      <br/>
      After the data processing, the image is printed on a paper by a printer section such as an electrophotographic printer.
    </p>
    <p num="45">
      FIG. 6 shows a block diagram of an image processor of a first embodiment, wherein an image analyzer 11 extracts characteristic points on digital image data received via a bus B1 from the image input section and distinguishes regions from the extracted characteristic points 1.
      <br/>
      The image data area is separated in restorable regions including characteristic points and non-restorable regions without characteristic points.
      <br/>
      In the non-restorable regions, the as-received input image data are sent through for a subsequent processing, while in the restorable regions, the input image data are not used and image data are restored by an image restoration section 13 according only to the extracted characteristic points.
      <br/>
      The two kinds of image data are synthesized by a characteristic point adder 14, and the extracted characteristic points 1 are added if a process mode is set by an operational section 16.
      <br/>
      If plural densities of characteristic points can be used, one of the densities closest to the density around the characteristic point is selected.
      <br/>
      If necessary, an editor 12 edits the restored data and the image data in the non-restorable regions independently for rotation, enlargement or the like by adjusting the positions of the two kinds of data.
      <br/>
      Then, the edited data are synthesized in the characteristic points adder 14.
      <br/>
      The characteristic points 1 may not be added if instructed in a process mode.
      <br/>
      Finally, the image density is corrected in an optimization section 15 by a smoothing processing or the like according to the designated process mode to be sent to a bus B2.
    </p>
    <p num="46">(b) Image analysis</p>
    <p num="47">
      FIG. 7 shows a block diagram of the image analyzer 11 for characteristic point extraction and region distinction.
      <br/>
      The image analyzer 11 includes an image memory 111 for storing digital image data received, a characteristic point memory 122 for storing the position data of characteristic points 1, an image analysis processor 123 for image analysis, a program memory 128 for storing programs executed by the image analysis processor 123, a block management memory 124 for storing block management data obtained by examining the regions of a continuous image, a work memory 127 used for the image analysis, an interface 126 for sending the image data of non-restorable regions without characteristic points and another interface 125 for sending the coordinates of the extracted characteristic points via a bus B11.
    </p>
    <p num="48">
      The image analysis processor 123 starts its processing after data are written in the image memory 111.
      <br/>
      It performs blocking by examining the regions of a continuous image, extracts characteristic points and distinguishes image blocks not including characteristic points.
      <br/>
      The block management data are stored in the block management memory 124, and the position data of the extracted characteristic points are stored in characteristic point memory 122.
      <br/>
      After the image analysis completes, the results are sent through the two interfaces 125 and 126.
    </p>
    <p num="49">
      FIG. 8 shows a flow of the image analysis processor 123.
      <br/>
      When the electric power is turned on (S100), the initialization is performed first (S101).
      <br/>
      Then, there is a wait for an input of image data (S102), and when image data is received, blocking (S103), search of characteristic points (S104), vectorization of adjacent data (S105), vectorization of irregular points (S106) and output processing (S107) are performed successively, and the flow returns to S102 to repeat the above-mentioned steps.
    </p>
    <p num="50">(b-1) Blocking</p>
    <p num="51">The image analysis processor 123 examines the regions of a continuous image stored in the image memory 111 and divides the region into blocks (see FIG. 11).</p>
    <p num="52">
      It is preferable that the blocking is performed after smoothing the image data because the blocking is affected largely by noises.
      <br/>
      The block management information can be used in block distinction processing to distinguish non-restored image (refer FIG. 31).
    </p>
    <p num="53">
      The condition of a non-restored block is that the attribute is a slope and that no characteristic flags are set in the block.
      <br/>
      For the blocks which satisfy this condition, not the restored image, but the original image data in the image memory 111 is used for reproduction.
    </p>
    <p num="54">
      In the blocking, first, the image data stored in the image memory 111 is scanned in line units, and if the density is found to change by an amount more than a predetermined amount in a predetermined narrow section during the scan, it is regarded as an edge of a block.
      <br/>
      Both the starting point and the last point of a line are regarded as edges.
      <br/>
      In an example shown in FIGS. 9(a) and 9(b), the result of blocking is shown in FIG. 9(a), wherein the two boundaries of a block are represented by marks "&lt;" and "&gt;".
      <br/>
      Further, "a", "b" and the like represent the names of a restoration distinction number given in series from the start of a line.
      <br/>
      The restoration distinction number will be explained later.
    </p>
    <p num="55">Next, the maximum, the minimum and the average of density data included in a block (section) from an edge to the next edge are calculated.</p>
    <p num="56">
      Then, an attribute is given to a block according to the maximum and the minimum.
      <br/>
      If the difference between the maximum and the minimum is within a predetermined range, the block is decided to be a uniform density section (the attribute is flat), otherwise it is a section of continuously varying density (the attribute is a slope).
      <br/>
      A section is managed by the block management memory 124 which stores the following information: restoration distinction number, characteristic point flag, starting point, last point, average density, maximum density, minimum density and attribute (flat and slope).
      <br/>
      The characteristic point flag represents whether a characteristic point is included in the block or not, and it does not have an initial value.
    </p>
    <p num="57">After the decision on the sections (blocks) in a line is complete, the results are compared with those of the line before the present line, and the same sections are connected for blocking.</p>
    <p num="58">
      If a block satisfies all the following conditions, it is regarded the same as the block to be compared: (1) The sections are adjacent (or there is a lapping part between the starting point and the last point of the two lines). (2) The difference of the average densities are less than a predetermined value. (3) The difference between the maximum and minimum densities in the two sections is less than a predetermined value. (4) The attributes are the same.
      <br/>
      However, in cases of the two sections both of slope attribute, the conditions (2) and (3) may be neglected.
    </p>
    <p num="59">
      If the block is decided not to be same, an intrinsic restoration distinction number is given as a new block.
      <br/>
      The blocks in the first line are all regarded as new.
    </p>
    <p num="60">
      In the example shown in FIG. 9(a), the blocks in the first line are regarded as new and restoration distinction number of "a", "b", "c", and the like are given to the block successively.
      <br/>
      The blocks in the second line are regarded as the same block as all , "a", "b", "c", and the like in the first line.
      <br/>
      The third line is also processed similarly.
      <br/>
      A block of restoration distinction number "d" appears in the fourth line.
      <br/>
      As shown in FIG. 9(b), the block is regarded as the same as a block of restoration distinction number "a", and the block of "c" in the first to third lines are regarded as blocks of "a".
    </p>
    <p num="61">After the blocking is completed for all the lines, characteristic points are removed from the image data. (Practically, the starting point or last point of an adjacent block is changed to synthesize a region).</p>
    <p num="62">
      If the density of a point in a block of flat attribute is determined to be within a predetermined range assigned for characteristic points, it is regarded as a characteristic point.
      <br/>
      The characteristic point is regarded to belong to a block having the longest contact length among adjacent blocks in contact with the characteristic point.
      <br/>
      If there are blocks of the same longest contact length, it is regarded as belonging to a block having an average density closest to the density of the characteristic point.
      <br/>
      The characteristic point flag of the block which incorporates the block of characteristic point is set as "1".
    </p>
    <p num="63">The information on the characteristic point which has been processed is discarded.</p>
    <p num="64">
      In an example of FIG. 10(a), there are found blocks including characteristic points (represented as "m").
      <br/>
      As shown in FIG. 10(b), the blocks including a characteristic point are regarded as same as the blocks of "b", and the starting points thereof are changed to synthesize blocks.
    </p>
    <p num="65">
      At the same time as the removal of characteristic points, the coordinate of characteristic point and the density for restoration can be obtained.
      <br/>
      The coordinate is determined for a center of the characteristic point block or on a point on the outer periphery adjacent to the block which absorbs the characteristic point block.
      <br/>
      In the example shown in FIG. 10(b), the candidates of characteristic point coordinate locate on the center of outer periphery.
      <br/>
      It is determined beforehand for each system what point is adopted for the coordinate and how a characteristic point is added.
    </p>
    <p num="66">
      FIG. 11 shows a flow of blocking (S103 in FIG. 8) wherein the blocking, extraction of characteristic points and block distinction are performed at the same time.
      <br/>
      First, edges are decided in a line (S121).
      <br/>
      Next, the average, maximum and minimum in each block (section) determined from the edges are calculated (S122), and the attribute of the sections are decided (S123).
      <br/>
      Then, it is searched if there is the same section in the previous line (S124), and if it is decided that the same section is found (YES at S125), the restoration distinction number of the previous section is copied (S126), and the maximum and the minimum are updated (S127).
      <br/>
      If it is decided that the same section is not found (NO at S125), a new restoration distinction number is assigned (S128).
      <br/>
      Then, it is checked if the blocking is completed on all the sections in the line (S129).
      <br/>
      If not completed, the flow returns to S124 and the next section is processed.
    </p>
    <p num="67">
      If the blocking is completed on all the sections in the line (YES at S129), it is checked next if the blocking is completed on all the lines (S130).
      <br/>
      If not completed, the flow returns to S121 and the next line is processed.
      <br/>
      Otherwise the flow returns to the main flow (S131).
    </p>
    <p num="68">(b-2) Characteristic point extraction</p>
    <p num="69">
      In the processing of characteristic point extraction (S104 at FIG. 8) in the image analyzer 11, characteristic points are extracted from the block management memory 124, and they are vectorized or they are converted to vectors along a contour for each contour to be stored in the characteristic point memory 122.
      <br/>
      The information on each characteristic point includes the following points:
      <br/>
      restoration distinction number (the number of the block synthesized with the characteristic point);
      <br/>
      coordinate (x, y);
      <br/>
      the density to be restored;
      <br/>
      irregular point flag (which represents irregular processing of contour);
      <br/>
      the pointer for denoting the previous characteristic point (for example, a pointer in the counter-clockwise direction along the contour); and
      <br/>
      the pointer for denoting the next characteristic point (for example, a pointer in the clockwise direction along the contour).
    </p>
    <p num="70">
      FIG. 12 shows a flow of the characteristic point extraction.
      <br/>
      The processing is classified into three parts.
      <br/>
      (1) The characteristic point coordinate, the density at the periphery, and the restoration distinction number (block ID) are determined.
      <br/>
      At this time, the data on the characteristic points in the characteristic point memory are removed.
      <br/>
      (2) The characteristic points on or near the contour of a pattern are searched along the contour and vectorized.
      <br/>
      (3) Irregular points inside the pattern are searched and are connected to the relevant contour.
    </p>
    <p num="71">
      In the processing, first, a block of flat attribute is searched (S141), and the average density of the block is determined (S142).
      <br/>
      Then, it is decided if the block is a characteristic point or not by comparing the average density with a predetermined density (S143).
      <br/>
      For example, the decision output as shown in FIGS. 4 and 5 is obtained.
    </p>
    <p num="72">
      If there is decided to be a characteristic point (YES at S143), the contact lengths with adjacent blocks are determined (S144).
      <br/>
      Then, if there is decided to be a plurality of adjacent blocks of the longest contact length (YES at S145), the average densities of the blocks are compared and the adjacent block of the nearest average density to the density of the characteristic point is chosen (S146).
      <br/>
      Next, a block for absorbing the characteristic point is determined (S147), the characteristic point region is added to the determined block and the characteristic point flag is set (S148), and the characteristic point coordinate and the density are determined (S149).
      <br/>
      Then, the restoration recognition number of the characteristic point as well as the above-mentioned information are sent to the characteristic point memory 122 (S150) and the information of the block including the characteristic point is discarded (S151).
    </p>
    <p num="73">
      Then, it is decided if the processing of all the blocks is completed or not (S152).
      <br/>
      In the case that there remains no characteristic point (NO at S143), the flow proceeds to S152.
      <br/>
      If the decision is NO, then the flow returns to S141 for the next block.
      <br/>
      Otherwise, the flow completes (S153), and returns to the main flow.
    </p>
    <p num="74">(b-3) Vectorization of peripheral data</p>
    <p num="75">
      FIG. 13 shows a flow of the vectorization of peripheral data (S105 in FIG. 8).
      <br/>
      First, the restoration distinction number (ID) of a block to be processed is determined (S221).
      <br/>
      Next, one characteristic point around a contour is taken out (S222).
      <br/>
      If it is decided that a characteristic point exists (YES at S223), it is set to be a starting point of the contour (S224).
      <br/>
      Next, a next characteristic point is searched along the contour of the block (S225), under a condition that the error from the contour is within a predetermined distance.
      <br/>
      If a characteristic point is found (YES at S226), it is connected to the previous characteristic point (S227), and the flow returns to S225.
      <br/>
      On the other hand, if no characteristic point is found (NO at S226), the last characteristic point is connected to the starting point (S228), and the flow returns to S222 for the processing of the next contour.
    </p>
    <p num="76">
      If there is decided to be no characteristic point (NO at S223), it is decided next if all the restoration distinction numbers (or all the blocks) are processed or not (S230).
      <br/>
      If it is decided that all the restoration distinction numbers are completed (NO at S230), the flow returns to S221 for the processing of the next restoration distinction number.
      <br/>
      Otherwise the vectorization processing completes (S231), and it returns to the main flow.
    </p>
    <p num="77">(b-4) Vectorization of irregular points</p>
    <p num="78">
      FIGS. 14 and 15 show a flow of the vectorization of irregular points (S106 at FIG. 8).
      <br/>
      First, the restoration recognition number (ID) of a block to be processed is determined (S161).
      <br/>
      Next, a characteristic point already vectorized is searched (S162), and characteristic points connected to the characteristic point are searched (S163).
      <br/>
      Then, it is decided if there are characteristic points within a predetermined short distance (YES at S164), irregular point flags are set for them because they have to be processed in the irregular point processing (S165).
      <br/>
      Next, if it is decided that one round of the contour has not yet been processed (S166), the flow returns to S163 for next characteristic point in the contour.
      <br/>
      Otherwise it is decided next if the processing on all the contours is completed or not (S167).
      <br/>
      If the decision is NO, a block consists of a plurality of contours and the flow returns to S162 for the next contour.
      <br/>
      If the processing on all the contours is completed, it is decided next if the processing on all the restoration distinction number is completed or not (S168).
      <br/>
      If it is decided that all the restoration distinction numbers (block IDs) are not processed (NO at S168), the flow returns to S161 for the processing of blocks of the next restoration distinction number.
      <br/>
      If it is decided that all the restoration distinction numbers are processed (YES at S168), the flow proceeds to S169 for the connection of contour at irregular points, as shown in examples in FIGS. 16(a) and 16(b).
    </p>
    <p num="79">
      In the connection processing of irregular points, first, the restoration distinction number (block ID) of a block to be processed is determined (S169).
      <br/>
      Next, a characteristic point (point "a" in FIG. 16(a)) which has not yet been connected is searched (S170).
      <br/>
      Further, it is decided if there are two other characteristic points not yet connected in the vicinity (S170).
      <br/>
      If the decision is NO, then the characteristic point is discarded as a noise (S179) and the flow returns to S170.
      <br/>
      If there are decided to be two other characteristic points ("b" and "c" in FIG. 16(a)), these points are irregular points.
      <br/>
      Then, a characteristic point already connected is searched in a predetermined search direction within a predetermined distance (S172).
      <br/>
      If there are decided to be two connected points ("f" and "g" in FIG. 16(a)) (YES at S173), the irregular points are connected to the two points as a temporary contour ("h" and "i" in FIG. 16(b)) (S176). (The final restored contour is the dashed line "j" in FIG. 16(b).) Then it is decided if there is a characteristic point not yet connected (S177).
      <br/>
      If the decision is YES, the flow returns to S170 for the processing of the next irregular point.
      <br/>
      If there is decided no characteristic point not yet connected (NO at S177), it is decided if the processing on all the restoration distinction number is completed or not (S178).
      <br/>
      If the decision is NO, the flow returns to S169 for the processing of the next restoration distinction number.
      <br/>
      Otherwise the vectorization completes and the flow returns to the main flow (S180).
    </p>
    <p num="80">
      If it is decided that there is not two connected points (NO at S173), the search is performed by expanding the angle (S174), and it is decided again if there are two connected points (S175).
      <br/>
      If the decision is YES, the flow proceeds to S176 for the connection.
      <br/>
      Otherwise the characteristic points are discarded as noise (S179) and the flow returns to S170.
    </p>
    <p num="81">(b-5) Output</p>
    <p num="82">
      FIG. 17 shows a flow of the output processing (S106 in FIG. 8).
      <br/>
      First, it is decided on a line if there is a request for non-restored data (S201).
      <br/>
      If there is no request for non-restored data (NO at S201), it is decided if there is a request for a characteristic point on the line (S202).
      <br/>
      If there is a request for a characteristic point (YES at S202), the restoration distinction number (block ID) on the corresponding coordinate is searched (S203), and the data on the characteristic point with relation to the restoration distinction number is outputted (S204).
      <br/>
      Then the flow returns to S201.
      <br/>
      If there is decided to be no request for a characteristic point at S202, it is decided next if all data is outputted or not (S210).
      <br/>
      If there remains data not processed (NO at S210), the flow returns to S201 for the next processing.
    </p>
    <p num="83">
      If it is decided that there is a request for non-restored data (YES at S201), the data is outputted only if there are data at the corresponding coordinate (YES at S205) and no characteristic flag is set in the same block (YES at S206).
      <br/>
      Then the flow returns to S201 for the next processing.
      <br/>
      In a second embodiment explained later, the original data and the block information are outputted when the data is sent to the characteristic point generator 22.
    </p>
    <p num="84">(c) Image restoration</p>
    <p num="85">
      In the image restoration section 13, a plurality of vectorized contours are developed, and the contours are subjected to raster scan for painting at a predetermined density between an odd-numbered characteristic point and an even-numbered characteristic point.
      <br/>
      The paint density is the average density of the block which includes the relevant characteristic points.
    </p>
    <p num="86">An example of the rules for expressing a contour is described below (refer to FIGS. 18(a)-18(d)).</p>
    <p num="87">(1) A straight line is longer than a predetermined length and has a starting point and a last point, each consisting of two characteristic points arranged within a short distance (four characteristic points).</p>
    <p num="88">
      (2) An arc of short distance is approximated as a short straight line.
      <br/>
      If the characteristic points are arranged within a short distance, the number of the points are chosen except three in order to prevent processing as irregular points.
    </p>
    <p num="89">
      (3) A long curve is approximated by an arc which goes through a starting point, a middle point and a last point apart a distance more than a predetermined length.
      <br/>
      The middle point is located just in the middle of the starting and last points, and each point consists of a single characteristic point.
    </p>
    <p num="90">(4) An irregular point consists of three characteristic points arranged within a predetermined short distance, and the deformation method is determined with relation to characteristic points in the forward and backward directions.</p>
    <p num="91">(5) The other points are regarded as a straight line.</p>
    <p num="92">(6) A curve includes at least one straight line.</p>
    <p num="93">
      FIG. 19 shows a block diagram of the image restoration section 13.
      <br/>
      A program memory 135 stores a program executed by an image restoration processor 134.
      <br/>
      This processor 134 executes the program to receive characteristic points via a bus B1 when a request of restored data is received via a bus B11, performs restoration for each block in the painting work memory 137, develops the image in an output buffer 138 and sends the restored image via the bus B11.
    </p>
    <p num="94">
      FIG. 20 shows a flow of image restoration executed by the image restoration processor 134.
      <br/>
      When the electric power is turned ON, the initialization is performed first (S401), and the output buffer 138 is cleared (S402).
      <br/>
      Next, if a restoration request is received via the bus B11 (S403), the characteristic points of a block which starts in the relevant line are inputted (S404).
      <br/>
      Then, a restoration distinction number (block ID) is determined (S405), the one block is restored (S406, refer to FIG. 21) and the data are sent to the output buffer 138 (S407).
      <br/>
      Next, if the image restoration on all the blocks is decided not to be completed (NO at S408), the flow returns to S405 for the next block.
      <br/>
      If all the blocks are processed (YES at S408), the data of the line are outputted (S409).
      <br/>
      Next, if the processing on all the lines is decided not to be completed (NO at S410), the flow returns to S403 for the processing on the next line.
      <br/>
      If the processing on all the lines is decided to be completed (YES at S410), the flow returns to S402 for the processing of the next image restoration.
    </p>
    <p num="95">
      FIG. 21 shows a flow of one block restoration (S406 in FIG. 20).
      <br/>
      First, a starting point is determined in a contour by searching for a straight portion (S421).
      <br/>
      The straight portion is decided as shown in FIG. 18(a).
      <br/>
      That is, an irregular point can be distinguished by the existence of three characteristic points within a predetermined short distance.
      <br/>
      A straight line is distinguished by characteristic points of a number except three arranged almost linearly and connected to another set of characteristic points with a long straight line.
      <br/>
      An arc of short distance is distinguished by expressing it as a short straight line.
      <br/>
      Further, when a center on three characteristic points A, B and C is defined as a point at which a normal of a straight line between characteristic points A and B crosses another normal of a straight line between characteristic points B and C, an arc can be distinguished when the distances from the center to the three characteristic points are within a predetermined error (refer to FIG. 18(d)).
    </p>
    <p num="96">
      Next, a characteristic point is selected in the contour (S422).
      <br/>
      If the characteristic point is decided to belong to an irregular point (YES at S423), the other two characteristic points are taken out (S424) and the position relation of the irregular point with front and rear characteristic points in the forward and backward directions is checked (S425), and the deformed curve is drawn in the work memory 136 (S426).
      <br/>
      If a characteristic point is decided to be a straight line (YES at S432), the data on the straight portion is taken out (S433) and the straight line is drawn in the work memory 136 (S434).
      <br/>
      If a characteristic point is decided to be an arc (YES at S435), the data on the arc portion is taken out (S437) and the arc is drawn in the work memory 136.
      <br/>
      If the characteristic point is decided not to be any of irregular points, a straight line and an arc (NO at S435), the flow proceeds to S434, and a straight line is drawn in the work memory 136.
    </p>
    <p num="97">
      Next, if the last point is decided not to be a starting point (NO at S427), the flow returns to S422 to process the next point.
      <br/>
      If the last point is decided to agree with a starting point (YES at S427), the processing of the contour completes.
      <br/>
      Then, if the processing on all the contours (vectors) is decided not to be completed (NO at S428), the flow returns to S421 to restore the next contour.
    </p>
    <p num="98">
      If the processing on all the contours is decided to be completed (YES at S428), the scanning is performed in unit of line (S429) and the painting is performed between contour lines at a designated density in the paint work memory 137 (S439).
      <br/>
      This painting is continued until all lines are processed (YES at S431).
    </p>
    <p num="99">(d) Addition of characteristic points</p>
    <p num="100">
      FIG. 22 shows the structure of the characteristic point adder 14 wherein a characteristic coordinate is received and the data of a predetermined density is added to the coordinate.
      <br/>
      A density correction section is not used in this embodiment 141.
      <br/>
      The density of an image having the same density as characteristic points is shifted in order to prevent the confusion with the characteristic points.
      <br/>
      A selector 143 selects not the image information, but the density data of a characteristic point when a characteristic point coordinate "b" is received.
      <br/>
      Thus, the image data and the characteristic point data are synthesized.
      <br/>
      If the process mode is set in the operational section 16, the addition of characteristic points is prohibited in the selector 143.
    </p>
    <p num="101">
      As explained above, if an editor mode is set by the operational section 16, the editor 12 edits the extracted characteristic point data and the image data in the non-restorable regions not including characteristic points independently for rotation, enlargement or the like.
      <br/>
      Then, the edited data are synthesized in the above-mentioned characteristic point adder 14.
    </p>
    <p num="102">C. Second embodiment</p>
    <p num="103">(e) Generation and addition of characteristic points when a hard copy is obtained</p>
    <p num="104">
      As to a document which includes characteristic points as explained above, the degradation of image can be suppressed on repeated copy generation.
      <br/>
      On the contrary, an ordinary document without characteristic points and a document including an ordinary image without characteristic points patched in part may be degraded due to copying.
      <br/>
      Then, in this embodiment, characteristic points can be added to such a document when a hard copy is obtained in order to prevent the image degradation in a copying thereafter.
    </p>
    <p num="105">
      In some cases, two kinds of images with and without characteristic points are mixed in a document.
      <br/>
      For such a document, image regions with characteristic points and those without characteristic points are distinguished, and image data restored by using the characteristic points and image data in the regions without characteristic points are synthesized.
      <br/>
      Further, the characteristic points and the image data in the regions without characteristic points can be edited independently for rotation or the like.
    </p>
    <p num="106">
      FIG. 23 displays a block diagram of an image processor of a digital copying machine which can add characteristic points wherein characteristic points are extracted and regions are distinguished by an image analyzer 21 as to digital image data received via the bus B1 from an image reader or the like.
      <br/>
      That is, characteristic points are extracted from the input image data and regions are distinguished from the characteristic points or restorable regions with characteristic points and non-restorable regions without characteristic points.
      <br/>
      In the non-restorable regions, the as-received image data are used in the following processing, while characteristic points are generated from the image data in the characteristic point generator 22.
      <br/>
      In the restorable regions, the as-received image data are not used, and image data are restored in the image restoration section 23 from the extracted characteristic points.
      <br/>
      These image data are synthesized and the generated characteristic points are added thereto in the characteristic point adder 24.
      <br/>
      If the density of characteristic points can be selected among a plurality of densities, the density closest to the density around the characteristic point is selected.
      <br/>
      Further, the characteristic points cannot be added in the output image data in a process mode set with the operational section 25.
      <br/>
      Finally, in the optimization section 26, the image density can be corrected with smoothing or the like according to a process mode designated with the operational section 25.
    </p>
    <p num="107">
      FIGS. 24(a)-24(d) illustrate how characteristic points are generated.
      <br/>
      As to as-received image data in a non-restorable region shown in FIG. 24(a), contours are extracted first as shown in FIG. 24(b).
      <br/>
      If the pattern of the contour is simple, characteristic points can be obtained readily from the contour.
      <br/>
      On the other hand, in case of a character or the like, smoothing of the data is performed in order to remove noises on reading and the contour is approximated with straight lines as shown in FIG. 24(c).
      <br/>
      Then, the crosses of straight lines located within the pattern are regarded as the coordinates of characteristic points as shown in FIG. 24(d).
    </p>
    <p num="108">
      FIG. 25 shows a block diagram of the characteristic point generator 22.
      <br/>
      A characteristic point generation processor 181 starts processing according to a request received via interfaces 184, 185 and 186 from buses B12, B15 and B16, receives non-restored information (information on blocks without characteristic points) through the interface 184 from the bus B12, and generates characteristic points on the non-restored information to send to the characteristic point memory 187.
      <br/>
      The information of the generated characteristic points is sent to the bus B15 while the original image is sent to the bus B16.
      <br/>
      The data structure of the characteristic point memory 187 is the same as in case of the image analysis processor 123 (refer to (b-2)).
    </p>
    <p num="109">The contents of the processing (FIGS. 26-29) of the characteristic point generation processor 181 are as follows:</p>
    <p num="110">(1) The information on a block from a required line is received.</p>
    <p num="111">(2) A contour is approximated by resembling it as an arc or a straight line.</p>
    <p num="112">(3) A contour which may shorten the restoration time with use of irregular processing is searched, and the contour is deformed if any.</p>
    <p num="113">(4) If the processing of a line completes, the characteristic points are sent from the characteristic point memory 187 to the bus B15, and receives the original image (the content of the image memory 111) from the bus B11 to send it to the bus B16.</p>
    <p num="114">
      FIG. 26 shows a flow of the control of the characteristic point generation processor 181.
      <br/>
      After the initialization (S601), a request of characteristic point generation is awaited (S602).
    </p>
    <p num="115">
      If the request is received (YES at S602), the data of blocks in the relevant line are received (S603).
      <br/>
      Then, a restoration distinction number (block ID) to be processed is determined (S604), and the characteristic point generation (S605, refer to FIG. 27) and the irregular processing (S606, refer to FIG. 29) are performed.
      <br/>
      These processings are performed on all blocks (S607).
      <br/>
      Then, the original data of the line is received (S607) and the one line data are outputted via the buses B15 and B16 (S609).
      <br/>
      Then, the flow returns to S602 for the next request.
    </p>
    <p num="116">
      FIG. 27 shows a flow of characteristic point generation (S605 in FIG. 26).
      <br/>
      First, a characteristic point in the designated restoration distinction number (block ID) is searched (S621), and a contour is resembled up to a length in correspondence to the smallest arc (S622).
      <br/>
      That is, the contour is traced by calculating the distance on the basis of the block information.
      <br/>
      Next, an arc decision is performed to decide if the portion is an arc or not (S623).
      <br/>
      If it is decided to be an arc (YES at S624), a characteristic point next by one pixel is determined (S625), and the arc decision is performed again (S626).
      <br/>
      If it is decided to be an arc (YES at S627), the flow returns to S625 for the arc decision of the next characteristic point.
      <br/>
      Otherwise, the data on the characteristic points of the arcs obtained above are sent to the characteristic point memory 187 (S628).
    </p>
    <p num="117">
      If it is decided not to be an arc (NO at S624), a straight line decision is performed with use of the least square method (S632).
      <br/>
      If it is decided to be a straight line (YES at S633), a characteristic point next by one pixel is determined (S634), and the straight line decision is performed again (S635).
      <br/>
      If it is decided to be a straight line (YES at S636), the flow returns to S634 for the straight line decision of the next characteristic point.
      <br/>
      Otherwise, the data on the characteristic points of the long straight lines obtained above are sent to the characteristic point memory 187 (S637).
    </p>
    <p num="118">If it is decided to be neither an arc nor a straight line (NO at S633), data on the section as a short straight line are sent to the characteristic point memory 187 (S638).</p>
    <p num="119">
      The above-mentioned decision is continued until the next characteristic point agrees with the starting point (YES at S629).
      <br/>
      Then, the last characteristic point is connected to the starting one (S630), to complete a contour.
      <br/>
      The above-mentioned processing is continued until all contours are completed (YES at S631).
    </p>
    <p num="120">
      FIG. 28 shows a flow of the arc decision (S623 and S626 in FIG. 27).
      <br/>
      First, starting and last points are determined (S651), and the middle point thereof is determined (S652).
      <br/>
      If necessary, noises are removed.
      <br/>
      Next, it is decided if the middle point is inside the pattern (S653).
      <br/>
      If the decision is NO, it is an error (S658), and the data are neglected.
      <br/>
      If the decision is YES, a temporary center is determined (S654) and the distances from the center to each point is determined (S655).
      <br/>
      If the distances are determined within a predetermined error (YES at S656), it is decided to be an arc (S657).
      <br/>
      Otherwise it is decided to be an error (S658).
    </p>
    <p num="121">
      FIG. 29 shows a flow of the irregular processing (S606 in FIG. 26).
      <br/>
      First points which do not belong to a straight line are searched (S671), and they are compared with a predetermined pattern (S672).
      <br/>
      If it is decided that the error is within a predetermined value (YES at S673), then they are replaced by deformed data (S674).
      <br/>
      This processing is continued until the last characteristic point is processed (YES at S675).
    </p>
    <p num="122">D. Third embodiment</p>
    <p num="123">(f) Standard pattern of density</p>
    <p num="124">
      With respect to the characteristic points as explained above, the density level of an image is important, and it is a problem to be solved how to read the density correctly.
      <br/>
      As a technique to normalize the density, a standard pattern is read, and the input data can be corrected according to the density change of the standard pattern, as is used for automatic exposure of a copying machine.
    </p>
    <p num="125">
      Such a standard pattern can be printed beforehand in a document at an appropriate position.
      <br/>
      FIG. 30(a) shows an example of a layout of such a document.
      <br/>
      A standard pattern is printed at a lowermost left corner of the document.
      <br/>
      The standard pattern, enlarged in FIG. 30(b) includes marks of different densities (left) and the density used for the characteristic points (right).
    </p>
    <p num="126">
      The standard pattern may be read before the read of the document, as in the automatic exposure.
      <br/>
      A whole document including the standard pattern may also be read at the same time, and the data on the standard pattern may be taken out.
    </p>
    <p num="127">
      FIG. 31 shows a flow in the latter case when the data on the standard pattern is taken out from the data of the whole document.
      <br/>
      The image analysis processor 11 shown in FIG. 7 performs the extraction of characteristic points and region distinction.
      <br/>
      However, in this embodiment, it performs the detection of the standard density before the extraction of characteristic points.
      <br/>
      Then, in the extraction of characteristic points, the data received from the image memory 111 are compared with the standard density, and the data which agrees with the predetermined standard density are decided to be characteristic points.
      <br/>
      In the read of the standard density, if a plurality of density levels are set for characteristic points, as in the document of FIG. 30, the plural density levels are used for the decision of characteristic points.
    </p>
    <p num="128">(g) Addition of characteristic points at low densities for a half-tone image</p>
    <p num="129">
      For a half-tone image, characteristic points have to be added so as to minimize the effect on the image largely.
      <br/>
      If characteristic point of high density are added, they may become noises in the image.
      <br/>
      Therefore, in the present embodiment, a plurality of densities selected in the whole density distribution of the image is used for expressing characteristic points.
      <br/>
      In this method, a plurality of density bands is used for characteristic points, and they have the densities at the center of the density bands.
      <br/>
      One of the central densities which is closest to the density around a characteristic point is assigned to the characteristic points.
      <br/>
      Thus, characteristic points may be added with a low density even for a document including an area of low density so as to minimize the effect on the image.
    </p>
    <p num="130">
      In an example shown in FIG. 32(a), four densities of In (n=1, 2, 3 and 4) are used for characteristic points, and the three densities of In (n=2, 3 and 4) are within the density region for the image.
      <br/>
      The as-received image data except the densities In for characteristic points are used as image data without processing.
      <br/>
      FIG. 32(b) shows a situation around the density I2 for a characteristic point.
      <br/>
      When a hard copy is generated, characteristic points are written at the predetermined densities In.
      <br/>
      However, the density on the hard copy may scatter due to the quality of hard-copy and the read precision.
      <br/>
      Then, the scattering width is set as Wa, and the image within the range is regarded as characteristic points.
      <br/>
      Further, the reading of image data also scatters.
      <br/>
      Therefore, the image data in the width Wb at both sides of the scattering width Wa are regarded as the same level Dn.
    </p>
    <p num="131">(h) Extraction of characteristic points for continuous density change</p>
    <p num="132">
      When a plurality of density bands are assigned to characteristic points in the density range for image, the decrease in dynamic range is a problem.
      <br/>
      That is, because the density range which can be expressed on a hard copy is limited, when a part thereof is assigned to characteristic points, the range available for an image decreases.
    </p>
    <p num="133">
      Further, characteristic points may become image noise.
      <br/>
      A multi-level half-tone document includes an image wherein the density changes continuously (FIG. 33(a)).
      <br/>
      In this case, because the densities assigned for the characteristic points cannot be used, linear noises may happen around the densities.
      <br/>
      On the other hand, a half-tone image includes an image consisting of areas each of constant density (FIG. 33(b)).
      <br/>
      In the latter case, the change on image can be avoided by shifting the density a little for the image density around the densities assigned for the characteristic points.
      <br/>
      In concrete, the density correction section 14 in characteristic point adder 14 in FIG. 22 shifts the density as mentioned above in order to prevent confusion with characteristic points of the same density.
    </p>
    <p num="134">
      The two kinds of images can be distinguished as explained below.
      <br/>
      For a characteristic point of density I1 located at a position P1, as shown in FIGS. 34(a) and (b), the decision is preferably performed both in the vertical and horizontal directions.
      <br/>
      When the density is read along a direction, if the data changes continuously around I1, the data is regarded not as a characteristic point, but as an image data.
      <br/>
      On the other hand, if the data changes discontinuously around I1, the data are regarded as a characteristic point.
    </p>
    <p num="135">
      The density change is detected similarly as in the blocking wherein the image density change is detected in a direction, and if the image is decided to change continuously at around the density assigned for characteristic points, a characteristic point of a density different from the image density is added.
      <br/>
      Otherwise a characteristic point of the assigned density is added.
      <br/>
      When a hard copy is read, if the density in a direction is decided to change continuously around the density assigned for characteristic points, the data are decided not to be on a characteristic point and is regarded as a part of the image.
      <br/>
      Otherwise if the density in a direction is decided to change discontinuously around the density assigned for characteristic points, the data are decided to be on a characteristic point.
    </p>
    <p num="136">(i) Addition of characteristic points for a half-tone image with continuous density change</p>
    <p num="137">
      As explained above, in principle, predetermined density bands are assigned to characteristic points.
      <br/>
      As shown in FIG. 34(a), if the image density changes gradually, all bands are assigned to the image.
      <br/>
      When the image density changes gradually, it is not needed to get a contour line in such a region wherein the density changes continuously, and there is no problem.
      <br/>
      On the other hand, if the density for characteristic points is assigned in the document density region for an image wherein the density changed continuously, noises may arise.
      <br/>
      In the present invention, in order to suppress noises, the sensitivity region for image data is assigned linearly in the document density region.
      <br/>
      Further, in such an image as shown in FIG. 34(b) wherein the density changes discontinuously, the sensitivity region is changed partly as shown in detail in FIG. 35(b), in order to express all the data without the density band Wa assigned for characteristic points.
      <br/>
      That is, the slope of density bands Wb' adjacent to the density band Wa is changed to assign the document density in the density band Wa outside the density band.
      <br/>
      The width of the density band for changing the band may be expanded to another density band for characteristic points.
    </p>
    <p num="138">
      FIG. 36 shows a structure of the image processor for distinguishing characteristic points from image data.
      <br/>
      The blocking 112 in the region distinction processing differs from the processing in the image analysis processor 123 explained above.
      <br/>
      Not only separated patterns, but also images of density difference larger than a predetermined level are regarded as blocks, and region decision 113 is performed for the blocks.
      <br/>
      As to the images without characteristic points, the density data around the density assigned for characteristic points are changed in the density correction section 114 so that the image density changes continuously.
      <br/>
      That is, the data within the width Wb in FIG. 35(b) are transformed to data in the ranges of Wa and Wb.
    </p>
    <p num="139">E. Fourth embodiment</p>
    <p num="140">(j) Addition of characteristic points to an original document</p>
    <p num="141">
      It is desirable that characteristic points are added to an original document.
      <br/>
      FIG. 37 shows a structure of a digital copying machine equipped with a printer function.
      <br/>
      The copying machine can add characteristic points when an original document is prepared by using a computer and the like with an outline font.
      <br/>
      The code information of outline font is received from the computer by a code processor 31 to generate image data.
      <br/>
      The image data are sent to an image processor 33 and printed by a printer section 34.
      <br/>
      On the other hand, when characteristic points are added to the original document, the image data read from the document are received by an image input section 32 and sent to the image processor 33.
      <br/>
      On the other hand, the code processor 31 calculates characteristic points from the outline font data of the code information, and the data on the characteristic points are sent to the image processor 33.
      <br/>
      By setting a process mode with an operational panel 35, the characteristic points are added in the image processor 33.
      <br/>
      The data including the characteristic are printed in the printer section 34 on a paper as a hard copy.
    </p>
    <p num="142">
      FIG. 38 shows the structure of image processor 33 and the code processor 31.
      <br/>
      The image processor 33 includes an image analyzer 41 for region decision and characteristic point extraction, an editor 42, an image restoration section 43, a characteristic point adder 44 and an optimization section 45, as in the first embodiment.
    </p>
    <p num="143">
      In the code analyzer 51, the code information is divided into character codes for characters and format control codes for designating the print positions of the characters.
      <br/>
      In the drawing position controller 52, the drawing positions of characters are determined according to the format control data and the character size information obtained by the character pattern generator 54.
      <br/>
      In the character pattern generator 54 (refer to FIG. 39), patterns of characters designated by character codes by the code analyzer 51 are generated and characteristic points of the patterns are generated.
      <br/>
      In the drawing section 53, patterns obtained by the character pattern generator 54 are drawn at the print positions determined by the drawing position controller 52 in order to edit an image.
      <br/>
      Characteristic points obtained by the character pattern generator 54 are added to the edited image by the characteristic point adder 44, and the density or the like is corrected in the optimization section 45 to be sent as an output image.
    </p>
    <p num="144">
      FIG. 39 shows a structure of the character pattern generator 54 for adding characteristic points to characters.
      <br/>
      The character pattern generator 54 uses an outline font which has coordinates (control points) necessary for generating contours of characters.
      <br/>
      A control point calculator 541 calculates control points from the outline font.
      <br/>
      An outline font information section 542 sends character size data to the drawing position controller 52.
      <br/>
      A contour generator 543 generates contours from control point coordinates, and a painting section 545 paints in the contours to get character patterns.
      <br/>
      A characteristic point calculator 544 calculates characteristic points from the control points and sends them to the characteristic point adder 44.
    </p>
    <p num="145">
      FIG. 40 shows an example of control points for expressing a contour of outline font.
      <br/>
      This example uses a third Beziers curve having parameters of four points (P0-P3).
      <br/>
      The outline font data includes parameters (control points in this example) for a predetermined function (a third Beziers in this example) mainly.
    </p>
    <p num="146">
      The contour information of outline font may be located outside a font pattern, but characteristic points have to be located inside the pattern.
      <br/>
      A simple method is a linear approximation.
      <br/>
      This method needs many data for the control points of outline font, but it has no problem on characteristic points.
    </p>
    <p num="147">
      FIG. 41 shows an example of transformation from control points to characteristic points.
      <br/>
      The transformation is performed as in the calculation of a contour line from control points.
      <br/>
      First, a middle point P4 between control points P0 and P1, a middle point P5 between control points P1 and P2, and a middle point P6 between control points P2 and P3 are determined.
      <br/>
      Next, line sections connecting between P4 and P5 and between P5 and P6 are calculated.
      <br/>
      Thus, a line P0-P4-P5-P6-P3 is obtained as an approximation of a contour line.
      <br/>
      If the approximation is insufficient, middle points of these line sections are further combined for a new contour.
      <br/>
      The cross points of lines for approximation are used as characteristic points.
    </p>
    <p num="148">
      In cases of characters, calculations are performed from the outline font information.
      <br/>
      However, characteristic points can also be calculated easily when circular or linear patterns are printed.
    </p>
    <p num="149">F. Fifth embodiment</p>
    <p num="150">(k) error detection and correction</p>
    <p num="151">Even if additive information for restoring an image such as characteristic points is added to an image, when patterns are patched partly or the additive information cannot be read correctly, the image quality may be degraded on the repetition of copy generation and may not be restored correctly.</p>
    <p num="152">
      FIG. 42 shows a case wherein errors happen on restoration.
      <br/>
      In this case, when characteristic points of input image shown in FIG. 42(a) are read erroneously, and a contour shown in FIG. 42(b) is obtained.
      <br/>
      Then a restored pattern shown in FIG. 42(c) is restored.
      <br/>
      This restored pattern is compared with the input image shown in FIG. 42(a), and if there is a difference larger than a predetermined amount as shown in FIG. 42(d), it is determined that an error happens in the reading of the input image.
      <br/>
      In FIG. 42(d), the hatched portion is the different part between the restored pattern of FIG. 42(c) and the input image of FIG. 42(a).
    </p>
    <p num="153">When such an error is found, new characteristic points are generated as explained above.</p>
    <p num="154">
      FIG. 43 shows a structure of an image processor which equips a read error detection function and error correction function.
      <br/>
      As in the second embodiment, the image processor includes an image analyzer 61, a characteristic point generator 62, an image restoration section 63, a characteristic point adder 64 and an optimization section 66, but the structure of the image analyzer 61 is different.
      <br/>
      In the image analyzer 61, image data read from the image memory 611 is processed for blocking in a blocking section 612.
      <br/>
      Then, a block distinction section 613 takes out blocks also including characteristic points, and sends them to a comparator 614.
      <br/>
      On the other hand, characteristic points obtained by a characteristic point extraction section 618 are sent to the image restoration section 63 to obtain the restored image (FIG. 42(c)) which is also sent to the comparator section 614.
      <br/>
      The comparator section 614 compares the non-restored data (FIG. 42(a)) from the block distinction section 613 with the restored pattern restored on basis of the characteristic points.
      <br/>
      The comparator section 614 closes switches 615 and 616 when the error is small, to transmit the restored data and the original characteristic points to the characteristic point generator 62, wherein new characteristic points generated by the characteristic point generator 62 from the non-restored data are added.
      <br/>
      When an error happens, preferably the comparator section 63 sends a signal to the operational section 4 to display an error.
    </p>
    <p num="155">
      Although the present invention has been fully described in connection with the preferred embodiments thereof with reference to the accompanying drawings, it is to be noted that various changes and modifications are apparent to those skilled in the art.
      <br/>
      Such changes and modifications are to be understood as included within the scope of the present invention as defined by the appended claims unless, they depart therefrom.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method for processing image data representing an image, said method comprising the steps of:</claim-text>
      <claim-text>receiving said image data; assigning a plurality of density bands for forming additive information representative of a contour of the image; deciding whether a density of the image changes continuously around each density band assigned for the additive information;</claim-text>
      <claim-text>and canceling an assignment of a density band for the additive information when the density of the image is determined to change continuously around the density bands assigned for the additive information.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A printer comprising: an input means for receiving code information representative of at least a contour of an image; a pattern generator for generating a pattern having a contour according to the code information received by the input means; a generation means for generating additive information to be integrated along the contour of the image from the code information according to a selected format;</claim-text>
      <claim-text>and an addition means for adding the additive information to the pattern generated by the pattern generator, wherein the additive information is representative of the pattern generated by the pattern generator.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A printer according to claim 2, wherein said code information is data for control points of an outline font.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. An image processing apparatus for processing image data representative of an image so as to embed additive information into the image, said image processing apparatus comprising: an analyzer for recognizing an edge of the image represented by the image data; a generator which generates signals representing the additive information;</claim-text>
      <claim-text>and a synthesizer which embeds the signals generated by said generator in the image data at the edge of the image recognized by said analyzer and which outputs synthesized image data that includes both the image data and the signals, wherein signals generated by the generator have a density level that is different from a density level of said image data so that the additive information can be distinguished from the image data in the synthesized data.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An image processing apparatus in accordance with claim 4, wherein the additive information is data representative of a contour of the image.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. An image processing apparatus in accordance with claim 4, wherein said synthesizer changes a density level(s) of the image data at the edge recognized by said analyzer according to the additive information.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. An image processing apparatus in accordance with claim 6, wherein said synthesizer decreases a density level(s) of pixels where the signals are embedded.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An image processing apparatus according to claim 4, wherein the additive information corresponds to and enables recreation of the edge recognized by the analyzer.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. An image processing apparatus according to claim 4, further comprising an image forming portion for forming an image, into which the additive information is embedded, based on the synthesized image data outputted from said synthesizer.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A method for processing image data, representative of an image, to embed additive information into the image, said method comprising the steps of: analyzing the image data to recognize an edge of the image; generating signals representing the additive information;</claim-text>
      <claim-text>and embedding the signals into the image data at an edge of the image, recognized in the analyzing step, to form synthesized image data, wherein signals generated by the generator have a density level that is different from a density level of said image data so that the additive information can be distinguished from the image data in the synthesized data.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A method in accordance with claim 10, wherein said step of embedding includes changing a density level(s) of the image data at the edge of the image according to embedded additive information.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. A method in accordance with claim 11, wherein said step of embedding includes decreasing a density level(s) of pixels where the signals are embedded.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. A method in accordance with claim 10, wherein said additive information facilitates a later reconstruction of a contour of the image.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. A method in accordance with claim 10, further comprising a step of forming the image, into which the additive information is embedded, based on the synthesized image data.</claim-text>
    </claim>
  </claims>
</questel-patent-document>