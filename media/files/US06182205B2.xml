<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06182205B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06182205</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6182205</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="9425619" extended-family-id="13688377">
      <document-id>
        <country>US</country>
        <doc-number>09209656</doc-number>
        <kind>A</kind>
        <date>19981210</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09209656</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>13983254</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>20965698</doc-number>
        <kind>A</kind>
        <date>19981210</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09209656</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>FR</country>
        <doc-number>9200321</doc-number>
        <kind>A</kind>
        <date>19920114</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1992FR-0000321</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>US</country>
        <doc-number>99359792</doc-number>
        <kind>A</kind>
        <date>19921221</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1992US-07993597</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G06F  12/14        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>12</main-group>
        <subgroup>14</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G06F  21/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>21</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G06F  21/24        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>21</main-group>
        <subgroup>24</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>G06K  19/073       20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>K</subclass>
        <main-group>19</main-group>
        <subgroup>073</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>G07F   7/10        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>10</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>712038000</text>
        <class>712</class>
        <subclass>038000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>257679000</text>
        <class>257</class>
        <subclass>679000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>713193000</text>
        <class>713</class>
        <subclass>193000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G07F-007/10D</text>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>007</main-group>
        <subgroup>10D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G06F-021/79</text>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>21</main-group>
        <subgroup>79</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G06Q-020/341</text>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>341</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>G06Q-020/346</text>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>346</subgroup>
      </classification-ecla>
      <classification-ecla sequence="5">
        <text>G06Q-020/4097</text>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>4097</subgroup>
      </classification-ecla>
      <classification-ecla sequence="6">
        <text>G07F-007/10P</text>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>007</main-group>
        <subgroup>10P</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G07F-007/1008</classification-symbol>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>1008</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06F-021/79</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>21</main-group>
        <subgroup>79</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06F-2221/2107</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>2221</main-group>
        <subgroup>2107</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06Q-020/341</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>341</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06Q-020/346</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>346</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06Q-020/4097</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>4097</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G07F-007/1025</classification-symbol>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>1025</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S06F-221/2107</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>9</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>2</number-of-drawing-sheets>
      <number-of-figures>2</number-of-figures>
      <image-key data-format="questel">US6182205</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Microcomputer PC-cards</invention-title>
    <references-cited>
      <citation srep-phase="applicant">
        <patcit num="1">
          <text>SCHWARTZ HERMANN</text>
          <document-id>
            <country>US</country>
            <doc-number>4985921</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4985921</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>99359792</doc-number>
              <kind>A</kind>
              <date>19921221</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5875480</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Gemplus Card International</orgname>
            <address>
              <address-1>Gemenos, FR</address-1>
              <city>Gemenos</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>GEMALTO</orgname>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Le Roux, Jean-Yves</name>
            <address>
              <address-1>Bouc Bel Air, FR</address-1>
              <city>Bouc Bel Air</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Peyret, Patrice</name>
            <address>
              <address-1>Aix en Provence, FR</address-1>
              <city>Aix en Provence</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Plottel, Roland</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Follansbee, John A.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      The invention relates to exchangeable memory or PC-cards with several integrated circuits for personal computers.
      <br/>
      These PC-cards are used as a large capacity mass memory for replacing floppy disks and other exchangeable magnetic supports.
      <br/>
      To protect the content of these PC-cards against unauthorized use, the invention proposes the incorporation into the card (CC) of a specific security integrated circuit chip (MPS), which performs a clearance function for access to the memory chips (MEM).
      <br/>
      A microcontroller (MPC) also placed in the card communicates with the computer and with the security circuit.
      <br/>
      It makes the security chip validate a confidential code introduced from the computer, while also supplying memory chip control signals as a function of the validation result.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a division of application Ser.
      <br/>
      No. 07/993,597, filed Feb. 21, 1992, now U.S. Pat. No. 5,875,480.
    </p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">
      Exchangeable mass memory or PC-cards for microcomputers or personal computers (PC) have recently appeared as personal computer accessories, particularly for portable computers.
      <br/>
      In future, they could replace floppy disks and other magnetic mass storage means.
      <br/>
      They can be used as a mass memory having the same capacity as magnetic floppy disks (approximately one million bytes).
      <br/>
      Their size is no greater (credit card size with a thickness of 3 to 5 mm).
      <br/>
      They have a much faster access (several thousand times faster).
    </p>
    <p num="3">
      They can even be used as a random access memory for a program directly performable by the microcomputer.
      <br/>
      In this case and unlike in the case of magnetic mass memories, they do not have to be unloaded into the random access memory (RAM) of the PC to permit subsequent performance.
      <br/>
      The programs which they contain are directly performable by the PC.
      <br/>
      Mass memory or PC-cards have several memory chips and a connector (68 pin female connector according to the PCMCIA standard of the Personal Computer Memory Card International Association, 1030B East Duane Avenue, Sunnyvale, Calif.).
      <br/>
      The card can be plugged into a corresponding male connector of the computer.
      <br/>
      The connections are such that the memory can be addressed by a parallel input-output port of the PC, either as if the memory was a magnetic mass memory, or as if it was an extension of the RAM of the computer.
    </p>
    <p num="4">
      According to the invention, it was considered necessary to provide maximum security for the PC-cards for personal computers.
      <br/>
      Thus, their large capacity means that they can contain either significant data bases which have to be protected both during reading and writing, or expensive programs which are not to be used or duplicated without authorization.
      <br/>
      They may also be used for carrying out confidential transactions in accordance with more sophisticated programs than those existing at present, or involving larger data quantities than can be stored by secure transaction chip cards, which only have a single chip.
    </p>
    <p num="5">The presently available solutions for ensuring a certain security are indicated below.</p>
    <p num="6">
      It is firstly possible to use the sane protection types as for magnetic memories.
      <br/>
      Among these there is a possibility of concealing files by software attributes making them invisible to the user, when the latter attempts to obtain access thereto by the microcomputer.
      <br/>
      This is a standard solution for PC's operating under the DOS system.
      <br/>
      However, it is known that a well-informed user can easily get round these protections by software accessing the attributes of the files and modifying them, so that only scant protection is in fact provided.
    </p>
    <p num="7">
      It is also possible to use the conventional protections employed by software manufacturers in order to protect the software against copying.
      <br/>
      These solutions are of varying effectiveness and do not provide protection against use.
    </p>
    <p num="8">
      Finally, it is known to use security chip cards for protecting a computer or other equipment against use by unauthorized users.
      <br/>
      This solution will be described in greater detail hereinafter.
    </p>
    <heading>PRIOR ART</heading>
    <p num="9">
      In order to ensure an access authorization to a PC, it has been proposed to add to the latter a security chip card reader, which is connected to the PC.
      <br/>
      The keyboard and screen of the computer are used as the interface for ensuring a data exchange with a view to authorization operations.
      <br/>
      The chip card has a single chip, which is a security module.
      <br/>
      The security consists of preventing PC use if the user does not supply adequate confidentiality codes.
      <br/>
      These codes are introduced from the PC keyboard, in accordance with an especially provided exchange protocol between the PC and the card.
      <br/>
      It is the PC whose use is to be protected, which is used for ensuring the exchanges.
      <br/>
      The chip card does not form part of the PC.
      <br/>
      The user takes away his security card after using the apparatus, so as not to provide free availability to an unauthorized third party.
      <br/>
      Thus, security is essentially based on the simultaneous possession of the card and a confidential code attributed to the card.
    </p>
    <p num="10">If instead of wishing to provide protection for the overall PC it is wished to provide protection to the PC card to be connected to it (because it is desired that it can be used for others for standard uses), it is then necessary for the security card connected to the card reader associated with the PC to not cause the total inhibition of operation of the PC, but selectively the inhibition of operation of the port to which is connected the PC card.</p>
    <p num="11">However, it is considered that this solution has disadvantages and does not provide adequate security against an undesired use of the card.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="12">The invention proposes an original solution consisting of incorporating into the exchangeable PC card, which has several integrated memory circuits, at least one integrated security circuit able to control access to the storage areas of the mass memory.</p>
    <p num="13">The control takes place as a function of clearance informations which the user must supply via the computer (confidential code introduced into the keyboard or other clearance mode).</p>
    <p num="14">The term security circuit is here understood to mean a single integrated circuit chip having a non-volatile memory with confidential informations which cannot be transmitted to external terminals of the integrated circuit and a programmed security circuitry able to use said confidential informations and other informations supplied by the user, in order to provide validation instructions after the verification of a predetermined relationship between these two information types, the confidential data not passing to the outside of the integrated circuit.</p>
    <p num="15">
      The security circuit is preferably the same as the single circuit of an authorization or clearance chip card (that to which reference was made hereinbefore and which can be used for authorizing the operation of a computer when the user introduces it into the computer).
      <br/>
      However, in this case use is not made of an exchangeable clearance card used for authorizing the operation of the computer or connection port with the mass memory.
      <br/>
      A security chip is directly placed in the mass memory in order to secure its content.
    </p>
    <p num="16">
      It should be noted that the security chips used for protecting during reading or writing the data of a memory have hitherto only been used for protecting the content of the memory within the actual chip, making use of the fact that in the case of a single chip the data to be protected are not transmitted outside the chip.
      <br/>
      In addition, they were not mass memories, being instead very small memories, because in fact they were placed in the chip.
      <br/>
      In addition, the security chips used for protecting other apparatuses were incorporated into a separate security card with respect to the apparatus to be protected, said card being carried by the authorized user and not left behind in the apparatus to be protected.
      <br/>
      In this case use is not made of a chip card separate from the apparatus to be protected and transportable away from said apparatus, but instead an integrated circuit chip non-removably installed in the memory card, whose use is to be protected.
    </p>
    <p num="17">As a result of this arrangement a file protection is obtained both during reading and/or writing, which is significantly superior to that obtained by standard means (of the software type: concealed files) for the protection of personal computer files.</p>
    <p num="18">The security chip (referred to hereinafter also by the term security module) directly or indirectly controls the access means to the different card memory chips.</p>
    <p num="19">
      In practice, preference is given to the use of a standard security chip, i.e. of the type used in security cards for accessing apparatuses or rooms, or also in secure transaction cards.
      <br/>
      These chips use a series communication mode and in general only have six or eight connection pads with the outside, whereof there is only one data or instruction communication pad.
    </p>
    <p num="20">
      It is then preferable to place in the memory card a supplementary chip constituting a control processor for the card.
      <br/>
      This processor or micro controller has the function of providing an interface between the card connector and the security chip and an interface between the security chip and the memory chip.
      <br/>
      In practice, the performance of a user clearance verification program could take place under the control of the control processor.
      <br/>
      Said program could then be contained in a program memory forming part of the same chip as the control processor.
      <br/>
      Alternatively this program could be contained in part of the mass memory, if said part is connected to an operational bus of the control processor.
    </p>
    <p num="21">
      The security check has a microprocessor and memories and among the latter electrically programmable and optionally electrically erasable non-volatile memories.
      <br/>
      The operating program of this microprocessor is in principle recorded in a read-only memory of the chip.
      <br/>
      However, it could also be partly recorded in an electrically erasable and programmable non-volatile memory.
      <br/>
      The content of at least some of the non-volatile memories is not accessible in reading on terminals outside the chip.
      <br/>
      This content is exclusively used by the microprocessor for its own needs and in particular for performing security programs making use of secret codes placed in these inaccessible memories.
    </p>
    <p num="22">
      It can e.g. be envisaged that the confidential data memory of the security chip contains a clearance word for each memory area of the mass memory.
      <br/>
      If there are 24 memory chips, it can have 24 different access words.
      <br/>
      It can also have access hierarchies for accessing several memory areas.
    </p>
    <p num="23">
      Moreover, for increased security, the data stored in the mass memory can be encoded and the security module has an encoding and decoding program.
      <br/>
      The memory data can then be communicated across the security module both during reading or writing.
      <br/>
      The security module can carry out the coding or encoding.
      <br/>
      However, it can also supply a calculating key to the control processor, which will then itself carry out the coding and decoding (only in the presence of a clearance recognized by the security chip).
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="24">
      The invention is described in greater detail hereinafter relative to non-limitative embodiments and with reference to the attached drawings, wherein show:
      <br/>
      FIG. 1 The architecture of the PC-card according to the invention.
      <br/>
      FIG. 2 A circuit detail.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="25">
      The card CC shown in FIG. 1 is to be inserted in a personal computer or PC.
      <br/>
      The card has a standard pluggable connector CNC, preferably of the type defined by the PCMCIA standard and the PC has a corresponding connector for receiving the card.
    </p>
    <p num="26">
      The card is a memory card, i.e. it is to be used mainly for storing data.
      <br/>
      For this function, the card either has several different memory types (static or dynamic RAM, ROM, EPROM, EEPROM, FLASHEPROM, constituting the standard types) or a single memory type.
      <br/>
      If the memories are RAM's, which are essentially volatile, it is possible to have a standby battery for saving the data.
    </p>
    <p num="27">
      In order to obtain a larger storage capacity several integrated circuit chips are provided, each being a memory chip.
      <br/>
      These chips are referred to in overall manner by the reference MEM.
      <br/>
      There can be several dozen chips on the card for large storage capacities of e.g. several megabytes.
    </p>
    <p num="28">
      The card CC is an exchangeable peripheral of the computer PC.
      <br/>
      It can be used either as a mass storage peripheral, or as a RAM extension.
      <br/>
      It is the computer which controls this choice (when a choice is possible, i.e. particularly when there are several memory types in the card).
    </p>
    <p num="29">Apart from the memories MEM, according to the invention the card also has a security module, which is an integrated circuit chip MPS having a microprocessor with small memories and programs for the operation of the microprocessor.</p>
    <p num="30">The essential function of this module is to ensure access security to the memories MEM from the computer.</p>
    <p num="31">
      Preferably, the card CC also has a supplementary chip, which is a control processor or microcontroller MPC, i.e. a microprocessor with which are associated program memories.
      <br/>
      The function of this microcontroller MPC is the emission of access control signals to the memory chips as a function of security informations given by the security module MPS and as a function of access requests made from the PC.
      <br/>
      It should be noted that this microcontroller has parallel data outputs for directly supplying several memory destination control signals.
      <br/>
      The security module has in principle only series data outputs on a single input/output terminal and this is why two different chips MPS and MPC are provided with in each case one microprocessor.
      <br/>
      If the module MPS had parallel data outputs it would not be necessary to have the chip MPC.
      <br/>
      The functions of these two circuits would be performed by a single microprocessor circuit having program memories corresponding to the different functions to be performed.
    </p>
    <p num="32">The security module MPS acts as a slave compared with the master constituted by the microcontroller MPC.</p>
    <p num="33">
      The memories MEM are connected to the PC by means of several buses, namely an address bus, a data bus and a control signal bus.
      <br/>
      However, these buses are controlled by a locking or clamping circuit CV, which is itself controlled by the microcontroller MPC, so that access to the memories is not completely free unless authorization is given by the microcontroller MPC.
    </p>
    <p num="34">
      In the represented embodiment, it is assumed that the locking circuit CV acts on the address bus and on the control signal buses, but not on the data bus.
      <br/>
      However, other solutions are possible.
    </p>
    <p num="35">
      This is why one has shown on the one hand a data bus BD1 passing directly from the connector CNC to the memory MEM and on the other hand an address bus passing from the connector to the memory and interrupted by the locking circuit CV.
      <br/>
      This bus is designated AD1 upstream of the locking circuit on the connector side and AD3 downstream thereof on the memory side.
      <br/>
      Finally, a control signal bus (SC1 upstream, SC3 downstream) also interrupted by the locking circuit CV is provided.
      <br/>
      It is provisionally pointed out that another circuit (switching circuit AA) is interposed between the bus SC3 and the memory.
      <br/>
      Its function is to switch to the memory either the bus control signals SC3 coming from the PC, or control signals of a bus SC2 coming from the microcontroller MPC.
      <br/>
      Reference will be made to this point hereinaftter.
      <br/>
      The control signal bus finally leading to the memory is designated SC downstream of the switching circuit.
    </p>
    <p num="36">In the form of an exemplified embodiment, it can e.g. be considered that the control bus SC1 or SC2 or SC3 or SC transporting signals such as reading instructions (RD1, RD2, RD3, RD) or writing instructions (WR1, WR2, WR3, WR) or instructions for selecting one chip from among several chips (CEa1, CEa2, CEa3, CEa for the selection of a memory chip A from among several chips A, B, C or CEb1, CEb2, CEb3, CEb for the chip B, etc.).</p>
    <p num="37">
      The locking or clamping circuit CV is directly controlled by a clearance bus SH from the microcontroller MPC.
      <br/>
      This bus transports passage authorization or inhibition signals with respect to the control or address signals passing through the locking circuit CV.
      <br/>
      In exemplified manner, there can be a reading clearance signal SHR, a writing clearance signal SHW, clearance signals for each memory chip SHA for the chip A, SHB for the chip B and SHC for the chip C. The special feature is that the clearance signals came directly from the microcontroller MPC.
    </p>
    <p num="38">Thus, the microcontroller MPC has the possibility of electronically and selectively preventing reading or writing access to certain parts of the card memory MEM.</p>
    <p num="39">
      In order to complete the general description of the architecture of FIG. 1, reference is made to the following points.
      <br/>
      The microcontroller MPC can access at random the memory MEM.
      <br/>
      In the simplest case said memory has a double access and this is why one has shown an address bus AD2 and a data bus BD2 between the microcontroller and the memory.
      <br/>
      However, this solution is not obligatory and a single access memory is also possible.
      <br/>
      The access by the microcontroller MPC to the memory takes place with the aid of a control signal bus SC2 from the microcontroller.
      <br/>
      However, as stated, this bus passes through the switching circuit AA.
      <br/>
      This arrangement aims at permitting an operation of the microcontroller in closed circuit with the memory MEM during certain program phases.
      <br/>
      A general switching signal SGA from the microcontroller MPC controls the switching circuit AA.
      <br/>
      Finally, in the general case where requests by the external PC systematically pass through the memory MEM before leading to the microcontroller in order to be interpreted and performed, it is useful for the writing instructions WR1 from the PC to be applied directly to the microcontroller MPC.
      <br/>
      Thus, the latter knows that a request has been made and can optionally search for an instruction to be interpreted.
      <br/>
      This is why a direct connection WR1 has been shown between the connector CNC and the microcontroller.
    </p>
    <p num="40">Access to certain memory areas (e.g. certain chips or certain chip areas) is authorized by the microcontroller MPC as a function of previously defined security criteria and as a function of confirmations given by the security module.</p>
    <p num="41">
      The security module is e.g. the integrated circuit chip of the component sold by SGS-THOMSON under reference ST16612, in which is incorporated the non-volatile memory program MCOS of GEMPLUS.
      <br/>
      This component has the following special features.
      <br/>
      The memory data are invisible for the user, because they do not transit on the inputs-outputs of the chip.
      <br/>
      They are also optically invisible (masked).
      <br/>
      The chip has a microprocessor and it alone can seek and process the stored data.
      <br/>
      The ROM programs are carried out by masking and can consequently not be modified.
      <br/>
      These programs do not authorize access to all the memory areas of the chip.
      <br/>
      When a secret clearance code is presented on the chip inputs, it is processed by the microprocessor which, in response, supplies clearance or inhibition signals and at no time is it possible to detect the nature of the verification processing on the chip input/output terminals.
    </p>
    <p num="42">
      The procedure e.g. takes place in the following way.
      <br/>
      The insertion of a PC-card into the computer initiates the following operations: request by the PC for the user's clearance confidential code, which is introduced by the user on the PC keyboard in accordance with a standard parallel communication protocol for a PC.
      <br/>
      It is transmitted to the control processor MPC of the card and retransmitted by the latter to the security module MPS in a format comprehensible for the latter (consequently in principle in series form on the single input/output terminal available on the chip MPS).
      <br/>
      The security module verifies the confidential code and transmits to the control processor a control word representing the state of authorizations given (total inhibition, total authorization, partial authorization for certain memory areas).
      <br/>
      The control processor MPC receives this word in series form and then establishes on the bus SH the corresponding clearance signals (SHA, SHB, SHC, SHW . . . ), which control the access to the various memory chips.
      <br/>
      The control processor then returns to the PC a state word indicating that the security procedure has been carried out and indicating the result of this procedure.
    </p>
    <p num="43">
      In this system it is clear that it is the microcontroller MPC which controls the PC-card security programs.
      <br/>
      It defines the authorizations and inhibitions and uses the security module as a specialized verification member for a clearance by confidential code.
      <br/>
      No access security operation is controlled by the PC.
    </p>
    <p num="44">
      The locking and switching circuits CV and AA are extremely simple wired logic circuits.
      <br/>
      An example thereof is given in FIG. 2 in order to facilitate the understanding of the principle of the invention.
    </p>
    <p num="45">
      It is e.g. assumed that access to the various memory chips in reading and writing requires the presence of chip selection signals ("chip enable") CEa, CEb, CEc for chips A, B, C respectively and the presence of reading RD or writing WR instructions.
      <br/>
      The signals CEa, CEb, CEc consequently form in the present example the content of the control bus SC leading to the memory MEM.
    </p>
    <p num="46">
      Access requests are formulated by the external PC in the form of signals CEa1, CEb1, CEc1, RD1, WR1 on the bus SC1.
      <br/>
      Signals SHA, SHB, SHC, SHR, SHW are present on the clearance bus SH.
      <br/>
      Each of these signals controls the opening or closing of a respective AND gate, each of the gates receiving a respective control signal.
      <br/>
      The outputs of these gates constitute the bus SC3 in FIG. 1, transporting or not the control signals such as received from the PC in accordance with authorizations given by the microcontroller.
      <br/>
      The control signals transported on the bus SC3 are applied to the switching circuit AA partly shown in FIG. 2.
    </p>
    <p num="47">
      The switching circuit is controlled by a switching signal SGA.
      <br/>
      As a function of the state of this signal, transfer takes place to the bus SC (i.e. to the memory MEM) either of the control signals from the bus SC (e.g. RD3, WR3, etc.), i.e. from the PC under the control of the microcontroller, or the control signals (RD2, WR2, etc.) from the actual microcontroller.
    </p>
    <p num="48">For example, for the switching of reading control signals RD, an AND gate receives RD3 and is controlled by the signal SGA, whilst another receives RD2 and is controlled by the logic compliment of SGA, whilst an OR gate receives the outputs of said two gates and supplies the reading signal RD, which is either RD2 or RD3 as a function of the state of SGA.</p>
    <p num="49">The action of the locking or clamping circuit CV has been shown on the control signals only, but it is clear that in accordance with the architecture of FIG. 1, it can also influence the address bits supplied by the PC.</p>
    <p num="50">
      In an increased security structure, the data stored in the memory are encoded by means of a secret key, the secret decoding key is not known to the user.
      <br/>
      It is contained in the security module.
      <br/>
      On presentation of a valid clearance code, the security module supplies the secret key to the microcontroller MPC, which can then carry out a decoding program with respect to the memory data and transmit them to the PC in uncoded form.
      <br/>
      Thus, it is ensured that the data stored in the memory cannot be usefully copied by an unauthorized person.
      <br/>
      The writing of data into the memory can also take place in encoded form using the same encoding key and this is only possible after recognition of the authorization of the user.
    </p>
    <p num="51">
      It should be noted that the data are not outputted in encoded form as is the case in certain security applications and instead encoding takes place of the data stored within the memory card so that a copy of said data would not be usable by anyone not authorized to do so.
      <br/>
      This in particular means that even if the signal SGA or the signals RD or WR were fraudulently used in order to read the data of the card, it still would remain impossible to use said data.
    </p>
    <p num="52">
      Variants of the invention are possible.
      <br/>
      For example, it is possible to provide that either the addresses and data freely transit the PC to the memories and conversely when clearance has been given, or for the addresses and/or data to always transit the microcontroller.
    </p>
    <p num="53">
      In this embodiment it has been assumed that for practical rapid communication reasons with the PC that the card inputs-outputs constitute a parallel connector to the PCMCIA standard.
      <br/>
      However, in certain cases the output can take place on a contact connector according to the ISO 7816 standard only having a few contacts, including a single series communication mode input-output contact.
      <br/>
      This gives a large capacity memory card secured to the standard of credit cards and which can be inserted in a conventional credit card reader, provided that the card thickness in the region to be inserted is sufficiently thin to enter the reader slit.
      <br/>
      A thickness reduced card area could be provided if necessary and would carry the contacts in accordance with ISO 7816.
    </p>
    <p num="54">
      In order to complete the description, an operational example with increased security is given, in which certain files of the memory MEN are further protected.
      <br/>
      With each protected file is associated a particular "signature", which represents the file and which is deteriorated if the file is modified.
      <br/>
      This signature is formed from the actual file content, i.e. it is the concatenation of all the file bits.
      <br/>
      This signature is stored in a non-volatile and non-accessible memory of the security module.
      <br/>
      When the file has to be used (and more particularly in the case where it is to be used as a program to be performed by the microcontroller MPC), firstly a check will be made to see that there has been no deterioration of the file.
      <br/>
      If a deterioration has taken place, any use will be prevented.
      <br/>
      For this purpose, the microcontroller will firstly recalculate the file signature to which it has access.
      <br/>
      It will ask the security module what is the expected signature.
      <br/>
      It will then make a comparison and will only validate use if the signatures correspond.
      <br/>
      Comparison could take place within the security module.
      <br/>
      Within the security module there can be the same number of stored signatures as files to be protected.
      <br/>
      Thus, within the security module there is an "image" of the files to be protected of the memory MEM, in the form of a file of signatures corresponding to the various parts to be protected.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An electronic device comprising a PCMCIA bus (BD1, AD1, SC1) and a smart card bus (S), and an interface chip (MPC) acts as an adapter between the PCMICIA bus and the smart card bus, and a memory (MEM) connected to the interface chip (MPC), a secure smart card chip (MPS) connected to the smart card bus (SC), and the smart card chip (MPS) and the memory (MEM) communicate via the interface chip (MPC).</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A device as in claim 1, wherein the interface chip (MPC) is a programmable microprocessor device.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A device as in claim 1, wherein the smart card chip (MPS) comprises a programmable microprocessor chip.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A device as in claim 1, wherein the smart card chip (MPS) comprises cryptographic algorithms and can execute said cryptographic algorithms internally in said chip.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A device as in claim 1, wherein data transmitted to and/or received from the memory (MEM) can be cryptographically processed by the smart card chip.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A device as in claim 1, wherein the smart card bus between the smart card chip (MPS) and the interface chip (MPC) complies to ISO standard IS7816-3.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. A device as in claim 1, further comprising peripheral connector (CNC), a signal bus (SC1, SC:SC), wherein the interface (MPC) chip is linked by the signal bus to the peripheral connector.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A device as in claim 7, wherein an external device (PC) pluggable into the peripheral connector (CNC) can communicate with the smart card chip via the interface chip (MPC).</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A device as in claim 1, further comprising a peripheral connector (CNC), and wherein an external device (PC) pluggable into the peripheral connector (CNC) can communicate with the smart card chip via the interface chp (PMC).</claim-text>
    </claim>
  </claims>
</questel-patent-document>