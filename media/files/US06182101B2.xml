<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06182101B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06182101</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6182101</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="22589973" extended-family-id="13690243">
      <document-id>
        <country>US</country>
        <doc-number>08524103</doc-number>
        <kind>A</kind>
        <date>19950821</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1995US-08524103</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>13985181</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>52410395</doc-number>
        <kind>A</kind>
        <date>19950821</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1995US-08524103</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>16342993</doc-number>
        <kind>A</kind>
        <date>19931208</date>
        <priority-linkage-type>B</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1993US-08163429</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04B  14/04        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>B</subclass>
        <main-group>14</main-group>
        <subgroup>04</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H03H  17/00        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>00</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H03H  17/06        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>06</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>708313000</text>
        <class>708</class>
        <subclass>313000</subclass>
      </main-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03H-017/0685</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>0685</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>3</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>2</number-of-drawing-sheets>
      <number-of-figures>3</number-of-figures>
      <image-key data-format="questel">US6182101</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method for sampling frequency conversion employing weighted averages</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>CROCHIERE RONALD ELDON, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4020332</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4020332</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>STIKVOORT EDUARD F</text>
          <document-id>
            <country>US</country>
            <doc-number>4604720</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4604720</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>TAKAYAMA JUN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5068716</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5068716</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>TAKAHASHI YASUO</text>
          <document-id>
            <country>US</country>
            <doc-number>5159338</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5159338</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>CLAYTON JOHN C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5335194</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5335194</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>SONY CORP</text>
          <document-id>
            <country>EP</country>
            <doc-number>0323200</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-323200</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>16342993</doc-number>
              <kind>A</kind>
              <date>19931208</date>
            </document-id>
            <parent-status>ABANDONED</parent-status>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Nokia Mobile Phones, Ltd.</orgname>
            <address>
              <address-1>Salo, FI</address-1>
              <city>Salo</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NOKIA MOBILE PHONES</orgname>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Vahatalo, Antti</name>
            <address>
              <address-1>Tampere, FI</address-1>
              <city>Tampere</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Ali-Yrkko, Olli</name>
            <address>
              <address-1>Tampere, FI</address-1>
              <city>Tampere</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Perman &amp; Green, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Ngo, Chuong Dinh</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An improved method converts a first sampling rate of signal values to a second sampling rate, the second sampling rate being a non-integer multiple of the first sampling rate.
      <br/>
      The method includes the steps of: interpolating between successive signal values occurring at the first sampling rate to derive further signal values at an integer multiple sampling rate thereof, the integer multiple sampling rate falling within a range that is a greater than 0.5 and less than two times an integer multiple of the second sampling rate; employing a method of weighted average interpolation or decimation to derive from the signal values occurring at an integer multiple sampling rate of the first sampling rate, signal value magnitudes occurring at the integer multiple of the second signal sampling rate; and decimating the signal values at the integer multiple of the second sampling rate by an integer multiple factor to derive second sampling rate.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This is a continuation of application(s) Ser. No. 08/163,429 filed on Dec. 08, 1993, now abandoned.</p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">This invention relates to signal sampling rate conversion and, more particularly, to conversion of a digital signal at one sampling rate to a set of signals at a second sampling rate, employing a method of weighted averages.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      During digital signal processing, a common occurrence is to find that the sampling rate must be changed e.g. a signal is read from an analog-to-digital converter (A/D) which operates at a first sampling rate, digitally processed and then fed to a digital-to-analog converter (D/A) which operates at a second sampling rate.
      <br/>
      During this process, the digital values are also filtered to exhibit a particular frequency/bandwidth characteristic.
    </p>
    <p num="4">
      The sampling rate conversion process determines the digital value magnitudes of signals at the second sampling rate from the digital values of signals occurring at the first sampling rate.
      <br/>
      If the first and second data sampling rates are integer multiples of each other, determination of output signal magnitudes can be easily accomplished by either interpolation or decimation.
      <br/>
      If however, the first and second sampling rates are not integer multiples, the solution to the problem becomes more computationally complex.
    </p>
    <p num="5">
      The prior art has employed several techniques to accomplish sampling rate conversion (with filtering) and has used both infinite impulse response (IIR) and finite impulse response (FIR) filters.
      <br/>
      The sampling rate conversion process has involved a multiplication (by interpolation) of the input sampling rate by an integer factor to achieve a higher frequency sampling rate which is also an integer multiple of the desired second sampling rate.
      <br/>
      Then, after filtering, the integer multiple sampling rate is divided (by decimation) by an integer value to arrive at the desired second sampling rate.
    </p>
    <p num="6">
      As an example, a digital signal having a sampling rate of 20 kHz is sent to a D/A converter that has a sampling rate of 97.2 kHz. Thus, the signal with a 20 kHz sampling rate must be changed to a 97.2 kHz sampling rate and the signal must be filtered using specified filter characteristics.
      <br/>
      If an IIR filter is employed, the 20 kHz sampling rate data may be interpolated by a factor of 243 to a sampling rate of 4,860 kHz (4,860 kHz being a 50 times multiple of the D/A converter sampling rate of 97.2 kHz).
      <br/>
      The resulting signal with 4,860 kHz sampling rate data is then filtered using an IIR filter and thereafter, the output is decimated by a factor of 50 to achieve the desired output data sampling rate of 97.2 kHz.
    </p>
    <p num="7">
      As is known to those skilled in the art, the response of an IIR filter is a function of current and past input signal samples and past output signal samples.
      <br/>
      Its dependency on past outputs gives rise to an infinite duration of the filter's output response even when input values have stopped.
      <br/>
      IIR filter functions must be computed at the input sampling rate regardless of subsequent data decimation operations that ignore some of the filter's outputs.
      <br/>
      This is because each output is required in order to compute the filter's subsequent outputs.
      <br/>
      In the exemplary case of a sampling rate conversion from 20 kHz to 97.2 kHz, the very high integer multiple sampling frequency (i.e. 4,860 kHz) requires that the IIR sample conversion procedure perform a very large number arithmetic operations even though the IIR filter only requires approximately eight coefficients to satisfy the filter requirement.
    </p>
    <p num="8">
      When using an FIR filter, a signal with a 20 kHz sampling rate data is again interpolated by a factor of 243 to 4,860 kHz, filtered and then decimated by a factor of 50 to 97.2 kHz. However, the FIR filter enables interpolation and decimation to be combined so that all calculations are accomplished at the second sampling frequency of 97.2 kHz. The FIR filter avoids the computational problems of the IIR filter because it employs only a finite number of past input samples.
      <br/>
      While the computational load using the FIR filter is low compared to the IIR filter, the number of coefficients for the FIR filter is large (approximately 1000) and because of this, stored coefficients consume a substantial amount of memory.
    </p>
    <p num="9">Accordingly, it is an object of this invention to provide a sampling frequency conversion method that places minimum requirements upon supporting computational apparatus.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="10">
      An improved method converts a first sampling rate of signal values to a second sampling rate, the second sampling rate being a non-integer multiple of the first sampling rate.
      <br/>
      The method comprises the steps of: interpolating between successive signal values occurring at the first sampling rate to derive further signal values at an integer multiple sampling rate thereof, the integer multiple sampling rate falling within a range that is a greater than 0.5 and less than two times an integer multiple of the second sampling rate; employing a method of weighted average interpolation to derive from the signal values occurring at the integer multiple sampling rate of the first sampling rate, signal value magnitudes occurring at an integer multiple of the second signal sampling rate; and decimating the signal values at the integer multiple of the second sampling rate by an integer multiple factor to derive second sampling rate signal values.
    </p>
    <heading>DESCRIPTION OF THE DRAWINGS</heading>
    <p num="11">
      FIG. 1 is a high level block diagram of the transmission portion of a cellular telephone.
      <br/>
      FIG. 2 is a plot of input signal sample values occurring at an integer multiple of a first sampling rate and output signal values occurring at a second sampling rate, derived by weighted average interpolation.
      <br/>
      FIG. 3 is a high level flow diagram illustrating the operation of the invention shown in FIG. 1.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="12">
      In FIG. 1, a simplified block diagram of a basic mobile radiotelephone is shown.
      <br/>
      A microphone 11 provides an audio input signal which is converted to digital samples by A/D converter 13.
      <br/>
      Digital baseband processor 14, which includes a digital signal processor, processes the input samples and sends the output samples to D/A converter 17, which operates at 97.2 kHz sampling rate.
      <br/>
      From D/A converter 17, the signal is fed to RF (Radio Frequency) circuits 18.
      <br/>
      In the opposite direction, the RF circuits 18 receive a signal, which is converted to digital values by an A/D converter 16, processed by digital baseband processor 14, converted back to analog signals by a D/A converter 12, and finally fed to a speaker 10.
    </p>
    <p num="13">
      The mobile radiotelephone depicted in FIG. 1 must be able to send a data signal in order to communicate with a base station.
      <br/>
      The data signal, which has a rate of 20,000 baud/s, is processed by baseband processor 14, converted to analog signals by a D/A converter 17 and fed to RF circuits 18.
      <br/>
      The data signal which has a sampling frequency of 20,000 baud/s (i.e. 20 kHz) must now be filtered with a specified filter characteristic and sent to D/A converter 17, which operates at 97.2 kHz.
    </p>
    <p num="14">
      The signal with the 20 kHz sampling rate is now interpolated to a higher sampling rate which is a multiple of the 20 kHz rate.
      <br/>
      The signal is then filtered using specified filter characteristics, converted to an integer multiple sampling rate of the 97.2 kHz using a weighted average method and then decimated by an integer to obtain an output rate of 97.2 kHz. The integer multiple of the 20 kHz sampling frequency should be greater than one half and less than twice the integer multiple of the 97.2 kHz sampling frequency.
    </p>
    <p num="15">
      A similar sampling rate conversion procedure can be used to change the sampling rate of a signal which is fed from A/D converter 13 via baseband processor 14 to D/A converter 17 and for a signal which is fed from A/D converter 16 via baseband processor 14 to the D/A converter 12.
      <br/>
      The procedure of changing the sampling rates is similar, although the sampling rates are different.
    </p>
    <p num="16">
      Using the exemplary sampling rates, a signal with the 20 kHz sampling rate is to be interpolated by a factor of 24 to a 480 kHz.
      <br/>
      The interpolation is accomplished using an FIR filter having an order of approximately 100.
      <br/>
      The integer multiple data sampling rate is then converted from 480 kHz to 486 kHz using a weighted average interpolation procedure to be described below.
      <br/>
      The resulting 486 kHz data sampling rate is then decimated by a factor of 5 to achieve an output sampling rate of 97.2 kHz.
    </p>
    <p num="17">
      Using an FIR filter, the decimation and weighted average calculations can be accomplished in a combined manner.
      <br/>
      The FIR filter calculation sampling rate is twice the 97.2 kHz sampling rate, as a weighted average requires two input samples to calculate a single output sample.
    </p>
    <p num="18">
      While an interpolation value of 24 is employed to convert the 20 kHz sampling rate to a 480 kHz multiple (allowing a low level of distortion), any other integer number can be employed, depending upon the required output signal's distortion.
      <br/>
      It is preferred that the multiple of the input sampling rate fall within a range that is greater than 0.5 and less than two times an integer multiple of the desired output signal sampling rate.
      <br/>
      It is to be clearly understood that the specified data sampling rate values recited herein are only for exemplary purposes and that the invention is generally applicable wherever one data sampling rate is to be converted to a second data sampling rate.
    </p>
    <p num="19">
      Turning now to FIGS. 2 and 3, a further example of the invention will provided using more simplified input and output sampling rates to enable a better understanding of the invention.
      <br/>
      Assume that the input sampling frequency or sampling rate (fin) is 3 and the output sampling frequency or sampling rate (fout) is 5.
      <br/>
      Each input sample is designated i(n) where i is the input amplitude and n is the sequence number of the samples.
      <br/>
      Output data samples are designated o(n) where o is the output data sample amplitude.
      <br/>
      The interpolation sampling rate from input to output is 5/3.
    </p>
    <p num="20">
      In FIG. 2, an exemplary set of input samples i(n) 30, 32, 34 are shown plotted along a time line.
      <br/>
      A plurality of output samples o(n) 36, 38, 40 etc. are shown interspersed (dotted) with the input samples i(n).
      <br/>
      Line 42, which connects the magnitudes of each of the input and output samples shows the approximate wave shape of the sampled signal.
      <br/>
      The problem presented, once the amplitudes of input samples i(n) are known, is to find the amplitudes of output samples o(n).
      <br/>
      A rational factor m is used in the method of the invention and is determined as follows:
      <br/>
      m=fout/(fout-fin)
    </p>
    <p num="21">
      Because fout and fin can be fractional numbers, the numerator (fout) and denominator (fout-fin) should be converted to higher terms by multiplying with a suitable integer to make the numerator ("mnum") and denominator ("mden") integers.
      <br/>
      Then m can be expressed as follows:
      <br/>
      m=mnum/mden
    </p>
    <p num="22">
      In the above equation, the numerator (mnum) and denominator (mden) are integers.
      <br/>
      Each output sample o(n) can be determined as follows:
      <br/>
      o(n)=x*i(k)+(1-x)*i(k+1)  (1)
    </p>
    <p num="23">where:  (Equation image '1' not included in text)</p>
    <p num="24">"trunc(y)" is largest integer not greater than y</p>
    <p num="25">"a mod b" is the remainder or modulus of the division a/b</p>
    <p num="26">A review of equations 1-3 indicates that, in the first phrase of equation 1, the value x is a weighting value, k is an index of input samples and n is an index of output samples.</p>
    <p num="27">Where m=5/2, the following table shows the first ten values of x and k as calculated from equations 2 and 3:</p>
    <p num="28">
      --
      <br/>
      -- n                         x    k
      <br/>
      -- 1                         2/5 1
      <br/>
      -- 2                         4/5 2
      <br/>
      -- 3                         1/5 2
      <br/>
      -- 4                         3/5 3
      <br/>
      -- 5                         0    3
      <br/>
      -- 6                         2/5 4
      <br/>
      -- 7                         4/5 5
      <br/>
      -- 8                         1/5 5
      <br/>
      -- 9                         3/5 6
      <br/>
      -- 10                        0    6
    </p>
    <p num="29">
      Using equation 1, the first ten output values o(n) may be calculated as follows from the x and k values shown in the above table.
      <br/>
      o(1)=2/5 * i(1)+3/5 * i(2)
      <br/>
      o(2)=4/5 * i(2)+1/5 * i(3)
      <br/>
      o(3)=1/5 * i(2)+4/5 * i(3)
      <br/>
      o(4)=3/5 * i(3)+2/5 * i(4)
      <br/>
      o(5)=0 * i(3)+i(4)=i(4)
      <br/>
      o(6)=2/5 * i(4)+3/5 * i(5)
      <br/>
      o(7)=4/5 * i(5)+1/5 * i(6)
      <br/>
      o(8)=1/5 * i(5)+4/5 * i(6)
      <br/>
      o(9)=3/5 * i(6)+2/5 * i(7)
      <br/>
      o(10)=0*i(6)+i(7)=i(7)
    </p>
    <p num="30">
      The results from the above table are plotted in FIG. 2 and illustrate that, for instance, output o(1) is derived by taking 2/5 of the input magnitude of sample i(1) and adding to it 3/5 of the magnitude of input sample i(2).
      <br/>
      Similar calculations are carried out to obtain o(2-10).
    </p>
    <p num="31">
      The weighted interpolation procedure shown above is performed when the value of the integer multiple of the input data sampling rate is less than the value of the desired multiple of the output data sampling rate.
      <br/>
      If the integer multiple of the input data sampling rate is larger (but within the above-noted range criteria), then sample values at the integer multiple of output sampling rate are achieved by using a decimation procedure rather than an interpolation procedure.
      <br/>
      The decimation procedure is as follows:
    </p>
    <p num="32">
      d is determined as follows:
      <br/>
      d=fin/(fin-fout)
    </p>
    <p num="33">
      Because fout and fin can be fractional numbers, the numerator (fout) and denominator (fout-fin) should be converted to higher terms by multiplying with a suitable integer to make the numerator and denominator integers.
      <br/>
      Then m can be expressed as follows:
      <br/>
      d=dnum/dden
    </p>
    <p num="34">In the above equation, the numerator (dnum) and denominator (dden) are integers.</p>
    <p num="35">
      In such case, the output data sample values are determined from equations 4-6 below.
      <br/>
      o(n)=(1-x)*i(k)+x*i(k+1)  (4)
    </p>
    <p num="36">where:  (Equation image '2' not included in text)</p>
    <p num="37">"trunc(y)" is largest integer not greater than y</p>
    <p num="38">"a mod b" is remainder or modulus of the division a/b</p>
    <p num="39">As one skilled in the art will understand, the decimation procedure is essentially an image of the interpolation procedure and proceeds accordingly, using equations 4-6.</p>
    <p num="40">
      Turning to FIG. 3, a high level flow diagram is shown that illustrates the sampling rate conversion procedure of the invention.
      <br/>
      As above indicated, the method converts a first sampling rate to a second different sampling rate, using an FIR filter.
      <br/>
      Initially, an analog input signal is converted to digital samples at a first sampling rate (FSR) as shown in box 50.
      <br/>
      Next, the FSR values are interpolated to derive an integer multiple data sampling rate of the FSR.
      <br/>
      That integer multiple (IMR1) bears a predetermined relationship to an integer multiple (IMR2) of the second output data sampling rate as follows (see box 52).
      <br/>
      0.5*IMR2&lt;IMR1&lt;2*IMR2.
    </p>
    <p num="41">
      IMR1 is then filtered using an FIR (box 54) and is converted to IMR2 using a weighted average interpolation technique to obtain magnitudes of values that comprise IMR2 (box 56).
      <br/>
      Then, IMR2 is decimated by an integer value to obtain the second output sampling rate (box 58).
    </p>
    <p num="42">
      It should be understood that the foregoing description is only illustrative of the invention.
      <br/>
      Various alternatives and modifications can be devised by those skilled in the art without departing from the invention.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method for converting a first sampling rate of input electrical signal values to a second sampling rate of output electrical signal values, the second sampling rate being a non-integer multiple of the first sampling rate, and for determining amplitudes of said second sampling rate output signal values from first sampling rate input signal values, said method implemented by a computer and comprising the steps of:</claim-text>
      <claim-text>a.</claim-text>
      <claim-text>In a digital signal processor, interpolating linearly between successive input electrical signal values occurring at said first sampling rate to derive signal values occurring at a predetermined integer multiple sampling rate from said input signal values (said integer multiple rate hereafter referred to as: IMR1) , said IMR1 falling within a range that is greater than 0.5 and less than 2 times a predetermined integer multiple of said second sampling rate (said integer multiple of said second sampling rate hereafter referred to as: IMR2); b. using an FIR filter for interpolating linearly between said signal values occurring at said IMR1 to derive signal values occurring at IMR2;</claim-text>
      <claim-text>and c. using the FIR filter for decimating said signal values at IMR2 by a predetermined integer multiple factor to derive output signal values occurring at said second sampling rate.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method according to claim 1 wherein said IMR1 exhibits a lower frequency than said IMR2 and step b employs a weighting factor x, where:  (Equation image '3' not included in text)</claim-text>
      <claim-text>where: mnum/mden=fout/(fout-fin), with the fraction fout/(fout-fin) converted to higher terms to assure that mnum and mden are integer values, n=sequence number of output sample, fout=second sampling rate, fin=first sampling rate, a mod b is modulus or remainder of the division a/b and</claim-text>
      <claim-text>- wherein each output data value at IMR2 has a magnitude o(n) where:</claim-text>
      <claim-text>where:  (Equation image '4' not included in text)  i=input sample magnitude and; "trunc" (y) is largest integer not greater than y.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method according to claim 1, wherein IMR1 is greater than IMR2 and wherein step b employs a weighting factor x, where:  (Equation image '5' not included in text)</claim-text>
      <claim-text>where: dnum/dden=fin/(fin-fout), with the fraction fin/(fin-fout) converted to higher terms to assure that dnum and dden are integer values, n=sequence number of output sample, fout=second sampling rate, fin=first sampling rate, and a mod b is modulus or remainder of a division a/b;</claim-text>
      <claim-text>and - wherein each output at IMR2 has a magnitude o(n), wherein:</claim-text>
      <claim-text>where:  (Equation image '6' not included in text)  i=input sample magnitude; "trunc" (y) is largest integer not greater than y.</claim-text>
    </claim>
  </claims>
</questel-patent-document>