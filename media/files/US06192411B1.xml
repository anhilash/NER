<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06192411B1.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as first publication">
      <document-id>
        <country>US</country>
        <doc-number>06192411</doc-number>
        <kind>B1</kind>
        <date>20010220</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6192411</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B1</original-publication-kind>
    <application-reference family-id="25443657" extended-family-id="42076230">
      <document-id>
        <country>US</country>
        <doc-number>09436678</doc-number>
        <kind>A</kind>
        <date>19991109</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09436678</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43120679</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>43667899</doc-number>
        <kind>A</kind>
        <date>19991109</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09436678</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>92039297</doc-number>
        <kind>A</kind>
        <date>19970829</date>
        <priority-linkage-type>1</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1997US-08920392</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010220</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <term-of-grant>
      <disclaimer/>
    </term-of-grant>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04L  12/56        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>56</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>709232000</text>
        <class>709</class>
        <subclass>232000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>709223000</text>
        <class>709</class>
        <subclass>223000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>709230000</text>
        <class>709</class>
        <subclass>230000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>709231000</text>
        <class>709</class>
        <subclass>231000</subclass>
      </further-classification>
      <further-classification sequence="4">
        <text>709236000</text>
        <class>709</class>
        <subclass>236000</subclass>
      </further-classification>
      <further-classification sequence="5">
        <text>709237000</text>
        <class>709</class>
        <subclass>237000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04L-047/19A</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>047</main-group>
        <subgroup>19A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04L-047/10</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>10</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04L-047/19</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>19</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>H04L-047/27</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>27</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/193</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>193</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/10</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>10</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/19</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>19</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/27</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>27</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>8</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>4</number-of-drawing-sheets>
      <number-of-figures>4</number-of-figures>
      <image-key data-format="questel">US6192411</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Mapping SNA session flow control to TCP flow control</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>MORTEN RICHARD M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5021949</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5021949</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>JOHNSON ROBERT A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5379296</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5379296</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>IVANOFF MARIO J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5517622</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5517622</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>JOHNSON ROBERT A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5539736</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5539736</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>BOLLELLA GREGORY, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5802053</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5802053</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>CHAN BARRY K, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6049833</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6049833</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>LYON DAVID L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4545013</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4545013</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>GEORGE FREDERICK D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4644532</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4644532</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>KITA KOUICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>4750109</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4750109</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>ARROWOOD ANDREW H, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4827411</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4827411</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>MCKAY DOUGLAS B, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4893307</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4893307</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>LIDINSKY WILLIAM P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4922486</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4922486</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>DANIEL ARTHUR A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4965772</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4965772</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>MESSENGER STEVEN</text>
          <document-id>
            <country>US</country>
            <doc-number>5046066</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5046066</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>YOSHIOKA RYUICHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5050165</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5050165</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>BROWN BRIAN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5226120</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5226120</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>KASPRZYK MARLON Z, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5287103</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5287103</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>ATTANASIO CLEMENT R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5371852</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5371852</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>PERKINS CHARLES E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5442633</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5442633</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="20">
          <text>GAGNE BRUCE N, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5473608</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5473608</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="21">
          <text>WANDERER JAMES, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5491796</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5491796</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="22">
          <text>GREGERSON DANIEL P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5526358</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5526358</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="23">
          <text>MRAZ RONALD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5544162</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5544162</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="24">
          <text>SKEEN MARION D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5557798</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5557798</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="25">
          <text>DEV ROGER H, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5559955</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5559955</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="26">
          <text>CALLON ROSS W</text>
          <document-id>
            <country>US</country>
            <doc-number>5583862</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5583862</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="27">
          <text>KONDO MARIKO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5586254</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5586254</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="28">
          <text>VINCENT RONALD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5588119</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5588119</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="29">
          <text>MCKENNA JOHN JOSEPH, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5684967</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5684967</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="30">
          <text>PITCHAIKANI BALAJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5684988</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5684988</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="31">
          <text>PICAZO JR JOSE J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5737525</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5737525</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="32">
          <text>BUTTS THOMAS H, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5754830</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5754830</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="33">
          <text>RONDEAU MICHAEL N, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5796728</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5796728</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="34">
          <text>MITCHELL JOHN ORVILLE, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5802313</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5802313</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Printout of World Wide Web page http://www.ctron.com/products/items/SPECTRUM-BLUEVISION entitled "SPECTRUM/Blue Vision-for integrated SNA/LAN management", copyright 1995, 1996.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>92039297</doc-number>
              <kind>A</kind>
              <date>19970829</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>6049833</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Cisco Technology, Inc.</orgname>
            <address>
              <address-1>San Jose, CA, US</address-1>
              <city>San Jose</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>CISCO TECHNOLOGY</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Chan, Barry K.</name>
            <address>
              <address-1>Beecroft, AU</address-1>
              <city>Beecroft</city>
              <country>AU</country>
            </address>
          </addressbook>
          <nationality>
            <country>AU</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Boe, Michael</name>
            <address>
              <address-1>San Francisco, CA, US</address-1>
              <city>San Francisco</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Cesari and McKenna, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Dinh, Dung C.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A TN3270 server (26) that forwards a 3270 data stream from a Systems Network Architecture ("SNA") connection (28) to a Transmission Control Protocol ("TCP") connection (24) monitors the TCP connection for segments that acknowledge thereby-transmitted bytes.
      <br/>
      It also keeps track of the unacknowledged-byte window sizes specified by received TCP-connection -segments.
      <br/>
      It responds with a pacing response to a pacing-request-containing SNA message only when forwarding of previously received information from the SNA can be completed without resulting in a number of unacknowledged bytes that exceeds the specified window size.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED APPLICATION</heading>
    <p num="1">
      This is a continuation of commonly assigned U.S. patent application Ser.
      <br/>
      No. 08/920,392, which was filed on Aug. 29, 1997, by Chan et al., now U.S. Pat. No. 6,049,833, for Mapping SNA Session Flow Control to TCP Flow Control and is hereby incorporated by reference.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">The present invention is directed to computer communications and in particular to gateways that mediate communications between processes that employ different network-communications protocols.</p>
    <p num="3">
      A large installed base of computer equipment employs a communications protocol known as Systems Network Architecture ("SNA"), which specifies the manner in which a host computer, for example, will communicate over a network with a device such as a printer.
      <br/>
      In a typical system, such as that depicted by FIG. 1, a host mainframe computer 12 transmits a report to a printer 14.
      <br/>
      The data sent to the printer are lines of EBCDIC characters and display parameters that take the form of a "3270 data stream," so called because it is the form employed by IBM terminals and devices referred to as "3270s."(Actually, not all "3270"-device names take the form 327x, but all such devices do use the 3270 data stream).
    </p>
    <p num="4">
      To ensure that this data stream arrives intact at the proper location, a communications controller 16 breaks it into segments that it encapsulates in message units whose typical format FIG. 2 depicts.
      <br/>
      If it employs the Synchronous Data Link Control ("SDLC") protocol to transmit the SNA-protocol information, the communications controller 16 and a cluster controller 18 with which it communicates employ FIGS. 2's linkheader and link-trailer fields to direct the resultant message units to the right data-link stations, frame the message units properly, specify the manner in which link-level operations should interpret them, and detect transmission errors.
      <br/>
      The data-link station must be specified because the other stations on the link may receive the same signal.
      <br/>
      Each of the SDLC stations may provide a link-level interface for many of the hardware/software entities ("network-addressable units") that the SNA protocol can separately address, and it may need to forward messages to other link stations, which provide link interfaces for further network-addressable units.
      <br/>
      FIG. 2's transmission header specifies the origin and destination network-addressable units and provides certain format and sequencing information.
    </p>
    <p num="5">
      FIG. 2's request/response unit contains the payload delivered to the software that handles be SNA operations.
      <br/>
      Much of the time the request/response unit includes segments from the data stream to be forwarded to the printer (or other ultimate user), but request/response units come in many different types, and most of the different types represent commands or information for the SNA-operations software itself rather than printer data or commands.
    </p>
    <p num="6">
      To specify the request/response-unit type and support various housekeeping tasks, the message unit further includes a request/response header.
      <br/>
      That header's format is not fixed, but the format most frequently encountered is the three-byte format whose features most relevant to the present discussion FIG. 2's second row depicts.
      <br/>
      An "RU category" field in the request/response header, together with a code field (not separately shown) in the request/response unit itself specifies the request/response unit's type.
    </p>
    <p num="7">
      One feature of the SNA protocol is that the nature of a given message type may necessitate a response.
      <br/>
      For instance, a receiving device may have to have completed its reaction to a certain type of message before it can properly carry out subsequent messages' commands.
      <br/>
      In such a case, the transmitting device will need to receive a response to the first message before it sends certain subsequent messages.
      <br/>
      The mechanism for providing such type-specific responses is the first, "RRI" (request/response indicator) bit of the request/response header" first byte.
      <br/>
      If message of a given type has an RRI-bit a value of "1," that message is a response to a message of the same type, whose RRI bit was a "O."
    </p>
    <p num="8">
      Separate from such type-specific responses are pacing responses, which are used in accommodating differences between different devices' rates of operation.
      <br/>
      For example, the rate at which FIG. 1's host 12 can transmit information through the various communications links typically exceeds the rate at which the printer 14 can print it.
      <br/>
      So the printer's buffer space would soon overflow if the host transmission rate were not regulated in response to the pace of the printer's operation.
    </p>
    <p num="9">To provide such regulation, the printer 14 may inform the host 12 at the beginning of a communications session that a "pacing window" of a given size should be used throughout the session. (Actually, the cluster controller 18 is what would typically run the software for handling SNA communications on the printer's behalf, but it bases the pacing-window size on the nature of the peripheral device--i.e., the printer--on whose behalf it is communicating.) As will shortly be apparent, use of a given window size limits to one less than twice the pacing-window size the maximum number of request RUs--i.e., the number of RUs in which the RRI bit is "0"--that can be sent without receiving a "pacing response."</p>
    <p num="10">
      For the sake of concreteness, let us assume that the specified window size is four.
      <br/>
      This means that the host 12 sets the PI bit to a "1" in every fourth request unit, leaving it a "0" in all others.
      <br/>
      In essence, inclusion of this bit in the first of our request units asks the receiver for permission to send four further request messages after the current four have been sent.
    </p>
    <p num="11">
      To grant this permission, the printer sends a pacing response, which can take several forms.
      <br/>
      If the request unit containing the pacing request is of the type that requires a type-specific response, the PI bit is simply set in that response message.
      <br/>
      Otherwise, the receiver sends one of two message types, which are know in SNA terminology as IPR (Independent Pacing Response) or IPM (Independent Pacing Message) types, the latter type having the additional fimction of changing the pacing-window size.
      <br/>
      In any event, the host could conceivably receive the pacing response before it has sent any further request units, in which case it would actually be permitted to send seven request units without receiving a further pacing response.
      <br/>
      But this is the maximum number permitted: if the pacing-window size is n, 2n-1 is the maximum number of requests that can be sent without receiving an intervening pacing response.
    </p>
    <p num="12">
      Although SNA is the protocol by which a large installed base of computer systems communicate, a protocol that has enabled many disparate systems to communicate with each other over a wide variety of physical communications media is a different one: the Transmission Control Protocol/Internet Protocol ("TCP/IP").
      <br/>
      To enable customers to communicate with SNA-compliant systems but take advantage of the large number of TCP/IP links, communications-equipment manufactures have built communications gateways that translate between the two protocols.
      <br/>
      FIG. 1 also depicts a typical gateway environment.
    </p>
    <p num="13">
      In a typical system, the host 12 transmits, say, a report to terminal equipment 22.
      <br/>
      Equipment 22 may take the form of a printer driven by personal computer equipped with a modem.
      <br/>
      For this purpose, the user employs an Internet path 24--i.e., it employs the TCP/IP communications protocol--to establish a Telnet connection.
    </p>
    <p num="14">
      The client terminal 22 is sometimes referred to as a TN3270 emulator.
      <br/>
      The "3270" refers to the 3270 data stream, while the "TN" refers to the Telnet connection.
      <br/>
      Such communication also requires a TN3270 server such as server 26.
      <br/>
      Although the host in which the target application is running sometimes performs the TN3270-server process, having it do so is usually considered too prodigal a use of mainframe cycles.
      <br/>
      So FIG. 1 includes a communications channel 28 between the host 12 and the TN3270 server 26 to indicate that the TN3270 server 26 is embodied in separate hardware, and the host 12 employs the SNA protocol to communicate with the server 26, which therefore acts as a gateway between the different protocol regimes.
    </p>
    <p num="15">
      The Telnet connection is well known to the Internet community and described in its Requests for Comments ("RFCs") 854, 860 and 862, while RFCs 1576 and 1647 describe the TN3270 extensions to the base Telnet specification.
      <br/>
      Briefly, Telnet-implementing software typically maps the user's actual physical terminal to a "network virtual terminal," or NVT.
      <br/>
      An NVT receives and transmits the TCP-segment data as a byte stream.
      <br/>
      It interprets a byte whose first bit is zero as a symbol from "NVT ASCII," a seven-bit U.S. variant of the ASCII character set that the Internet protocol suite uses to represent letters, numbers, line feeds, carriage returns, etc.
      <br/>
      A Telnet connection also provides for in-band signaling: if the Telnet port receives an IAC ("Interpret As Command") byte, whose value is 255 (=FFH), the next byte is ordinarily interpreted as a command, and that next byte may in turn indicate that a further byte or bytes should similarly be interpreted as commands.
    </p>
    <p num="16">
      Because they are two different protocols, SNA/TN3270 installations tend to handle the pacing problem differently from SNA-only installations.
      <br/>
      Typically, the TN3270 server 26 acts as a buffer and thus shields the host-to-server channel 28 from the client terminal 22's speed limitations.
      <br/>
      This is a natural division of labor; although the TN3270server 26 receives the 3270 data stream in SNA message units, it forwards it in TCP segments, so the TN3270 client 22 cannot receive the SNA pacing bit.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="17">
      But we have recognized that server hardware costs can be reduced significantly if a way can be devised to reflect the Telnet terminal's processing capacity back to the SNA network.
      <br/>
      Doing so would eliminate much of the server's disc-space requirement, which can be a significant contributor to the overall cost of a server that must handle a large number of concurrent TN3270 sessions.
    </p>
    <p num="18">
      Now, one might propose to accomplish this result by substituting a corresponding Telnet feature and have the TN3270 server 26 translate between that feature and the SNA pacing feature.
      <br/>
      As RFC860 explains, a user or process at one end of a Telnet connection can employ a "timing mark" feature to ensure that previously transmitted data have been completely processed.
      <br/>
      One might therefore propose that the TN3270 server 26 respond to a pacing request from the host 12 by inserting into the data stream a three-byte sequence represented by the Telnet mnemonic &lt;IAC, DO, TM&gt;. The IAC byte, as was explained above, is the break character that introduces a command.
      <br/>
      The DO byte (=FDH) in turn indicates an option negotiation, and the TM byte (=06H) specifies that the negotiated option is the one known as the "timing mark." This command takes the form of a "negotiation" because a Telnet receiver is not in general capable of implementing every requested option.
      <br/>
      To indicate that it can and will comply with the requested option, a receiver inserts the sequence &lt;IAC, WILL, TM&gt; into the data stream that it sends in return; the WILL byte (=FBH) denotes compliance with a requested option. (Actually, in the specific case of a TM negotiation, it does not matter whether the response is WILL or the complementary WON'T, because both responses result in an end-to-end acknowledgement.) So one could configure the TN3270 client 22 to respond to initiation of a timing-mark negotiation by transmitting that sequence as soon as it has enough buffer space to store a pacing window's maximum data load.
    </p>
    <p num="19">
      But we have also recognized that such a translation's data-exchange, timing, and sizing would compromise the attractiveness that the storage-capacity reduction would otherwise afford, and we have identified an exceedingly simple alternative.
      <br/>
      Specifically, we simply have the TN3270 server send the pacing response only if forwarding any remaining previously information would not result in a number of unacknowledged bytes that exceeds the specified window size.
      <br/>
      As will be explained below, this approach automatically accommodates the SNA-session pace to the client terminal's processing capability without affecting the 3270 data stream at all.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="20">
      The invention description below refers to the accompanying drawings, of which:
      <br/>
      FIG. 1, described above, is a block diagram of a communications system that can use the present invention's teachings;
      <br/>
      FIG. 2, described above, is a diagram of a typical SNA message unit transmitted by the Synchronous Data Link Protocol;
      <br/>
      FIG. 3 is a diagram of a typical Internet Protocol datagram; and
      <br/>
      FIG. 4 is a diagram of a communications scenario that illustrates the present invention's teachings.
    </p>
    <heading>DETAILED DESCRIPTION OF AN ILLUSTRATIVE EMBODIMENT</heading>
    <p num="21">
      To appreciate the manner in which FIG. 1's server 26 can take advantage of the existing Internet requirements on link 24 to cause the TN3270 client 22's speed limitations to be reflected into the SNA link 28's session pacing, we need to consider the format of the datagram that encapsulate the Telnet byte stream.
      <br/>
      FIG. 3's top row depicts the datagram as consisting of an Internet Protocol ("IP") header, a Transmission Control Protocol ("TCP") header, and TCP data, i.e., the Telnet byte stream by which the 3270 data stream is transferred.
      <br/>
      The organization of these headers is well known to the Internet community, so the discussion that follows will concentrate only on those features particularly relevant to an understanding of the present invention.
    </p>
    <p num="22">
      For the sake of simplicity, FIG. 3's second row depicts the TCP header as organized into five four-byte fields, although those skilled in the art will recognize that such headers may additionally include further, optional fields.
      <br/>
      Of particular interest in connection with the present invention are the second, third, and fourth fields.
      <br/>
      One of the purposes of the TCP header is to ensure that all data transmitted to a TCP port has been properly received.
      <br/>
      To this end, initiation of each of the two one-way TCP connections required for a TCP dialog involves assigning a respective initial "sequence number," and every byte in the byte stream sent in one direction is numbered in succession from that initial value.
      <br/>
      The TCP header's second, "sequence number" field contains the number assigned to the last byte in the TCP segment that includes it.
      <br/>
      The transmitting port is assured that a segment is properly received if it thereafter receives an acknowledgment from the recipient that it has received all bytes through that sequence number or a subsequent one.
    </p>
    <p num="23">
      The acknowledgment mechanism involves a single-bit acknowledgment ("ACK") flag.
      <br/>
      FIG. 3's third row depicts that flag's position in the TCP header's fourth field.
      <br/>
      A port sets this flag in a given segment to indicate that the number in the third of the TCP header's four-byte fields exceeds by one the sequence number of the last byte that the port has successfully received.
    </p>
    <p num="24">
      The process that should receive the acknowledgment uses it in two ways.
      <br/>
      First, if it receives no such acknowledgment within a predetermined time limit, it re-transmits the unacknowledged segment.
      <br/>
      Second, it makes no transmissions unless the resultant number of unacknowledged bytes will be less than or equal to a predetermined window size, which the acknowledging process advertises in the window-size field of FIG. 3's third row.
    </p>
    <p num="25">
      FIG. 4 depicts a scenario that illustrates the latter feature and the manner in which we take advantage of it to cause the SNA session pacing to reflect the Telnet client's speed limitation.
      <br/>
      The host sends the server a message A whose type the drawing does not specify but merely represents as "Req" to indicate that the message's RRI flag (FIG. 2) is a "0" i.e., that message A is not a response to a same-type message.
      <br/>
      The "PI=1" notation indicates that its pacing bit is set: message A requests a pacing response.
    </p>
    <p num="26">
      The server typically includes a digital computer whose programming configures it to perform several processes.
      <br/>
      The process that handles the SNA communication is commonly known as a logical unit ("LU"), and the server's supervisory process responds to the LU's reception of message A by requesting that the TCP process send message A's contents as TCP data.
      <br/>
      The TCP process responds by sending a TCP segment J whose header includes a set PSH flag (see FIG. 3's third row).
      <br/>
      The set PSH flag tells the receiving TCP process that the contained data should be forwarded immediately to the receiving user process, which is a Telnet process in this case.
      <br/>
      The drawing's "1:1023" notation signifies that the sequence number of the first byte thereby sent is 1 and that of the last byte in the segment is 1023. (Actually, the sequence number of a connection's first byte is usually set somewhat arbitrarily; it is rarely 1.) As was explained above, message A's set PI bit requests a pacing response, but we will assume that the pacing window in the example is 2, so the host can send a further message B without first receiving the pacing response.
      <br/>
      Also, since the pacing-window size is 2, message B's pacing indicator is not set.
    </p>
    <p num="27">
      In accordance with the present invention, the server's supervising process operates the LU to send a pacing response only in situations in which TCP transmission of all data not yet transmitted would result in a number of unacknowledged bytes less than or equal to the TCP window size.
      <br/>
      We assume that this criterion is met in the case of message A, so the server invokes an LU function, styled "Confirm" in FIG. 4, that transmits the appropriate pacing response.
      <br/>
      For the sake of example we assume that the pacing-indicator-containing request message A's type is one that requires a response regardless of whether its pacing indicator is set.
      <br/>
      In such a situation, the appropriate pacing response may be a set pacing-indicator bit in the required response message C, whose type is the same as that of message A. (For the sake of simplicity, FIG. 4 omits any other required response messages.)
    </p>
    <p num="28">The pacing response grants the host permission to begin a further pacing window, so it sends message D. Since message D is the first message in the next pacing window, its pacing indicator is set: the host requests permission to send another pacing window after the window thereby begun is completed.</p>
    <p num="29">
      But permission in the form of a pacing response is not immediately forthcoming, because, as a result of message B, the number of unacknowledged bytes exceeds the pacing-window size.
      <br/>
      More specifically, segment K has acknowledged TCP segment J's 1023 bytes, as the "ACK 1024" notation indicates, and segment K has advertised a window of 2048 bytes, as the "WIN 2048" notation indicates.
      <br/>
      But forwarding the information from message B will take 2204 bytes, which exceeds the window size.
      <br/>
      So the next segment L, transmitted in response to message B, contains only 2048 bytes.
      <br/>
      The unacknowledged-byte window has thereby been filled and more bytes await transmission, so the server can transmit no further segments until the client acknowledges more transmitted bytes.
    </p>
    <p num="30">
      Actually, the TCP protocol is slightly more complicated than that: mere acknowledgment is not enough, as the behavior in response to segment M demonstrates.
      <br/>
      That segment advances the start of the window to byte 3072:it acknowledges receipt of all bytes through byte 3071.
      <br/>
      But it does not advance the end of the window, because it advertises a window size of 0.
      <br/>
      A TCP process may respond in that fashion when it has safely received all bytes up to the acknowledgment number but has, say, run out of buffer space.
      <br/>
      This spares the server re-transmission of previous segments without allowing it to send additional segments; since the end of the window has not advanced, the TCP process still cannot send further segments, even though all previous bytes have been acknowledged.
      <br/>
      So the server still has data remaining that it cannot send the client, and, in accordance with the present invention, it cannot send the host a pacing response to message D.
    </p>
    <p num="31">
      Eventually, some space is cleared in the client's buffer, and it so notifies the server by transmitting another acknowledgment segment, segment N. The "ACK 3072" notation shows that this segment is an acknowledgment in form only, since all bytes up to byte 3072 have already been acknowledged.
      <br/>
      In substance, segment N is instead a window update: the "WIN 2048" advances the end of the unacknowledged-byte window so that the server is permitted to send further segments and thereby increase (from zero in this case) the number of unacknowledged bytes.
      <br/>
      So the TCP process can now forward the remainder of the data from message B, and it employs segment O for that purpose.
      <br/>
      In accordance with the present invention, moreover, it can now send the host an appropriate pacing response, message F.
    </p>
    <p num="32">
      FIG. 4 uses the "IPR" notation for message F in order to give another example of an appropriate pacing response.
      <br/>
      SNA provides the Independent Pacing Response ("IPR") message type for cases in which the requesting message's type does not require a response inherently, i.e., in which the message requires no response when it includes no pacing request.
      <br/>
      SNA provides no response version of such message types, so the IPR message must be used to respond when such messages include pacing requests.
    </p>
    <p num="33">
      Also, there are some cases in which an IPR is needed even when the requesting message does inherently require a response.
      <br/>
      Specifically, the inherently required response may be sent while the responding process is not yet able to grant permission for a further window.
      <br/>
      When that happens, the response's pacing indicator will not be sent.
      <br/>
      So when the responding process does become able to receive messages again, the sending process must be informed.
      <br/>
      The IPR message type performs this function.
    </p>
    <p num="34">Instead of an IPR message, some embodiments may use SNA's IPM message type, which additionally specifies a change in window size.</p>
    <p num="35">
      The open window that message N specifies further permits the TCP process to send segments P and Q, which relate to messages D and E, and message F's pacing response enables the host to send the first message G in the next window.
      <br/>
      The server forwards that message's data in a TCP segment R.
    </p>
    <p num="36">
      A perusal of the FIG. 4 scenario reveals that the present invention requires no TCP segments or SNA messages that a conventional system would not, yet it limits the server's per-channel storage capacity to less than the size of two pacing windows.
      <br/>
      So its savings in Internet-Protocol overhead and delay can be considerable, and it thus constitutes a significant advance in the art.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A computer communications system comprising:</claim-text>
      <claim-text>A) an SNA link B) an SNA node, coupled to the SNA link, for transmitting information and SNA pacing requests into an SNA connection that the SNA node maintains over the SNA link; C) a TCP/IP link D) a TCP/IP node for receiving information from, and transmitting messages that acknowledge transmitted bytes and specify a TCP window size into, a TCP/IP connection that the TCP/IP connection maintains over the TCP/IP link;</claim-text>
      <claim-text>and E) a communications gateway including circuitry for maintaining the SNA and TCP/IP connections with the SNA and TCP/IP nodes, respectively, and:</claim-text>
      <claim-text>- i) receiving from the SNA connection the information transmitted by the SNA node; - ii) forwarding to the TCP/IP node through the TCP/IP connection at least some of the information thereby received; - iii) monitoring the TCP connection for acknowledgement messages transmitted by the TCP/IP node; - iv) monitoring the SNA connection for the pacing requests;</claim-text>
      <claim-text>and - v) transmitting a pacing response to the SNA node in response to a pacing request therefrom only if forwarding the previously received information not yet forwarded would not result in a number of unacknowledged bytes transmitted into the TCP connection that exceeds the specified window size.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A computer communications system as defined in claim 1 wherein the SNA node transmits the information in a 3270 data stream.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A computer communications system as defined in claim 1 wherein the communications gateway and the TCP/IP node use the TCP/IP connection to maintain a Telnet connection by which the communications gateway forwards the information to the TCP/IP node.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A computer communications system as defined in claim 3 wherein the SNA node transmits the information in a 3270 data stream.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A communications method comprising: A) transmitting information and SNA pacing requests from an SNA node into an SNA connection maintained by the SNA node; B) receiving the information and SNA pacing requests by way of the SNA connection at a communications gateway, C) forwarding at least some of the received information by employing the communications gateway to transmit bytes over a TCP connection maintained by the communications gateway; D) receiving the forwarded information at a TCP/IP node that maintains the TCP connection with the communications gateway E) employing the TCP/IP node to transmit to the communications gateway over the TCP connection acknowledgement messages that acknowledge transmitted bytes and specify a TCP window size; F) employing the communications gateway to monitor the TCP connection for the acknowledgement messages; G) employing the communications gateway to monitor the SNA connection for request messages that include pacing requests;</claim-text>
      <claim-text>and H) employing the communications gateway to transmit a pacing response over the SNA connection in response to reception of a pacing request from the SNA connection only if forwarding the previously received information would not result in a number of unacknowledged bytes transmitted into the TCP connection that exceeds the specified window size.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A method as defined in claim 5 wherein the step of transmitting the information comprises transmitting the information in a 3270 data stream.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. A method as defined in claim 5 wherein the communications gateway and the TCP/IP node use the TCP/IP connection to maintain a Telnet connection by which the communications gateway forwards the information to the TCP/IP node.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A method as defined in claim 7 wherein the step of transmitting the information comprises transmitting the information in a 3270 data stream.</claim-text>
    </claim>
  </claims>
</questel-patent-document>