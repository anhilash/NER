<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06180910B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06180910</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6180910</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="26803083" extended-family-id="42114685">
      <document-id>
        <country>US</country>
        <doc-number>09351768</doc-number>
        <kind>A</kind>
        <date>19990712</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09351768</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43173380</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>35176899</doc-number>
        <kind>A</kind>
        <date>19990712</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09351768</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>10590798</doc-number>
        <kind>P</kind>
        <date>19981028</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998US-60105907</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>B23K  11/25        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>23</class>
        <subclass>K</subclass>
        <main-group>11</main-group>
        <subgroup>25</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>219086510</text>
        <class>219</class>
        <subclass>086510</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>219101000</text>
        <class>219</class>
        <subclass>101000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>B23K-011/25C4</text>
        <section>B</section>
        <class>23</class>
        <subclass>K</subclass>
        <main-group>011</main-group>
        <subgroup>25C4</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B23K-011/255</classification-symbol>
        <section>B</section>
        <class>23</class>
        <subclass>K</subclass>
        <main-group>11</main-group>
        <subgroup>255</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>13</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>4</number-of-drawing-sheets>
      <number-of-figures>4</number-of-figures>
      <image-key data-format="questel">US6180910</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Force control techniques on a resistance welding machine</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>RENNAU WOLFRAM</text>
          <document-id>
            <country>US</country>
            <doc-number>5652488</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5652488</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>NAKATA SHUJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4408114</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4408114</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>OKABE YOSHIO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4634828</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4634828</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>DESTEFAN DENNIS E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5021625</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5021625</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>BOYER JEAN-NOEL, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5124521</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5124521</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>MOSS LARRY E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5367138</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5367138</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>NISHIWAKI TOSHIHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5436422</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5436422</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>KAWAI SHINGO</text>
          <document-id>
            <country>US</country>
            <doc-number>5440092</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5440092</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>KAWAI SHINGO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5483035</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5483035</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>ISHIKAWA SAKAE</text>
          <document-id>
            <country>US</country>
            <doc-number>5523541</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5523541</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>NAKAJIMA TOSHIHARU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5545872</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5545872</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>SAKAI HIROHISA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5582747</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5582747</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>KAWAGOE TADASHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5587091</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5587091</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>ISHIKAWA SAKAE</text>
          <document-id>
            <country>US</country>
            <doc-number>5591355</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5591355</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <related-publication>
        <document-id>
          <country>US</country>
          <doc-number>60/105,907</doc-number>
          <date>19981028</date>
        </document-id>
        <document-id>
          <country>US</country>
          <doc-number>60/105907</doc-number>
          <date>19981028</date>
        </document-id>
      </related-publication>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Automation International Inc.</orgname>
            <address>
              <address-1>Danville, IL, US</address-1>
              <city>Danville</city>
              <state>IL</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>AUTOMATION INDUSTRIES</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Derby, Jr., William M.</name>
            <address>
              <address-1>Bethlihem, PA, US</address-1>
              <city>Bethlihem</city>
              <state>PA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Banner &amp; Witcoff, Ltd.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Shaw, Clifford C.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      The present invention is an improved welding technique that provides real-time control of the servo valve to account for the changing conditions of the parts being welded.
      <br/>
      The present invention may be implemented within any electrical welder having at least one movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to the movable platen, the hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to the hydraulic cylinder.
      <br/>
      The present invention includes means for making instantaneous pressure measurements within the first and second chambers of the hydraulic cylinder.
      <br/>
      Also included is a force control module that reacts to the pressures within the first and second chambers to control the servo valve.
      <br/>
      The force control module receives the instantaneous pressure information from the first and second chambers of the hydraulic cylinder and determines whether the platen is moving and how far the servo valve is from its target force.
      <br/>
      Based on this information, the proportional and integral contributions of a PI controller within the force control module are adjusted.
      <br/>
      The servo valve may thereby chase the desired force when movement is possible and may scale back the output when the close to the desired force.
      <br/>
      Further, the risk of the servo valve overshooting the desired force may be avoided.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application claims the benefit of U.S. Provisional Application Ser.
      <br/>
      No. 60/105,907 filed on Oct. 28, 1998 for which priority is claimed.
      <br/>
      This provisional application is incorporated herewith by reference in its entirety.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">In general, the present invention relates to welding techniques, and more particularly to techniques for controlling the force on a resistance welding machine.</p>
    <p num="4">2. Statement of Related Art</p>
    <p num="5">
      Resistance welding machines are well known in the art.
      <br/>
      In a resistance welding process, two pieces of material are held by clamps so they are touching or are nearly touching.
      <br/>
      An electric current is then delivered through these pieces.
      <br/>
      The current heats up the interface between the two pieces causing the material to become soft.
      <br/>
      At that point, the machine rapidly brings the two pieces together which forges the weld.
      <br/>
      Flash welds and butt welds are two common types of resistance welding techniques.
    </p>
    <p num="6">
      In certain welding applications, such as railroad rails, it is desirable to have welds forged to a specific force.
      <br/>
      By forging to a specific force instead of a distance, each weld produced will forge to the correct distance according to the amount of heat that is in the part.
      <br/>
      Since the actual amount of heat introduced into the part tends to vary, this forging technique leads to more constant welds.
    </p>
    <p num="7">
      In other welding applications, such as flash welding parts with large cross sections, it is desirable to preheat the parts prior to flashing in order to minimize the amount of material consumed in the flash and to decrease welding time.
      <br/>
      Preheating is generally accomplished by forcing the two pieces together for some time and then separating them.
      <br/>
      When the pieces are in contact, the electrical current will cause the pieces to heat according to their resistance.
      <br/>
      By holding the two pieces together at a constant force, the resistance between the parts can be made more consistent, which allows for the heat produced in the pieces to be controlled more precisely.
    </p>
    <p num="8">
      In other welding applications, such as butt welding, it is desirable to control the force with which the parts are held together.
      <br/>
      The butt weld requires that the two parts be in solid contact with each other.
      <br/>
      When current is delivered through the parts, the interface between the parts heats up due to its electrical resistance.
      <br/>
      It is critical to the welding process that this resistance not be excessive so as to cause overheating of the parts.
      <br/>
      If the parts overheat, there is a risk ejecting material from the joint in the form of sparks.
      <br/>
      These sparks are known as flashing.
      <br/>
      Flashing unevenly removes heat and material from the joint, lowering its quality, or even preventing proper forging.
      <br/>
      In most cases, the parts will have to be scrapped.
      <br/>
      To avoid these undesirable results, butt welding equipment must incorporate a method for controlling the force between the pieces.
      <br/>
      Further this force may be modified during the course of the weld depending on the requirements of the weld.
      <br/>
      It is also important that the force be achieved quickly with minimal overshoot to prevent flashing.
    </p>
    <p num="9">
      In all these welding applications, the welding machine typically utilizes a hydraulic servo valve that controls the movement of one of the parts being welded.
      <br/>
      By varying the flow of oil, the servo valve also applies a force to the movable part.
      <br/>
      By maintaining a constant force as applied by the servo valve, the two pieces are maintained in contact with each other thereby reducing the risk of overheating of the parts at the interface.
    </p>
    <p num="10">
      Resistance welding machinery incorporate various techniques to control the force between the pieces.
      <br/>
      The simplest technique is to use compressed air instead of hydraulic oil.
      <br/>
      This technique has limitations in that it is only suitable for small welding applications due to the relatively low pressure of compressed air.
      <br/>
      Also this technique is generally stable only at a specific pressure which makes it difficult to quickly change pressure to a changing force setpoint.
      <br/>
      Another technique uses a standard Proportional Integral Derivative (PID) -type controller to control the servo valve.
      <br/>
      This technique has limitations in that it responds quickly to a change in force but overshoots the desired target in an oscillatory manner.
      <br/>
      This characteristic overshooting can be minimized at the expense of the quickness of response.
      <br/>
      Other limitations to this technique are that it only uses knowledge of the overall force and a history of previous force.
      <br/>
      This would be sufficient if there were a constant force to be acted upon.
      <br/>
      In resistance welding machinery, the force is being applied to an object whose characteristics are being changed over time due to heating.
      <br/>
      Since the PID control has no knowledge on the changes in the parts, and is tuned for a specific situation, it will not behave optimally in all situations.
    </p>
    <p num="11">It is therefore an object of the present invention to provide an improved welding technique for controlling the force supplied by the servo valve.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="12">
      The present invention is an improved welding technique that provides stable real-time control of the force produced by the servo valve regardless of the changing conditions of the parts being welded.
      <br/>
      The present invention may be implemented within any electrical welder having at least one movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to the movable platen, the hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to the hydraulic cylinder.
      <br/>
      The present invention includes means for making instantaneous pressure measurements within the first and second chambers of the hydraulic cylinder.
      <br/>
      Also included is a force control program that reacts to pressures within the first and second chambers to control the servo valve.
      <br/>
      The force control software receives the instantaneous pressure information from the first and second chambers of the hydraulic cylinder and determines whether the platen is moving and how far the servo valve is from its target force.
      <br/>
      The force control software implements an adaptive proportional/integral (PI) controller.
      <br/>
      Based on the instantaneous pressure information, the force control software adjusts the proportional constant of the PI controller.
    </p>
    <p num="13">
      In accordance with the preferred embodiments, the servo valve may be operated to supply a controlled force to the parts being welded.
      <br/>
      Advantageously, by periodically adjusting the contributions of the proportional portion of the PI controller, the servo valve may chase the desired force when movement is possible and may scale back the output when the close to the desired force.
      <br/>
      Further, this periodic adjusting of the PI controller reduces the risk of the servo valve overshooting the desired force.
    </p>
    <p num="14">These as well as other novel advantages, details, embodiments, features and objects of the present invention will be apparent to those skilled in the art from following the detailed description of the invention, the attached claims and accompanying drawings, listed herein below, which are useful in explaining the invention.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="15">
      In the text which follows and in the drawings, wherein similar reference numerals denote similar elements throughout the several views thereof, the present invention is explained with reference to illustrative embodiments, in which:
      <br/>
      FIG. 1 depicts a conventional welder suitable for use with the present invention;
      <br/>
      FIG. 2 illustrates an exemplary part to be welded as mounted in a conventional platen;
      <br/>
      FIG. 3 is a schematic drawing of the electrical components of a welding machine made in accordance with a preferred embodiment of the present invention; and
      <br/>
      FIG. 4 is a block diagram depicting the procedure for providing control to the servo valve in accordance with a preferred embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="16">For a better understanding of the present invention, reference may be had to the following detailed description taken in conjunction with the appended claims and accompanying drawings.</p>
    <p num="17">
      The present invention may be incorporated within any conventional or future developed welder.
      <br/>
      For example, FIG. 1 depicts a conventional AC welder 50 suitable for use with the present invention.
      <br/>
      Welder 50 comprises a side bar 52, as well as a movable platen 54 and a stationary platen 56 that carry clamps 58 and 59 for holding a part to be welded.
      <br/>
      Movable and stationary platens 54 and 56 are electronically isolated and are coupled to a power supply.
      <br/>
      Welder 50 also includes a platen position sensor 60, a hydraulic cylinder 62 and a transformer 64.
      <br/>
      Referring to FIG. 2, transformer 64 has a primary winding 66 and a secondary winding 68 that are magnetically coupled by a core 70.
      <br/>
      Leads 72 and 74 electrically connect secondary winding 68 with platens 54 and 56, respectively.
      <br/>
      Transformer 64 also includes a tap assembly 76 having a switch 78 that conducts voltage from a AC source to various tap conductors 80 connected to primary winding 66.
      <br/>
      Platens 54 and 56 are adapted to hold a weld part 90 having ends 92 and 94.
      <br/>
      The weld part may form a ring which conducts current, thereby imposing an electrical load on secondary winding 68.
    </p>
    <p num="18">
      FIG. 3 is a schematic drawing of the electrical components of a welding machine made in accordance with a preferred embodiment of the present invention.
      <br/>
      Although not required, the present invention is preferably implemented within a welding system similar to that disclosed in U.S. Pat. No. 5,367,138 entitled "Welding Assurance Control Techniques" and assigned to Automation International, Inc. (hereinafter referred to as "the 138 patent").
      <br/>
      The '138 patent is incorporated herein by reference in its entirety.
      <br/>
      Those skilled in the art will appreciate that the present invention may be implemented within any number of welding systems.
      <br/>
      Referring to FIG. 3, the movement of platen 54 is controlled by a hydraulic assembly 100 having a servo valve 102 that admits hydraulic fluid to a cylinder 62.
      <br/>
      Servo valve 102 is preferably a high-speed bidirectional servo valve.
      <br/>
      Servo valve 102 is provided with relatively constant supply of oil by a pump 107 and optionally an accumulator system (not shown).
      <br/>
      Servo valve 102 controls the flow of oil to and from cylinder 62.
      <br/>
      Cylinder 62 has a first chamber 150 and a second chamber 151 that is separated by a piston 105.
      <br/>
      Piston 105 inside cylinder 62 moves a rod 106 that is mechanically coupled to platen 54.
      <br/>
      Servo valve 102 has coupled, variable openings which connect the first and second chambers 150 and 151 of cylinder 62 with a drain line 152 and a pressure line 153.
    </p>
    <p num="19">
      Hydraulic fluid is supplied to servo valve 102 by a pump 107.
      <br/>
      The pump 107 provides a constant pressure to servo valve 102.
      <br/>
      Typically, the pump provides a pressure in the range of 1000 to 2000 psi.
      <br/>
      The pressure exerted by servo valve 102, however, is initially less than that exerted by the pump 107 due to the finite amount of rise time required to achieve the pressure provided by the pump.
    </p>
    <p num="20">
      System pressure of the hydraulic fluid in first and second chambers 150 and 151 is measured by first and second pressure transducers 108 and 109 respectively.
      <br/>
      Pressure in first chamber 150 allows movable platen 54 to increase the distance between ends 92 and 94 of part 90 and is referred to as the open side.
      <br/>
      Pressure in second chamber 151 allows movable platen 54 to decrease the distance between ends 92 and 94 of part 90 and is referred to as the close side.
    </p>
    <p num="21">
      Hydraulic assembly 100 is preferably controlled by a Digital Signal Processor (DSP) system 190 containing an analog output system having signal amplifiers 110 to produce the required drive voltages.
      <br/>
      DSP system 190 also may also control a phase shift heat control 116 that controls the power conducted to the transformer unit 64 from AC power lines 136.
      <br/>
      DSP system 190 also may contain a force control module 195.
      <br/>
      Force control module 195 is discussed in further detail herein.
    </p>
    <p num="22">
      DSP system 190 also contains an analog input system which includes various input signal conditioning circuits 130 that monitor various characteristics of welder 50.
      <br/>
      Input signal conditioning circuits 130 may include those disclosed in the '138 patent.
      <br/>
      In accordance with a preferred embodiment of the present invention, input signal conditioning circuits 130 monitor the hydraulic pressure within first and second chambers 150 and 151 via first and second transducers 108 and 109.
      <br/>
      Input signal conditioning circuits 130 may also monitor, for example, the primary voltage of AC power line 136, the position of movable platen 54, and/or the voltage across secondary winding 68 of transformer 64.
      <br/>
      For example, in the case of monitoring platen position, a linear potentiometer 60 is mechanically connected to movable platen 54.
      <br/>
      Potentiometer 60 varies its resistance in response to movement of platen 54, thereby providing a position-indicating signal to a platen position.
    </p>
    <p num="23">
      DSP system 190 may be coupled to a user interface computer 120 which provides setup information for the weld and enables the machine operator to view signals being monitored by the custom DSP 190.
      <br/>
      Interface computer 120 preferably comprises an PC/104 compatible microprocessor with a large hard disk 123 for the storage of data.
      <br/>
      A conventional monitor 125 coupled to computer 122 provides a means of communicating messages to an operator.
      <br/>
      The operator can respond to the messages via a keypad 127 coupled to computer 122.
      <br/>
      Interface computer 122 may also include a network interface 126.
    </p>
    <p num="24">
      DSP system 190 preferably has 16 channels of analog inputs which are simultaneously sampled, 6 channels of analog outputs, 64 channels of discreet inputs and 32 channels of discreet outputs.
      <br/>
      The general operation of the welding system of FIG. 3 is discussed in further detail in the '138 patent which is incorporated herein by reference.
    </p>
    <p num="25">
      Force control module 195 receives input from first and second pressure transducers 108 and 109 which measure the respective pressures within first and second chambers 150 and 151 of cylinder 62.
      <br/>
      Force control module 195 includes a proportional-integral (PI) controller 199.
      <br/>
      PI controller 199 is both a proportional controller and an integral controller.
      <br/>
      Accordingly, PI controller 199 includes a proportional term and an integral term.
      <br/>
      As shown below, the relative contribution of the proportional portion and the integral portions of PI controller 199 may be determined by the ratio of the pressure measurements from first and second pressure transducers 108 and 109.
    </p>
    <p num="26">
      The pressure measurements from first and second pressure transducers 108 and 109 serve to detect the force being exerted by cylinder 62.
      <br/>
      This force is compared to the desired force to produce the error in desired force.
      <br/>
      The proportional portion of PI controller 199 serves to correct for error in proportion to the error value.
      <br/>
      The integral portion of PI controller 199 serves to sum the error over a time period and correct for error faster than that by a straight proportional controller.
      <br/>
      PI controller 199 advantageously provides the benefits of both proportional and integral controllers.
      <br/>
      A straight proportional controller may not adjust the force in time to avoid overheating of part 90.
      <br/>
      A straight integral controller, on the other hand, may tend to overcompensate for the error thereby providing too much force to part 90.
    </p>
    <p num="27">
      In accordance with an embodiment of the present invention, force control module 195 controls the force of cylinder 62 by servo valve 102.
      <br/>
      FIG. 4 depicts a block diagram showing the procedure followed by the force control module 195 to provide control information to servo valve 102 in accordance with a preferred embodiment of the present invention.
      <br/>
      The control of force of servo valve 102 is accomplished by modifying the opening provided by servo valve 102 in response to an instantaneous force determination.
      <br/>
      At step 405, the instantaneous force determination is based on pressure measurements made by first and second pressure transducers 108 and 109.
      <br/>
      The instantaneous force determination may be calculated as follows.
      <br/>
      First, the area of piston 105, which is dependent upon the number of cylinders 62, is calculated as follows:
      <br/>
      Areapiston = PI *�Cylinderdiameter /2�2 *Cylinders
    </p>
    <p num="28">
      The area of the open side of the rod 106 (i.e., the side defining first chamber 150) is determined as follows:
      <br/>
      Areaopen = PI *�Rodopen /2�2 *Cylinders
    </p>
    <p num="29">
      The area of the close side of the rod 104 if present (i.e., the side defining second chamber 151) is determined as follows:
      <br/>
      Areaclose = PI *�Rodclose /2�2 *Cylinders
    </p>
    <p num="30">
      The forces on both sides of piston 105 may thereby be determined as follows:
      <br/>
      Forceopen =(Areapiston -Areaopen)*Pressureopen
      <br/>
      Forceclose =(Areapiston -Areaclose)*Pressureclose
    </p>
    <p num="31">
      The effective force converted to tons is as follows:
      <br/>
      Forcetons =(Forceclose -Forceopen)/2000
    </p>
    <p num="32">
      As preferred, force control module 195 performs an instantaneous force determination every 1 millisecond.
      <br/>
      This instantaneous force determination is used by force control module 195 to drive PI controller 199 as discussed herein.
    </p>
    <p num="33">
      Still referring to FIG. 4, at step 410, a determination is made whether piston 105 is moving based on the ratio of the force measurements calculated from first and second pressure transducers 108 and 109.
      <br/>
      When pressure is supplied to second chamber 151 and piston 105 can move freely, the movement of piston 105 will increase the force in first chamber 150 that is being "pushed" to approach the force in second chamber 151 that is doing the pushing.
      <br/>
      If, however, piston 105 encounters resistance to moving (i.e., when ends 92 and 94 are in contact with each other), the force in first chamber 150 that is being pushed drops off in proportion to the amount of resistance encountered.
      <br/>
      At the extreme, when piston 105 cannot move at all, the force in first chamber 150 will drop off to zero.
    </p>
    <p num="34">
      For example, in the case where ends 92 and 94 are not in contact, chamber 150 is exerting little or no force against piston 105.
      <br/>
      Chamber 151 applies pressure to the right side of piston 105, causing piston 105 to shift to the left at a rate determined by the oil flow rate into second chamber 151.
      <br/>
      This is accomplished by opening of pressure line 153 of servo valve 102 to deliver oil from servo valve 102 to second chamber 151.
      <br/>
      At the same time, drain line 152 of servo valve 102 is opened to drain oil from first chamber 150 at the same rate as it is delivered to second chamber.
      <br/>
      This pumping action raises the pressure within first chamber 150 since the oil can only escape at a given flow rate.
      <br/>
      If piston 105 experiences no resistance to movement, the open and close forces, calculated from the pressures in chambers 150 and 151, will become equal.
      <br/>
      The force calculations correct for differences in available piston 105 surface area when the size of the piston rods 106 and 104 are different.
      <br/>
      The ratio of the forces in first and second chambers 150 and 151 is 1:1 or one.
    </p>
    <p num="35">
      In the case where ends 92 and 94 are in contact, piston 105 is pushing against a largely immovable object.
      <br/>
      Since second chamber 151 is not expanding, pressure in second chamber 151 is therefore increased.
      <br/>
      Drain line 152 is opened to drain oil from first chamber 150.
      <br/>
      However, in this case, since piston 105 cannot move, the pressure in first chamber 150 drops off to zero.
      <br/>
      The ratio of the forces in first and second chambers 150 and 151 is therefore 0:1 or zero.
    </p>
    <p num="36">
      Based on the above two scenarios, the ratio or forces in first and second chambers 150 and 151 may vary from 1:1 to 0:1.
      <br/>
      Accordingly, this ratio indicates, in percentage terms, the freedom of movement that the piston is encountering.
      <br/>
      This ratio calculation preferably determines the relative contributions of the proportional component of PI controller 199.
      <br/>
      The contribution of the proportional component is inversely proportional to the ratio of the force measurements calculated from the first and second pressure transducers 108 and 109.
      <br/>
      Accordingly, it is desirable that servo valve 102 aggressively chase the desired force without incurring an overshoot problem of an integral based approach.
    </p>
    <p num="37">
      As such, step 410 makes the following calculation:
      <br/>
      Moving=.vertline.Forceopen /Forceclose.vertline.
    </p>
    <p num="38">
      As stated above, the moving ratio is 1 when piston 105 can freely moves and approaches 0 as movement stops.
      <br/>
      At step 415, the error for the system is calculated as the difference between the target force and the instantaneous force determination:
      <br/>
      Error=Setpoint-Forcetons
    </p>
    <p num="39">Where Setpoint is the desired force in tons (established in step 470).</p>
    <p num="40">
      At step 435 of FIG. 4, the proportional output of PI controller 199 may be generated based on the error in force determined in step 415 and the scaled proportional term (from step 430).
      <br/>
      At step 430, the proportional term is scaled back (from its default value set in step 440) in proportion to the relative force being presented to first and second chambers 150 and 151 and determined in step 410.
      <br/>
      The proportional constant is scaled back by changing Kp based on the Moving variable explained above and shown in the drawings (i.e., Scaled Kp =Moving*Kp).
      <br/>
      Advantageously, force control module 195 aggressively chases the desired force when movement is possible and scales back the output when close to the desired force.
      <br/>
      Force control module 195 advantageously avoids the overshoot problems of a purely integral based approach yet still provides fast response.
    </p>
    <p num="41">
      The integral output of PI controller 199 is determined as follows.
      <br/>
      At step 425, the error in force established in step 415 is added to the integral term of PI controller 199:
      <br/>
      Integrator=Integrator+Error
    </p>
    <p num="42">
      The Integrator is initially zero and is reset whenever there is a Setpoint change.
      <br/>
      At step 445, the integral output is calculated based on the new integral term determined in step 425 and a preset integral constant Ki determined in step 450.
      <br/>
      The integral output can then be generated as:
      <br/>
      Integralterm =Ki *Integrator
    </p>
    <p num="43">
      To prevent large errors from saturating PI controller 199, the integrator output is clipped to +/-100%.
      <br/>
      If this point is reached, the error value is removed.
      <br/>
      Thus:
      <br/>
      if .vertline.Integratorterm.vertline.&gt;100 then Integrator=Integrator-Error
      <br/>
      if Integralterm &gt;100 then Integralterm =100
      <br/>
      if Integralterm &lt;-100 then Integralterm =-100
    </p>
    <p num="44">
      Finally, at step 455, the proportional output and integral output of PI controller 199 are added as follows:
      <br/>
      Control=Proportionalterm +Integralterm.
    </p>
    <p num="45">This Control output is then converted to a voltage and sent to servo valve 102 via analog output conditioning circuits 110.</p>
    <p num="46">
      In accordance with the above techniques, servo valve 102 may be operated to supply a controlled force to the parts being welded.
      <br/>
      Advantageously, force control module 195 adjusts the force applied by the servo valve based on instantaneous pressure measurements of the first and second chambers 150 and 151 of cylinder 62.
      <br/>
      The instantaneous pressure measurements provide information as to whether piston 105 is moving and how far servo valve 102 is from the desired force.
      <br/>
      Based on this information, PI controller 199 provides control information to servo valve 102.
      <br/>
      Advantageously, by periodically adjusting the contribution of the proportional portion of PI controller 199, servo valve 102 may chase the desired force when movement is possible and may scale back the output when the close to the desired force.
      <br/>
      Further, this periodic adjusting of PI controller 199 avoids the risk of servo valve 102 overshooting the desired force.
    </p>
    <p num="47">
      Once the desired force is achieved by servo valve 102, force control module 195 maintains this force.
      <br/>
      As preferred, the contribution of the proportional term decreases when maintaining the force on piston 105.
      <br/>
      This happens since the force is actually developed by the pump 107 that is coupled to the servo valve 102 (typically 1000 to 2000 psi) which stays relatively constant.
      <br/>
      To deliver force by pump 107 requires a finite rise time due to delays from the flow of oil and pressure when servo valve 102 is opened as well a some leakage around piston 105.
      <br/>
      Accordingly, to create a force, PI controller 199 must modulate servo valve 102 such that the desired pressure is achieved.
      <br/>
      Once the desired pressure is achieved, maintaining pressures in first and second chambers 150 and 151 requires relatively minor adjustments to servo valve 102.
      <br/>
      As such, the contribution of the proportional term may be minimal.
      <br/>
      The adjustments required on servo valve 102 can be depicted as follows:
      <br/>
      Proportionalterm =Proportionalconst *Moving*Error
    </p>
    <p num="48">
      The Proportionalconst term is usually called Kp and is a preset constant term.
      <br/>
      As shown in the above equation, when piston 105 is not moving (i.e., Moving=0) or when the target force is reached (i.e., Error=0), the proportional term will be small.
    </p>
    <p num="49">
      In the foregoing specification, the present invention has been described with reference to specific exemplary embodiments thereof.
      <br/>
      Although the invention has been described in terms of a preferred embodiment, those skilled in the art will recognize that various modifications, embodiments or variations of the invention can be practiced within the spirit and scope of the invention as set forth in the appended claims.
      <br/>
      For example, although described in relation to a AC welding applications, the present invention may also be implemented in DC butt applications.
      <br/>
      In another example, the present invention may be implemented in standard flash-butt and other resistance welding applications.
      <br/>
      All such modifications, embodiments or variations of the invention are considered within the sphere, spirit, and scope of the invention.
      <br/>
      The specification and drawings are, therefore, to be regarded in an illustrative rather than restrictive sense.
      <br/>
      Accordingly, it is not intended that the invention be limited except as may be necessary in view of the appended claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>In an electrical welder having a movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to said movable platen, each said hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to said hydraulic cylinder, a method of controlling the force applied by the servo valve:</claim-text>
      <claim-text>(a) measuring pressures within the first and second chambers to generate a first pressure signal and a second pressure signal; (b) determining whether the movable platen is moving based on the first and second pressure signals to generate a moving signal; (c) generating a control signal based on the moving signal;</claim-text>
      <claim-text>and (d) adjusting the force applied by the servo valve in response to the control signal.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1, further comprising the step of determining the error between the actual force and the desired force to generate an error signal and wherein the step of generating a control signal is also based on the error signal.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 1 wherein the step of generating a control signal includes the step of generating a proportional component and an integral component of the control signal.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 3, wherein the step of generating a proportional component and an integral component of the control signal further includes the step of adjusting the proportional component as the moving signal increases.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. In an electrical welder having a movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to said movable platen, each hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to each hydraulic cylinder, an improved apparatus for controlling the force applied by the servo valve: (a) at least one sensor for measuring a first pressure within the first chamber and a second pressure within the second chamber and producing a first pressure signal and a second pressure signal; (b) a controller responsive to the first and second pressure signals to generate control information;</claim-text>
      <claim-text>and (c) an output device from said controller to provide the control information to the servo valve.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The apparatus of claim 5, wherein the at least one sensor is at least one pressure transducer.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The apparatus of claim 5, wherein the controller further comprises a proportional/integral controller.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The apparatus of claim 7, wherein the proportional/integral controller generates control information having a proportional component and an integral component.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The apparatus of claim 5, further comprising analog input conditioning circuits coupled to receive the first and second pressure signals and for conditioning the first and second information signals to provide the controller.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The apparatus of claim 5, further comprising analog output signal amplifiers coupled to receive the control information from the controller and for providing the control information to the servo valve.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The apparatus of claim 5, wherein the controller further comprises a digital signal processor (DSP).</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. In an electrical welder having a movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to said movable platen, each said hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to said hydraulic cylinder, an improved apparatus for controlling the force applied by said servo valve: (a) at least one sensor for measuring a first pressure within said first chamber and a second pressure within said second chamber and producing a first pressure signal and a second pressure signal; (b) a controller coupled receive said first and second pressure signals and provide control information to the servo valve, the control information having a proportional component and an integral component;</claim-text>
      <claim-text>and (c) means for adjusting said proportional and integral components of the control information based on the pressure signals.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. In an electrical welder having a movable platen for carrying a part to be welded, at least one hydraulic cylinder coupled to said movable platen, each said hydraulic cylinder having a first chamber and a second chamber, and a servo valve coupled to said hydraulic cylinder, an improved apparatus for controlling the force applied by said servo valve: (a) means for measuring a first pressure within said first chamber and a second pressure within said second chamber and producing a first pressure signal and a second pressure signal; (b) a control module coupled to receive said first and second pressure signals and providing control information to said servo valve, said control information having a proportional component and an integral component;</claim-text>
      <claim-text>and (c) means for adjusting said proportional and integral components of said control information.</claim-text>
    </claim>
  </claims>
</questel-patent-document>