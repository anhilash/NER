<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181937B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181937</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181937</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="22321972" extended-family-id="69351090">
      <document-id>
        <country>US</country>
        <doc-number>09108398</doc-number>
        <kind>A</kind>
        <date>19980701</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09108398</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>1448536</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>10839898</doc-number>
        <kind>A</kind>
        <date>19980701</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09108398</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04W   8/12        20090101A N20090105RMEP</text>
        <ipc-version-indicator>
          <date>20090101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>12</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20090105</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04W   8/30        20090101A I20090105RMEP</text>
        <ipc-version-indicator>
          <date>20090101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>30</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20090105</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04W  60/00        20090101A N20090105RMEP</text>
        <ipc-version-indicator>
          <date>20090101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>60</main-group>
        <subgroup>00</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20090105</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>455433000</text>
        <class>455</class>
        <subclass>433000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>455436000</text>
        <class>455</class>
        <subclass>436000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>455439000</text>
        <class>455</class>
        <subclass>439000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>455445000</text>
        <class>455</class>
        <subclass>445000</subclass>
      </further-classification>
      <further-classification sequence="4">
        <text>455456100</text>
        <class>455</class>
        <subclass>456100</subclass>
      </further-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04W-008/30</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>30</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04W-008/12</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>12</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04W-060/00</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>60</main-group>
        <subgroup>00</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04W-008/12</classification-symbol>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04W-060/00</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>20</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>2</number-of-drawing-sheets>
      <number-of-figures>2</number-of-figures>
      <image-key data-format="questel">US6181937</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method for avoiding unnecessary signalling in a cellular communications system</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>LANTTO S JOERGEN</text>
          <document-id>
            <country>US</country>
            <doc-number>5867784</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5867784</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>PENTIKAEINEN JUKKA</text>
          <document-id>
            <country>US</country>
            <doc-number>5901353</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5901353</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>ALLEN JOHN DAVID</text>
          <document-id>
            <country>US</country>
            <doc-number>5933590</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5933590</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>TANAKA SHOJI</text>
          <document-id>
            <country>US</country>
            <doc-number>6018573</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6018573</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>DELORY JEAN-MICHEL, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5123111</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5123111</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>KOIVUNEN SEPPO</text>
          <document-id>
            <country>US</country>
            <doc-number>5479481</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5479481</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>MOBERG JOERGEN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5490201</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5490201</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>ALVESALO ANTERO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5561840</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5561840</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>ANTIC NENAD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5561854</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5561854</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>WARSTA MARKUS</text>
          <document-id>
            <country>US</country>
            <doc-number>5713073</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5713073</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>NILSSON SVEN I, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5721918</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5721918</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>ERICSSON TELEFON AB L M</text>
          <document-id>
            <country>WO</country>
            <doc-number>9321715</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9321715</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>NOKIA TELECOMMUNICATIONS OY, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9320524</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9320524</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>NOKIA TELECOMMUNICATIONS OY, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9404006</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9404006</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>NOKIA TELECOMMUNICATIONS OY, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9629838</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9629838</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Standard Search Report for RS 101376 US Completed on Mar. 16, 1999, EPX.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>Gustafsson, Niklas, Mobile Network Overload Performance &amp; Regulation, An Analytical and Simulation Study in CMS 30; Master Thesis, Department of Information Technology at Mid Sweden University (Sundsvall), Jan. 16, 1998, pp. 1-76.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant app-type="applicant" sequence="1">
          <addressbook lang="en">
            <name>JOENSUU ERKKI</name>
          </addressbook>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Joensuu, Erkki</name>
            <address>
              <address-1>FIN-02580 Siuntio, FI</address-1>
              <city>FIN-02580 Siuntio</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Jenkens &amp; Gilchrist, A Professional Corporation</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Hunter, Daniel S.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A method for avoiding unnecessary signalling in a cellular system is disclosed whereby a "VMSC data generation" or similar field of information can be utilized in an HLR queue.
      <br/>
      When the HLR is storing Location Erasure data in the queue, the HLR can also store the most current "VMSC data generation" field together with the Location Erasure data in the queue.
      <br/>
      Prior to sending a Location Erasure message to a VMSC from the HLR's queue, the HLR determines whether the current "VMSC data generation" field is different than the one stored in the queue.
      <br/>
      If so, the HLR can discard the Location Erasure data in the queue, and thus defer from sending the Location Erasure message to that VMSC.
      <br/>
      Alternatively, when the HLR notes a new "VMSC data generation" field, the HLR scans the complete queue and discards all Location Erasure messages associated with an older "VMSC data generation" field than the current one noted by the HLR.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Technical Field of the Invention
    </p>
    <p num="2">The present invention relates in general to the mobile telephony field and, in particular, to a method for avoiding unnecessary signalling in a cellular communications system.</p>
    <p num="3">2. Description of Related Art</p>
    <p num="4">
      In certain cellular communications systems, such as for example, the Personal Digital Cellular (PDC) System in Japan, and the Pan-European Global System for Mobile Communications (GSM), selected information associated with mobile subscribers is stored at a switching node, such as for example, a PDC System's Visited Mobile Services Switching Center (VMSC), or a GSM's visited MSC/Visitor Location Register (MSC/VLR).
      <br/>
      In the GSM, the MSC and VLR are physically integrated but their functions are logically separate.
      <br/>
      A VMSC (or MSC/VLR) is typically responsible for setting up and terminating calls between system users and/or subscribers, and providing switching and location management functions for the subscribers' MSs located within the VMSC's service area.
    </p>
    <p num="5">
      For location management purposes, a VMSC maintains information in a database (typically in an associated Global Location Register or GLR) about all of the mobile subscribers currently located within that VMSC's service area.
      <br/>
      Notably, the same function is performed by a VLR in the GSM.
      <br/>
      Essentially, the VMSC maintains a copy of a portion of the mobile subscriber data stored in the Home Location Register (HLR) for all of the subscribers located within that VMSC's service area.
      <br/>
      As such, both the HLR and VMSC store location information for the subscribers located in that VMSC's service area.
    </p>
    <p num="6">
      In such cellular systems as the PDC System and GSM, a Public Land Mobile Network (PLMN) network portion typically includes several VMSCs (or MSC/VLRs).
      <br/>
      For example, FIG. 1 is a simplified block diagram of an exemplary cellular system 100.
      <br/>
      Notably, FIG. 1 can represent a PDC System, but it can also represent a GSM, Digital-Advanced Mobile Phone System (D-AMPS), or any other similar type of cellular system including an HLR or similarly functioning node.
      <br/>
      Although the cellular system 100 illustrated by FIG. 1 shows only two VMSCs (106, 108), it may be assumed that the system (100) can also include up to several other similarly-arranged VMSCs.
      <br/>
      System 100 also includes a Gateway MSC (GMSC) 102, which functions as a link between a PDC PLMN network and another PLMN, Public Switched Telephone Network (PSTN), and/or Integrated Services Digital Network (ISDN) network.
    </p>
    <p num="7">
      Notably, the radio network coverage areas of the VMSCs (e.g., 106, 108) overlap to a certain extent at their mutual border (e.g., near the border between Location Areas 1 and 2).
      <br/>
      Such an overlap of radio coverage is normal and in accordance with existing cellular system standards.
      <br/>
      However, a significant problem arises due to such radio network coverage overlap between neighboring VMSCs.
    </p>
    <p num="8">
      For example, a VMSC (e.g., 106) can experience a major hardware and/or software failure, and its radio network (e.g., control channel) may be temporarily turned off as a result.
      <br/>
      Additionally, certain failures can affect the VMSC's database so that some or all of the stored mobile subscriber data is lost.
      <br/>
      At the onset of a VMSC failure, all of the MSs powered on in that VMSC's radio network border area (e.g., near the border in Location Area 1) that can "hear" a neighboring VMSC's (e.g., 108) base station transmissions, will attempt to re-register and update their locations with that "live" VMSC (108).
      <br/>
      In a PDC or GSM network, the MSs typically conduct a Location Registration (location updating procedure) with the new VMSC (108).
      <br/>
      Usually, these MS Location Registrations with a new VMSC all occur within a relatively short period of time (e.g., only a few seconds).
    </p>
    <p num="9">
      Nevertheless, there can be tens of thousands of MSs powered on in congested urban areas near the border of the radio network coverage area for the failed VMSC (e.g., thousands of hand-held phones awaiting a page or engaged in a call in the Tokyo metropolitan area).
      <br/>
      Consequently, at the onset of the VMSC's failure (e.g., loss of the control channel), these thousands of MSs can send a location updating request (Location Registration) to a "live" neighboring VMSC (108, etc.) As such, each MS establishes a radio connection with, and then transmits a Location Updating Request message to, the "live" neighboring VMSC.
      <br/>
      Primarily, this message contains information needed to identify the MS's subscriber.
    </p>
    <p num="10">In a PDC system, when the "live" VMSC receives the Location Updating Request message, it checks the Mobile Station Identity (MSI) field in the message to determine whether that MS is registered with that VMSC (i.e., the MS has a record with subscriber data maintained at that VMSC) If the MS is "new" and not registered with that VMSC, then the VMSC initiates a location updating procedure with the HLR (104).</p>
    <p num="11">
      The VMSC (108) invokes the location updating procedure with the HLR (104) for each "new" MS, and sends the MSI and Pursuit Routing Number (PRN) associated with each such MS to the HLR.
      <br/>
      This information is conveyed from the VMSC to the HLR via the CCITT Common Channel Signalling System No. 7 (CC7) network signalling links in the PDC, or from the MSC/VLR to the HLR via the CCITT Signalling System No. 7 (SS7) network signalling links in the GSM.
    </p>
    <p num="12">
      A significant problem related to this location management approach is that since the Location Registration procedure can be invoked between the "live" VMSCs and the HLR for thousands of MSs, the HLR will receive a mass of location registration update messages over the CC7 (SS7) signalling links.
      <br/>
      Under normal conditions, if the original VMSC (106) had been operational, then the HLR would have sent a "Location Erasure" message to that VMSC to erase the old location information stored for the MSs concerned.
      <br/>
      This message is called a "Location Cancellation Message" in the GSM.
      <br/>
      However, since the original VMSC (106) has failed, the signalling connection between it and the HLR is inoperative.
      <br/>
      Consequently, the HLR has to store the Location Erasure information for all of the MSs involved in a queue, and as soon as the operation of the original VMSC (106) and signalling links is restored, send the pending mass of Location Erasure messages over the signalling links to that VMSC.
      <br/>
      Note that a signalling link failure can also occur for a number of reasons other than a VMSC's failure (e.g., a temporary failure of the signalling link itself).
      <br/>
      Consequently, it is necessary to be capable of buffering the Location Erasure messages at least temporarily in the HLR.
    </p>
    <p num="13">
      An existing approach used is to queue the pending Location Erasure messages in a buffer location in the HLR.
      <br/>
      Then, as the "failed" VMSC and signalling links are returned to service (e.g, operation of the original control channel is restored), the HLR transmits the pending Location Erasure messages to that VMSC.
      <br/>
      In response, the VMSC transmits a Location Erasure Acknowledgment message back to the HLR.
      <br/>
      Albeit, this solution is deemed practical and relatively easy to implement for relatively small network applications.
      <br/>
      However, for much larger applications (e.g., a cellular network in a congested metropolitan area such as Tokyo), the existing approach results in a mass of Location Erasure messages and Location Erasure Acknowledgment messages being sent via the (CC7/SS7) signalling network between the HLR and VMSC during a relatively short period of time (if the failed VMSC has lost its mobile subscriber data).
      <br/>
      More importantly, this mass message signalling ties up the VMSC's and signalling network's valuable processing resources, especially when the VMSC needs them the most (i.e., while the VMSC is attempting to recover from its serious failure).
      <br/>
      Nevertheless, as described in detail below, the present invention successfully resolves these and other related problems.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="14">
      In accordance with the present invention, a method and system for avoiding unnecessary mass signalling in a cellular system is provided by utilizing a "VMSC data generation" field or similar field in the HLR queue.
      <br/>
      When the HLR stores Location Erasure data in the queue, the HLR can also store the current "VMSC data generation" field together with the Location Erasure data in the queue.
      <br/>
      In one embodiment of the present invention, prior to sending a Location Erasure message to a VMSC from the HLR's queue, the HLR determines whether the current "VMSC data generation" field is "newer" than the one stored in the queue.
      <br/>
      If so, the HLR can discard the Location Erasure data in the queue, and thus defer from sending the Location Erasure message to that VMSC.
      <br/>
      In another embodiment, when the HLR notes a new "VMSC data generation" field, the HLR scans the complete queue and discards all Location Erasure messages associated with an older "VMSC data generation" field than the current one noted by the HLR.
    </p>
    <p num="15">An important technical advantage of the present invention is that unnecessary mass signalling between an HLR and VMSC (or MSC/VLR) can be avoided.</p>
    <p num="16">Another important technical advantage of the present invention is that the use of valuable VMSC (or MSC/VLR) resources can be minimized, especially while the VMSC is recovering from a serious failure.</p>
    <p num="17">Yet another important technical advantage of the present invention is that the use of valuable signalling network resources between an HLR and VMSC (or MSC/VLR) can be minimized, especially while the VMSC is recovering from a serious failure.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="18">
      A more complete understanding of the method and apparatus of the present invention may be had by reference to the following detailed description when taken in conjunction with the accompanying drawings wherein:
      <br/>
      FIG. 1 is a simplified block diagram of an exemplary cellular system; and
      <br/>
      FIG. 2 is a flow diagram of an exemplary method that can be used to implement a preferred embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE DRAWINGS</heading>
    <p num="19">The preferred embodiment of the present invention and its advantages are best understood by referring to FIGS. 1-2 of the drawings, like numerals being used for like and corresponding parts of the various drawings.</p>
    <p num="20">
      Essentially, a method and system for use in avoiding unnecessary mass signalling to and from an HLR in a cellular system are provided by utilizing a "VMSC data generation" field or similar field in the HLR queue.
      <br/>
      When the HLR is storing Location Erasure data for MSs in the queue, the HLR can also store a "VMSC data generation" field together with the Location Erasure data in the queue.
      <br/>
      In one embodiment of the present invention, prior to sending a Location Erasure message for an MS to a VMSC from the HLR's queue, the HLR determines whether the current "VMSC data generation" field is newer than the one stored in the queue.
      <br/>
      If so, the HLR can discard the Location Erasure data in the queue, and thus defer from sending that Location Erasure message for that MS to the VMSC.
      <br/>
      In another embodiment, when the HLR notes a new "VMSC data generation" field, the HLR scans the complete queue and discards all Location Erasure messages associated with an older "VMSC data generation" field than the current one noted by the HLR.
    </p>
    <p num="21">
      Specifically, FIG. 2 is a flow diagram that illustrates an exemplary method (200) that can be used for avoiding unnecessary mass signalling in a cellular communications system, in accordance with a preferred embodiment of the present invention.
      <br/>
      For example, the method 200 shown in FIG. 2 can be implemented in the PDC system 100 shown in FIG. 1, or any other appropriate cellular system utilizing an HLR, VMSC and/or similarly functioning network nodes.
    </p>
    <p num="22">
      At step 202 of the exemplary method, a VMSC data generation field can be generated for each location update request made for an MS from a VMSC (e.g., 106) to the HLR 104.
      <br/>
      For example, if an MS (e.g., MS 110) moves from one cell to another (e.g., a cell in location area 2 to a cell in location area 1), the "new" VMSC 106 transmits a location updating request message to inform the HLR 104.
      <br/>
      In return, the HLR 104 informs the "old" VMSC 108 of the change with a location erasure message.
      <br/>
      As such, at step 204, a VMSC data generation field can be generated for each such MS location update request made from the VMSC 106 to the HLR 104.
      <br/>
      The VMSC data generation field can contain, for example, explicit or implicit VMSC identity information.
      <br/>
      The VMSC identity information may be, for example, the E.164 address of the VMSC involved (i.e., phone number, or Global Title as used for CC7 SCCP addressing).
    </p>
    <p num="23">
      A VMSC data generation field can be generated in a number of ways.
      <br/>
      For example, the VMSC data generation field can be conveyed from the VMSC 106 to the HLR 104 by embedding pertinent information about the MS involved in a field in the Location Registration or Restoration message to be sent to the HLR.
      <br/>
      In the PDC, such a VMSC data generation updating request from a VMSC to an HLR can be conveyed in a CC7 Mobile Application Part/Transaction Capabilities Application Part (MAP/TCAP) Location Registration message, or in a Restoration message (likewise, in the GSM, in a Location Updating message or a Reset message).
      <br/>
      As such, the "VMSC data generation" information can be a field of arbitrarily selected data that represents the current status of the MS or subscriber involved at the time of the location update request (preferably in addition to a field containing explicit or implicit VMSC ID information).
      <br/>
      The data in this status field thus changes whenever the location status information is to be changed in the HLR for the MS or subscriber involved.
      <br/>
      Alternatively, in a PDC system, the VMSC data generation field associated with a MS or subscriber can be conveyed to the HLR in a CC7 MAP/TCAP message (or MAP/D message in the GSM) separate from a location updating request message.
      <br/>
      For example, a VMSC data generation field for an MS (or plurality of MSs) can be conveyed from a VMSC (106) to an HLR (104) on a regular or predetermined basis, or as often as required by a network operator.
      <br/>
      As another alternative, a VMSC data generation field for an MS (or plurality of MSs) can be generated by an HLR (104) whenever a location updating request message is received from a VMSC.
      <br/>
      The data included in the field can be a randomly generated number or predetermined number that represents the most current location status of the MS or subscriber (e.g., at the time a location updating request was made by a VMSC).
    </p>
    <p num="24">
      At step 206, the HLR 104 stores each new (most current) VMSC data generation field for an MS (or subscriber) in a local buffer (queue) area, along with Location Erasure information to be sent to the "old" VMSC 106 for that MS.
      <br/>
      Consequently, the HLR 104 can maintain a most current location status for each MS (or subscriber) with respect to each VMSC (or visited MSC/VLR) (e.g., 106) involved.
      <br/>
      Notably, in a PDC network, the HLR (e.g., 104) includes a "VMSC file" that contains one data record for each network VMSC.
      <br/>
      Each data record can contain, for example, the E.164 address for a respective VMSC, in addition to information about the number of subscribers (MSs) that have made a location registration from that VMSC.
      <br/>
      The VMSC data generation field for a VMSC can be stored in the HLR, for example, in the "VMSC file" for that VMSC.
    </p>
    <p num="25">
      In the preferred embodiment, at the onset of a restart of the failed VMSC 106 (step 208), the VMSC is first restored to a previously saved state.
      <br/>
      At step 210, the VMSC 106 then sends a MAP/TCAP (or MAP/D) "reset" message to each HLR (e.g., 104) that the VMSC 106 still carries for any subscriber in its records.
      <br/>
      Again, the basic function of the VMSC data generation field is to enable the HLR to keep track of the most current location update request for MSs from a VMSC.
      <br/>
      Consequently, if a VMSC fails, the HLR can compare the VMSC data generation field information for all MSs stored prior to a failure, with the VMSC data generation field generated subsequent to the VMSC being restored.
      <br/>
      If the comparison shows that the present VMSC data generation field for the MSs is different than the VMSC data generation field stored in the queue (e.g., in the "VMSC file"), the MS location information stored in the queue is considered new for that VMSC, and there is no need to transmit a Location Erasure message to the VMSC 106 for that MS (step 216).
      <br/>
      Otherwise, if the data in the two VMSC data generation fields matches, then a Location Erasure message can be sent to the VMSC for that MS (step 218).
    </p>
    <p num="26">Alternatively, when a new VMSC data generation field is noted by the HLR 104, the HLR can scan the complete queue and discard all associated Location Erasure messages deemed "older" than the most recent Location Erasure message stored in the HLR.</p>
    <p num="27">
      In summary, in accordance with the present invention, while awaiting restoration of a failed VMSC (or visited MSC/VLR), an HLR can discard all "old" Location Erasure messages in its queue that need not be conveyed to the VMSC once restored.
      <br/>
      Consequently, the present invention significantly reduces unnecessary mass signalling on the CC7/SS7 network links between the HLR and VMSC, which preserves valuable HLR, VMSC and signalling resources at the time when the VMSC needs them the most (i.e., while attempting to recover from a serious failure).
    </p>
    <p num="28">Although a preferred embodiment of the method and apparatus of the present invention has been illustrated in the accompanying Drawings and described in the foregoing Detailed Description, it will be understood that the invention is not limited to the embodiment disclosed, but is capable of numerous rearrangements, modifications and substitutions without departing from the spirit of the invention as set forth and defined by the following claims.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method for avoiding unnecessary signalling between a VMSC and HLR in a cellular communications system, comprising the steps of:</claim-text>
      <claim-text>generating a first data field associated with a first location update for a mobile station; storing said first data field in said HLR; associating said first data field with location erasure information for said mobile station; generating a second data field associated with a second location update for said mobile station; comparing said first data field with said second data field;</claim-text>
      <claim-text>and if said second data field is different than said first data field, said HLR erasing said location erasure information for said VMSC because no change to a VMSC data field is necessary.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1, wherein said first data field comprises a VMSC data generation field.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 1, wherein said VMSC generates said first data field.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 1, wherein said HLR generates said first data field.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The method of claim 1, wherein said VMSC comprises a visited MSC/VLR.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 1, wherein said first data field includes randomly selected information.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 1, wherein said first data field includes predetermined information.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 1, wherein said first data field is conveyed from said VMSC to said HLR in a MAP/TCAP message.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 1, wherein said first data field is conveyed from said VMSC to said HLR in a location updating request message.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A system for use in avoiding unnecessary signalling in a cellular communications system, comprising: a home location register; a plurality of mobile stations;</claim-text>
      <claim-text>and a visited mobile services switching center coupled by a signalling network to said home location register, said visited mobile services switching center including:</claim-text>
      <claim-text>- means for generating a first data field associated with a first location update for at least one of said plurality of mobile stations;</claim-text>
      <claim-text>and - said home location register comprising: means for storing said first data field in said home location register; - means for associating said first data field with location erasure information for said at least one of said plurality of mobile stations; - means for receiving a second data field from said visited mobile services switching center, said second data field associated with a second location update for said at least one of said plurality of mobile stations; - means for comparing said first data field with said second data field;</claim-text>
      <claim-text>and - if said second data field is different than said first data field, said home location register including means for erasing said location erasure information for said visited mobile services switching center.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The system of claim 10, wherein said first data field comprises a visited mobile services switching center data generation field.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The system of claim 10, wherein said visited mobile services switching center generates said first data field.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The system of claim 10, wherein said home location register generates said first data field.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The system of claim 10, wherein said visited mobile services switching center comprises a visited MSC/VLR.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The system of claim 10, wherein said first data field includes randomly selected information.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The system of claim 10, wherein said first data field includes predetermined information.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The system of claim 10, wherein said first data field is conveyed from said visited mobile services switching center to said home location register in a MAP/TCAP message.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The system of claim 10, wherein said first data field is conveyed from said visited mobile services switching center to said home location register in a location updating request message.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. The system of claim 10, wherein said first data field is conveyed from said visited mobile services switching center to said home location register associated with a restoration message.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. The system of claim 10, wherein said first data field is conveyed from said visited mobile services switching center to said home location register in a reset message.</claim-text>
    </claim>
  </claims>
</questel-patent-document>