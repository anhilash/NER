<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185500B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185500</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185500</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="7844778" extended-family-id="13393432">
      <document-id>
        <country>US</country>
        <doc-number>09319041</doc-number>
        <kind>A</kind>
        <date>19990601</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09319041</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>13677160</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>DE</country>
        <doc-number>19744163</doc-number>
        <kind>A</kind>
        <date>19971007</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997DE-1044163</doc-number>
      </priority-claim>
      <priority-claim kind="international" sequence="2">
        <country>WO</country>
        <doc-number>DE9801839</doc-number>
        <kind>A</kind>
        <date>19980703</date>
        <priority-linkage-type>W</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998WO-DE01839</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>F02P  17/12        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>F</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>17</main-group>
        <subgroup>12</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>701111000</text>
        <class>701</class>
        <subclass>111000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>073114080</text>
        <class>073</class>
        <subclass>114080</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>701115000</text>
        <class>701</class>
        <subclass>115000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>F02P-017/12</text>
        <section>F</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>17</main-group>
        <subgroup>12</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>F02P-017/12</classification-symbol>
        <section>F</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>17</main-group>
        <subgroup>12</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>18</number-of-claims>
    <exemplary-claim>3</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>6</number-of-drawing-sheets>
      <number-of-figures>6</number-of-figures>
      <image-key data-format="questel">US6185500</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method and device for determining the ion flow in internal combustion engines</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>IWAKIRI YASUNORI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5206809</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5206809</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>OHSAWA TOSHIO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5230240</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5230240</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>FUKUI WATARU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5337716</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5337716</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>RIZZONI GIORGIO</text>
          <document-id>
            <country>US</country>
            <doc-number>5687082</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5687082</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>HALLER JAMES MICHAEL</text>
          <document-id>
            <country>US</country>
            <doc-number>5775298</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5775298</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>KEMMLER ROLAND, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5904127</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5904127</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>DE</country>
            <doc-number>3128027</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE3128027</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Robert Bosch GmbH</orgname>
            <address>
              <address-1>Stuttgart, DE</address-1>
              <city>Stuttgart</city>
              <country>DE</country>
            </address>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>ROBERT BOSCH</orgname>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Ketterer, Markus</name>
            <address>
              <address-1>Stuttgart, DE</address-1>
              <city>Stuttgart</city>
              <country>DE</country>
            </address>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Günther, Achim</name>
            <address>
              <address-1>Stuttgart, DE</address-1>
              <city>Stuttgart</city>
              <country>DE</country>
            </address>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Niessner, Udo</name>
            <address>
              <address-1>Ingersheim, DE</address-1>
              <city>Ingersheim</city>
              <country>DE</country>
            </address>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Förster, Jürgen</name>
            <address>
              <address-1>Chemnitz, DE</address-1>
              <city>Chemnitz</city>
              <country>DE</country>
            </address>
          </addressbook>
          <nationality>
            <country>DE</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Ottesen, Walter</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Wolfe, Willis R.</name>
      </primary-examiner>
    </examiners>
    <pct-or-regional-filing-data>
      <document-id>
        <country>WO</country>
        <doc-number>DE9801839</doc-number>
        <date>19980703</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998WO-DE01839</doc-number>
      </document-id>
    </pct-or-regional-filing-data>
    <pct-or-regional-publishing-data>
      <document-id>
        <country>WO</country>
        <doc-number>9918350</doc-number>
        <kind>A1</kind>
        <date>19990415</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>WO9918350</doc-number>
      </document-id>
    </pct-or-regional-publishing-data>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A method for processing the ion flow signals of internal combustion engines by offset correction, masking and multiplexing for engine control functions wherein, after the measurement of the ion flow signal in each cylinder for the purpose of offset correction in advance of each ignition operation, the level of the measurement signal of the cylinder is detected; during masking operation, the measurement signal is substituted in a second signal by the level value and is subtracted from the second signal until the next ignition operation and thereafter, the channels which are to be multiplexed, are combined to a third signal by the addition of the second signals of the particular cylinders, the second signal being derived from the measurement signal.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>FIELD OF THE INVENTION</heading>
    <p num="1">
      An ionization of the participating gases takes place because of chemical and physical processes during combustion.
      <br/>
      A current can be measured when a voltage is applied to two electrodes which project into the gas and are insulated from each other.
      <br/>
      This is characterized in the following as an ion flow.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      This phenomenon can also be observed in internal combustion engines such as in spark-ignition engines.
      <br/>
      For some time, it has been attempted to utilize the ion flow for various engine control and diagnostic functions such as for knock detection, misfire detection, phase detection, estimation of combustion pressure or the position of the pressure maximum, determination of the mixture composition and for detection of the lean running limit.
    </p>
    <p num="3">
      The spark plug is usually used as a measuring probe.
      <br/>
      After applying a voltage across the center electrode and ground, the ion flow can be measured after the decay of the ignition spark.
    </p>
    <p num="4">
      With respect to the above, the following problems occur: a current offset occurs because of the shunt resistances outside and within the spark plug (for example, contamination of the spark plug insulator).
      <br/>
      This current offset interferes with an exact detection of the ion flow generated by the combustion and this offset is to be eliminated.
    </p>
    <p num="5">
      No ion flow measurement is possible during the burning duration of the ignition spark.
      <br/>
      A masking can lead to signal jumps in the ion flow measurement signal which, for example, leads to erroneous detections in a subsequent knock detection.
      <br/>
      The ignition process should be masked without disturbing the measurement signal.
    </p>
    <p num="6">
      Methods and components realized in analog technology, such as short-term integrators, or methods and components realized in digital technology are applied to evaluate the ion flow.
      <br/>
      It is conventional to switch the measurement signals of several cylinders sequentially to these resources in order to save cost (multiplexing).
      <br/>
      The multiplexing has to be executed without crosstalk between the cylinder channels.
      <br/>
      Furthermore, it is to be prevented that the now shorter signal segments, which are specific to a cylinder, lead to a reduction in quality when making the offset correction.
      <br/>
      The improvement of the reliability and the robustness of engine control functions and diagnostic functions is achieved by utilizing these signals with improved signal to noise ratio for the feature formation.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="7">The object of the invention comprises providing a method which solves the above problems.</p>
    <p num="8">
      The invention is for a method and an arrangement for processing the ion flow signal of an internal combustion engine by offset correction, masking and multiplexing for engine control functions.
      <br/>
      An embodiment of the method of the invention includes the steps of: measuring the ion flow signal in each cylinder during an ignition operation to provide a measuring signal; then detecting the level value of the measurement signal of the cylinder for the purpose of offset correction; deriving a second signal from the measurement signal; during the masking, substituting the measurement signal in the second signal by the level value and subtracting the measurement signal from the second signal until the next ignition operation; and, then combining the channels to be multiplexed into a third signal by adding the second signals of the cylinders.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="9">
      The method of the invention and the arrangement of the invention for detecting the ion flow in internal combustion engines is explained hereinafter with respect to an embodiment with reference being made to FIGS. 1 to 6.
      <br/>
      The relationship of the method and the arrangement to the technical background is made clear in FIG. 1 in the form of a block diagram. Specific configurations of the essential signal processing blocks are explained in greater detail in FIGS. 2 to 4 while including signal examples.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS OF THE INVENTION</heading>
    <p num="10">
      The complete signal processing chain is shown in detail in FIG. 1.
      <br/>
      The combustion process 2 is at the start of this chain and is initiated by the ignition 1.
      <br/>
      An ionization takes place in the combustion chamber for a proper mixture combustion.
      <br/>
      The means 3 functions to generate and measure an ion flow signal s1 which permits conclusions to be drawn as to the ionization process during the mixture combustion.
      <br/>
      Means 4 follows means 3 and the masking according to the invention and the offset correction of the ion flow signal takes place in means 4.
      <br/>
      The ion flow signals s2 from different cylinders are advantageously combined to a summation signal s3 with the aid of a multiplexing unit 5.
      <br/>
      The conditioning of the signal s3 in accordance with the invention makes possible the use of the same in addition to misfire detection also for further applications 9 such as knock detection.
    </p>
    <p num="11">
      A computer supported further processing is advantageous for the signal evaluation.
      <br/>
      A unit 6 can be used for the conversion of the time-continuous and value-continuous ion flow signal s3 into a digital signal sequence s4.
      <br/>
      The unit 6 includes an antialiasing filter 6.1 and an analog/digital converter 6.2. From the digital signal sequence s4, a feature former 7 extracts feature vectors s5 which are specific to a cylinder.
      <br/>
      The detection of the combustion misfires takes place in the downstream classifier 8 on the basis of these feature vectors s5.
      <br/>
      A control unit 10 is needed for the time-dependent drive of the ignition 1 as well as for the time-dependent drive of the means 4 of the invention for offset correction and masking.
    </p>
    <p num="12">
      FIG. 2 shows the method of the invention for the offset value correction and for the ignition spark masking of the ion flow signal s1 generated with the aid of means 3.
      <br/>
      For this purpose, the signal s1c is generated in a first step from the signal si in such a manner that the signal s1 is passed through within a defined measurement window region and is converted to a constant substitute value s1b outside of this measurement window region.
      <br/>
      Especially, the portion of the ignition spark in the ion flow si is substituted with this substitute value s1b.
      <br/>
      The substitute value s1b should then correspond in order of magnitude to the residual offset of the ion flow signal s1.
      <br/>
      For this purpose, the substitute value s1b is determined for each cycle individually shortly before the ignition process by means of a scan hold circuit 4.2. Advantageously, the ion flow signal s1 is not directly accessed for the determination of the holding value s1b; instead, access is made to a disturbance corrected signal s1a.
      <br/>
      The disturbance correction of the signal s1 can, for example, take place with an adapted filter 4.1. The output signal s2 finally results by subtraction of the substitute value s1b from the ancillary signal s1c.
      <br/>
      This output signal s2 is characterized in that it is without discontinuity and is corrected of ignition influences as well as of a current offset caused by shunts.
    </p>
    <p num="13">
      In FIG. 3, the downstream signal multiplexing 5 is shown.
      <br/>
      Because of the special characteristic of the cylinder-individual signals of the type of s2, the signals of several cylinders can be combined to a common signal s3 in the form of a time-dependent multiplexing.
      <br/>
      A mutual influencing of the multiplexed signals is precluded because of the measurement window substitution provided in 4.
      <br/>
      In this way, the resource complexity for the signal transmission and the subsequent digitalization is greatly reduced.
    </p>
    <p num="14">
      A filter 6.1 can be switched into the signal path forward of the analog-to-digital converter 6.2 in an advantageous manner.
      <br/>
      By a corresponding configuration of this filter, the possibility is present that signal s3 can be adapted especially to low scanning rates.
      <br/>
      A discrete signal sequence s4 is available at the output of the analog-to-digital converter 6.2.
    </p>
    <p num="15">
      With the aid of the feature former 7, feature vectors s5 individual to each cylinder are formed from the signal s4.
      <br/>
      In FIG. 4, a possible realization of the feature former is shown as an example.
    </p>
    <p num="16">
      First, the continuous data current s4 are split into components individual to the cylinders with the aid of means 7.1. In a very simple embodiment, a two-dimensional feature vector can be formed for each cylinder-individual combustion cycle.
      <br/>
      This two-dimensional feature vector comprises the ion flow maximum value and the short-time integral over the ion flow measurement window.
      <br/>
      A downstream classifier 8 can distinguish regular combustions from combustion misfires based on the feature vectors s5 by a comparison to correspondingly computed threshold values.
    </p>
    <p num="17">Based on the method shown above, an alternative method can be used which is explained in greater detail with respect to FIGS. 5 and 6.</p>
    <p num="18">This alternative method replaces the means 3, 4, 5 and 10 described in FIG. 1 and uses the signal from the combustion process 2 and supplies a signal s8.3 which is processed in accordance with the invention in the same manner as signal s3.</p>
    <p num="19">
      In the first step according to the invention, an ion flow is selected in the selector unit 8.1 from several ion flows from different cylinders in an advantageous manner.
      <br/>
      This ion flow signal is measured with means 8.2 before it is subjected in means 8.3 to the offset correction of the invention and the masking of the ignition spark.
      <br/>
      The masking of the ignition spark and the offset correction are shown in FIG. 6.
    </p>
    <p num="20">
      Before means 8.1 changes the selection of the ion flows, a switchover to a constant value is made with means 8.3.5. This constant value is fixed previously in accordance with the invention and does not permit a discontinuity in the signal s8.3. During this masking, a new offset value is first formed with the means 8.3.1 and 8.3.2. This new offset value is subtracted from the original signal from means 8.2 via means 8.3.4. The determination of the offset value is completed in accordance with the invention before the ignition spark can be seen in the ion flow signal.
      <br/>
      The disturbance correction of the signal from the combustion process 2 can, for example, take place with an adapted filter 8.3.1. If thereafter, the influence of the ignition spark on the ion flow signal is at an end, then there is a switchback with means 8.3.5 to the output of the means 8.3.4. The determined value from means 8.3.1 is held in the scan hold circuit 8.3.2 until the next switchover of means 8.3.5 and 8.1 so that an offset-corrected and disturbance-corrected signal s8.3 is present after means 8.3.5 for further processing in means 6.
      <br/>
      A control unit 8.4 is necessary for the time-dependent control of the means 1, 8.1, 8.2 and 8.3.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3.</claim-text>
      <claim-text>A method for processing the ion flow signal of an internal combustion engine by offset correction, masking and multiplexing for engine control functions, the method comprising the steps of: measuring the ion flow signal in each cylinder during an ignition operation to provide a measuring signal; then detecting the level value of the measurement signal of the cylinder for the purpose of offset correction; deriving a second signal from said measurement signal; during said masking, substituting said measurement signal in said second signal by said level value and subtracting said measurement signal from said second signal until the next ignition operation;</claim-text>
      <claim-text>and, then combining the channels to be multiplexed into a third signal by adding the second signals of said cylinders.</claim-text>
      <claim-text>1. A method of processing an ion flow signal of an internal combustion engine, the method comprising the steps of:</claim-text>
      <claim-text>selecting a cylinder of said engine for ion flow measurement and forming an ion flow signal; forming an offset value for said cylinder and subtracting said offset value from said ion flow signal; masking the ignition spark and masking the switchover of the cylinder which took place previously for making an ion flow measurement and an offset correction with a previously fixed constant value;</claim-text>
      <claim-text>and, processing this signal as a third signal.</claim-text>
      <claim-text>2. An arrangement for processing an ion flow signal of an internal combustion engine, the arrangement comprising: means for selecting a cylinder of said engine for ion flow measurement and forming an ion flow signal; means for forming an offset value for said cylinder and subtracting said offset value from said ion flow signal;</claim-text>
      <claim-text>and, means for masking the ignition spark and masking the switchover of the cylinder which took place previously for making an ion flow measurement and an offset correction with a previously fixed constant value.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 3, wherein the signal, which is so prepared, is further processed by a method for knock detection.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The method of claim 3, wherein the detected level values, which characterize the offset current, make possible a diagnosis of the ignition system and of the condition of the spark plug (spark plug contamination) by a comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 3, wherein a first feature arises from short-term integration of the third signal within a measurement window assigned to the individual cylinders and this first feature makes a misfire detection possible by comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 3, wherein the third signal is subjected to a lowpass filtering and analog-to-digital conversion and is used in a suitable microcomputer as the basis of further engine control functions.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 3, wherein the misfire detection is carried out in accordance with the digitalization in the microcomputer.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 3, wherein a second feature arises from a maximum value evaluation of the third signal within the measurement windows assigned to the individual cylinders;</claim-text>
      <claim-text>and, the second feature makes a misfire detection possible via a comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The method of claim 9, wherein both features are used in a two-dimensional feature space to detect misfires.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. An arrangement for processing the ion flow signal of an internal combustion engine by offset correction, masking and multiplexing for engine control functions, the arrangement comprising: measuring means for measuring the ion flow signal in each cylinder during an ignition operation to provide a measuring signal; detecting means for detecting the level value of the measurement signal of the cylinder for the purpose of offset correction; means for deriving a second signal from said measurement signal; means for substituting said measurement signal in said second signal by said level value and subtracting said measurement signal from said second signal until the next ignition operation;</claim-text>
      <claim-text>and, means for combining the channels to be multiplexed into a third signal by adding the second signals of said cylinders.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The arrangement of claim 11, wherein the signal, which is so prepared, is further processed by a method for knock detection.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The arrangement of claim 11, wherein the detected level values, which characterize the offset current, make possible a diagnosis of the ignition system and of the condition of the spark plug (spark plug contamination) by a comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The arrangement of claim 11, wherein a first feature arises from short-term integration of the third signal within a measurement window assigned to the individual cylinders and this first feature makes a misfire detection possible by comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The arrangement of claim 11, wherein the third signal is subjected to a lowpass filtering and analog-to-digital conversion and is used in a suitable microcomputer as the basis of further engine control functions.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The arrangement of claim 11, wherein the misfire detection is carried out in accordance with the digitalization in the microcomputer.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The arrangement of claim 11, wherein a second feature arises from a maximum value evaluation of the third signal within the measurement windows assigned to the individual cylinders;</claim-text>
      <claim-text>and, the second feature makes a misfire detection possible via a comparison to fixed or operating-state dependent threshold values.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The arrangement of claim 17, wherein both features are used in a two-dimensional feature space to detect misfires.</claim-text>
    </claim>
  </claims>
</questel-patent-document>