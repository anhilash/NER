<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181997B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181997</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181997</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="23084291" extended-family-id="13608214">
      <document-id>
        <country>US</country>
        <doc-number>09283055</doc-number>
        <kind>A</kind>
        <date>19990401</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09283055</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>13901203</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>28305599</doc-number>
        <kind>A</kind>
        <date>19990401</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09283055</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G06F   7/00        20060101A I20051110RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051110</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G06F  17/00        20060101A I20051110RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>17</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051110</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G06F  19/00        20060101A I20051110RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>19</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051110</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>B60G  17/015       20060101A I20051110RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>17</main-group>
        <subgroup>015</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051110</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>701037000</text>
        <class>701</class>
        <subclass>037000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>280005512</text>
        <class>280</class>
        <subclass>005512</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>280005515</text>
        <class>280</class>
        <subclass>005515</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>701072000</text>
        <class>701</class>
        <subclass>072000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>B60G-017/015</text>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>17</main-group>
        <subgroup>015</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-017/015</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>17</main-group>
        <subgroup>015</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2400/202</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2400</main-group>
        <subgroup>202</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2400/252</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2400</main-group>
        <subgroup>252</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2500/10</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2500</main-group>
        <subgroup>10</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2600/14</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2600</main-group>
        <subgroup>14</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2600/181</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2600</main-group>
        <subgroup>181</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2800/215</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2800</main-group>
        <subgroup>215</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60G-2800/93</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>G</subclass>
        <main-group>2800</main-group>
        <subgroup>93</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-400/202</classification-symbol>
      </patent-classification>
      <patent-classification sequence="10">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-400/252</classification-symbol>
      </patent-classification>
      <patent-classification sequence="11">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-500/10</classification-symbol>
      </patent-classification>
      <patent-classification sequence="12">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-600/14</classification-symbol>
      </patent-classification>
      <patent-classification sequence="13">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-600/181</classification-symbol>
      </patent-classification>
      <patent-classification sequence="14">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-800/215</classification-symbol>
      </patent-classification>
      <patent-classification sequence="15">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L60G-800/930</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>4</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>6</number-of-drawing-sheets>
      <number-of-figures>9</number-of-figures>
      <image-key data-format="questel">US6181997</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Vehicle suspension control with compensation for yaw correcting active brake control</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>FURUYA KUNITAKA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4616846</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4616846</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>HANSON REED D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5024460</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5024460</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>MAJEED KAMAL N</text>
          <document-id>
            <country>US</country>
            <doc-number>5062657</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5062657</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>MAJEED KAMAL N</text>
          <document-id>
            <country>US</country>
            <doc-number>5071157</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5071157</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>FULKS GARY C</text>
          <document-id>
            <country>US</country>
            <doc-number>5255191</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5255191</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>TOWNEND RICHARD</text>
          <document-id>
            <country>US</country>
            <doc-number>5475593</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5475593</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>DANEK MAGNUS</text>
          <document-id>
            <country>US</country>
            <doc-number>5584498</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5584498</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>SHAL DAVID A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5606503</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5606503</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>HU HONG XING, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5720533</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5720533</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="10">
          <text>LIN WILLIAM CHIN-WOEI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5746486</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5746486</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="11">
          <text>ALCONE JERRY M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6032770</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6032770</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>HROVAT DAVORIN D</text>
          <document-id>
            <country>US</country>
            <doc-number>5517414</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5517414</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>MAZDA MOTOR</text>
          <document-id>
            <country>EP</country>
            <doc-number>0417792</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-417792</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>CADILLAC GAGE TEXTRON</text>
          <document-id>
            <country>EP</country>
            <doc-number>0607516</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-607516</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>GEN MOTORS CORP</text>
          <document-id>
            <country>EP</country>
            <doc-number>0734890</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-734890</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>TOYOTA MOTOR CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H05169957</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP05169957</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>TOKAI CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H05309063</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP05309063</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>UNISIA JECS CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H1120444</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP11020444</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Delphi Technologies, Inc.</orgname>
            <address>
              <address-1>Troy, MI, US</address-1>
              <city>Troy</city>
              <state>MI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>DELPHI TECHNOLOGIES</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Badenoch, Scott Wilson</name>
            <address>
              <address-1>Bloomfield Hills, MI, US</address-1>
              <city>Bloomfield Hills</city>
              <state>MI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Shal, David Andrew</name>
            <address>
              <address-1>Bellbrook, OH, US</address-1>
              <city>Bellbrook</city>
              <state>OH</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Fratini, Albert Victor</name>
            <address>
              <address-1>Kettering, OH, US</address-1>
              <city>Kettering</city>
              <state>OH</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Connair, Karen Marie</name>
            <address>
              <address-1>Kettering, OH, US</address-1>
              <city>Kettering</city>
              <state>OH</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="5">
          <addressbook lang="en">
            <name>Hamilton, Harold David</name>
            <address>
              <address-1>Cincinnati, OH, US</address-1>
              <city>Cincinnati</city>
              <state>OH</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Sigler, Robert M.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Cuchlinski, Jr., William A.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A vehicle suspension system is responsive to an active brake signal from a brake system indicating the application of a greater braking force to one front corner brake than to the other front corner brake to affect vehicle yaw rate.
      <br/>
      The vehicle suspension system determines the relative velocities of the front corner suspension adjacent the front corner brake receiving the greater braking force and the diagonally opposed rear corner suspension and further determines a compression damping command for the front corner suspension and a rebound damping command for the rear corner suspension.
      <br/>
      While the active brake signal is present, the suspension control applies the compression damping command for the front corner suspension when its relative velocity indicates that it is in compression.
      <br/>
      While the active brake signal is present, the suspension control also applies the rebound damping command for the rear corner suspension when its relative indicates that it is in rebound.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>TECHNICAL FIELD OF THE INVENTION</heading>
    <p num="1">This invention relates to a vehicle suspension control system and method.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      Some automotive vehicles are equipped with vehicle dynamic stability controls that apply braking force at specific corners of the vehicle to initiate changes in vehicle yaw rate.
      <br/>
      But the application of a braking force at a specific corner also creates a body pitch motion at that corner that can cause a tilting motion of the vehicle body around a diagonal axis.
      <br/>
      For example, in order to reverse an excessive yaw rate to the right, the stability control may apply a braking force at the left front corner of the vehicle, or a greater braking force at the left front corner than at the right front corner.
      <br/>
      But this also produces a downward pitch of the left front corner of the vehicle and a reacting upward pitch of the right rear corner of the vehicle that essentially create a tilting motion of the body about a diagonal axis with the left front corner of the vehicle dipping and the right rear of the vehicle rising.
      <br/>
      A similar movement, with the right front corner dipping and the left rear corner rising, tends to result from application of a greater braking force to the vehicle brake at the front right corner to initiate a vehicle yaw rate change in the opposite direction.
      <br/>
      Such body movement may be undesirable to occupants of the vehicle.
    </p>
    <p num="3">
      Many automotive vehicles have suspensions that vary damping force in response to control commands determined by a computer controller, in order to improve overall vehicle ride comfort and handling.
      <br/>
      Such systems are generally responsive to vehicle body motions to reduce the diagonal body tilting motion described above, but such general response requires the undesirable body motion to occur and be sensed before the system can react to it.
      <br/>
      In addition, since the cause of the undesirable body motion is not known by such a system, the response must be general in nature and may not be optimal for the specific dynamic situation.
    </p>
    <p num="4">
      It is also known in the art to provide a signal indicating activation of a vehicle brake pedal or braking system generally to provide immediate stiffening of both front suspension dampers so as to minimize brake induced vehicle pitch (dive).
      <br/>
      But such systems do not optimally control a pitch on only one side, with a resulting tilting of the vehicle body around a diagonal axis.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="5">This invention adapts a variable damping suspension to be responsive to a specific active brake signal from a vehicle braking control that is applying a greater braking force to one front corner than the other to affect vehicle yaw rate so as to optimally control pitch at the one front corner and the diagonally opposed rear corner and thus the resulting tilting motion of the vehicle body about a diagonal axis.</p>
    <p num="6">
      More specifically, a vehicle suspension system is responsive to an active brake signal from a brake system indicating the application of a greater braking force to one front corner brake than to the other front corner brake to affect vehicle yaw rate.
      <br/>
      The vehicle suspension system determines the relative velocities of the front corner suspension adjacent the front corner brake receiving the greater braking force and the diagonally opposed rear corner suspension and further determines a compression damping command for the front corner suspension and a rebound damping command for the rear corner suspension.
      <br/>
      While the active brake signal is present, the suspension control applies the compression damping command for the front corner suspension when its relative velocity indicates that it is in compression and applies the rebound damping command for the rear corner suspension when its relative indicates that it is in rebound.
    </p>
    <p num="7">
      In a preferred embodiment, the control also derives demand force commands for dampers at each corner of the vehicle from relative velocity signals at the corners of the vehicle and applies the demand force command to each damper only when a comparison of the direction of the demand force command for a damper with the sensed relative velocity of the damper indicates that a force corresponding to the demand force command can be effectively exerted by the damper.
      <br/>
      But the compression and rebound damping commands are applied to the appropriate dampers according to the direction of relative velocity only, without regard to the direction of the demand force command for the corner.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="8">
      The present invention will now be described by way of example with reference to the following figures, in which:
      <br/>
      FIG. 1 illustrates a vehicle with a braking system and a suspension system according to this invention;
      <br/>
      FIG. 2 illustrates a suspension controller for use in the vehicle of FIG. 1.
      <br/>
      FIG. 3 illustrates a brake responsive body control for use in the suspension controller of FIG. 2.
      <br/>
      FIG. 4 illustrates an active brake direction corner control for use in the brake responsive body control of FIG. 3.
      <br/>
      FIGS. 5-9 are flow charts illustrating the operation of selected portions of the brake responsive body control of FIG. 3.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="9">
      Referring to FIG. 1, an example apparatus implementing this invention comprises a vehicle body 10 supported on four wheels 11 by four suspensions including springs of a known type (not shown).
      <br/>
      Each suspension includes a variable-force, real time, controllable damper 12 connected to exert a vertical force between wheel 11 and body 10 at that suspension point.
      <br/>
      Although many such suspension arrangements are known and appropriate to this invention, actuator 12 of the preferred embodiment comprises an electrically controllable, variable force damper in parallel with a weight bearing coil spring in a parallel spring/shock absorber or McPherson strut arrangement.
      <br/>
      A description of a variable force damper suitable for use as actuator 12 is the continuously variable damper described in U.S. Pat. No. 5,282,645.
    </p>
    <p num="10">
      Each corner of the vehicle includes a position sensor 13 that provides an output signal indicative of the relative vertical distance between the vehicle wheel and the suspended vehicle body at that corner of the vehicle.
      <br/>
      The outputs of position sensors 13 may be differentiated to produce relative body-wheel vertical velocity signals for each corner of the vehicle and may be used, for example, as described in U.S. Pat. No. 5,606,503, to determine the body modal velocities of body heave velocity, body roll velocity and body pitch velocity.
      <br/>
      The relative body-wheel vertical velocity signals are an example of what is referred to herein as a set of parameters indicative of motion of a body of the vehicle and of motion of wheels of the vehicle.
    </p>
    <p num="11">
      An example position sensor 13 includes a resistive device mounted to the vehicle body and a link pivotally coupled between the vehicle wheel and a pivot arm on the resistive device such that the resistive device provides an impedance output that varies with the relative vertical position between wheel 11 and the corner of body 10.
      <br/>
      Each position sensor 13 may further include an internal circuit board with a buffer circuit for buffering the output signal of the resistive device and providing the buffered signal to a suspension controller 15.
      <br/>
      Suitable position sensors 13 of this are known to, or can be constructed by, those skilled in the art.
      <br/>
      Any alternative type of position sensor, including transformer type sensors, may be used as position sensors 13.
    </p>
    <p num="12">
      The outputs of relative position sensors 13 are provided to suspension controller 15 which processes the signals, for example as described in U.S. Pat. No. 5,606,503, to determine the states of vehicle body 10 and wheels 11 and generates an output actuator control signal for each variable actuator 12.
      <br/>
      Suspension controller 15 sends these signals through suitable output apparatus to control actuators 12 in real time.
      <br/>
      Other signals that suspension controller 15 may use include a lift/dive signal from a sensor 17, a vehicle speed signal from a sensor 18 and a steering wheel angular position from a sensor 19.
      <br/>
      Obtaining such signals may be achieved through the use of known types of sensors or vehicle control signals available to those skilled in the art.
    </p>
    <p num="13">
      Vehicle 10 also includes a brake controller 27 that electronically controls the frictional braking force of vehicle wheel brakes 39 through use of actuators of a known type (not shown) to provide various wheel braking functions.
      <br/>
      These controls may include anti-lock brake control for preventing incipient wheel lock up during vehicle braking (deceleration) maneuvers, and/or traction control for preventing wheel slip during forward vehicle acceleration; and they specifically include an active brake control for controlling vehicle yaw rate or, if desired, slip angle.
      <br/>
      Controller 27 responds to many of the various sensors shown in the figure along with various additional sensors (not shown) whose signals are represented by bus 41.
      <br/>
      Example additional sensors might include vehicle wheel speed sensors, a vehicle yaw rate sensor and/or a vehicle lateral acceleration sensor.
      <br/>
      Implementation of these additional sensors, along with example anti-lock brake controls, traction controls and active brake controls are known to those skilled in the art.
      <br/>
      The brake controller 27 provides left and right active brake control (ABC) signals to suspension controller 15, to be described in detail below, during active brake control operation.
      <br/>
      Representative examples of brake controller 27 are shown and described in U.S. Pat. No. 5,720,533 to Pastor et al, issued Feb. 24, 1998 and U.S. Pat. No. 5,746,486 to Paul et al, issued May 5, 1998.
    </p>
    <p num="14">
      Suspension controller 15, shown in more detail in FIG. 2, may be a digital microcomputer 22 programmed to process a plurality of input signals in a stored algorithm and generate output control signals for actuators 12.
      <br/>
      Analog signal processing is provided for some of the input signals.
      <br/>
      For example, signals from relative position sensors 13 are low-pass filtered through four analog low-pass filters 24 and differentiated through four analog differentiators 26 to provide four relative velocity signals.
      <br/>
      An exemplary combination of such a low pass filter and differentiator is shown in U.S. Pat. No. 5,255,191, issued Oct. 19, 1993. The resulting relative velocity signals represent the relative vertical velocities between each of wheels 11 and the corresponding corner of the body.
      <br/>
      Each of these relative velocity signals is input to microcomputer 22, which includes an input A/D converter 28 with multiplexed inputs.
      <br/>
      Reference 50 represents the four corner suspension relative vertical velocities input into the microprocessor 22 through A/D converter 28.
      <br/>
      In an alternative example implementation, relative position sensors 13 are replaced with relative velocity sensors of a type known to those killed in the art capable of outputting signals indicative of the relative velocity between each wheel and corner of the vehicle body.
      <br/>
      In this alternative, there is no need for the differentiators 26.
    </p>
    <p num="15">
      Various digital/discrete signals are provided to microcomputer 22 through I/O apparatus 67.
      <br/>
      Lines 29 and 31 carry the left and right front active brake control signals, which are provided as left and right ABC flags on lines 35 and 37 within microcomputer 22.
      <br/>
      Line 52 provides a vehicle speed signal from sensor 18, which signal is preferably buffered in a known manner in block 67 to remove unwanted noise; and the buffered signal is output on line 71.
      <br/>
      This signal, which may be the same as that used for the vehicle speedometer and/or other vehicle systems, may comprise a pulse train having pulse timing varying with vehicle speed.
      <br/>
      The decoding of this signal is well known in the art.
      <br/>
      Line 53 provides a steering angle signal to I/O apparatus 67 from sensor 19 and is output on line 73.
      <br/>
      This signal may be obtained from a rotational sensor in the steering gear, with a number of sensors and designs known in the art.
      <br/>
      Line 60 provides a signal that indicates when the vehicle is in a dive (front end dip) or lift (front end rise) tendency situation such as occurs during hard braking or hard acceleration of the vehicle.
      <br/>
      Lift/dive sensor 17 may be part of a powertrain controller that determines a vehicle dive tending situation if a decrease in vehicle speed over a predetermined time period is greater than a predetermined limit and determines a lift tending situation if an increase in throttle angle over a predetermined time period is greater than a predetermined threshold.
      <br/>
      The signal from lift/dive sensor 17 is generally a discrete, binary signal that has a first value when there is either a detected lift or dive, and is otherwise inactive.
      <br/>
      Line 62 provides an discrete, binary ignition state signal indicative of vehicle operation; and line 66 provides a discrete override signal useful for in-plant testing or service of the system.
    </p>
    <p num="16">
      A lateral acceleration calculator 55 is effective to derive a vehicle lateral acceleration signal in a known manner from the vehicle speed signal on line 71 and the vehicle steering angle signal on line 73 and output the derived vehicle lateral acceleration signal on line 54.
      <br/>
      A diagnostic routine is responsive to various signals in I/O apparatus 67 to perform known functions such as checking for open circuits and short circuits from any of the sensors, input lines or actuators or any of the other lines (represented in general as bus 61) and is capable of generating a system failure command on an output line 56.
    </p>
    <p num="17">
      The digital outputs of A/D converter 28 are provided to signal conditioning block 68, in which each is digitally high-pass filtered to remove any DC offset introduced by the digitization of A/D converter 28.
      <br/>
      Block 68 derives from these filtered signals a set of relative velocity signals for the four corners on bus 76, a set of estimated average wheel velocity signals for the four wheels on bus 80 and a set of body modal (heave, pitch and roll) velocity signals on lines 70, 72 and 74, respectively for use in automatic control algorithm 82, to derive actuator control signals representing the demand force commands for each of actuators 12 and outputs these commands on lines 84, 86, 88 and 90.
      <br/>
      The demand force commands generated by automatic control algorithm 82 are preferably PWM duty cycle commands.
      <br/>
      However, actuators of another type not based on PWM control can be substituted as an alternative; and it will be recognized that variable force controls other than those with PWM control are equivalents to the PWM control example set forth herein.
    </p>
    <p num="18">
      The PWM duty cycle commands from automatic control algorithm 82 on lines 84, 86, 88 and 90 are provided to environmental compensation block 92.
      <br/>
      A set of four active brake PWM duty cycle commands derived in accordance with this invention for the same wheels in a brake responsive body control 75 is also provided to environmental compensation block 92 on a bus 79.
      <br/>
      Environmental compensation block 92 derives a combined PWM duty cycle command for each wheel from the PWM duty cycle command from automatic control algorithm 82 and the active brake PWM duty cycle command from control 75 corresponding to the same wheel.
      <br/>
      Alternatively, the combination may be performed within automatic control algorithm 82 after the PWM duty cycle commands determined thereby are ready for the combination.
      <br/>
      Preferably, the method of combination is to select the larger of the PWM duty cycle command from automatic control algorithm 82 and the active brake PWM duty cycle command from control 75 for the same wheel.
      <br/>
      Brake responsive body control 75 will be described in detail below.
    </p>
    <p num="19">
      Environmental compensation block 92 then scales the four combined PWM duty cycle commands based on a scaling factor derived from the vehicle battery voltage VBAT, which is input to microcomputer 22 through an A/D converter 28.
      <br/>
      The scaled combined PWM duty cycle commands for the four wheels are then output on lines 94, 96, 98 and 100.
    </p>
    <p num="20">
      Damper output control 110 receives the scaled combined PWM duty cycle commands and determines when to output these signals on output lines 112, 114, 116, 118 and 120 and when to override these signals for some specific purpose.
      <br/>
      For example, damper output control 110 may be responsive to a diagnostic failure command from diagnostic block 59 to output predetermined "failure mode" PWM duty cycle commands: for example, a default PWM command that is scaled simply in response to vehicle speed.
      <br/>
      Control 110 may be responsive to the override signal from line 66 to actuate all dampers in a predetermined manner for in-plant or service testing.
      <br/>
      Control 110 may be responsive to the lift/dive signal, debounced in signal conditioning block 102, to set minimum values for the PWM duty cycle commands, as described in greater detail in the aforementioned U.S. Pat. No. 5,606,503. Control 110 is responsive to an enable signal on line 108 from a mode control apparatus 106 to enable the output of commands from block 10.
      <br/>
      The enable signal is generated by mode control apparatus 106 in response to an active ignition state signal on line 62.
      <br/>
      Without an enable signal on line 108, any commands determined will not be output on lines 112, 114, 116, 118 and 120 and the controller is allowed to enter a standard "sleep" state of the type used in automotive controllers when the vehicle ignition is off.
      <br/>
      An enable signal on line 108 does not force any output command levels, but simply enables output of the commands from block 110.
    </p>
    <p num="21">
      The resultant control outputs from block 110 are provided to an output interface 111 on lines 112, 114, 116 and 118 and comprise the duty cycle commands for the four actuators 12 in the suspension system.
      <br/>
      The damper low side control command is provided on line 120.
      <br/>
      The duty cycle commands on lines 112, 114, 116 and 118 are converted in a known manner to pulse width modulated signals having the duty cycles commanded by the signals on lines 112, 114, 116 and 118.
      <br/>
      Output interface 111 includes a PWM control comprising standard signal processing and power electronic circuitry, possibly including another microcomputer, such as a Motorola (tm)  68HC11 KA4, which is adapted for providing PWM output control commands.
      <br/>
      The interface between the microcomputer controller and the variable force dampers may include standard power electronic switches and protective circuitry as required for controlling current in a valve activating solenoid coil such as is shown in U.S. Pat. No. 5,282,645, issued Feb. 1, 1994. The valve responds to a pulse width modulated signal and provides a continuously variable range of decrease in flow restriction of a bypass passage to the reservoir of the damper between maximum restricted flow when the valve is closed in response to a 0% duty cycle command and a minimum restricted flow when the valve is open and responsive to 100% duty cycle command, or vice versa.
      <br/>
      Those skilled in the art will understand that any suitable microprocessor-based controller capable of providing the appropriate actuator command and performing the required control routine can be used in place of the example set forth herein and are equivalents thereof.
    </p>
    <p num="22">
      As previously stated, active brake PWM duty cycle commands are derived by active brake body control block 75 in response to the left and right active brake control (ABC) signals generated by brake controller 27 and provided from I/O apparatus on lines 35 and 37, respectively.
      <br/>
      For example, when brake controller 27 activates the left front wheel brake with a greater braking force than the right front brake to bring the vehicle yaw rate and/or slip angle into conformity with a desired yaw rate and/or slip angle, the braking causes a downward pitching motion of body 10 at its left front corner.
      <br/>
      Since the right front brake is not simultaneously actuated, or is actuated with a lesser braking force, the motion is actually a combination of pitch and roll producing a tilting motion of the body about a diagonal axis generally extending between the right front and left rear corners.
      <br/>
      Although automatic control algorithm 82 will respond to both the pitch and the roll, the initiation of the motion by brake controller 27 provides the opportunity to provide a faster response more optimally directed at the precise input from the braking system.
      <br/>
      Block 75 anticipates this type of body motion and generates suspension commands on bus 79 to minimize it.
      <br/>
      These commands on bus 79 are active brake PWM duty cycle commands determining minimum duty cycles for each damper based on the active brake control signals and the compression or rebound state of the damper.
    </p>
    <p num="23">
      To use knowledge of the activity of brake system 27, it is necessary to provide a signal of that activity to suspension controller 15; and this is done via the left and right active brake control (ABC) signals.
      <br/>
      The brake control is not normally and continuously engaged in yaw or slip angle control; rather, such control is only a temporary response to a sensed dynamic condition of the vehicle.
      <br/>
      Thus, this part of the brake control is normally inactive, for the purposes of this invention, even when applying braking, as long as such braking is applied essentially equally to both front wheels.
      <br/>
      Any dive resulting from such activity (or lift resulting from hard acceleration) is taken care of by the dive/lift portion of the system, which applies correction on both sides equally.
      <br/>
      Anti-lock or traction control brake modulation also does not require the correction of this invention, since such modulation does not produce significant body modal motion.
      <br/>
      The "active" signal is generated only when the brake system is actively braking for yaw or slip angle control by directing that more front braking force be applied to one side of the vehicle than to the other side.
      <br/>
      Thus, the left front ABC signal (usually in the form of a binary flag) is set in its active state only when more braking force is being directed to the left front wheel than to the right front wheel and is otherwise reset to its inactive state; and the right front ABC signal is set in its active state only when more braking force is being directed to the right front wheel than to the left front wheel and is otherwise reset to its inactive state.
      <br/>
      Stated differently, whenever braking system 27 is actively overriding normal braking to correct the directional steering response of the vehicle, either the left front ABC signal or the right front ABC signal, but not both, will be set active, depending on which side of the vehicle is being slowed down with respect to the other.
      <br/>
      Generally, such flags will exist in a brake system capable of such operation; if they do not, they can easily be created with a few simple additions to the control program.
      <br/>
      The states of these two flags are provided to an output port of brake control 27 and communicated as the left and right ABC signals on lines 29 and 31.
    </p>
    <p num="24">
      Referring now to FIG. 3, a general block diagram of body control block 75 is shown.
      <br/>
      The left and right ABC flags on lines 35 and 37 are provided to the PWM control block 150, which generates two commands in response to the signals on lines 35 and 37.
      <br/>
      If the left ABC flag indicates that the left front active brake control flag is set, then block 150 outputs a LEFT BASIC ABC PWM command on line 152 set to a predetermined level programmed in controller memory.
      <br/>
      If the left front active brake control flag resets, then block 150 reduces the command on line 152 at a predetermined rate (by a predetermined amount each cycle) until it reaches zero.
      <br/>
      If the right front active brake control flag is set then block 150 outputs a RIGHT BASIC ABC PWM command on line 154 set to a predetermined level programmed in controller memory.
      <br/>
      If the right front active brake control flag resets, then block 150 reduces the command on line 154 at a predetermined rate until it reaches zero.
      <br/>
      An example flow chart of this function is shown in FIG. 5 for the LEFT BASIC ABC PWM.
      <br/>
      The subroutine GENERATE BASIC ABC PWM begins by determining at 200 whether the left ABC flag is equal to 1 (that is, active).
      <br/>
      If so, the LEFT BASIC ABC PWM is set equal to a predetermined value K at 202.
      <br/>
      If not, the subroutine determines at 204 if the value of LEFT BASIC ABC PWM is greater than a predetermined decrement value DELTA.
      <br/>
      If it is greater, then a new, decremented value of LEFT BASIC ABC PWM is derived at 206 by subtracting DELTA from the old value.
      <br/>
      But if it is not greater, the new value of LEFT BASIC ABC PWM is set equal to zero at 208.
      <br/>
      A similar flow process may be used for the RIGHT BASIC ABC PWM.
    </p>
    <p num="25">
      Block 156, the active brake direction corner control, receives the LEFT and RIGHT BASIC ABC PWM signals on lines 152 and 154, along with the left and right ABC flags on lines 35 and 37 and the filtered corner relative velocity signals on bus 76.
      <br/>
      Block 156 determines which corners (e.g., front left, front right, rear left and rear right) will receive corner ABC PWM commands, based on the flags on lines 35 and 37 and whether the each corner is in compression or rebound.
      <br/>
      Block 156 provides the resultant corner ABC PWM commands on bus 79.
      <br/>
      Block 156 is described in more detail below with reference to FIG. 4.
    </p>
    <p num="26">
      Referring now to FIG. 4, active brake direction corner control block 156 includes a mask selector block 176.
      <br/>
      Mask selector block 176 receives the left and right ABC flags on lines 35 and 37 and selects two of the four data masks stored in a table 177 for use in a corner direction command generator block 182.
      <br/>
      Each data mask is coded to define a unique relationship to the four corner suspensions for both compression and rebound modes, and the data masks are chosen on the basis of whether each of the received left and right ABC flags is active (ACT) or inactive (HOLD).
      <br/>
      The active (ACT) data masks are used to reduce the diagonal body tilting motion at the initiation of the active brake operation, and the inactive (HOLD) data masks are used to prevent an opposite, "rebound" body tilting effect at the end of the active brake operation while phasing out the ABC PWM value.
      <br/>
      An example table stored in block 177 is as follows:
    </p>
    <p num="27">
      --
      <br/>
      --                COMPRESSION                  REBOUND
      <br/>
      --                LF      RF      LR      RR      LF      RF      LR      RR
      <br/>
      --                (bit 7) (bit 6) (bit 5) (bit 4) (bit 3) (bit 2) (bit 1) (bit
      <br/>
      --  0)
      <br/>
      -- L ACT MASK     1       0       0       0       0       0       0       1
      <br/>
      -- L HOLD MASK    1       0       0       1       1       0       0       1
      <br/>
      -- R ACT MASK     0       1       0       0       0       0       1       0
      <br/>
      -- R HOLD MASK    0       1       1       0       0       1       1       0
    </p>
    <p num="28">
      The function of mask selector 176 is described with reference to the flow chart of FIG. 6.
      <br/>
      Subroutine DETERMINE DATA MASKS first determines at 210 if the left ABC flag on line 35 is set to 1 (active).
      <br/>
      If so, the L ACT MASK is selected at 212 for line 178.
      <br/>
      But if the left ABC flag on line 35 is set to 0 (inactive), then the L HOLD MASK is selected at 214 for line 178.
      <br/>
      Similarly, the subroutine determines at 216 if the right ABC flag on line 37 is set to 1 (active).
      <br/>
      If so, the R ACT MASK is selected at 218 for line 180.
      <br/>
      But if the right ABC flag on line 37 is set to 0 (inactive), then the R HOLD MASK is selected at 220 as the right mask for line 180.
    </p>
    <p num="29">
      The left and right masks on lines 178 and 180 are provided along with the signals on lines 152 and 154 to corner direction command generator block 182, which determines and outputs corner PWM values for each of the four corners of the vehicle body in compression and rebound modes on bus 184.
      <br/>
      Essentially, corner direction command generator block 182 determines, as directed by the chosen masks from block 176, which corner(s) will receive which of the BASIC ABC PWM commands generated in block 150 in compression, in rebound or both.
      <br/>
      More particularly, block 182 (1) determines eight TEMPL PWM commands based on the selected left mask and eight TEMPR PWM commands based on the selected right mask, and (2) determines for each corner the larger of the TEMPL PWM and TEMPR PWM to be output as the CORNER PWM command for that corner.
    </p>
    <p num="30">
      The operation of corner direction command generator 182 is described utilizing the flow chart of FIG. 7.
      <br/>
      This flow chart describes a repetitive loop that is run eight times.
      <br/>
      At 230, the parameters of the loop are declared: DO for each value of bit XY of the stated mask, where the values of X indicate the four corners (LF, RF, LR, RR) and the values of Y indicate the compression/rebound state (CMP, REB), resulting in eight possible combinations.
      <br/>
      The loop begins by determining at 232 if the appropriate bit of the selected left mask (L ACT MASK or L HOLD MASK) is equal to 1.
      <br/>
      If so, it sets the corresponding value of TEMPL PWM (XY) to the received value of LEFT BASIC ABC PWM at 234; if not, it sets the corresponding value of TEMPL PWM (XY) to zero at 236.
      <br/>
      The loop then performs a similar function for corresponding bit of the selected right mask.
      <br/>
      The loop determines at 238 if the appropriate bit of the selected right mask (R ACT MASK or R HOLD MASK) is equal to 1.
      <br/>
      If so, it sets the corresponding value of TEMPR PWM (XY) to the received value of RIGHT BASIC ABC PWM at 240; if not, it sets the corresponding value of TEMPR PWM (XY) to zero at 242.
      <br/>
      Thus, a value of TEMPL PWM (XY) and a value of TEMPR PWM (XY) are derived in each loop before the maximum of the two values is selected at 244 as CORNER PWM (XY) and the loop is repeated for the next value of XY determined at 246.
      <br/>
      When the loop has completed its eight cycles, the result is an array of eight values of CORNER PWM (XY), one for each corner of the vehicle in each of the compression and rebound modes.
    </p>
    <p num="31">
      The eight corner direction commands CORNER PWM (XY) on bus 184 are provided along with the signals on bus 76 to the apply command generator block 186.
      <br/>
      Block 186 uses the high pass filtered relative velocity signals on bus 76 to determine whether each corner is in a compression or a rebound state and select the corresponding compression or rebound CORNER PWM (XY) command for that corner for the ABC APPLY PWM (X) commands on bus 79.
      <br/>
      With reference to the flow chart of FIG. 8, the process SELECT ABC APPLY PWM first declares parameters of a DO loop at 250 for each of the four corners: X=LF, RF, LR, RR.
      <br/>
      For each corner, the compression/rebound state of the damper is determined at 252 by examining the high pass filtered relative velocity signal for the corner.
      <br/>
      If that signal is greater than or equal to zero, indicating that the corner is in rebound, then the rebound CORNER PWM (Y=REB) command for that corner is selected at 254 as the ABC APPLY PWM command for that corner on bus 79.
      <br/>
      Otherwise the compression CORNER PWM (Y=CMP) command for that corner is selected at 256 as the corner ABC APPLY PWM command on bus 79.
      <br/>
      The next value of X is then chosen at 258 to repeat the loop, thus determining the corner ABC APPLY PWM commands for the left front, left rear and right rear corners for output on bus 79 in a similar manner.
    </p>
    <p num="32">
      As previously stated, the ABC APPLY commands serve as minimum PWM values for each corner.
      <br/>
      This can be accomplished for each corner as shown in the flow chart of FIG. 9.
      <br/>
      The subroutine DETERMINE COMBINED PWM (X) proceeds at 260 in a DO loop for X=LF, RF, LR, RR.
      <br/>
      The maximum of ABC APPLY PWM (X) and SUSP PWM (X) is selected at 262 for the value of COMBINED PWM (X).
      <br/>
      The next value of X is then chosen at 264 until all four corners have determined values of COMBINED PWM (X).
      <br/>
      It may be noted that the previously mentioned U.S. Pat. No. 5,606,503, which describes automatic control algorithm 82 in greater detail, shows a process block 220 titled "automatic mode PWM duty cycle floor," which provides an opportunity to set a minimum PWM value for each corner.
      <br/>
      That block could be modified to receive the ABC APPLY PWM commands from active brake body control 75 in this apparatus and determine the maximum of the values at each corner as described above, as an alternative to performing the same function in environmental compensation block 92 as described herein.
    </p>
    <p num="33">
      This invention is also applicable to suspension systems using bi-state, real time controlled dampers.
      <br/>
      Such dampers differ from the continuously variable dampers used in the preferred embodiment described above in that, although they can be switched between two different valve conditions (low damping or high damping, as by opening or closing a bypass valve that supplements the main damper valving) sufficiently fast for real time suspension control, they cannot be switched sufficiently fast for pulse width modulated continuously variable valving.
      <br/>
      Thus, the value of BASIC ABC PWM as determined in block 150 and described with reference to the flow chart of FIG. 5 can assume only the values of zero, as in step 208, or K, as in step 202, and cannot be phased out through intermediate values as indicated in step 206.
      <br/>
      In fact, the value of K can be designed into the damper with a flag bit indicating high (1) or low (0) damping within the software.
    </p>
    <p num="34">
      Through the use of the mask data elements the controller controls the left and right suspensions during active brake control events, that is, during times when at least one of the left or right front wheel brakes is receiving greater braking pressure than the other in an active brake control mode to affect the yaw velocity and/or slip angle of the vehicle.
      <br/>
      In general, if the active brake control event would tend to cause a front left corner body dip and a right rear corner body rise, then the application of the selected mask data element increases the damping on the left front during suspension compression and on the right rear during suspension rebound.
      <br/>
      This can be seen with reference to the mask table shown above, wherein the left active mask L ACT MASK shows values of 1, indicating application of ABC damping, for the left front corner in compression and the right rear corner in rebound.
      <br/>
      The left inactive mask L HOLD MASK shows values of 1 for the right rear corner in compression and the left front corner in rebound to prevent an opposite body tilt on the release of the one sided brake apply.
      <br/>
      But in this embodiment it also shows retention of the 1's at the left front corner in compression and the right rear corner in rebound; and not shown in the table is the fact, described above, that the ABC damping commands are phased out while the ABC flags show the brake system inactive.
      <br/>
      Thus, the result of the left active brake activity is to provide damping at the left front in compression and the right rear in rebound while the flag is active and to add damping at the left front in rebound and the right rear in compression when the flag goes inactive, while phasing out all added damping together.
    </p>
    <p num="35">
      A basic difference should be noted in the application of damping commands by active brake body control 75 of this invention and the prior art semi-active suspension control described as automatic control algorithm 82.
      <br/>
      The prior art system modified by this invention applies damping in the classic semi-active "sky hook" manner.
      <br/>
      The control is primarily body control oriented for occupant comfort; and damping is increased only when so doing would provide a force on the body in the correct direction to retard vertical movement of the body.
      <br/>
      This is determined by comparing the vertical direction of demand force with the direction of the damper (compression or rebound), as described in the referenced U.S. Pat. No. 5,606,503 with reference to the quadrant power check of block 316 in that patent.
      <br/>
      When demand force on the body results from upward body movement and the damper is in a rebound state (extension), the demand force can be applied by a damper (by resisting extension, the damper is able to resist upward body movement).
      <br/>
      This is also true when demand force results from downward movement of the body and the damper is in a compression state.
      <br/>
      Thus, the demand force command is provided to each damper only in the two quadrants wherein the direction of demand force (or body movement) matches the damper state.
      <br/>
      In the other two quadrants, the damper is not activated.
    </p>
    <p num="36">
      In contrast, the goal of the control of this invention is primarily vehicle handling; and the damping commands produced by active brake body control 75 of this invention are applied in response to the compression/rebound state of the damper as mapped by the data mask, without regard to the direction of demand force or vertical body motion.
      <br/>
      Thus, the damping commands for a corner produced by the two controls are determined independently of each other and will not always provide zero and non-zero values simultaneously.
      <br/>
      This is expected, since the objectives of the two controls are different.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method of controlling a front corner suspension and a diagonally opposed rear corner suspension in a vehicle having a brake system with two front corner brakes and brake control means effective at times to modify vehicle yaw rate by applying a greater braking force to one of the front corner brakes adjacent the front corner suspension than to the other of the front corner brakes and generate an active brake signal while so doing, the method comprising the steps:</claim-text>
      <claim-text>receiving the active brake signal; determining a relative velocity of the front corner suspension and a relative velocity of the diagonally opposed rear corner suspension; determining a compression damping command for the front corner suspension and a rebound damping command for the diagonally opposed rear corner suspension; while the signal is received, applying the compression damping command to the front corner suspension when the relative velocity thereof indicates that it is in compression;</claim-text>
      <claim-text>and while the signal is present, applying the rebound damping command to the diagonally opposed rear corner suspension when the relative velocity thereof indicates that it is in rebound.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A method of controlling a front corner suspension damper and a diagonally opposed rear corner suspension damper in a vehicle having a suspension damper at each corner thereof and a brake system with two front corner brakes and brake control means effective at times to modify vehicle yaw rate by applying a greater braking force to one off the front corner brakes adjacent the front corner suspension than to the other of the front corner brakes and generate an active brake signal while so doing, the method comprising the steps: receiving the active brake signal; determining a relative velocity of each of the suspension dampers and deriving from the determined relative velocities a demand force command for each of the dampers; applying each of the derived demand force commands to its respective damper only when a comparison of the direction of the demand force command with the sensed relative velocity of the damper indicates that a force corresponding to the demand force command can be effectively exerted by the damper; determining an active brake compression damping command for the front corner suspension damper adjacent the one of the front corner brakes and a relative velocity of the diagonally opposed rear corner suspension damper; while the signal is received, applying the compression damping command to the front corner suspensions when the relative thereof indicates that it is in compression;</claim-text>
      <claim-text>and while the signal is present, applying the rebound damping command to the diagonally opposed rear corner suspension when the relative velocity thereof indicates that it is in rebound.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A vehicle suspension system for use on a vehicle with a brake system having two front corner brakes and a brake control responsive to a vehicle dynamic sensor to apply a greater braking force to one of the front corner brakes than to the other of the front corner brakes and generate an active brake signal when so applying the greater braking force, the suspension system comprising: two front corner suspensions; two rear corner suspensions;</claim-text>
      <claim-text>and a suspension control computer comprising, in combination: means for receiving the active brake signal, means for determining a relative velocity of one of the front corner suspensions adjacent the one of the front corner brakes and a relative velocity of one of the rear corner suspensions diagonally opposing the one of the front corner suspensions, means for determining a compression damping command for the one of the front corner suspensions and determining a rebound damping command for the one of the rear corner suspensions, means effective, while the active brake signal is received, for applying the compression damping command to the one of the front corner suspensions when the relative velocity of the one of the front corner suspensions indicates that it is in compression, and means effective, while the signal is received, for applying the rebound damping command to the one of the rear corner suspensions when the relative velocity for the one of the rear corner suspensions indicates that it is in rebound.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A vehicle suspension system for use on a vehicle with a brake system having two front corner brakes and a brake control responsive to a vehicle dynamic sensor to apply a greater braking force to one of the front corner brakes than to the other of the front corner brakes and generate an active brake signal when so applying the greater braking force, the suspension system comprising: two front corner suspensions each comprising a front damper; two rear corner suspensions each comprising a rear damper; relative velocity sensors at each of front and rear dampers; means for deriving demand force commands for each of the two front corner suspensions and two rear corner suspensions in response to signals from the relative velocity sensors; means for applying the derived demand force commands to the front and rear dampers only when a comparison of the direction of the demand force command for a damper with the sensed relative velocity of the damper indicates that a force corresponding to the demand force command can be effectively exerted by the damper; means for receiving the active brake signal; means for determining an active brake compression damping command for one of the front corner suspensions adjacent the one of the front corner brakes and determining an active brake rebound damping command for one of the rear corner suspensions diagonally opposing the one of the front corner suspensions; means effective, while the active brake signal is received, for applying the active brake compression damping command to the one of the front corner suspensions when the relative velocity of the one of the front corner suspensions indicates that it is in compression;</claim-text>
      <claim-text>and means effective, while the signal is received, for applying the active brake rebound damping command to the one of the rear corner suspensions when the relative velocity of the one of the rear corner suspensions indicates that it is in rebound.</claim-text>
    </claim>
  </claims>
</questel-patent-document>