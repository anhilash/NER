<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06193344B1.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as first publication">
      <document-id>
        <country>US</country>
        <doc-number>06193344</doc-number>
        <kind>B1</kind>
        <date>20010227</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6193344</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B1</original-publication-kind>
    <application-reference family-id="27548659" extended-family-id="3819669">
      <document-id>
        <country>US</country>
        <doc-number>09382955</doc-number>
        <kind>A</kind>
        <date>19990825</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09382955</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43171150</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>38295599</doc-number>
        <kind>A</kind>
        <date>19990825</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09382955</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>JP</country>
        <doc-number>19317791</doc-number>
        <kind>A</kind>
        <date>19910801</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1991JP-0193177</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>JP</country>
        <doc-number>19318791</doc-number>
        <kind>A</kind>
        <date>19910801</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1991JP-0193187</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="4">
        <country>JP</country>
        <doc-number>19413991</doc-number>
        <kind>A</kind>
        <date>19910802</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="4">
        <doc-number>1991JP-0194139</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="5">
        <country>JP</country>
        <doc-number>34505291</doc-number>
        <kind>A</kind>
        <date>19911226</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="5">
        <doc-number>1991JP-0345052</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="6">
        <country>JP</country>
        <doc-number>34506091</doc-number>
        <kind>A</kind>
        <date>19911226</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="6">
        <doc-number>1991JP-0345060</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="7">
        <country>JP</country>
        <doc-number>1652692</doc-number>
        <kind>A</kind>
        <date>19920131</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="7">
        <doc-number>1992JP-0016526</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="8">
        <country>US</country>
        <doc-number>46898995</doc-number>
        <kind>A</kind>
        <date>19950606</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="8">
        <doc-number>1995US-08468989</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="9">
        <country>US</country>
        <doc-number>92183292</doc-number>
        <kind>A</kind>
        <date>19920730</date>
        <priority-linkage-type>D</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="9">
        <doc-number>1992US-07921832</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010227</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>B41J   2/05        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>05</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>B41J   2/175       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>175</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>B41J   2/195       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>195</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>347011000</text>
        <class>347</class>
        <subclass>011000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>347010000</text>
        <class>347</class>
        <subclass>010000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>B41J-002/175C8</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>175C8</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>B41J-002/045D26</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D26</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>B41J-002/045D33</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D33</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>B41J-002/045D35</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D35</subgroup>
      </classification-ecla>
      <classification-ecla sequence="5">
        <text>B41J-002/045D41</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D41</subgroup>
      </classification-ecla>
      <classification-ecla sequence="6">
        <text>B41J-002/045D47</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D47</subgroup>
      </classification-ecla>
      <classification-ecla sequence="7">
        <text>B41J-002/045D53</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D53</subgroup>
      </classification-ecla>
      <classification-ecla sequence="8">
        <text>B41J-002/045D57</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D57</subgroup>
      </classification-ecla>
      <classification-ecla sequence="9">
        <text>B41J-002/045D62</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D62</subgroup>
      </classification-ecla>
      <classification-ecla sequence="10">
        <text>B41J-002/045D64</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D64</subgroup>
      </classification-ecla>
      <classification-ecla sequence="11">
        <text>B41J-002/045D68</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>045D68</subgroup>
      </classification-ecla>
      <classification-ecla sequence="12">
        <text>B41J-002/175C2</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>175C2</subgroup>
      </classification-ecla>
      <classification-ecla sequence="13">
        <text>B41J-002/175L</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>002</main-group>
        <subgroup>175L</subgroup>
      </classification-ecla>
      <classification-ecla sequence="14">
        <text>B41J-002/195</text>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>195</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/17553</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>17553</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04528</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04528</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/0454</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>0454</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04543</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04543</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04553</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04553</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04563</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04563</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04573</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04573</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/0458</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>0458</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04588</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04588</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="10">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04591</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04591</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="11">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/04598</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>04598</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="12">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/17513</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>17513</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="13">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/17566</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>17566</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="14">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-002/195</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2</main-group>
        <subgroup>195</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="15">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B41J-2002/14379</classification-symbol>
        <section>B</section>
        <class>41</class>
        <subclass>J</subclass>
        <main-group>2002</main-group>
        <subgroup>14379</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="16">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>L41J-002/14M</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>22</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>63</number-of-drawing-sheets>
      <number-of-figures>86</number-of-figures>
      <image-key data-format="questel">US6193344</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Ink jet recording apparatus having temperature control function</invention-title>
    <references-cited>
      <citation srep-phase="applicant">
        <patcit num="1">
          <text>HARA TOSHITAMI</text>
          <document-id>
            <country>US</country>
            <doc-number>4313124</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4313124</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>SHIRATO YOSHIAKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4345262</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4345262</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>SATO YASUSHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4459600</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4459600</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>AYATA NAOKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4463359</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4463359</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>VAUGHT JOHN L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4490728</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4490728</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>SUGITANI HIROSHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4558333</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4558333</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>ARAKAWA JUNICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>4719472</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4719472</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>ENDO ICHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4723129</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4723129</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>ENDO ICHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4740796</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4740796</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>REALIS LUC ROBERTO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4746937</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4746937</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>SMITH JAMES C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4791435</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4791435</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>FIRL GEROLD G, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4910528</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4910528</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>DUNN JOHN B R</text>
          <document-id>
            <country>US</country>
            <doc-number>4982199</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4982199</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>SOMEYA AKIHIKO</text>
          <document-id>
            <country>US</country>
            <doc-number>5006866</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5006866</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>YEUNG KING-WAH W</text>
          <document-id>
            <country>US</country>
            <doc-number>5168284</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5168284</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>OHBA TAKASHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5302971</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5302971</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>OTSUKA NAOJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5485179</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5485179</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>OTSUKA NAOJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5559535</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5559535</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>WATANABE YOUICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5633671</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5633671</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="20">
          <text>CANON KK</text>
          <document-id>
            <country>DE</country>
            <doc-number>3612469</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE3612469</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="21">
          <text>HEWLETT PACKARD CO</text>
          <document-id>
            <country>EP</country>
            <doc-number>0354982</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-354982</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="22">
          <text>CANON KK</text>
          <document-id>
            <country>EP</country>
            <doc-number>0390202</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-390202</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="23">
          <text>CANON KK</text>
          <document-id>
            <country>EP</country>
            <doc-number>0418818</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-418818</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="24">
          <text>CANON KK</text>
          <document-id>
            <country>EP</country>
            <doc-number>0505154</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-505154</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="25">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S59123670</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP59123670</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="26">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S59138461</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP59138461</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="27">
          <text>RICOH KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S60230859</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP60230859</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="28">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S62117754</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP62117754</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="29">
          <text>HEWLETT PACKARD CO</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0230545</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP02030545</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="30">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>H02212164</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP02212164</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="31">
          <text>FUJITSU LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0324972</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03024972</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="32">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>H03227642</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03227642</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="33">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>H03227643</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03227643</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="34">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>H03227635</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03227635</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="35">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>H03288651</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03288651</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>46898995</doc-number>
              <kind>A</kind>
              <date>19950606</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>92183292</doc-number>
              <kind>A</kind>
              <date>19920730</date>
            </document-id>
            <parent-status>ABANDONED</parent-status>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Canon Kabushiki Kaisha</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>CANON</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Otsuka, Naoji</name>
            <address>
              <address-1>Kawasaki, JP</address-1>
              <city>Kawasaki</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Yano, Kentaro</name>
            <address>
              <address-1>Yokohama, JP</address-1>
              <city>Yokohama</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Takahashi, Kiichiro</name>
            <address>
              <address-1>Yokohama, JP</address-1>
              <city>Yokohama</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Iwasaki, Osamu</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Fitzpatrick, Cella, Harper &amp; Scinto</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Tran, Huan</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An ink jet recording apparatus performs recording by supplying heat energy according to driving pulses to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium on the basis of formation of the bubble.
      <br/>
      The apparatus includes a driver and a driving pulse controller.
      <br/>
      The driver supplies the driving pulses, comprised of a plurality of pulses including a main pulse for causing the ink to be ejected, to the recording head for each ejection of the ink.
      <br/>
      The driving pulse controller controls an amount of the ink to be ejected, by changing a waveform of the driving pulses supplied by the driver during a recording operation.
      <br/>
      The driving pulse controller limits energy of the main pulse in accordance with a start timing of the film boiling which is variable according to a change in waveform of pulses other than the main pulse.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a divisional application of U.S. patent application Ser.
      <br/>
      No. 08/468,989, filed Jun. 6, 1995, which is a divisional application of U.S. patent application Ser.
      <br/>
      No. 07/921,832, filed Jul. 30, 1992, abandoned.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">The present invention relates to an ink jet recording apparatus for stably performing recording by ejecting an ink from a recording head to a recording medium and also to a temperature calculation method for calculating a temperature drift of the recording head.</p>
    <p num="4">2. Related Background Art</p>
    <p num="5">
      In the recent industrial fields, various products for converting input energy into heat, and utilizing the converted heat energy have been developed.
      <br/>
      In most of such products utilizing the heat energy, the relationship between the time and the temperature of an object obtained based on the input energy is an important control item.
    </p>
    <p num="6">
      A recording apparatus such as a printer, a copying machine, a facsimile machine, or the like records an image consisting of dot patterns on a recording medium such as a paper sheet, a plastic thin film, or the like on the basis of image information.
      <br/>
      The recording apparatuses can be classified into an ink jet type, a wire dot type, a thermal type, a laser beam type, and the like.
      <br/>
      Of these types, the ink jet type apparatus (ink jet recording apparatus) ejects flying ink (recording liquid) droplets from ejection orifices of a recording head, and attaches the ink droplets to a recording medium, thus attaining recording.
    </p>
    <p num="7">
      In recent years, a large number of recording apparatuses are used, and have requirements for high-speed recording, high resolution, high image quality, low noise, and the like.
      <br/>
      As a recording apparatus which can meet such requirements, the ink jet recording apparatus is known.
      <br/>
      In the ink jet recording apparatus for performing recording by ejecting an ink from a recording head, stabilization of ink ejection and stabilization of an ink ejection quantity required for meeting the requirements are considerably influenced by the temperature of the ink in an ejection unit.
      <br/>
      More specifically, when the temperature of the ink is too low, the viscosity of the ink is abnormally decreased, and the ink cannot be ejected with normal ejection energy.
      <br/>
      On the contrary, when the temperature is too high, the ejection quantity is increased, and the ink overflows on a recording sheet, resulting in degradation of image quality.
    </p>
    <p num="8">
      For this reason, in the conventional ink jet recording apparatus, a temperature sensor is arranged on a recording head unit, and a method of controlling the temperature of the ink in the ejection unit on the basis of the detection temperature of the recording head to fall within a desired range, or a method of controlling ejection recovery processing is employed.
      <br/>
      As the temperature control heater, a heater member joined to the recording head unit, or ejection heaters themselves in an ink jet recording apparatus for performing recording by forming flying ink droplets by utilizing heat energy, i.e., in an apparatus for ejecting ink droplets by growing bubbles by film boiling of the ink, are often used.
      <br/>
      When the ejection heaters are used, they must be energized or powered on as not to produce bubbles.
    </p>
    <p num="9">
      In a recording apparatus for obtaining ejection ink droplets by forming bubbles in a solid state ink or liquid ink using heat energy, the ejection characteristics vary depending on the temperature of the recording head.
      <br/>
      Therefore, it is particularly important to control the temperature of the ink in the ejection unit and the temperature of the recording head, which considerably influences the temperature of the ink.
    </p>
    <p num="10">
      However, it is very difficult to measure the ink temperature in the ejection unit, which considerably influences the ejection characteristics as the important factor upon temperature control of the recording head, since the detection temperature of the sensor drifts beyond the temperature drift of the ink necessary in control because the ejection unit is also a heat source, and since the ink itself moves.
      <br/>
      For this reason, even if the temperature sensor is merely arranged near the recording head to measure the temperature of the ink upon ejection with high precision, it is rather difficult to measure the temperature drift of the ink itself.
    </p>
    <p num="11">
      As one means for controlling the temperature of the ink, an ink jet recording apparatus for indirectly realizing stabilization of the ink temperature by stabilizing the temperature of the recording head is proposed. U.S. Pat. No. 4,910,528 discloses an ink jet printer, which has a means for stabilizing the temperature of the recording head upon recording according to the predicted successive driving amount of ejection heaters with reference to the detection temperature of the temperature sensor arranged very close to the ejection heaters.
      <br/>
      More specifically, a heating means of the recording head, an energization means to the ejection heaters, a carriage drive control means for maintaining the temperature of the recording head below a predetermined value, a carriage scan delay means, a carriage scan speed decreasing means, a change means for a recording sequence of ink droplet ejection from the recording head, and the like are controlled according to the predicted temperature, thereby stabilizing the temperature of the recording head.
    </p>
    <p num="12">However, the ink jet printer disclosed in U.S. Pat. No. 4,910,528 may pose a problem such as a decrease in recording speed since it has priority to stabilization of the temperature of the recording head.</p>
    <p num="13">
      On the other hand, since a temperature detection member for the recording head, which is important upon temperature control of the recording head, normally suffers from variations, the detection temperatures often vary in units of recording heads.
      <br/>
      Thus, a method of calibrating or adjusting the temperature detection member of the recording head before delivery of the recording apparatus, or a method of providing a correction value of the temperature detection member to the recording head itself, and automatically correcting the detection temperature when the head is attached to the recording apparatus main body, is employed.
    </p>
    <p num="14">
      However, in the method of calibrating or adjusting the temperature detection member before delivery of the recording apparatus, when the recording head must be exchanged, or contrarily, when an electrical circuit board of the main body must be exchanged, the temperature detection member must be re-calibrated or re-adjusted, and jigs for re-calibration or re-adjustment must be prepared.
      <br/>
      In order to provide the correction value to the recording head itself, the correction value must be measured in units of recording heads, and a special memory means must be provided to the recording head.
      <br/>
      In addition, the main body must have a detection means for reading the correction value, resulting in demerits in terms of cost and the arrangement of the apparatus.
    </p>
    <p num="15">
      In the method of using the ejection heaters in temperature control, two major methods are proposed.
      <br/>
      One method is a method of simply using the ejection heaters in the same manner as a temperature keeping heater.
      <br/>
      In this method, short pulses, which do not cause production of bubbles, are continuously applied to the ejection heaters in a non-print state, e.g., in a standby state wherein no recording operation is performed, thereby keeping the temperature.
      <br/>
      The other method is a method based on multi-pulse PWM (pulse width modulation) control.
      <br/>
      In this method, in place of keeping the temperature in the non-print state such as the standby state, two pulses per ejection are applied to each heater, so that the temperature of the ink at a boundary portion with the heater is increased by the first pulse, and a bubble is produced by the next pulse, thus performing ejection.
      <br/>
      In order to change the ejection quantity in this method, the pulse width of the first pulse which is ON first is varied within a bubble non-production range to increase the energy quantity to be input to the heater, thereby increasing the temperature of the ink located at an interface portion with the heater.
    </p>
    <p num="16">However, the above-mentioned method, which is executed for the purpose of stabilizing the ejection quantity, has the following problems to be solved.</p>
    <p num="17">
      In the method using the temperature keeping heater, the entire head having a large heat capacity must be kept at a predetermined temperature by the temperature keeping heater, and extra energy therefor must be input.
      <br/>
      In addition, the temperature rise requires much time, and results in wait time in the first print operation.
      <br/>
      Furthermore, in a portable recording apparatus, since a battery must also be used for keeping the temperature, the maximum print count is undesirably decreased.
      <br/>
      When the temperature keeping heater and ejection heaters are simultaneously turned on, a large current must instantaneously flow through a power supply, a flexible cable, and the like, thus increasing cost and disturbing a compact structure.
    </p>
    <p num="18">
      In the method using the multi-pulse PWM control, since the pulse width of the second pulse for bubble production is fixed, and that of the first pulse is varied to vary the energy quantity to be input to the head so as to vary the ejection quantity, energy larger than normal must be supplied to the head in order to obtain the maximum ejection quantity.
      <br/>
      Therefore, although real-time characteristics can be remarkably improved as compared to the method using the temperature keeping heater, a further improvement is required for instantaneous power and the load on the battery.
    </p>
    <p num="19">
      It is also required to record a halftone image by controlling the ink ejection quantity according to a halftone signal.
      <br/>
      However, in the above-mentioned ejection quantity control, the ejection quantity variation range is not sufficient, and is required to be further widened.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="20">The present invention has been made to solve the above-mentioned problems, and has as its object to provide an ink jet recording apparatus, which predicts the ink temperature in an ejection unit with high precision, and stabilizes ejection so as to correspond to the ink temperature drift.</p>
    <p num="21">It is another object of the present invention to provide an ink jet recording apparatus, which does not require special jigs upon exchange of a recording head or an electrical circuit board, and can precisely detect the temperature of the recording head without causing complicated processes and without an increase in cost depending on measurement of a correction value of the recording head and addition of reading means to an apparatus main body.</p>
    <p num="22">It is still another object of the present invention to provide a temperature calculation method for precisely calculating the temperature drift of an object without arranging a temperature sensor to the object.</p>
    <p num="23">It is still another object of the present invention to provide a recording apparatus, which can detect the temperature of the recording head without providing a temperature sensor to the recording head, and also to provide a recording apparatus, which can stabilize an ejection quantity, an ejection operation, and a recording operation.</p>
    <p num="24">It is still another object of the present invention to provide a recording apparatus, which can control the temperature of a recording head to fall within a desired range even when the print ratio is changed.</p>
    <p num="25">It is still another object of the present invention to provide an ink jet recording apparatus, which can stabilize an ejection quantity, and can widen a variation range of the ejection quantity even when a high-speed driving operation is performed.</p>
    <p num="26">In order to achieve the above objects, according to the present invention, there is provided an ink jet recording apparatus comprising a recording head for ejecting an ink from an ejection unit to cause a change in temperature in a recording period, temperature keeping means for maintaining a temperature of the recording head at a predetermined keeping temperature higher than an upper limit of a surrounding temperature range in which recording is possible, temperature prediction means for predicting an ink temperature in the ejection unit in the recording period prior to recording, and ejection stabilization means for stabilizing ink ejection from the ejection unit according to the ink temperature in the ejection unit predicted by the temperature prediction means.</p>
    <p num="27">According to the present invention, there is also provided an ink jet recording apparatus comprising a recording head for ejecting an ink from an ejection unit to cause a change in temperature in a recording period, temperature keeping means for maintaining a temperature of the recording head at a predetermined keeping temperature higher than an upper limit of a surrounding temperature range in which recording is possible, surrounding temperature detection means for detecting a surrounding temperature in the recording period, temperature prediction means for predicting an ink temperature in the ejection unit in the recording period prior to recording using the surrounding temperature detected by the surrounding temperature detection means, and ejection stabilization means for stabilizing ink ejection from the ejection unit according to the ink temperature in the ejection unit predicted by the temperature prediction means.</p>
    <p num="28">According to the present invention, there is also provided an ink jet recording apparatus comprising a head temperature detection member provided to a recording head for ejecting an ink, a reference temperature detection member provided to a main body, and calibration means for calibrating a head temperature detected by the head temperature detection member at a predetermined timing on the basis of a reference temperature detected by the reference temperature detection means.</p>
    <p num="29">According to the present invention, there is also provided a temperature calculation method for detecting a temperature of an object, which varies according to input energy, comprising the steps of calculating, as a discrete value, a change in temperature of the object upon elapse of unit time on the basis of the energy input to the object in unit time, and accumulating the discrete values upon elapse of unit time to calculate the change in temperature of the object.</p>
    <p num="30">According to the present invention, there is also provided an ink jet recording apparatus for performing recording by supplying heat energy according to a driving pulse to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium on the basis of formation of the bubble, comprising driving means for supplying a pre-driving pulse that does not cause ink ejection and a main driving pulse that causes the ink ejection to have a rest period between the two pulses upon ejection of one ink droplet, and rest period control means for prolonging the rest period to conduct the heat energy by the pre-driving pulse, thereby increasing an ink region associated with formation of the bubble based on film boiling.</p>
    <p num="31">According to the present invention, there is also provided an ink jet recording apparatus for performing recording by supplying heat energy according to a driving pulse to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium on the basis of formation of the bubble, comprising driving means for supplying at least one driving pulse to the recording head upon ejection of one ink droplet, and driving pulse control means for limiting energy of an ejection driving pulse that causes ink ejection of the driving pulse supplied from the driving means after film boiling is started by heat energy supplied according to the ejection driving pulse.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="32">
      FIG. 1 is a perspective view showing an arrangement of a preferable ink jet recording apparatus which can embody or adopt the present invention;
      <br/>
      FIG. 2 is a perspective view showing an exchangeable cartridge;
      <br/>
      FIG. 3 is a sectional view of a recording head;
      <br/>
      FIG. 4 is a perspective view of a carriage thermally coupled to the recording head;
      <br/>
      FIG. 5 is a block diagram showing a control arrangement for executing a recording control flow;
      <br/>
      FIG. 6 is a view showing the positional relationship among sub-heaters, ejection (main) heaters, and a temperature sensor of the head used in this embodiment;
      <br/>
      FIG. 7 is an explanatory view of a divided pulse width modulation driving method;
      <br/>
      FIGS. 8A and 8B are respectively a schematic longitudinal sectional view along an ink channel and a schematic front view showing an arrangement of a recording head which can adopt the present invention;
      <br/>
      FIG. 9 is a graph showing the pre-pulse dependency of the ejection quantity;
      <br/>
      FIG. 10 is a graph showing the temperature dependency of the ejection quantity;
      <br/>
      FIG. 11 is an explanatory view associated with ejection quantity control;
      <br/>
      FIGS. 12A to 12C show ink temperature--pre-pulse conversion tables for ejection quantity control;
      <br/>
      FIG. 13 shows a descent temperature table used in temperature prediction control;
      <br/>
      FIGS. 14A and 14B are explanatory views showing another arrangement for head temperature prediction;
      <br/>
      FIG. 15, which is comprised of FIGS. 15A and 15B, is a flow chart showing the outline of a print sequence;
      <br/>
      FIG. 16 is a block diagram showing another control arrangement for executing the recording control flow;
      <br/>
      FIGS. 17 to 19 are flow charts associated with temperature prediction control;
      <br/>
      FIG. 20 shows a temperature prediction table;
      <br/>
      FIG. 21 is a graph showing the temperature dependency of the vacuum hold time and the suction quantity;
      <br/>
      FIG. 22 is a diagram showing an arrangement of a sub-tank system;
      <br/>
      FIG. 23 is a graph showing output characteristics of a temperature sensor of the recording head used in the present invention;
      <br/>
      FIG. 24 is a flow chart showing calibration of a temperature detection member of a recording head in the 16th embodiment;
      <br/>
      FIG. 25 is a flow chart showing calibration of a temperature detection member of a recording head in the 17th embodiment;
      <br/>
      FIG. 26 is a flow chart showing calibration of a temperature detection member of a recording head in the 18th embodiment;
      <br/>
      FIG. 27 is an explanatory view for explaining a temperature calculation system of the present invention;
      <br/>
      FIG. 28 is a graph for explaining a temperature calculation of the present invention;
      <br/>
      FIG. 29 shows a temperature calculation table according to the 19th embodiment of the present invention;
      <br/>
      FIG. 30 is a chart with data lines (A)-(d) showing temperature calculation processes of the 19th embodiment;
      <br/>
      FIG. 31 is a flow chart for presuming the head temperature according to the 19th embodiment;
      <br/>
      FIG. 32 shows a temperature calculation table according to the 20th embodiment of the present invention;
      <br/>
      FIG. 33 is a perspective view showing an arrangement of the 21st embodiment;
      <br/>
      FIG. 34 shows a temperature calculation table according to the 21st embodiment of the present invention;
      <br/>
      FIG. 35 shows a target temperature table used in the 22nd embodiment;
      <br/>
      FIG. 36 is a graph showing a temperature rise process of a recording head in the 22nd embodiment;
      <br/>
      FIG. 37 is an equivalent circuit diagram of a heat conduction model in the 22nd embodiment;
      <br/>
      FIG. 38 is a table showing the required calculation interval and the data hold time for performing a temperature calculation;
      <br/>
      FIGS. 39 to 42 are calculation tables when ejection heaters or sub-heaters are used as a heat source and a time constant is determined by a short or long range member group;
      <br/>
      FIGS. 43A and 43B are graphs for comparing the recording head temperature presumed by a head temperature calculation means of the 22nd embodiment, and the actually measured recording head temperature;
      <br/>
      FIG. 44 is a PWM table showing pulse widths corresponding to temperature differences between the target temperature and the head temperatures;
      <br/>
      FIG. 45 is a graph for explaining sub-heater driving control;
      <br/>
      FIG. 46 is a table showing sub-heater driving control times corresponding to temperature differences between the target temperature and the head temperatures;
      <br/>
      FIG. 47 is a flow chart showing an interrupt routine for setting a PWM driving value and a sub-heater driving time;
      <br/>
      FIG. 48 is a flow chart showing a main routine;
      <br/>
      FIG. 49 is a table showing the relationship between the presumed head temperature and the pulse width;
      <br/>
      FIG. 50 is a table showing the relationship between the presumed head temperature and a pre-ejection;
      <br/>
      FIG. 51 is a temperature table when pre-ejection temperature tables are changed in units of ink colors;
      <br/>
      FIG. 52 is a timing chart showing the relationship between common and segment signals in a minimum ejection driving period of this embodiment;
      <br/>
      FIGS. 53A and 53B are explanatory views showing multi-pulse waveforms of the segment signal of this embodiment;
      <br/>
      FIG. 54 is a graph showing the interval time dependency of the ejection quantity;
      <br/>
      FIG. 55 is a sectional view showing a section of a heater board portion of a recording head;
      <br/>
      FIG. 56 is a graph showing the one-dimensional temperature distribution of the section near the heater board of the recording head in a direction of perpendicular to the heater board;
      <br/>
      FIG. 57 is an explanatory view associated with ejection quantity control;
      <br/>
      FIGS. 58 and 59 are flow charts associated with ejection quantity control in a temperature prediction control method;
      <br/>
      FIG. 60 is a table showing the relationship between the surrounding temperature and the target head temperature;
      <br/>
      FIGS. 61A and 61B are tables showing the relationship between the temperature difference and the interval time of multi-pulse PWM control;
      <br/>
      FIG. 62 is an explanatory view associated with ejection quantity control also using sub-heaters;
      <br/>
      FIG. 63 is a table showing multi-pulse PWM setting values;
      <br/>
      FIG. 64 is a flow chart associated with ejection quantity control in the temperature prediction control method also using the sub-heaters;
      <br/>
      FIG. 65 is a table showing the relationship between modulation of the main pulse and interval time, and the ejection quantity change rate in multi-pulse PWM control;
      <br/>
      FIG. 66 is a graph showing the temperature rise caused by heat accumulation of the recording head;
      <br/>
      FIG. 67 is a graph showing the relationship between the interval time and the ejection possible minimum main pulse width in the multi-pulse PWM control;
      <br/>
      FIG. 68 is a view showing changes in multi-pulse condition at respective position in the 29th embodiment;
      <br/>
      FIG. 69 is a graph showing the relationship between the pre-pulse width and the ejection possible minimum main pulse width in the multi-pulse PWM control;
      <br/>
      FIG. 70 is a view showing changes in multi-pulse condition at respective position in the 29th embodiment;
      <br/>
      FIGS. 71 and 72 are flow charts associated with ejection quantity control in the temperature prediction method;
      <br/>
      FIG. 73 is a table showing the relationship between the interval time and the main pulse width;
      <br/>
      FIG. 74 is a table showing the relationship between the pre-pulse width and the main pulse width;
      <br/>
      FIG. 75 is a graph showing the relationship between the recording head temperature and the ejection possible minimum main pulse width in a single pulse mode;
      <br/>
      FIG. 76 is a view showing changes in multi-pulse condition at respective positions in the 30th embodiment;
      <br/>
      FIG. 77 is a view showing changes in multi-pulse condition at respective positions in the 30th embodiment; and
      <br/>
      FIG. 78 is a graph for comparing ejection quantity variable ranges of a triple pulse method and other methods.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="33">
      The preferred embodiments of the present invention will be described in detail hereinafter with reference to the accompanying drawings.
      <br/>
      FIG. 1 is a perspective view showing an arrangement of a preferable ink jet recording apparatus IJRA, which can embody or adopt the present invention.
      <br/>
      In FIG. 1, a recording head (IJH) 5012 is coupled to an ink tank (IT) 5001. As shown in FIG. 2, the ink tank 5001 and the recording head 5012 form an exchangeable integrated cartridge (IJC).
      <br/>
      A carriage (HC) 5014 is used for mounting the cartridge (IJC) to a printer main body.
      <br/>
      A guide 5003 scans the carriage in the sub-scan direction.
    </p>
    <p num="34">
      A platen roller 5000 scans a print medium P in the main scan direction.
      <br/>
      A temperature sensor 5024 measures the surrounding temperature in the apparatus.
      <br/>
      The carriage 5014 is connected to a printed board (not shown) comprising an electrical circuit (the temperature sensor 5024, and the like) for controlling the printer through a flexible cable (not shown) for supplying a signal pulse current and a head temperature control current to the recording head 5012.
    </p>
    <p num="35">
      FIG. 2 shows the exchangeable cartridge, which has nozzle portions 5029 for ejecting ink droplets.
      <br/>
      The details of the ink jet recording apparatus IJRA with the above arrangement will be described below.
      <br/>
      In the recording apparatus IJRA, the carriage HC has a pin (not shown) to be engaged with a spiral groove 5005 of a lead screw 5004, which is rotated through driving power transmission gears 5011 and 5009 in cooperation with the normal/reverse rotation of a driving motor 5013.
      <br/>
      The carriage HC can be reciprocally moved in directions of arrows a and b. A paper pressing plate 5002 presses a paper sheet against the platen roller 5000 across the carriage moving direction.
      <br/>
      Photocouplers 5007 and 5008 serve as home position detection means for detecting the presence of a lever 5006 of the carriage HC in a corresponding region, and switching the rotating direction of the motor 5013.
      <br/>
      A member 5016 supports a cap member 5022 for capping the front surface of the recording head.
      <br/>
      A suction means 5015 draws the interior of the cap member by vacuum suction, and performs a suction recovery process of the recording head 5012 through an opening 5023 in the cap member.
    </p>
    <p num="36">
      A cleaning blade 5017 is supported by a member 5019 to be movable in the back-and-forth direction.
      <br/>
      The cleaning blade 5017 and the member 5019 are supported on a main body support plate 5018.
      <br/>
      The blade is not limited to this shape, and a known cleaning blade can be applied to this embodiment, as a matter of course.
      <br/>
      A lever 5021 is used for starting the suction operation in the suction recovery process, and is moved upon movement of a cam 5020 to be engaged with the carriage HC.
      <br/>
      The movement control of the lever 5021 is made by a known transmission means such as a clutch switching means for transmitting the driving force from the driving motor.
    </p>
    <p num="37">
      The capping, cleaning, and suction recovery processes can be performed at corresponding positions upon operation of the lead screw 5005 when the carriage HC reaches a home position region.
      <br/>
      This embodiment is not limited to this as long as desired operations are performed at known timings.
    </p>
    <p num="38">
      FIG. 3 shows the details of the recording head 5012.
      <br/>
      A heater board 5100 formed by a semiconductor manufacturing process is arranged on the upper surface of a support member 5300.
      <br/>
      A temperature control heater (temperature rise heater) 5110, formed by the same semiconductor manufacturing process, for keeping and controlling the temperature of the recording head 5012, is arranged on the heater board 5100.
      <br/>
      A wiring board 5200 is arranged on the support member 5300, and is connected to the temperature control heater 5110 and ejection (main) heaters 5113 through, e.g., bonding wires (not shown).
      <br/>
      The temperature control heater 5110 may be realized by adhering a heater member formed in a process different from that of the heater board 5100 to, e.g., the support member 5300.
    </p>
    <p num="39">
      A bubble 5114 is produced by heating an ink by the corresponding ejection heater 5113.
      <br/>
      An ink droplet 5115 is ejected from the corresponding nozzle portion 5029.
      <br/>
      The ink to be ejected flows from a common ink chamber 5112 into the recording head.
    </p>
    <p num="40">
      An embodiment of the present invention will be described below with reference to the accompanying drawings.
      <br/>
      FIG. 4 is a schematic view of an ink jet recording apparatus which can adopt the present invention.
      <br/>
      In FIG. 4, an ink cartridge 8a has an ink tank portion as its upper portion, and recording heads 8b (not shown) as its lower portion.
      <br/>
      The ink cartridge 8a is provided with a connector for receiving, e.g., signals for driving the recording heads 8b.
      <br/>
      A carriage 9 aligns and carries four cartridges (which store different color inks, e.g., black, cyan, magenta, and yellow inks).
      <br/>
      The carriage 9 is provided with a connector holder, electrically connected to the recording heads 23, for transmitting, e.g., signals for driving recording heads.
    </p>
    <p num="41">
      The ink jet recording apparatus includes a scan rail 9a, extending in the main scan direction of the carriage 9, for slidably supporting the carriage 9, and a drive belt 9c for transmitting a driving force for reciprocally moving the carriage 9.
      <br/>
      The apparatus also includes pairs of convey rollers 10c and 10d, arranged before and after the recording positions of the recording heads, for clamping and conveying a recording medium, and a recording medium 11 such as a paper sheet, which is urged against a platen (not shown) for regulating a recording surface of the recording medium 11 to be flat.
      <br/>
      At this time, the recording head 8b of each ink jet cartridge 8a carried on the carriage 9 projects downward from the carriage 9, and is located between the convey rollers 10c and 10d for conveying the recording medium.
      <br/>
      The ejection orifice formation surface of each recording head faces parallel to the recording medium 11 urged against the guide surface of the platen (not shown).
      <br/>
      Note that the drive belt 9c is driven by a main scan motor 63, and the pairs of convey rollers 10c and 10d are driven by a sub-scan motor 64 (not shown).
    </p>
    <p num="42">
      In the ink jet recording apparatus of this embodiment, a recovery system unit is arranged at the home position side (at the left side in FIG. 4).
      <br/>
      The recovery system unit includes cap units 300 arranged in correspondence with the plurality of ink jet cartridges 8a each having the recording head 8b.
      <br/>
      Upon movement of the carriage 9, the cap units 300 can be slid in the right-to-left direction and be also vertically movable.
    </p>
    <p num="43">
      When the carriage 9 is located at the home position, the cap units 300 are coupled to the corresponding recording heads 8b to cap them, thereby preventing an ejection error of the ink in the ejection orifices of the recording heads 8b.
      <br/>
      Such an ejection error is caused by evaporation and hence an increased viscosity and solidification of the attached inks.
    </p>
    <p num="44">
      The recovery system unit also includes a pump unit 500 communicating with the cap units 300.
      <br/>
      When the recording head 8b causes an ejection error, the pump unit 500 is used for generating a negative pressure in the suction recovery process executed by coupling the cap unit 300 and the corresponding recording head 8b.
      <br/>
      Furthermore, the recovery system unit includes a blade 401 as a wiping member formed of an elastic member such as rubber, and a blade holder 402 for holding the blade 401.
    </p>
    <p num="45">
      The four ink jet cartridges carried on the carriage 9 respectively use a black (to be abbreviated as K hereinafter) ink, a cyan (to be abbreviated as C hereinafter) ink, a magenta (to be abbreviated as M hereinafter) ink, and a yellow (to be abbreviated as Y hereinafter) ink.
      <br/>
      The inks overlap each other in this order.
      <br/>
      Intermediate colors can be realized by properly overlapping C, M, and Y color ink dots.
      <br/>
      More specifically, red can be realized by overlapping M and Y; blue, C and M; and green, C and Y. Black can be realized by overlapping three colors C, M, and Y. However, since black realized by overlapping three colors C, M, and Y has poor color development and precise overlapping of three colors is difficult, a chromatic edge is formed, and the ink implantation density per unit time becomes too high.
      <br/>
      For these reasons, only black is implanted separately (using a black ink).
    </p>
    <p num="46">(Control Arrangement)</p>
    <p num="47">
      The control arrangement for executing recording control of the respective sections of the above-mentioned apparatus arrangement will be described below with reference to FIG. 5.
      <br/>
      In FIG. 5, a CPU 60 is connected to a program ROM 61 for storing a control program executed by the CPU 60, and a backup RAM 62 for storing various data.
      <br/>
      The CPU 60 is also connected to the main scan motor 63 for scanning the recording head, and the sub-scan motor 64 for feeding a recording sheet.
      <br/>
      The sub-scan motor 64 is also used in the suction operation by the pump.
      <br/>
      The CPU 60 is also connected to a wiping solenoid 65, a paper feed solenoid 66 used in paper feed control, a cooling fan 67, and a paper width detector LED 68 which is turned on in a paper width detection operation.
      <br/>
      The CPU 60 is also connected to a paper width sensor 69, a paper flit sensor 70, a paper feed sensor 71, a paper eject sensor 72, and a suction pump position sensor 73 for detecting the position of the suction pump.
      <br/>
      The CPU 60 is also connected to a carriage HP sensor 74 for detecting the home position of the carriage, a door open sensor 75 for detecting an open/closed state of a door, and a temperature sensor 76 for detecting the surrounding temperature.
    </p>
    <p num="48">
      The CPU 60 is also connected to a gate array 78 for performing supply control of recording data to the four color heads, a head driver 79 for driving the heads, the ink cartridges 8a for four colors, and the recording heads 8b for four colors.
      <br/>
      FIG. 5 representatively illustrates the Bk (black) ink cartridge 8a and the Bk recording head 8b.
      <br/>
      The head 8b has main heaters 8c for ejecting the ink, sub-heaters 8d for performing temperature control of the head, and temperature sensors 8e for detecting the head temperature.
    </p>
    <p num="49">
      FIG. 6 is a view showing a heater board (H * B) 853 of the head used in this embodiment.
      <br/>
      Ejection unit arrays 8g on which the temperature control (sub) heaters 8d and the ejection (main) heaters 8c are arranged, the temperature sensors 8e, driving elements 8h are formed on a single substrate to have the positional relationship shown in FIG. 6.
      <br/>
      When the elements are arranged on the single substrate, detection and control of the head temperature can be efficiently performed, and a compact head and a simple manufacturing process can be realized.
      <br/>
      FIG. 6 also shows the positional relationship of outer wall sections 8f of a top plate for separating the H * B into a region filled with the ink, and the remaining region.
    </p>
    <p num="50">(First Embodiment)</p>
    <p num="51">
      An embodiment of the present invention will be described in detail below with reference to the accompanying drawings.
      <br/>
      In this embodiment, a temperature detection member capable of directly detecting the temperature of the recording head of the above-mentioned recording apparatus, and a temperature calculation circuit for this member are added.
    </p>
    <p num="52">
      In FIG. 6, the head temperature sensors 8e are arranged on the H * B 853 of the recording head together with the ejection heaters 8g and the sub-heaters 8d, and are thermally coupled to the heat source of the recording head.
      <br/>
      Therefore, each temperature sensor 8e can easily detect the temperature of the ink in the common ink chamber surrounded by the top plate 8f, but is easily influenced by heat generated by the ejection heaters and the sub-heaters.
      <br/>
      Thus, it is difficult to detect the temperature of the ink during the driving operation of these heaters.
      <br/>
      For this reason, in this embodiment, as the temperature of the recording head including the ink in the ejection unit, a value actually measured by the temperature detection member is used in a static state, and a predicted value is used in a dynamic state (e.g., in a recording mode suffering from a large temperature drift), thereby detecting the ink temperature in the ejection unit with high precision.
    </p>
    <p num="53">(Summary of Ejection Stabilization)</p>
    <p num="54">
      In this embodiment, in execution of recording by ejecting ink droplets from the recording head, the temperature of the recording head is maintained at a keeping temperature set to be higher than the surrounding temperature using the temperature detection member and heating members (sub-heaters) provided to the recording head.
      <br/>
      In addition to the detection temperature of the temperature detection member, the ink temperature drift of the ejection unit is predicted on the basis of energy to be supplied to the recording head, and the thermal time constant of the ejection unit, and ejection is stabilized according to the predicted ink temperature.
      <br/>
      It is difficult in terms of cost to equip the temperature detection member for directly detecting the temperature of the recording head in the ink jet recording apparatus using the IJC like in this embodiment.
      <br/>
      In addition, a countermeasure against static electricity required for joint points between a temperature measurement circuit and the IJC relatively complicates the recording apparatus.
      <br/>
      From this viewpoint, the arrangement of such a circuit is disadvantageous.
      <br/>
      However, in order to detect the temperature of the recording head including the ink in the ejection unit prior to recording, the temperature detection member provided to the recording head should be utilized to simplify calculation processing, and to improve precision.
      <br/>
      This embodiment exemplifies the exchangeable recording head.
      <br/>
      Of course, a permanent type recording head, which need not be exchanged, may be used.
      <br/>
      In this case, the above-mentioned disadvantages are relaxed as a matter of course.
    </p>
    <p num="55">
      In the present invention, the target head temperature in the recording mode is set at a temperature sufficiently higher than the upper limit of a surrounding temperature range within which the ink jet recording apparatus of the present invention is assumed to be normally used.
      <br/>
      In one driving method of this control, the temperature of the recording head is increased to and maintained at the keeping temperature higher than the surrounding temperature using the sub-heaters, and PWM ejection quantity control (to be described later) based on the predicted ink temperature drift is made to obtain a constant ejection quantity.
      <br/>
      More specifically, when the ejection quantity is stabilized, a change in density in one line or one page can be eliminated.
      <br/>
      At the same time, when the recording condition and the recovery condition are optimized, deterioration of image quality caused by the ejection error and ink overflow on a recording sheet can also be prevented.
    </p>
    <p num="56">(PWM Control)</p>
    <p num="57">
      The PWM ejection quantity control method of this embodiment will be described in detail below with reference to the accompanying drawings.
      <br/>
      FIG. 7 is a view for explaining divided pulses according to this embodiment.
      <br/>
      In FIG. 7, VOP represents an operational voltage, P1 represents the pulse width of the first pulse (to be referred to as a pre-pulse hereinafter) of a plurality of divided heat pulses, P2 represents an interval time, and P3 represents the pulse width of the second pulse (to be referred to as a main pulse hereinafter).
      <br/>
      T1, T2, and T3 represent times for determining the pulse widths P1, P2, and P3.
      <br/>
      The operational voltage VOP represents electrical energy necessary for causing an electrothermal converting element applied with this voltage to generate heat energy in the ink in an ink channel constituted by the heater board and the top plate.
      <br/>
      The value of this voltage is determined by the area, resistance, and film structure of the electrothermal converting element, and the channel structure of the recording head.
    </p>
    <p num="58">
      The PWM ejection quantity control of this embodiment can also be referred to as a pre-pulse width modulation driving method.
      <br/>
      In this control, in ejection of one ink droplet, the pulses respectively having the widths P1, P2, and P3 are sequentially applied, and the pre-pulse width is modulated according to the ink temperature.
      <br/>
      The pre-pulse is a pulse for mainly controlling the ink temperature in the channel, and plays an important role of the ejection quantity control of this embodiment.
      <br/>
      The pre-heat pulse width is preferably set to be a value that does not cause a bubble production phenomenon in the ink by heat energy generated by the electrothermal converting element applied with this pulse.
      <br/>
      The interval time assures a time for transmitting the energy of the pre-pulse to the ink in the ink channel.
      <br/>
      The main pulse produces a bubble in the ink in the ink channel, and ejects the ink from an ejection orifice.
      <br/>
      The width P3 of the main pulse is preferably determined by the area, resistance, and film structure of the electrothermal converting element, and the channel structure of the recording head.
    </p>
    <p num="59">
      The operation of the pre-pulse in a recording head having a structure shown in, e.g., FIGS. 8A and 8B will be described below.
      <br/>
      FIGS. 8A and 8B are respectively a schematic longitudinal sectional view along an ink channel and a schematic front view showing an arrangement of a recording head which can adopt the present invention.
      <br/>
      In FIGS. 8A and 8B, an electrothermal converting element (ejection heater) 21 generates heat upon application of the divided pulses.
      <br/>
      The electrothermal converting element 21 is arranged on a heater board together with an electrode wire for applying the divided pulses to the element 21.
      <br/>
      The heater board is formed of a silicon layer 29, and is supported by an aluminum plate 31 constituting the substrate of the recording head.
      <br/>
      A top plate 32 is formed with grooves 35 for constituting ink channels 23, and the like.
      <br/>
      When the top plate 32 and the heater board (aluminum plate 31) are joined, the ink channels 23, and a common ink chamber 25 for supplying the ink to the channels are constituted.
      <br/>
      Ejection orifices 27 (the hole area corresponds to a diameter of 20 MU ) are formed in the top plate 32, and communicate with the ink channels 23.
    </p>
    <p num="60">
      In the recording head shown in FIGS. 8A and 8B, when the operational voltage VOP =18.0 (V) and the main pulse width P3 =4.114 � MU sec� are set, and the pre-pulse width P1 is changed within a range between 0 to 3.000 � MU sec�, the relationship between an ejection quantity Vd �pl/drop� and the pre-pulse width P1 � MU sec� shown in FIG. 9 is obtained.
      <br/>
      FIG. 9 is a graph showing the pre-pulse width dependency of the ejection quantity.
      <br/>
      In FIG. 9, V0 represents the ejection quantity when P1 =0 � MU sec�, and this value is determined by the head structure shown in FIGS. 8A and 8B. For example, V0 =18.0 �pl/drop� in this embodiment when a surrounding temperature TR =25 (degree)  C.
    </p>
    <p num="61">
      As indicated by a curve a in FIG. 9, the ejection quantity Vd is linearly increased according to an increase in pre-pulse width P1 when the pulse width P1 changes from 0 to P1LMT.
      <br/>
      The change in quantity loses linearity when the pulse width P1 falls within a range larger than P1LMT.
      <br/>
      The ejection quantity Vd is saturated, i.e., becomes maximum at the pulse width P1MAX.
      <br/>
      The range up to the pulse width P1LMT where the change in ejection quantity Vd shows linearity with respect to the change input pulse width P1 is effective as a range where the ejection quantity can be easily controlled by changing the pulse width P1.
      <br/>
      For example, in this embodiment indicated by the curve a, P1LMT =1.87 ( MU s), and the ejection quantity at that time was VLMT =24.0 �pl/drop�. The pulse width P1MAX when the ejection quantity Vd was saturated was P1MAX =2.1 � MU s�, and the ejection quantity at that time was VMAX =25.5 �pl/drop�.
    </p>
    <p num="62">
      When the pulse width is larger than P1MAX, the ejection quantity Vd becomes smaller than VMAX.
      <br/>
      This phenomenon produces a small bubble (in a state immediately before film boiling) on the electrothermal converting element upon application of the pre-pulse having the pulse width within the above-mentioned range, the next main pulse is applied before this bubble disappears, and the small bubble disturbs bubble production by the main pulse, thus decreasing the ejection quantity.
      <br/>
      This region is called a pre-bubble region.
      <br/>
      In this region, it is difficult to perform ejection quantity control using the pre-pulse as a medium.
    </p>
    <p num="63">
      When the inclination of a line representing the relationship between the ejection quantity and the pulse width within a range of P1 =0 to P1LMT � MU s� is defined as a pre-pulse dependency coefficient, the pre-pulse dependency coefficient is given by:
      <br/>
      KP= DELTA Vdp/ DELTA P1 �pl/ MU sec * drop�
    </p>
    <p num="64">
      This coefficient KP is determined by the head structure, the driving condition, the ink physical property, and the like independently of the temperature.
      <br/>
      More specifically, curves b and c in FIG. 9 represent the cases of other recording heads.
      <br/>
      As can be understood from FIG. 9, the ejection characteristics vary depending on recording heads.
      <br/>
      In this manner, since the upper limit value P1LMT of the pre-pulse P1 varies depending on different types of recording heads, the upper limit value P1LMT for each recording head is determined, as will be described later, and ejection quantity control is made.
      <br/>
      In the recording head and the ink indicated by the curve a of this embodiment, KP=3.209 �pl/ MU sec * drop�.
    </p>
    <p num="65">
      As another factor for determining the ejection quantity of the ink jet recording head, the ink temperature of the ejection unit (which may often be substituted with the temperature of the recording head) is known.
      <br/>
      FIG. 10 is a graph showing the temperature dependency of the ejection quantity.
      <br/>
      As indicated by a curve a in FIG. 10, the ejection quantity vd linearly increases as an increase in temperature TH (equal to the ink temperature in the ejection unit since characteristics in this case are static temperature characteristics).
      <br/>
      When the inclination of this line is defined as a temperature dependency coefficient, the temperature dependency coefficient is given by:
      <br/>
      KT= DELTA VdT/ DELTA TH �pl/ (degree)  C. * drop�
    </p>
    <p num="66">
      This coefficient KT is determined by the head structure, the ink physical property, and the like independently of the driving condition.
      <br/>
      In FIG. 10, curves b and c also represent the cases of other recording heads.
      <br/>
      For example, in the recording head of this embodiment, KT=0.3 �pl/ (degree)  C. * drop�.
    </p>
    <p num="67">
      FIG. 11 shows an actual control diagram of the relationships shown in FIGS. 9 and 10. In FIG. 11, T0 represents a keeping temperature of the recording head.
      <br/>
      When the ink temperature of the ejection unit is lower than T0, the recording head is heated by the sub-heaters.
      <br/>
      Therefore, the PWM control as the ejection quantity control according to the ink temperature is performed at a temperature equal to or higher than T0.
      <br/>
      In the present invention, the keeping temperature is set to be higher than a normal surrounding temperature.
      <br/>
      As described above, since the ejection quantity control is preferably performed using the pre-pulse, the width of which is smaller than the pre-bubble region, and the temperature range capable of performing the PWM control is limited to some extent, the ejection quantity can be stabilized easily at a high keeping temperature in consideration of the temperature rise of the recording head itself.
    </p>
    <p num="68">
      For example, when the keeping temperature is set at 20 (degree)  C., the heating operation of the sub-heaters is almost unnecessary when the recording apparatus is used in an ordinary environment, and a merit of no wait time can be obtained.
      <br/>
      However, an upper limit temperature TL capable of performing the PWM control in this case is 38 (degree)  C. In a high-temperature environment as high as about 30 (degree)  C., even when the temperature of the recording head itself is increased, the temperature range capable of performing the ejection quantity control is narrowed.
      <br/>
      In contrast to this, according to the present invention, since the keeping temperature is set at 36 (degree)  C., the upper limit temperature TL is set at 54 (degree)  C., and the temperature range capable of performing the ejection quantity control can be prevented from being narrowed in an ordinary environment.
      <br/>
      Even when the temperature of the recording head itself is increased more or less, recording can be satisfactorily performed in a stable ejection quantity.
      <br/>
      When the PWM control is made by directly measuring the temperature of the recording head using a temperature sensor, it is advantageous since an adverse influence such as a ripple of the detection temperature due to heating of the sub-heater and heat generation in the recording mode can be eliminated.
      <br/>
      However, in this embodiment, the ink temperature of the ejection unit is directly measured in a state with a small temperature drift like in a non-recording mode, and the temperature in the recording mode with a large temperature drift is predicted from energy to be supplied to the recording head and the thermal time constant of the recording head including the ink in the ejection unit.
      <br/>
      For this reason, the above-mentioned adverse influence can be eliminated from the beginning.
      <br/>
      Furthermore, the ink temperature of the ejection unit, which has been increased too much, is decreased mainly by heat radiation to the recording head, and the ink temperature can be decreased earlier as the temperature decrease speed of the recording head is higher.
      <br/>
      For this reason, it is more advantageous as the difference between the keeping temperature and the surrounding temperature in the recording mode is larger.
    </p>
    <p num="69">
      The temperature range described as a "PWM control region" in FIG. 11 is a temperature range capable of stabilizing the ejection quantity, and in this embodiment, this range corresponds to a range between 34 (degree)  C. and 54 (degree)  C. of the ink temperature of the ejection unit.
      <br/>
      FIG. 11 shows the relationship between the ink temperature of the ejection unit and the ejection quantity when the pre-pulse is changed by 11 steps.
      <br/>
      Even when the ink temperature of the ejection unit changes, the pre-pulse width is changed for each temperature step width  DELTA T according to the ink temperature, so that the ejection quantity can be controlled within the width  DELTA V with respect to a target ejection quantity Vd0.
    </p>
    <p num="70">
      FIG. 12A shows a correspondence table between the ink temperature and the pre-pulse.
      <br/>
      In this embodiment, the exchangeable IJC is used as the recording head.
      <br/>
      When the ejection quantities vary depending on cartridges, the correspondence table between the ink temperature and the pre-pulse may be changed in correspondence with heads.
      <br/>
      For example, in the case of a cartridge having a relatively small ejection quantity, a table shown in FIG. 12B may be used.
      <br/>
      In the case of a cartridge having a relatively large ejection quantity, a table shown in FIG. 12C may be used.
      <br/>
      Furthermore, a table may be provided according to the pre-pulse dependency coefficient or the temperature dependency coefficient of the ejection quantity.
    </p>
    <p num="71">(Temperature Prediction Control)</p>
    <p num="72">
      Presumption of the ink temperature of the ejection unit in this embodiment is basically performed using the distribution of a power ratio calculated from the number of dots of image data to be printed on the basis of the actually measured value from the temperature detection member in the non-recording mode with a small temperature drift.
      <br/>
      In this embodiment, the power ratio is calculated in each reference period obtained by dividing a recording period at predetermined intervals, and the temperature prediction and PWM control are also sequentially performed in each reference period.
      <br/>
      The reason why the number of dots (print duty) is not merely used is that energy to be supplied to a head chip varies according to a variation in pre-pulse value even when the number of dots remains the same.
      <br/>
      Using the concept of the "power ratio", a single table can be used even when the pre-pulse value is changed by the PWM control.
      <br/>
      Of course, a calculation may be made while temporarily fixing the pulse width to a predetermined value depending on required precision of the predicted ink temperature.
    </p>
    <p num="73">
      In this embodiment, the temperature of the recording head is maintained at the keeping temperature set to be higher than the surrounding temperature by properly driving the sub-heaters according to the temperature detected by the temperature detection member.
      <br/>
      For this reason, as for an increase or decrease in ink temperature, the temperature rise due to heat generation of the ejection heaters and heat radiation based on the thermal time constant of the recording head need only be predicted with reference to a control temperature.
      <br/>
      In this case, until the temperature of an aluminum base plate having a large heat capacity, which is a major heat radiation destination in a temperature rise state, reaches a predetermined temperature, the heat radiation characteristics may often vary.
      <br/>
      In this case, since the object of utilization of the temperature detection member in this embodiment is to detect the ink temperature in a static state with a small temperature drift, the sub-heaters for keeping the temperature and the temperature detection member may be arranged adjacent to the aluminum base plate as one constituting member of the recording head since no serious problem is posed when they are arranged at positions relatively thermally separated from the ejection heaters.
    </p>
    <p num="74">
      In this embodiment, a sum of the keeping temperature and a value obtained by accumulating increased temperature remainders in all the effective reference time periods (the increased temperature remainder is not 0) before an objective reference time period in which the ink temperature is presumed is determined as the ink temperature during the objective reference time period with reference to a descent temperature table in FIG. 13, which shows increased temperature remainders from the keeping temperature according to the power ratio during a given reference time period in units of elapsed times from the reference time period.
      <br/>
      A print time for one line is assumed to be 0.7 sec, and a time period (0.02 sec) obtained by dividing this print time by 35 is defined as the reference time period.
    </p>
    <p num="75">
      For example, if recording is performed for the first time at a power ratio of 20% during the first reference time period, 80% during the second reference time period, and 50% during the third reference time period after the temperature keeping operation is completed, the ink temperature of the ejection unit during the fourth reference time period can be presumed from the increased temperature remainders of the three reference time periods so far.
      <br/>
      More specifically, the increased temperature remainder during the first reference time period is 85 * 10-3 deg (a in FIG. 13) since the power ratio is 20% and the elapsed time is 0.06 sec; the increased temperature remainder during the second reference time period is 369 * 10-3 deg (b in FIG. 13) since the power ratio is 80% and the elapsed time is 0.04 sec; and the increased temperature remainder during the third reference time period is 250 * 10-3 deg (c in FIG. 13) since the power ratio is 50% and the elapsed time is 0.02 sec. Therefore, when these remainders are accumulated, we have 704 * 10-3 deg, and 36.704 (degree)  C. as the sum of this value and 36 (degree)  C. are predicted as the ink temperature of the ejection unit during the fourth reference time period.
    </p>
    <p num="76">
      Presumption of the ink temperature and setting of the pulse width are performed as follows in practice.
      <br/>
      The pre-pulse value during the first reference period is obtained from the predicted ink temperature (equal to the keeping temperature if it is immediately after the temperature keeping operation is completed) at the beginning of the print operation during the first reference time period with reference to FIG. 12A, and is set on the memory.
      <br/>
      Then, the power ratio during the first reference time period is calculated based on the number of dots (number of times of ejection) obtained from image data, and the pre-pulse value.
      <br/>
      The calculated power ratio is substituted in the descent temperature table (FIG. 13) (with reference to the table) to predict the ink temperature at the end of the print operation during the first reference time period (i.e., at the beginning of the print operation during the second reference time period).
      <br/>
      The ink temperature can be presumed by adding the increased temperature remainder obtained from FIG. 13 to the keeping temperature.
      <br/>
      Subsequently, the pre-pulse value during the second reference time period is obtained from the predicted ink temperature at the beginning of the print operation during the second reference time period with reference to FIG. 12A, and is set in the memory.
    </p>
    <p num="77">
      Thereafter, the power ratio is calculated in turn based on the number of dots in the corresponding reference time period and the predicted ink temperature, and increased temperature remainders associated with the objective reference time periods are accumulated.
      <br/>
      Thereafter, after the pre-pulse values during all the reference time periods in one line are set, the 1-line print operation is performed according to the set pre-pulse values.
    </p>
    <p num="78">With the above-mentioned control, the actual ejection quantity can be stably controlled independently of the ink temperature, and a uniform recorded image with high quality can be obtained.</p>
    <p num="79">
      Recording signals, and the like sent through an external interface are stored in a reception buffer 78a in the gate array 78.
      <br/>
      The data stored in the reception buffer 78a is developed to a binary signal (0, 1) indicating "to eject/not to eject", and the binary signal is transferred to a print buffer 78b.
      <br/>
      The CPU 60 can refer to the recording signals from the print buffer 78b as needed.
      <br/>
      Two line duty buffers 78c are prepared in the gate array 78.
      <br/>
      Each line duty buffer stores print duties (ratios) of areas obtained by dividing one line at equal intervals (into, e.g., 35 areas).
      <br/>
      The "line duty buffer 78c1" stores print duty data of the areas of a currently printed line.
      <br/>
      The "line duty buffer 78c2" stores print duty data of the areas of a line next to the currently printed line.
      <br/>
      The CPU 60 can refer to the print duties of the currently printed line and the next line at any time, as needed.
      <br/>
      The CPU 60 refers to the line duty buffers 78c during the above-mentioned temperature prediction control to obtain the print duties of the areas.
      <br/>
      Therefore, the calculation load on the CPU 60 can be reduced.
    </p>
    <p num="80">
      In this embodiment, a recording operation is inhibited or an alarm is generated for a user until the temperature keeping operation is completed, and the ink temperature associated with the ejection quantity control is presumed after the temperature keeping operation is completed.
      <br/>
      Under these conditions, prediction of the ink temperature can be simplified since the control is made under an assumption that the temperature of the aluminum base plate associated with heat radiation is maintained at a temperature equal to or higher than the keeping temperature.
      <br/>
      However, if a surrounding temperature detection means (the temperature sensor 5024 in FIG. 1) is used, since the temperature of the aluminum base plate at a desired timing can be predicted even before the temperature keeping operation is completed, the ink temperature of the ejection unit is detected using the predicted temperature as a reference temperature so as to allow recording before completion of the temperature keeping operation.
      <br/>
      Since a time required until the temperature keeping operation is completed can be calculated and predicted if the surrounding temperature detection means is used, the time of a temperature keeping timer may be changed according to the predicted time.
    </p>
    <p num="81">
      In this embodiment, double-pulse PWM control is performed to control the ejection quantity.
      <br/>
      Alternatively, single-pulse PWM control or PWM control using three or more pulses may be used.
    </p>
    <p num="82">
      According to the present invention, the keeping temperature is set to be higher than a normal surrounding temperature to widen the temperature range capable of performing the ejection quantity control to a high-temperature region.
      <br/>
      When the ink temperature reaches a non-control region at a higher temperature in which ejection quantity control is impossible, the temperature prediction may be restarted from the beginning after the carriage scan speed is decreased or after the carriage scan start timing is delayed.
    </p>
    <p num="83">(Second Embodiment)</p>
    <p num="84">
      A method of presuming the current temperature from a print ratio (to be referred to as a print duty hereinafter), and controlling a recovery sequence for stabilizing ejection in an ink jet recording apparatus will be described below.
      <br/>
      In the present invention, since the keeping temperature in a print mode is set to be higher than a surrounding temperature, the ink in the ejection unit is easily evaporated, and it is important to perform recovery control according to the thermal history of the recording head.
      <br/>
      In this embodiment, a pre-ejection condition is changed according to the presumed ink temperature of the ejection unit during recording and at the end of recording.
    </p>
    <p num="85">
      At a high temperature, the ink in the ejection unit is easily evaporated.
      <br/>
      In particular, when there is a nozzle which is not used by chance according to recording data, the ink in only this nozzle is evaporated, and cannot be easily ejected from this nozzle.
      <br/>
      Thus, the pre-ejection interval or the number of times of pre-ejection can be changed according to the presumed ink temperature in the recording mode.
      <br/>
      In this embodiment, the number of times of pre-ejection is changed as shown in Table 1 below according to the maximum ink temperature in the recording mode.
      <br/>
      At the same time, as the temperature in a pre-ejection mode is higher, the ejection quantity is increased.
      <br/>
      For this reason, the ejection quantity is suppressed by decreasing the pulse width according to the ink temperature in the pre-ejection mode by the same PWM control as in the first embodiment.
      <br/>
      In this case, a pre-pulse table may be modified to obtain relatively higher energy than in the recording mode in consideration of the object of the pre-ejection.
    </p>
    <p num="86">
      --         TABLE 1
      <br/>
      --         Maximum Ink Temperature Number of Times of
      <br/>
      --         ( (degree)  C.)            Pre-ejection
      <br/>
      --         30 to 40              12
      <br/>
      --         40 to 50              18
      <br/>
      --         more than 50          24
    </p>
    <p num="87">
      As the temperature is higher, the temperature variations among nozzles are increased.
      <br/>
      For this reason, the distribution of the number of times of pre-ejection may be optimized.
      <br/>
      For example, as the temperature becomes higher, control may be made to increase a difference between the numbers of times of pre-ejection of the nozzle end portions and the central portion as compared to that at room temperature.
    </p>
    <p num="88">
      When a plurality of heads are arranged, different pre-ejection temperature tables may be prepared in units of ink colors.
      <br/>
      When the head temperature is high, the viscosity of Bk (black) containing a larger amount of dye as compared to Y (yellow), M (magenta), and C (cyan) tends to be increased.
      <br/>
      For this reason, control may be made to increase the number of times of pre-ejection.
      <br/>
      When the plurality of heads have different head temperatures, pre-ejection control may be made in units of heads.
    </p>
    <p num="89">
      When the number of nozzles is large, nozzles 49 may be divided into two regions, as shown in FIG. 14A showing the surface of the head, and the ink temperature may be presumed in units of divided regions.
      <br/>
      As shown in the block diagram of FIG. 14B, counters 51 and 52 for independently obtaining print duties are provided in correspondence with the two nozzle regions, and the ink temperatures are presumed on the basis of the independently obtained print duties.
      <br/>
      Then, the pre-ejection conditions can be independently set.
      <br/>
      Thus, an error in ink temperature prediction caused by the print duty can be eliminated, and more stable ejection can be expected.
      <br/>
      Note that in FIG. 14B, a host computer 50 is connected to the counters 51 and 52, and the same reference numerals in FIG. 14B denote the same parts as in FIGS. 1 and 5.
    </p>
    <p num="90">
      The total number of times of ejection of each nozzle may be counted, and the degree of evaporation of the ink in each nozzle may be presumed in combination with the presumed ink temperature.
      <br/>
      The distribution of the number of times of pre-ejection may be optimized in correspondence with these presumed values.
      <br/>
      Such control can be easily realized by the arrangement of the present invention, and a remarkable effect can also be expected.
    </p>
    <p num="91">(Third Embodiment)</p>
    <p num="92">
      This embodiment exemplifies a case wherein a predetermined recovery means is operated at intervals which are optimally set according to the history of the ink temperature in an ejection unit within a predetermined period of time.
      <br/>
      The recovery means to be controlled in this embodiment is wiping means, which is executed at predetermined time intervals during a continuous print operation (in a cap open state) so as to stabilize ejection.
      <br/>
      The wiping means to be controlled in this embodiment is executed for the purpose of removing an unnecessary liquid such as an ink, vapor, or the like, and a solid-state foreign matter such as paper particles, dust, or the like attached onto an orifice formation surface.
    </p>
    <p num="93">
      This embodiment pays attention to the fact that the wet quantity due to, e.g., the ink varies depending on the head temperature, and evaporation of the wet quantity, which makes removal of the ink or the foreign matter difficult, is associated with the head temperature (the temperature of the orifice formation surface).
      <br/>
      Thus, since the temperature of the orifice formation surface has a strong correlation with the ink temperature in the ejection unit, ink temperature prediction can be applied to wiping control.
      <br/>
      Since the above-mentioned wet quantity and evaporation of the wet associated with wiping has a stronger correlation with the temperature of the orifice formation surface in the recording mode than the head temperature upon execution of wiping, a temperature presuming means in the recording mode of this embodiment can be suitably applied.
    </p>
    <p num="94">
      FIG. 15, which is comprised of FIGS. 15A and 15B, is a flow chart showing the outline of a print sequence of the ink jet recording apparatus of this embodiment.
      <br/>
      When a print signal is input, the print sequence is executed (step S1).
      <br/>
      A pre-ejection timer is set according to the ink temperature at that time, and is started (step S2).
      <br/>
      Furthermore, a wiping timer is similarly set according to the ink temperature at that time, and is started (step S3).
      <br/>
      If no paper sheet is stocked, paper sheets are supplied (steps S4 and S5), and thereafter, as soon as a data input operation is completed, a carriage scan (printing scan) operation is performed to print data for one line (steps S6 and S7).
    </p>
    <p num="95">
      When the print operation is to be ended, the paper sheet is discharged, and the control returns to a standby state (steps S8 to S10); when the print operation is to be continued, the paper sheet is fed by a predetermined amount, and the tail end of the paper sheet is checked (steps S11 to S14).
      <br/>
      The wiping and pre-ejection timers, which have been set according to the average ink temperature in the print mode, are checked and re-set, and after a wiping or pre-ejection operation is performed as needed, these timers are restarted (steps S15 and S16).
      <br/>
      At this time, the average ink temperature is calculated regardless of the presence/absence of execution of the operation (steps S151 and S161), and the wiping and pre-ejection timers are re-set according to the calculated average temperature (steps S153, S155, S163, and S165).
    </p>
    <p num="96">
      More specifically, in this embodiment, since the wiping and pre-ejection timings are finely re-set according to the average ink temperature every time a line print operation is performed, the optimal wiping and pre-ejection operations according to ink evaporation or wet conditions can be performed.
      <br/>
      After the end of the predetermined recovery operations, and the completion of the data input operation, the above-mentioned steps are repeated to perform the printing scan operation again.
    </p>
    <p num="97">
      Table 2 below serves as a correspondence table between the pre-ejection interval and the number of times of pre-ejection according to the average ink temperature for last 12 sec, and as for the wiping interval, serves as a correspondence table according to the average ink temperature for last 48 sec.
      <br/>
      In this embodiment, as the average head temperature becomes higher, the interval is set to be shorter, and the number of times of pre-ejection is decreased.
      <br/>
      On the contrary, as the average head temperature becomes lower, the interval is set to be longer, and the number of times of pre-ejection is increased.
      <br/>
      The interval and the number of times of pre-ejection can be appropriately set in consideration of the ejection characteristics according to evaporation/viscosity increase characteristics of the ink, and characteristics such as a change in density.
      <br/>
      For example, when an ink, which contains a large quantity of a nonvolatile solvent, and is assumed to suffer from a decrease in viscosity due to the temperature rise rather than an increase in viscosity due to evaporation, is used, the pre-ejection interval may be set to be longer when the temperature is high.
    </p>
    <p num="98">
      -- TABLE 2
      <br/>
      --                                  Presumption   Presumption
      <br/>
      --               Presumption for    for Last 48   for Last 12
      <br/>
      --               Last 12 sec        sec           hours
      <br/>
      -- Presumed      Pre-ejection       Wiping        Suction
      <br/>
      -- Temperature   Interval  No. of    Interval      Interval
      <br/>
      -- ( (degree)  C.)    (sec)     Pulses    (sec)         (hour)
      <br/>
      -- 30 to 40      9         12        36            60
      <br/>
      -- 40 to 50      6          8   24            48
      <br/>
      -- more than 50  3          4   12             3
    </p>
    <p num="99">
      As for wiping, since a normal liquid ink tends to increase the wet quantity and difficulty of removal as the temperature becomes higher, the wiping operation is frequently performed at a high temperature in this embodiment.
      <br/>
      This embodiment has exemplified a case wherein one recording head is arranged.
      <br/>
      However, in an apparatus which realizes color recording or high-speed recording using a plurality of heads, the recovery conditions may be controlled based on the average ink temperature in units of recording heads, or the recovery means may be simultaneously operated according to a recording head requiring the shortest interval.
    </p>
    <p num="100">(Fourth Embodiment)</p>
    <p num="101">
      This embodiment exemplifies an example of a suction recovery means according to the past average ink temperature for a relatively long period of time as another example of recovery control based on the presumed average ink temperature like in the third embodiment.
      <br/>
      The recording head of the ink jet recording apparatus is often arranged for the purpose of stabilizing the meniscus shape at a nozzle opening, such that a negative head pressure is attained at the nozzle opening.
      <br/>
      An unexpected bubble in an ink channel causes various problems in the ink jet recording apparatus, and tends to pose problems particularly in a system maintained at the negative head pressure.
    </p>
    <p num="102">
      More specifically, even in a non-recording state, i.e., when the ink is merely left as it is, a bubble, which disturbs normal ejection, is grown in the ink channel due to dissociation of a gas contained in the ink or gas exchange through the ink channel constituting members, thus posing a problem.
      <br/>
      The suction recovery means is prepared for the purpose of removing such a bubble in the ink channel and the ink whose viscosity is increased due to evaporation at the distal end portion of the nozzle opening.
      <br/>
      Ink evaporation changes depending on the head temperature, as described above.
      <br/>
      The growth of a bubble in the ink channel is influenced more easily by the ink temperature, and the bubble tends to be produced as the temperature is higher.
      <br/>
      In this embodiment, as shown in Table 2 above, the suction recovery interval is set according to the average ink temperature for last 12 hours, and a suction recovery operation is frequently performed as the average ink temperature is higher.
      <br/>
      The average temperature may be re-set for, e.g., every page.
    </p>
    <p num="103">
      When the past average ink temperature over a relatively long period of time is to be presumed using a plurality of heads, as shown in FIG. 4 presented previously, after the plurality of heads are thermally coupled, the average ink temperature of the plurality of heads may be presumed on the basis of the average duty of the plurality of heads, and the average temperature detected by the temperature detection member, so that control may be simplified under an assumption that the plurality of heads are almost identical.
      <br/>
      In FIG. 4, the heads are thermally coupled as follows.
      <br/>
      That is, the recording heads are mounted on a carriage which is partially (including a common support portion for the heads) or entirely formed of a material having a high heat conductivity such as aluminum, so that base portions having a high heat conductivity of the recording heads are in direct contact with the carriage.
    </p>
    <p num="104">
      As has been described above in the first embodiment, a future head temperature can be easily predicted based on the average ink temperature.
      <br/>
      Therefore, optimal suction recovery control may be set in consideration of a future ejection condition.
    </p>
    <p num="105">For example, even when anxiety for an ejection error upon execution of a high-duty print operation at the current ink temperature is present, if it is known that no high-duty print operation will be performed in the future, the suction operation is postponed at the present time, and is performed after a recording medium is discharged, thereby shortening the total print time.</p>
    <p num="106">(Fifth Embodiment)</p>
    <p num="107">
      This embodiment exemplifies an example of recovery system control according to the history of a temperature presumed from the temperature detected by the temperature detection member of the recording head, and the print duty.
      <br/>
      A foreign matter such as the ink deposited on the orifice formation surface often deviates the ejection direction, and sometimes causes an ejection error.
      <br/>
      The wiping means is arranged as a means for recovering such deteriorated ejection characteristics.
      <br/>
      In some cases, a wiping member having a stronger frictional contact force may be prepared, or wiring characteristics may be improved by temporarily changing a wiping condition.
    </p>
    <p num="108">
      In this embodiment, the entrance amount (thrust amount) of the wiping member comprising a rubber blade to the orifice formation surface is increased to temporarily improve the wiping characteristics (rubbing mode).
      <br/>
      It was experimentally demonstrated that deposition of a foreign matter requiring rubbing was associated with the wet ink quantity, the residual wet ink quantity after wiping, and evaporation of the wet ink, and had a strong correlation with the number of times of ejection, and the temperature upon ejection.
      <br/>
      In this embodiment, the rubbing mode is controlled according to the number of times of ejection weighted by the ink temperature.
      <br/>
      Table 3 below shows weighting coefficients to be multiplied with the number of times of ejection as fundamental data of a print duty according to the ink temperature presumed from the print duty.
      <br/>
      More specifically, as the temperature is higher at which a wet or residual wet ink tends to appear, the number of times of ejection serving as an index of a deposit is controlled to be increased.
    </p>
    <p num="109">
      --      TABLE 3
      <br/>
      --                              Weighting Coefficient for
      <br/>
      --      Presumed Temperature ( (degree)  C.) No. of Pulses
      <br/>
      --      30 to 40                1.0
      <br/>
      --      40 to 50                1.2
      <br/>
      --      more than 50            1.4
    </p>
    <p num="110">
      When the weighted number of times of ejection reaches five million times, the rubbing mode is enabled.
      <br/>
      The rubbing mode is effective for removing a deposit, but may cause mechanical damage to the orifice formation surface due to the strong frictional contact force.
      <br/>
      Therefore, it is preferable to minimize execution of the rubbing mode.
      <br/>
      When control is made based on data having a direct correlation with the deposition of a foreign matter like in this embodiment, this allows a simple arrangement, and high reliability.
      <br/>
      In a system having a plurality of heads, the print duty may be managed in units of colors, and the rubbing mode may be controlled in units of ink colors having different deposition characteristics.
    </p>
    <p num="111">
      As has been described above in the first embodiment, a future ink temperature can be easily predicted.
      <br/>
      Therefore, optimal control may be set using the "weighted number of times of ejection" in consideration of a future condition in the calculation of the "weighted number of times of ejection".
    </p>
    <p num="112">(Sixth Embodiment)</p>
    <p num="113">
      This embodiment exemplifies an example of suction recovery control like in the fourth embodiment.
      <br/>
      In this embodiment, in addition to presumption of a bubble (non-print bubble) grown when the ink is left as it is, a bubble (print bubble) grown in the print mode is also presumed, thus allowing presumption of bubbles in the ink channel with high precision.
      <br/>
      As described above, evaporation of the ink changes depending on the ink temperature.
      <br/>
      The growth of a bubble in the ink channel is influenced more easily by the ink temperature, and the bubble tends to be produced as the temperature is higher.
      <br/>
      For this reason, it is obvious that the non-print bubble can be presumed by counting a non-print time weighted by the ink temperature.
      <br/>
      The print bubble tends to be grown as the ink temperature upon ejection is higher, and also has a positive correlation with the number of times of ejection.
    </p>
    <p num="114">
      Thus, it is also obvious that the print bubble can be presumed by counting the number of times of ejections weighted by the ink temperature in the ejection unit.
      <br/>
      In this embodiment, as shown in Table 4 below, the number of points according to a non-print time (non-print bubble), and the number of points according to the number of times of ejections (print bubble) are set, and when a total number of points reaches one hundred million, it is determined that the bubble in the ink channel may adversely influence ejection, and the suction recovery operation is performed, thereby removing the bubble.
    </p>
    <p num="115">
      -- TABLE 4
      <br/>
      --                         No. of Points
      <br/>
      --                         According to  No. of Points
      <br/>
      -- Presumed Temperature    Non-print Time According to No. of
      <br/>
      -- ( (degree)  C.)              (point/sec)   Dots (point/sec)
      <br/>
      -- 30 to 40                455           56
      <br/>
      -- 40 to 50                588           65
      <br/>
      -- more than 50            769           74
    </p>
    <p num="116">
      Matching between the number of points of the print bubble and that of the non-print bubble was experimentally determined such that the numbers of points were equal to each other when ejection errors were independently caused by these factors under a constant temperature condition.
      <br/>
      Also, weighting coefficients according to the temperature were also experimentally obtained and converted values.
      <br/>
      As the bubble removing means, either the suction means of this embodiment or a compression means may be employed.
      <br/>
      Furthermore, after the ink in the ink channel are intentionally removed, the suction means may be operated.
    </p>
    <p num="117">
      As has been described above in the first embodiment, a future ink temperature can be easily predicted.
      <br/>
      Therefore, optimal control may be set using "ink evaporation characteristics" and "growth of a bubble in the ink channel" in consideration of a future ejection condition in presumption or prediction of the "ink evaporation characteristics" and the "growth of a bubble in the ink channel".
    </p>
    <p num="118">
      Note that in the second to sixth embodiments, the ejection quantity control described in the first embodiment may or may not be executed in combination.
      <br/>
      When no ejection quantity control is performed, steps associated with the PWM control and sub-heater control can be omitted.
    </p>
    <p num="119">
      In this embodiment, the energization time is used as an index of energy to be supplied to the head.
      <br/>
      However, the present invention is not limited to this.
      <br/>
      For example, when no PWM control is performed, or when high-precision temperature prediction is not required, the number of print dots may be used.
      <br/>
      Furthermore, when the print duty does not suffer from a large drift, the print time and the non-print time may be used.
    </p>
    <p num="120">(Seventh Embodiment)</p>
    <p num="121">This embodiment exemplifies an example of an ink jet recording apparatus comprising a temperature keeping means constituted by a self temperature control type heating member, thermally coupled to a recording head, for maintaining the temperature of the recording head at a predetermined keeping temperature higher than a surrounding temperature capable of performing recording, and a temperature keeping timer for managing an operation time of the heating member, a temperature prediction means for predicting a change in ink temperature in an ejection unit in a recording mode prior to recording on the basis of a temperature detected by a temperature detection member provided to the recording head and of recording data, and an ejection stabilization means for stabilizing ejection according to the ink temperature in the ejection unit.</p>
    <p num="122">
      In this embodiment, a difference from the ink jet recording apparatuses described in the first to sixth embodiments is that the heating member provided to the recording head is a self temperature control type heater which contacts not a heater board but an aluminum base plate as the base member of the recording head.
      <br/>
      The self temperature control type heater spontaneously suppresses heat generation without using a special temperature detection mechanism when a predetermined temperature is reached.
      <br/>
      For example, the self temperature control type heater is formed of a material such as barium titanate of PTC characteristics (having a positive resistance temperature coefficient).
      <br/>
      Some heaters can obtain the same characteristics as described above by modifying an arrangement even when a heater element itself has no PTC characteristics.
      <br/>
      For example, a heater element is formed of a material prepared by dispersing, e.g., conductive graphite particles in a heat-resistant resin having an electrical insulating property.
      <br/>
      When this element is heated, the resin is expanded, and graphite particles are separated from each other, thus increasing the resistance.
      <br/>
      In such a self temperature control type heater, a desired control temperature can be set by adjusting the composition or arrangement.
      <br/>
      In this embodiment, a heater exhibiting a control temperature of about 36 (degree)  C. was used.
    </p>
    <p num="123">In this embodiment, since the temperature of the recording head including the ink in the ejection unit at the beginning of recording is basically equal to the control temperature of the self temperature control type heater, the ink temperature drift in the ejection unit in the recording mode can be predicted on the basis of expected energy to be supplied to the ejection heaters in the recording mode at that control temperature and of the thermal time constant of the recording head including the ink in the ejection unit.</p>
    <p num="124">
      In ink temperature prediction of the present invention, a temperature rise from the keeping temperature is calculated on the basis of energy to be supplied for ejection.
      <br/>
      For this reason, the predicted ink temperature upon ejection has higher precision than that of the temperature detected by the temperature detection member provided to the recording head.
      <br/>
      However, the predicted ink temperature inevitably varies due to a difference in thermal time constant of each recording head, a difference in thermal efficiency upon ejection, and the like.
    </p>
    <p num="125">
      Thus, in this embodiment, the predicted ink temperature is corrected.
      <br/>
      The predicted ink temperature correction in this embodiment is performed using the temperature detected by the temperature detection member prepared for the recording head in the ink jet recording apparatus of the present invention in a state wherein the recording head is not driven.
      <br/>
      The descent temperature table used for predicting the ink temperature is corrected so as to decrease a difference between a difference between the temperatures detected by the temperature detection member in thermally static non-ejection states before and after recording, and the predicted ink temperature rise calculated from energy to be supplied for ejection.
      <br/>
      In this embodiment, the descent temperature table is corrected in such a manner that error rates in units of recording lines are sequentially accumulated, and an average value of the error rates for one page is calculated.
    </p>
    <p num="126">
      Therefore, when the recording head is exchanged, or when the surrounding temperature considerably drifts, the ink temperature can be stably predicted as compared to the above embodiments.
      <br/>
      More specifically, in this embodiment, since the temperature detection member of the recording head is used not only in detection of the ink temperature at the beginning of recording but also in correction of the predicted ink temperature, the ink temperature in the ejection unit in the recording mode can be predicted with high precision, and ejection can be stabilized.
    </p>
    <p num="127">
      In this embodiment, since the aluminum base plate having a heat capacity which largely influences the ink temperature in the ejection unit is always maintained at the control temperature, as for an increase/decrease in ink temperature, the temperature rise caused by heat generation of the ejection heaters, and heat radiation according to the thermal time constant of the recording head need only be predicted with reference to the control temperature.
      <br/>
      For this reason, the ink temperature can be stably predicted as compared to the above embodiments wherein the temperature near the ejection unit of the recording head is maintained.
    </p>
    <p num="128">
      In this embodiment, a recording operation is inhibited or an alarm is generated for a user until the temperature keeping timer measures a predetermined period of time.
      <br/>
      Then, recording is performed after the temperature keeping operation by the self temperature control type heater is completed.
      <br/>
      For this reason, ink temperature prediction can be simplified since control can be made under an assumption that the temperature of the aluminum base plate associated with heat radiation is maintained at the keeping temperature as the control temperature of the element.
      <br/>
      However, when the ink temperature at the beginning of the temperature keeping operation is detected by the temperature detection member, and is set as an initial temperature of the aluminum base plate, the temperature of the aluminum base plate can be predicted at a desired timing even before completion of the temperature keeping operation as long as the temperature rise characteristics of the self temperature control type heater are measured in advance.
      <br/>
      Thus, the ink temperature in the ejection unit may be predicted with reference to the initial temperature so as to allow recording before completion of the temperature keeping operation.
      <br/>
      Similarly, since a time until completion of the temperature keeping operation can be calculated and predicted, the time of the temperature keeping timer may be changed according to the predicted time.
    </p>
    <p num="129">According to the temperature control method of this embodiment, the same ejection stabilization control described in the second to sixth embodiments can be realized, and simplified temperature prediction can be expected.</p>
    <p num="130">
      As described above, according to the present invention, the temperature of the recording head is maintained at a temperature higher than the surrounding temperature, and ejection is stabilized according to the ink temperature in the ejection unit, which is presumed prior to recording on the basis of the temperature detected by the temperature detection member provided to the recording head and recording data.
      <br/>
      Therefore, the ejection quantity and ejection can be stabilized without considerably decreasing the recording speed, and a high-quality image having a uniform density can be obtained.
    </p>
    <p num="131">(Eighth Embodiment)</p>
    <p num="132">
      An embodiment for performing temperature prediction different from those in the above-mentioned first to seventh embodiments will be described in detail below with reference to the accompanying drawings.
      <br/>
      The control arrangement of this embodiment is as shown in FIG. 16, and is substantially the same as that shown in FIG. 5, except that the temperature sensors 8e are omitted from the arrangement shown in FIG. 5.
      <br/>
      Although not shown, a recording head has substantially the same arrangement as that shown in FIG. 6, except that the temperature sensors 8e are omitted from the arrangement shown in FIG. 6.
    </p>
    <p num="133">(Summary of Temperature Prediction)</p>
    <p num="134">
      In this embodiment, upon execution of recording by ejecting ink droplets from the recording head, a surrounding temperature sensor for measuring the surrounding temperature is provided to an apparatus main body, and the ink temperature drift in an ejection unit is presumed and predicted as a change in ink temperature from the past to the present and future by calculation processing based on ink ejection energy and energy to be supplied to sub-heaters for maintaining the temperature of the recording head, thereby stabilizing ejection according to the ink temperature.
      <br/>
      More specifically, a temperature detection member (the temperature sensors 8e in FIGS. 5 and 6) for directly detecting the temperature of the recording head can be omitted.
      <br/>
      It is difficult in terms of cost to equip the temperature detection member for directly detecting the temperature of the recording head in the ink jet recording apparatus using the IJC like in this embodiment.
      <br/>
      In addition, a countermeasure against static electricity required for joint points between a temperature measurement circuit and the IJC relatively complicates the recording apparatus.
      <br/>
      From these viewpoints, this embodiment is advantageous.
      <br/>
      Note that the recording head shown in FIG. 5 may be used.
      <br/>
      In this case, the temperature sensors 8e are not used.
    </p>
    <p num="135">
      Briefly speaking, in this embodiment, a change in ink temperature in the ejection unit is presumed and predicted by evaluating the thermal time constant of the recording head and the ejection unit including the ink, and input energy in a range from the past to future, which energy is substantially associated with the ink temperature using a temperature change table calculated in advance.
      <br/>
      Based on the predicted ink temperature, the head is controlled by a divided pulse width modulation (PWM) method of heaters (sub-heaters) for increasing the temperature of the head, and ejection heaters.
    </p>
    <p num="136">(Temperature Prediction Control)</p>
    <p num="137">An operation executed when recording is performed using the recording apparatus with the above arrangement will be described below with reference to the flow charts shown in FIGS. 17 to 19.</p>
    <p num="138">
      When the power switch is turned on in step S100, an internal temperature increase correction timer is reset/set (S110).
      <br/>
      The temperature of a temperature sensor (to be referred to as a reference thermistor hereinafter) on a main body printed circuit board (to be referred to as a PCB hereinafter) is read (S120) to detect the surrounding temperature.
      <br/>
      However, the reference thermistor is influenced by a heat generation element (e.g., a driver) on the PCB, and cannot often detect the accurate surrounding temperature of the head.
      <br/>
      Therefore, the detection value is corrected according to an elapsed time from the ON operation of the power switch of the main body, thereby obtaining the surrounding temperature.
      <br/>
      More specifically, the elapsed time from the ON operation of the power switch is read from the internal temperature increase correction timer to look up an internal temperature increase correction table (Table 5) so as to obtain the accurate surrounding temperature from which the influence of the heat generation element is corrected (S140).
    </p>
    <p num="139">
      --         TABLE 5
      <br/>
      --         Internal Temperature
      <br/>
      --         Increase Correction Timer Correction Value
      <br/>
      --         (min)                 ( (degree)  C.)
      <br/>
      --         0 to 2                 0
      <br/>
      --         2 to 5                -2
      <br/>
      --         5 to 15               -4
      <br/>
      --         15 to 30              -6
      <br/>
      --         more than 30          -7
    </p>
    <p num="140">
      In step S150, a temperature prediction table (FIG. 20) is looked up to predict a current head chip temperature ( BETA ), and the control waits for an input print signal.
      <br/>
      The current head chip temperature ( BETA ) is predicted by updating the surrounding temperature obtained in step S140 by adding to it a value determined by a matrix of a difference between the head temperature and the surrounding temperature with respect to energy to be supplied to the head in unit time (power ratio).
      <br/>
      Immediately after the power switch is ON, since there is no print signal (energy to be supplied to the head is 0), and the temperature difference between the head temperature and the surrounding temperature is also 0, a matrix value "0" (thermal equilibrium) is added.
      <br/>
      If there is no input print signal, the flow returns to step S120, and the processing is repeated from the operation for reading the temperature of the reference thermistor.
      <br/>
      In this embodiment, a head chip temperature prediction cycle is set to be 0.1 sec.
    </p>
    <p num="141">
      The temperature prediction table shown in FIG. 20 is a matrix table showing temperature increase characteristics in unit time, which are determined by the thermal time constant of the head and energy supplied to the head.
      <br/>
      As the power ratio becomes larger, the matrix value is also increased.
      <br/>
      On the other hand, when the temperature difference between the head temperature and the surrounding temperature becomes larger, the thermal equilibrium tends to be established.
      <br/>
      For this reason, the matrix value is decreased.
      <br/>
      The thermal equilibrium is established when the supplied energy is equal to radiation energy.
      <br/>
      In the table, the power ratio=500% means that energy obtained when the sub-heaters are energized is converted into the power ratio.
    </p>
    <p num="142">The matrix values are accumulated based on this table every time the unit time elapses, so that the temperature of the head at that time can be presumed, and a future change in temperature of the head can be predicted by inputting future print data, or energy to be supplied to the head (e.g., to the sub-heaters) in the future.</p>
    <p num="143">
      When the print signal is input, a target (driving) temperature table (Table 6) is looked up to obtain a print target temperature ( ALPHA ) of the head chip capable of performing optimal driving at the current surrounding temperature (S170).
      <br/>
      In Table 6, the reason why the target temperature varies depending on the surrounding temperature is that even when the temperature on a silicon heater board of the head is controlled to be a predetermined temperature, since the ink flowing into the heater board has a low temperature and a large thermal time constant, the temperature of a system around the head chip is lowered from the viewpoint of an average temperature.
      <br/>
      For this reason, as the surrounding temperature becomes lower, the target temperature of the silicon heater board of the head must be increased.
      <br/>
      Therefore, the above-mentioned low temperature can be attained in a low temperature environment by changing the target temperature in control.
    </p>
    <p num="144">
      --         TABLE 6
      <br/>
      --         Surrounding Temperature Target Temperature
      <br/>
      --         ( (degree)  C.)           ( (degree)  C.)
      <br/>
      --         up to 12             52
      <br/>
      --         12 to 15             50
      <br/>
      --         15 to 18             48
      <br/>
      --         18 to 21             46
      <br/>
      --         21 to 24             44
      <br/>
      --         24 to 27             42
      <br/>
      --         27 to 30             40
      <br/>
      --         30 to 33             38
      <br/>
      --         33 to 36             36
    </p>
    <p num="145">
      In Step S180, a difference  GAMMA  (= ALPHA - BETA ) between the print target temperature ( ALPHA ) and the current head chip temperature ( BETA ) is calculated.
      <br/>
      In step S190, a sub-heater control table (Table 7) is looked up to obtain a pre-print sub-heater ON time (t) for the purpose of decreasing the difference ( GAMMA ).
      <br/>
      This function is to increase the temperature of the entire head chip using the sub-heaters when the presumed head temperature and the target temperature have a difference therebetween at the beginning of the print operation.
      <br/>
      With this function, the temperature of the entire head chip including the ink in the ejection unit can approach the target temperature as much as possible.
    </p>
    <p num="146">
      --        TABLE 7
      <br/>
      --                    Sub-heater
      <br/>
      --        Difference  GAMMA  ON Time                      ON
      <br/>
      --        ( (degree)  C.)  (sec)             GAMMA  ( (degree)  C.) (sec)
      <br/>
      --        -18 to -15 6                -42 to -39 14
      <br/>
      --        -15 to -12 5                -39 to -36 13
      <br/>
      --        -12 to -9 4                -36 to -33 12
      <br/>
      --        -9 to -6 3                -33 to -30 11
      <br/>
      --        -6 to -5 2                -30 to -27 10
      <br/>
      --        -5 to -4 1                -27 to -24  9
      <br/>
      --        -4 to -3 0.5              -24 to -21  8
      <br/>
      --        -3 to -2 0.2              -21 to -18  7
      <br/>
      --        more than -2 0
    </p>
    <p num="147">
      After the pre-print sub-heater ON time (t) is obtained, the temperature prediction table (FIG. 20) is looked up to predict a (future) head chip temperature immediately before the start of the print operation under an assumption that the sub-heaters are turned on for the setting time (S200).
      <br/>
      The difference ( GAMMA ) between the print target temperature ( ALPHA ) and this head chip temperature ( BETA ) is calculated (S210).
      <br/>
      Since the difference between the print target temperature and the head chip temperature can be considered as a difference between the keeping temperature and the ink temperature, the ink temperature can be substantially obtained as a sum the keeping temperature and the difference ( GAMMA ) (S220).
      <br/>
      Needless to say, it is preferable that the difference ( GAMMA ) is 0.
      <br/>
      When the driving operation is performed according the predicted ink temperature with reference to the ejection unit ink temperature--pre-pulse table shown in FIG. 12A so as to attain the ejection quantity equal to that obtained by the print operation at the keeping temperature, the ejection quantity-can be stabilized.
    </p>
    <p num="148">
      This embodiment is attained under an assumption that the ink temperature is set to be at least equal to or higher than the keeping temperature before printing using the above-mentioned sub-heaters, and employs a method for correcting an increase in ejection quantity when the recording head accumulates heat in a continuous print operation at a high duty, and the ink temperature is increased accordingly.
      <br/>
      In this embodiment, the ejection quantity based on a difference from the target value is corrected by a PWM method.
    </p>
    <p num="149">
      The chip temperature of the head changes depending on its ejection duty during a one-line print operation.
      <br/>
      More specifically, since the difference ( GAMMA ) is sometimes changed in one line, it is preferable to optimize the pre-pulse value in one line according to the change in difference.
      <br/>
      In this embodiment, the one-line print operation requires 1.0 sec. Since the temperature prediction cycle of the head chip is also 0.1 sec, one line is divided into 10 areas in this embodiment.
      <br/>
      The pre-pulse value (S230) at the beginning of printing, which value is set previously, is a pre-pulse value at the beginning of printing of the first area.
    </p>
    <p num="150">
      A method of determining a pre-pulse value at the beginning of printing of each of the second to 10th areas will be described below.
      <br/>
      In step S240, n=1 is set, and in step S250, n is incremented.
      <br/>
      In this case, n represents the area, and since there are 10 areas, the control escapes from the following loop when n exceeds 10 (S260).
    </p>
    <p num="151">
      In the first round of the loop, the pre-pulse value at the beginning of printing of the second area is set.
      <br/>
      More specifically, the power ratio of the first area is calculated based on the number of dots and the PWM value of the first area (S270).
      <br/>
      The power ratio corresponds to a value plotted along the ordinate when the temperature prediction table is looked up.
      <br/>
      The reason why the number of dots (print duty) is not merely used is that energy to be supplied to the head chip varies depending on the pre-pulse value even if the number of dots remains the same.
      <br/>
      Using the concept of the "power ratio", a single table can be used even when the PWM control is performed or when the sub-heaters are ON.
    </p>
    <p num="152">
      In this case, the head chip temperature ( BETA ) at the end of printing of the first area (i.e., at the beginning of printing of the second area) is predicted by substituting the power ratio in the temperature prediction table (FIG. 20) (i.e., by looking up the table) (S280).
      <br/>
      In step S290, the difference ( GAMMA ) between the print target temperature ( ALPHA ) and the head chip temperature ( BETA ) is calculated again.
      <br/>
      A pre-pulse value for printing the second area is obtained by looking up FIG. 12A based on the difference ( GAMMA ), and is set on a memory (S300 and S310).
    </p>
    <p num="153">
      Thereafter, the power ratio in the corresponding area is sequentially calculated based on the number of dots and the pre-pulse value of the immediately preceding area, and the head chip temperature ( BETA ) at the end of printing of the corresponding area is predicted.
      <br/>
      Then, the pre-pulse value of the next area is set based on the difference ( GAMMA ) between the print target temperature ( ALPHA ) and the head chip temperature ( BETA ) (S250 to S310).
      <br/>
      After the pre-pulse values of all the 10 areas in one line are set, the flow advances from step S260 to step S320 to heat the sub-heaters before printing.
      <br/>
      Thereafter, a one-line print operation is performed according to the set pre-pulse values (S330).
      <br/>
      Upon completion of the one-line print operation in step S330, the flow returns to step S120 to read the temperature of the reference thermistor.
      <br/>
      Thereafter, the above-mentioned control is repeated in turn.
    </p>
    <p num="154">With the above-mentioned control, the actual ejection quantity can be stably controlled independently of the ink temperature, and a high-quality recorded image having a uniform density can be obtained.</p>
    <p num="155">
      The ejection quantity control will be described below again.
      <br/>
      In this embodiment, ejection/ejection quantity of the head is stabilized by controlling the following two points.
    </p>
    <p num="156">
      1 The target temperature is determined from the "target temperature table" according to the surrounding temperature, so that the temperature of the recording head including the ink in the ejection unit reaches at least the keeping temperature, and the recording head is heated using the sub-heaters as needed.
      <br/>
      More specifically, in this embodiment, the ink temperature in the ejection unit is equal to a temperature obtained by subtracting the difference between the target temperature and the surrounding temperature from a calculated temperature.
    </p>
    <p num="157">
      2 A shift (difference) between the target temperature and the current head temperature is presumed.
      <br/>
      The sum of the keeping temperature and the presumed difference is considered as the ink temperature in the ejection unit, and the pre-pulse value is set according to the ink temperature, thereby stabilizing the ejection quantity.
    </p>
    <p num="158">In this embodiment, since a future head temperature can be predicted without using a temperature sensor for directly measuring the temperature of the recording head, various head control operations can be performed before the actual print operation, and hence, recording can be performed more properly.</p>
    <p num="159">Constants such as the number of divided areas (10 areas) in one line, the temperature prediction cycle (0.1 sec), and the like used in this embodiment are merely examples, and the present invention is not limited to these.</p>
    <p num="160">(Ninth Embodiment)</p>
    <p num="161">
      In this embodiment, the current head temperature is presumed from a print duty like in the eighth embodiment, and a suction condition is changed according to the presumed head temperature.
      <br/>
      The suction condition is controlled based on a suction pressure (initial piston position) or a suction quantity (volume change quantity or vacuum hold time).
      <br/>
      FIG. 21 shows the head temperature dependency of the vacuum hold time and the suction quantity.
      <br/>
      Although the suction quantity can be controlled according to the vacuum hold time for a predetermined period, the suction quantity changes independently of the vacuum hold time in other periods.
      <br/>
      Since the suction quantity is influenced by the head temperature presumed from the print duty, the vacuum hold time is changed according to the presumed head temperature.
      <br/>
      In this manner, even when the head temperature changes, the ejection quantity can be maintained constant (optimal quantity), thus stabilizing ejection.
    </p>
    <p num="162">
      Furthermore, when a plurality of heads are used, the head temperature is presumed more precisely by performing heat radiation correction according to the arrangement of the heads.
      <br/>
      Since the end portion of a carriage causes heat radiation more easier than the central portion, and the temperature distribution varies, ejection largely influenced by the temperature also varies.
      <br/>
      For this reason, correction is made while heat radiation at the end portion is assumed to be 100%, and heat radiation at the central portion is assumed to be 95%.
      <br/>
      With this correction, a thermal variation can be prevented, and stable ejection can be attained.
      <br/>
      Furthermore, the suction condition may be changed according to the features or states of heads in units of heads.
    </p>
    <p num="163">
      Furthermore, in this embodiment, a head temperature drop upon suction is presumed.
      <br/>
      When the surrounding temperature and the head temperature have a difference therebetween, the ink at a high temperature is discharged by suction, and a new ink at a low temperature is supplied from the ink tank.
      <br/>
      The head at a high temperature is cooled by the supplied new ink.
      <br/>
      Table 8 below shows the difference between the surrounding temperature and the presumed head temperature, and temperature drop correction upon suction.
      <br/>
      When the head temperature is presumed from the print duty, the temperature drop upon suction can be corrected based on the difference between the surrounding temperature and the head temperature, and the head temperature after suction can be simultaneously predicted.
    </p>
    <p num="164">
      --        TABLE 8
      <br/>
      --        Difference between Surrounding
      <br/>
      --        Temperature and Presumed Head  DELTA T Upon Suction
      <br/>
      --        Temperature ( (degree)  C.)      ( (degree)  C.)
      <br/>
      --        0 to 10                     -1.2
      <br/>
      --        10 to 20                    -3.6
      <br/>
      --        20 to 30                    -6.0
    </p>
    <p num="165">
      In the case of an exchangeable head, the temperature of the ink tank need be presumed.
      <br/>
      Since the ink tank is in tight contact with the head, the temperature rise caused ejection influences the ink tank.
      <br/>
      For this reason, the ink tank temperature is presumed from an average of temperatures for last 10 minutes.
      <br/>
      The presumed temperature can be fed back to compensate for the temperature drop upon suction.
    </p>
    <p num="166">In the case of a permanent head, since the head and the ink tank are separated from each other, the temperature of an ink to be supplied is equal to the surrounding temperature, and the temperature of the ink tank need not be predicted.</p>
    <p num="167">
      Furthermore, in the case of a sub-tank system shown in FIG. 22, even when the suction operation is performed while the temperature of the ink is high, the suction quantity is undesirably increased.
      <br/>
      For this reason, an ink-level pull-up effect cannot be expected, thus causing an ink supply error.
      <br/>
      When the head temperature predicted from the print duty is high, the number of times of suction is increased to obtain the sufficient ink-level pull-up effect.
      <br/>
      Table 9 below shows the relationship between the difference between the surrounding temperature and the presumed head temperature, and the number of times of suction.
      <br/>
      In Table 9, as the difference between the surrounding temperature and the presumed head temperature is larger, the number of times of suction is increased.
      <br/>
      Thus, the ink-level pull-up effect can be prevented from being impaired.
    </p>
    <p num="168">Note that the sub-tank system shown in FIG. 22 includes a main tank 41 provided to the apparatus main body, a sub-tank 43 arranged on, e.g., a carriage, a head chip 45, a cap 47 for covering the head chip 45, and a pump 49 for applying a suction force to the cap 47.</p>
    <p num="169">
      --        TABLE 9
      <br/>
      --        Difference between Surrounding
      <br/>
      --        Temperature and Presumed Head Number of Times
      <br/>
      --        Temperature ( (degree)  C.)      of Suction
      <br/>
      --        0 to 10                      8
      <br/>
      --        10 to 20                    10
      <br/>
      --        20 to 30                    12
    </p>
    <p num="170">(10th Embodiment)</p>
    <p num="171">
      The current head temperature is presumed from the print duty like in the ninth embodiment.
      <br/>
      In this embodiment, a pre-ejection condition is changed according to the presumed head temperature, and this embodiment corresponds to the second embodiment.
    </p>
    <p num="172">
      At a high temperature, the ink in the ejection unit is easily evaporated.
      <br/>
      Thus, the pre-ejection interval or the number of times of pre-ejection can be changed according to the presumed head temperature.
      <br/>
      In this embodiment, the number of times of pre-ejection is changed according to the presumed head temperature upon pre-ejection like in Table 1.
      <br/>
      At the same time, as the temperature becomes higher, the ejection quantity is increased.
      <br/>
      Thus, the pulse width is decreased to suppress the ejection quantity.
      <br/>
      Since this embodiment is substantially the same as the second embodiment except for the above-mentioned point, a detailed description thereof will be omitted.
    </p>
    <p num="173">(11th Embodiment)</p>
    <p num="174">
      This embodiment exemplifies a case wherein the past average head temperature within a predetermined period is presumed from a temperature detected by a reference temperature sensor provided to a main body, and a print duty, and a predetermined recovery means is operated at intervals optimally set according to the average head temperature.
      <br/>
      The recovery means to be controlled according to the average head temperature in this embodiment includes pre-ejection and wiping means, which are executed at predetermined time intervals during printing (in a cap open state) so as to stabilize ejection.
      <br/>
      As is known in the ink jet technique, the pre-ejection means is executed for the purpose of preventing a non-ejection state or a change in density caused by evaporation of the ink from nozzle openings.
      <br/>
      Paying attention to the fact that ink evaporation varies depending on the head temperature, in this embodiment, the optimal pre-ejection interval and the optimal number of times of pre-ejection are set according to the average head temperature, and pre-ejection operations are performed efficiently in terms of time or ink consumption.
    </p>
    <p num="175">
      In open-loop temperature control, i.e., in a method of calculating and presuming a temperature at that time on the basis of the temperature detected by the reference temperature sensor provided to the main body, and the past print duty, as the major constituting element of this embodiment, the average head temperature during the past predetermined period, which is required in this embodiment, can be easily obtained.
      <br/>
      This embodiment pays attention to the fact that ink evaporation is associated with the head temperatures at respective times, and the total quantity of evaporated ink during a predetermined period has a strong correlation with the average head temperature during this period.
    </p>
    <p num="176">
      Also, in this embodiment, paying attention to the fact that the wet quantity due to, e.g., the ink varies depending on the head temperature, and evaporation of the wet quantity which makes it difficult to remove the ink or the foreign matter, is associated with the head temperature (the temperature of the orifice formation surface), the wiping operation is efficiently performed by setting optimal wiping intervals according to the past average head temperature.
      <br/>
      Since the wet quantity or evaporation of the wet quantity associated with wiping has a stronger correlation with the past average head temperature than the head temperature at the time of wiping, a head temperature presuming means of this embodiment is suitably used.
    </p>
    <p num="177">
      The outline of the print sequence of this embodiment is the same as that shown in the flow chart of FIG. 15 described in the third embodiment.
      <br/>
      In this embodiment, in step S2, a pre-ejection timer is set according to the average head temperature at that time, and is started.
      <br/>
      Furthermore, in step S3, a wiping timer is set according to the average head temperature at that time, and is started.
    </p>
    <p num="178">
      When a print operation is to be continued, the wiping timer and the pre-ejection timer, which have been set according to the average head temperature, are checked and re-set, and after wiping or pre-ejection is performed as needed, the timers are restarted (steps S15 and S16).
      <br/>
      At this time, in steps S151 and S161, the average head temperature is calculated regardless of the presence/absence of execution of the operation.
    </p>
    <p num="179">More specifically, in this embodiment, since the wiping and pre-ejection timings can be finely re-set according to a change in average head temperature in units of print lines, optimal wiping and pre-ejections according to the evaporation and wet conditions of the ink can be performed.</p>
    <p num="180">Table 2 presented previously can be employed as a correspondence table between the pre-ejection interval and the number of times of pre-ejection according to the average head temperature for last 12 sec, and a correspondence table of the wiping interval according to the average head temperature for last 48 sec in this embodiment.</p>
    <p num="181">
      As has been described above in the sixth embodiment, the head temperature is not limited to a presumed temperature at the present time, and a future head temperature can also be easily predicted.
      <br/>
      Therefore, the optimal pre-ejection interval and the optimal number of times of pre-ejection may be set in consideration of a future condition.
    </p>
    <p num="182">(12th Embodiment)</p>
    <p num="183">
      This embodiment exemplifies a suction recovery means according to the past average head temperature for a relatively long period of time as another example of recovery control based on the presumed average head temperature like in the 11th embodiment.
      <br/>
      In this embodiment, as shown in Table 2 (fourth embodiment) above, the suction recovery interval is set according to the average head temperature for last 12 hours, and a suction recovery operation is frequently performed as the average head temperature is higher.
      <br/>
      The average temperature may be reset for, e.g., every page.
    </p>
    <p num="184">When the past average head temperature over a relatively long period of time is to be presumed using a plurality of heads, as shown in FIG. 4 presented previously, after the plurality of heads are thermally coupled, the average head temperature may be presumed on the basis of the average duty of the plurality of heads, and the temperature detected by the reference temperature sensor, so that control may be simplified under an assumption that the plurality of heads are almost identical.</p>
    <p num="185">
      As has been described above in the eighth embodiment, the head temperature is not limited to a presumed temperature at the present time, and a future head temperature can also be easily predicted.
      <br/>
      Therefore, optimal suction recovery control may be set in consideration of a future condition.
    </p>
    <p num="186">For example, even when anxiety for an ejection error upon execution of a high-duty print operation at the current presumed head temperature is present, if it is known that no high-duty print operation will be performed in the future, the suction operation is postponed at the present time, and is performed after a recording medium is discharged, thereby shortening the total print time.</p>
    <p num="187">(13th Embodiment)</p>
    <p num="188">
      This embodiment exemplifies a case wherein a recovery system is controlled according to the history of a temperature presumed from a temperature detected by a reference temperature sensor of a main body, and a print duty.
      <br/>
      This embodiment corresponds to the fifth embodiment described above.
    </p>
    <p num="189">In this embodiment, a rubbing mode is controlled according to the number of times of ejection according to the head temperature, and Table 3 can be employed.</p>
    <p num="190">
      As has been described above in the eighth embodiment, the head temperature is not limited to a presumed temperature at the present time, and a future head temperature can also be easily predicted.
      <br/>
      Therefore, optimal control may be set using the "weighted number of times of ejection" in consideration of a future condition in the calculation of the "weighted number of times of ejection".
    </p>
    <p num="191">(14th Embodiment)</p>
    <p num="192">
      This embodiment exemplifies suction recovery control like in the fourth embodiment.
      <br/>
      In this embodiment, in addition to presumption of a bubble (non-print bubble) grown when the ink is left as it is, a bubble (print bubble) grown in the print mode is also presumed, thus allowing presumption of bubbles in the ink channel with high precision.
      <br/>
      This embodiment corresponds to the sixth embodiment described above.
      <br/>
      In this embodiment, the non-print time and the number of times of ejection, which are weighted by the head temperature need only be counted, and this embodiment employs Table 4 above.
    </p>
    <p num="193">
      As has been described above in the eighth embodiment, the head temperature is not limited to a presumed temperature at the present time, and a future head temperature can also be easily predicted.
      <br/>
      Therefore, optimal control may be set using "evaporation characteristics of the ink" and "growth of bubble in the ink channel" in consideration of a future condition in presumption and prediction of the "evaporation characteristics of the ink" and the "growth of bubble in the ink channel".
    </p>
    <p num="194">
      Note that in the ninth to 14th embodiments, the ejection quantity control described in the first embodiment may or may not be executed in combination.
      <br/>
      When no ejection quantity control is performed, steps associated with the PWM control and sub-heater control can be omitted.
    </p>
    <p num="195">(15th Embodiment)</p>
    <p num="196">This embodiment exemplifies an ink jet recording apparatus comprising a temperature keeping means constituted by a self temperature control type heating member, thermally coupled to a recording head, for maintaining the temperature of the recording head at a predetermined keeping temperature higher than a surrounding temperature capable of performing recording, and a temperature keeping timer for managing an operation time of the heating member, a temperature prediction means for predicting a change in ink temperature in an ejection unit in a recording mode prior to recording, and an ejection stabilization means for stabilizing ejection according to the ink temperature in the ejection unit.</p>
    <p num="197">In this embodiment, a difference from the ink jet recording apparatuses described in the eighth to 14th embodiments is that the heating member provided to the recording head is a self temperature control type heater which contacts not a heater board but an aluminum base plate as the base member of the recording head.</p>
    <p num="198">
      Therefore, ink temperature prediction can be simplified as compared to the above embodiments.
      <br/>
      More specifically, in the arrangement of the recording head like in this embodiment, since the aluminum base plate having a heat capacity which largely influences the ink temperature in the ejection unit is always maintained at the control temperature, as for an increase/decrease in ink temperature, the temperature rise caused by heat generation of the ejection heaters, and heat radiation according to the thermal time constant of the recording head need only be predicted with reference to the control temperature.
    </p>
    <p num="199">
      In this embodiment, a sum of a reference temperature (keeping temperature) and a value obtained by accumulating increased temperature remainders in all the effective reference time periods (the increased temperature remainder is not 0) before an objective reference time period in which the ink temperature is presumed is determined as the ink temperature during the objective reference time period with reference to a descent temperature table in FIG. 13, which shows increased temperature remainders from the keeping temperature according to the power ratio during a given reference time period in units of elapsed times from the reference time period.
      <br/>
      A print time for one line is assumed to be 0.7 sec, and a time period (0.02 sec) obtained by dividing this print time by 35 is defined as the reference time period.
    </p>
    <p num="200">
      For example, if recording is performed for the first time at a power ratio of 20% during the first reference time period, 80% during the second reference time period, and 50% during the third reference time period after the temperature keeping operation is completed, the ink temperature of the ejection unit during the fourth reference time period can be presumed from the increased temperature remainders of the three reference time periods so far.
      <br/>
      More specifically, the increased temperature remainder during the first reference time period is 85 * 10-3 deg (a in FIG. 13) since the power ratio is 20% and the elapsed time is 0.06 sec; the increased temperature remainder during the second reference time period is 369 * 10-3 deg (b in FIG. 13) since the power ratio is 80% and the elapsed time is 0.04 sec; and the increased temperature remainder during the third reference time period is 250 * 10-3 deg (c in FIG. 13) since the power ratio is 50% and the elapsed time is 0.02 sec. Therefore, when these remainders are accumulated, we have 704 * 10-3 deg, and 36.704 (degree)  C. as the sum of this value and 36 (degree)  C. are predicted as the ink temperature of the ejection unit during the fourth reference time period.
    </p>
    <p num="201">In this embodiment, ejection quantity control based on the predicted ink temperature described in the eighth embodiment can be performed.</p>
    <p num="202">
      In this embodiment, a recording operation is inhibited or an alarm is generated for a user until the temperature keeping timer measures a predetermined period of time.
      <br/>
      When a surrounding temperature detection means for detecting the surrounding temperature is added like in the above embodiment, the temperature of the aluminum base plate can be predicted at a desired timing even before completion of the temperature keeping operation.
      <br/>
      For this reason, the ink temperature in the ejection unit may be detected using the predicted temperature as a reference temperature so as to allow recording before completion of the temperature keeping operation.
      <br/>
      When the surrounding temperature detection means is arranged, since a time until completion of the temperature keeping operation can be calculated and predicted, the time of the temperature keeping timer may be changed according to the predicted time.
    </p>
    <p num="203">According to the temperature control method of this embodiment, the same ejection stabilization control described in the ninth to 14th embodiments can be realized, and simplified temperature prediction can be expected.</p>
    <p num="204">
      As described above, according to the present invention, the temperature of the recording head is maintained at a temperature higher than the surrounding temperature, and ejection is stabilized according to the ink temperature in the ejection unit, which is presumed prior to recording.
      <br/>
      Therefore, the ejection quantity and ejection can be stabilized without considerably decreasing the recording speed, and a high-quality image having a uniform density can be obtained.
    </p>
    <p num="205">When the ink temperature is presumed without arranging temperature sensors in the recording head, the recording apparatus main body and the recording head can be simplified.</p>
    <p num="206">(16th Embodiment)</p>
    <p num="207">
      The 16th embodiment of the present invention will be described in detail below with reference to the accompanying drawings.
      <br/>
      In this embodiment, a temperature detection member capable of directly detecting the temperature of the recording head of the above-mentioned recording apparatus, and a temperature calculation circuit for this member are added.
    </p>
    <p num="208">
      The control arrangement of this embodiment is the same as that shown in FIG. 5, and the arrangement of a recording head is the same as that shown in FIG. 6.
      <br/>
      In FIG. 6, head temperature sensors 8e are arranged on a heater board 853 of the recording head together with ejection heaters 8g and sub-heaters 8d, and are thermally coupled to the heat source of the recording head.
      <br/>
      In this embodiment, the output temperature characteristics of a temperature detection diode, which is formed simultaneously with a diode formed on the heater board as a portion of an ejection heater driver, are used as a temperature sensor (Di sensor).
    </p>
    <p num="209">
      FIG. 23 shows temperature characteristics of the temperature characteristics of the temperature detection member of the recording head of this embodiment.
      <br/>
      In this embodiment, the temperature detection member is driven at a constant current of 200  MU A, and exhibits output characteristics, i.e., an output voltage VF of 575 +- 25 mV (25 (degree)  C.), and the temperature dependency of about -2.5 mV/ (degree)  C. Although variations in temperature dependency are small in terms of the manufacturing process of the element, the output voltage deviates largely, and a variation of about 25 (degree)  C. may occur.
      <br/>
      The temperature detection precision required in this embodiment is  +- 2 (degree)  C., and 12 ranks of identification information are required so as to measure a correction value and to provide information to the recording head upon delivery of the recording head.
      <br/>
      Variations of the temperature detection elements can be suppressed in the manufacturing process.
      <br/>
      For this purpose, however, the manufacturing cost of the recording head is undesirably increased, and it is very disadvantageous for an exchangeable recording head like in this embodiment.
    </p>
    <p num="210">
      In this embodiment, the temperature sensor of the recording head is corrected using a reference sensor provided to the recording apparatus main body.
      <br/>
      When the detection temperature is corrected, the temperature of the ink in a common ink chamber surrounded by a top plate 8f, which temperature is important for stabilization of ejection, especially, the ink temperature in the ejection unit, can be detected with high precision, and ejection can be stabilized.
    </p>
    <p num="211">(Temperature Calibration)</p>
    <p num="212">
      Calibration of the temperature detection member of the recording head in this embodiment is performed using a chip thermistor 5024 arranged on an electrical circuit board of the main body in a non-record mode with the small ink temperature drift in the ejection unit.
      <br/>
      The chip thermistor 5024 is arranged on the electrical circuit board together with its detection circuit, and has already been calibrated as well as a variation of the detection circuit before delivery of the recording apparatus.
    </p>
    <p num="213">
      Since the chip thermistor 5024 can detect the temperature in the recording apparatus main body, it is considered that the temperature of the recording head is equal to the detection value in a state wherein no energy for a temperature keeping operation and ejection is supplied to the recording head.
      <br/>
      When such energy is supplied to the recording head, the temperature in the recording apparatus main body becomes almost equal to the temperature of the recording head after an elapse of a predetermined period of time after the supply of energy.
    </p>
    <p num="214">
      This embodiment comprises a non-record time measurement timer for measuring a non-record time.
      <br/>
      When a non-record state continues over a predetermined period of time, the temperature detection member of the recording head is calibrated to calculate a correction value for matching a value actually measured by the temperature detection member of the recording head with the detection temperature of the chip thermistor of the main body.
      <br/>
      The calculated correction value is stored in a RAM or an EEPROM 62.
      <br/>
      Thereafter, the temperature of the recording head is calculated by correcting the actually measured value using the correction value.
      <br/>
      The non-record time in this embodiment means a state wherein no energy is supplied to the recording head.
      <br/>
      Therefore, the non-record time does not include a time while the temperature of the recording head is maintained as a preliminary operation for recording.
      <br/>
      Even in a power OFF state, when a timer means backed up by a battery is available, the power OFF time may be measured for the purpose of simplifying timer control.
    </p>
    <p num="215">
      Furthermore, as a calibration execution timing, every time the non-record time exceeds a predetermined period of time, calibration may be executed.
      <br/>
      When the non-record time exceeds the predetermined period of time, only a calibration request signal is generated, and the calibration is not executed actually at that time.
      <br/>
      Thereafter, the calibration may be executed before new energy is supplied to the recording head, e.g., before the beginning of the next recording or immediately after the power switch is turned on.
    </p>
    <p num="216">
      The heat source in the recording apparatus includes a power supply unit of the recording apparatus, and a control element itself on the electrical circuit board in addition to the recording head.
      <br/>
      In some cases, the detection temperature of the chip thermistor 5024 as the reference temperature sensor in the main body may exceed the temperature of the remaining portion in the recording apparatus including the recording head.
      <br/>
      For this reason, in this embodiment, the detection temperature of the chip thermistor 5024 is corrected on the basis of the power-ON time of the recording apparatus.
      <br/>
      As a correction table for this operation, Table 5 presented previously is used, and the same timer as that for measuring the non-record time is used for measuring the power-ON time.
    </p>
    <p num="217">
      In this embodiment, the power-ON timer simply measures a time elapsed from when the power switch is turned on until the temperature sensor of the recording head is corrected.
      <br/>
      When the influences of the heat generation amount of the power supply and the heat generation amount of the driver for the recording head are large, a temperature rise calculated based on energy supplied to the recording head may be corrected in addition to the power-ON time.
      <br/>
      Furthermore, correction may be made on the basis of all the past factors such as the power-ON time or energy supplied to the recording head that influence the local temperature rise of the chip thermistor 5024 of the main body.
    </p>
    <p num="218">
      FIG. 24 shows a processing flow for calibrating the temperature detection member of the recording head in this embodiment.
      <br/>
      Calibration processing will be described in detail below with reference to FIG. 24 and the block diagram of FIG. 5.
    </p>
    <p num="219">
      When the power switch is turned on in step S400, a CPU 60 reads a Di sensor correction value (a) stored in the EEPROM 62 into its internal RAM so as to set a state wherein the Di sensor is corrected and used (S410).
      <br/>
      Then, the power-ON timer is reset/started to prepare for temperature rise correction of the chip thermistor sensor 5024 in the main body (S420).
      <br/>
      Then, the non-record timer for determining the correction timing of the Di sensor is reset/started (S440).
      <br/>
      In this state, the control stands by while checking if the non-record timer reaches a time-out state (S450) or if a print signal is input (S460).
    </p>
    <p num="220">
      When the print signal is input first, a head heating operation is started to prepare for the print operation (S470).
      <br/>
      In this case, temperature detection for the head heating operation is performed by correcting the temperature detected by the Di sensor using the correction value stored in the EEPROM 62.
      <br/>
      After the head heating operation, the recording (print) operation is performed (S480).
      <br/>
      Thereafter, the head heating operation is stopped (S490).
      <br/>
      During the print operation, as described above, ejection stabilization control can be performed by a PWM ejection quantity control method based on the detection temperature of the recording head.
      <br/>
      In the head heating operation and the recording operation, since energy is supplied to the recording head, the temperature of the recording head is different from (normally higher than) the temperature of the chip thermistor 5024 on the main body electrical circuit board.
      <br/>
      For this reason, after the recording operation is completed, the non-record timer is reset/started (S440), thus re-waiting for the correction timing of the Di sensor.
    </p>
    <p num="221">
      When the non-record timer has reached the time-out state in the standby state, i.e., when it is considered that the temperature in the recording apparatus main body (the temperature of the chip thermistor 5024) becomes almost equal to the temperature of the recording head, the Di sensor correction is performed.
      <br/>
      In the Di sensor correction, the temperature (Tt) of the reference thermistor (chip thermistor 5024) is read (S500), and the temperature rise correction of the temperature of the reference thermistor is performed with reference to the data from the power-ON timer for temperature rise correction (S510).
      <br/>
      The temperature rise correction is performed using a correction value b in a table (Table 5) stored in a program ROM 61 (Tt+b).
    </p>
    <p num="222">
      Then, the Di sensor temperature (Td) is read (S530), and the Di sensor correction value (a) is calculated (S540).
      <br/>
      The Di sensor correction value is calculated as a difference (Tt+b-Td) between the temperature (Tt+b) of the reference thermistor 5024 after the temperature rise correction, and the Di sensor temperature (Td).
      <br/>
      The correction value (a) obtained as described above of the Di sensor as the temperature sensor of the recording head is stored in the backup EEPROM, and is left in the internal RAM of the CPU 60 for the next temperature control (S550).
      <br/>
      In this manner, the correction of the Di sensor is completed, and the flow returns to step S440 to prepare for the next correction timing or the print operation.
    </p>
    <p num="223">
      As described above, since the temperature detection member of the recording head can be easily calibrated, even when an exchangeable recording head is used like in this embodiment, the temperature control of the recording head can be stably performed.
      <br/>
      When control is made using the temperature detection member of the recording head, which member is corrected easily as described above, an actual ejection quantity can be stably controlled independently of the ink temperature, and a high-quality recorded image having a uniform density can be obtained.
    </p>
    <p num="224">
      In this embodiment, when 30 minutes have elapsed as the non-record time, the correction is performed.
      <br/>
      However, this time period may be properly set according to the required precision of calibration (correction).
    </p>
    <p num="225">
      In this embodiment, as an example of using the calibrated temperature detection member of the recording head, double-pulse PWM control for controlling the ejection quantity is used.
      <br/>
      However, single-pulse PWM control or PWM control using three or more pulses may be used.
      <br/>
      In this embodiment, control is made to perform optimal ejection according to the temperature of the recording head.
      <br/>
      For example, this embodiment may be used in control for changing a recording speed or delaying (standing by) recording so that the temperature of the recording head falls within a predetermined range.
      <br/>
      The detection temperature of the calibrated temperature detection member may be used not only in driving control of the recording head but also in control of a known recovery system as ejection stabilization means, for example, a means for forcibly discharging the ink from the recording head, wiping means, and pre-ejection means.
    </p>
    <p num="226">(17th Embodiment)</p>
    <p num="227">
      In this embodiment, the calibration timing of a temperature detection member (Di sensor) of a recording head is determined by measuring the change rate of the detection temperature of the temperature detection member.
      <br/>
      Since the present invention is not limited to the arrangement of the recording head, the arrangement of the temperature detection member of the recording head, and the like, the same arrangements as those in the 16th embodiment described above are used, and only a calibration timing determination method will be described below with reference to FIG. 25. The same reference numerals in FIG. 25 denote the same steps as in FIG. 24.
    </p>
    <p num="228">
      In this embodiment, the change rate of the detection sensor of the Di sensor is measured from a timing immediately after the power switch is turned on (S600).
      <br/>
      The change rate of the detection temperature is measured by calculating a difference between temperatures at predetermined time intervals.
      <br/>
      In this embodiment, the detection temperature is read every minute, and a difference between the current detection temperature stored in the internal RAM of the CPU 60 and the detection temperature one minute before is calculated as the detection temperature change rate ( ALPHA ).
      <br/>
      If it is determined in step S610 that the change rate is smaller than 0.2 deg/min, i.e., if it is considered that the temperature in the recording apparatus main body (the temperature of the chip thermistor 5024) becomes almost equal to the temperature of the recording head, the Di sensor of the recording head is calibrated (S610).
      <br/>
      In this embodiment, in order to avoid frequent calibration, the presence/absence of execution of correction is checked so that correction is performed once per power ON operation (S620).
      <br/>
      If it is determined that the Di sensor is corrected for the first time, calibration is performed in the same manner as in the above embodiment, and finally, a signal indicating the end of calibration, i.e., the end of Di sensor correction is recorded (S630).
    </p>
    <p num="229">
      In this embodiment, since the sensor need only be corrected once when, e.g., the head is exchanged, it is sufficient that the correction is performed at least once after the power ON operation.
      <br/>
      For this reason, the temperature rise correction of the reference temperature sensor of the main body as a temperature correction method after a relatively long period of time elapses after the power ON operation described in the above embodiment may be omitted.
      <br/>
      In this embodiment, since it is considered that the recording head is calibrated at a relatively early timing after the power switch is turned on, when the power switch is not so frequently turned on/off, the print operation for several pages after the power ON operation may be performed using an average value of temperature correction pre-stored in the ROM without using a rewritable storage element such as the EEPROM 62.
    </p>
    <p num="230">When the exchange operation of the recording head can be detected by, e.g., detecting attachment/detachment of the recording head using a mechanical switch, if it is determined that the change rate is smaller than a predetermined value after an exchange signal of the recording head is input, calibration may be performed only once.</p>
    <p num="231">
      In this embodiment, when the change rate is smaller than 0.2 deg/min, the Di sensor of the recording head is calibrated.
      <br/>
      However, the reference change rate may be set according to the required precision of calibration (correction).
    </p>
    <p num="232">(18th Embodiment)</p>
    <p num="233">
      This embodiment exemplifies a method of preventing erroneous correction of a temperature detection member of a recording head.
      <br/>
      The normal temperature cannot often be detected due to a trouble such as disconnection of the temperature detection member of the recording head or an abnormality of a detection circuit of the main body.
      <br/>
      In particular, in the case of an exchangeable head, the electrical connection of the temperature detection member may be temporarily disabled.
      <br/>
      Also, the detection circuit may temporarily cause an abnormality due to electrostatic noise.
    </p>
    <p num="234">
      In this embodiment, as shown in FIG. 26, when the temporary abnormality occurs, calibration of the temperature detection member is delayed or stopped.
      <br/>
      The same reference symbols in FIG. 26 denote the same steps as in FIG. 25.
    </p>
    <p num="235">
      In step S640 in FIG. 26, if the correction value becomes equal to or larger than 10, it is determined that the above-mentioned abnormality occurs, and the correction value is neither stored nor updated.
      <br/>
      When the correction value is smaller than 10, the correction value is updated (S550).
      <br/>
      In this embodiment, when an abnormal correction value is calculated, the control waits for the next correction timing.
      <br/>
      However, an abnormal temperature alarm may be generated to urge a user to re-attach the recording head.
    </p>
    <p num="236">As described above, according to the present invention, since the temperature detection member provided to the recording head is easily calibrated by the reference temperature sensor provided to the main body, the temperature of the recording head, which is important for stabilizing ejection, can be detected with high precision, and a high-quality image can be obtained.</p>
    <p num="237">(19th Embodiment)</p>
    <p num="238">
      FIG. 27 is an explanatory view of a temperature calculation system for performing a temperature calculation using a temperature calculation algorithm of the present invention.
      <br/>
      In FIG. 27, an object 1 for the temperature calculation corresponds to a recording head in the case of a recording apparatus.
      <br/>
      The object 1 has a temperature calculation objective point eA where the temperature calculation is performed, and corresponds to a heater surface, contacting an ink, of the recording head in the recording apparatus.
      <br/>
      A heat source 2 applies heat to the object 1, and a controller 5 performs the temperature calculation to control the heat source 2.
    </p>
    <p num="239">The details of the temperature calculation algorithm for calculating a change in temperature of the temperature calculation objective point 1A of the object 1 when the heat source 2 is turned on/off will be described below.</p>
    <p num="240">In the present invention, the head temperature i s presumed basically using the following heat conduction formulas:</p>
    <p num="241">
      In heating:
      <br/>
      DELTA temp=a+1-exp�-m*T�}  (1)
    </p>
    <p num="242">
      In cooling started during heating:
      <br/>
      DELTA temp=a+exp�-m(T-T1)�-exp�-m*T�}  (2)
    </p>
    <p num="243">where temp: increased temperature of object</p>
    <p num="244">
      a: equilibrium temperature of object by heat source
      <br/>
      T: elapsed time
      <br/>
      m: thermal time constant of object
      <br/>
      T1: time for which heat source is removed
    </p>
    <p num="245">
      When the object 1 such as the recording head is processed as a lumped constant system, a change in temperature can be theoretically calculated and presumed upon combination of the above-mentioned formulas (1) and (2).
      <br/>
      However, every time the heat source is turned on/off, in the case of the recording apparatus, the formulas (1) and (2) must be developed according to the print duty.
      <br/>
      In a system wherein the heat source is frequently turned on/off, it is difficult to realize such presumption in terms of processing power.
      <br/>
      Therefore, in the present invention, the above-mentioned formulas are developed as follows. &lt;Change in temperature after elapse of nt time after heat source is ON&gt;
      <br/>
      a+1-exp�-m*n*t�}=a+exp�-m*t�-exp�-m*t�+exp�-2*m*t�-exp�-2*m*t�+  &lt;1&gt;
      <br/>
      +exp�-(n-1)*m*t�-exp�-(n-1)*m*t�+1-exp�-n*m*t�}=a+1-exp�-m*t*�}
    </p>
    <p num="246">
      =a+exp�-m*t�-exp�-2*m*t�}
      <br/>
      +a+exp�-2*m*t�-exp�-3*m*t�}
      <br/>
      +a+exp�-(n-1)*m*t�-exp�-n*m*t�}=a+1-exp�-mt�}  &lt;2-1&gt;
      <br/>
      +a+exp�-m*(2t-t)�-exp�-m*2t�}  &lt;2-2&gt;
      <br/>
      +a+exp�-m*(3t-t)�-exp�-m*3t�}  &lt;2-3&gt;
      <br/>
      +a+exp�-m*(nt-t)�-exp�-m*nt�}  &lt;2-n&gt;
    </p>
    <p num="247">Since the above-mentioned formulas are developed as described above, the formula &lt;1&gt; coincides with &lt;2-1&gt;+&lt;2-2&gt;+&lt;2-3&gt;+ . . . +&lt;2-n&gt;.</p>
    <p num="248">
      Formula &lt;2-n&gt;: equal to the temperature of the object at time nt when heating is performed from time 0 to time nt, and the heat source is kept OFF from time t to time nt
      <br/>
      Formula &lt;2-3&gt;: equal to the temperature of the object at time nt when heating is performed from time (n-3)t to time (n-2)t, and the heat source is kept OFF from time (n-2)t to time nt
      <br/>
      Formula &lt;2-2&gt;: equal to the temperature of the object at time nt when heating is performed from time (n-2)t to time (n-1)t, and the heat source is kept OFF from time (n-1)t to time nt
      <br/>
      Formula &lt;2-1&gt;: equal to the temperature of the object at time nt when heating is performed from time (n-1)t to time nt
    </p>
    <p num="249">
      The fact that the total of the above formulas are equal to the formula &lt;1&gt; has the following meaning.
      <br/>
      That is, a change in temperature (increase in temperature) of the object 1 is calculated by obtaining a decreased temperature after an elapse of unit time from a temperature increased by energy supplied in unit time (corresponding to each of the formulas &lt;2-1&gt;, &lt;2-2&gt;, . . . , &lt;2-n&gt;), and a total sum of decreased temperatures at the present time from temperatures increased in respective past unit times is calculated to presume the current temperature of the object 1 (&lt;2-1&gt;+&lt;2-2&gt;+ . . . +&lt;2-n&gt;).
    </p>
    <p num="250">
      An example will be described with reference to FIG. 28. In FIG. 28,
      <br/>
      Abscissa: elapsed time
      <br/>
      Ordinate: increased temperature
      <br/>
      Curve a: temperature increase curve obtained when the heat source 2 is driven at a duty �X %� from time 0 to t3
      <br/>
      Curve b1: temperature increase/decrease curve obtained when the heat source 2 is driven at the duty �X %� from time 0 to t1, and thereafter, the driving operation is stopped
      <br/>
      Curve b2: temperature increase/decrease curve obtained when the heat source 2 is driven at the duty �X %� from time t1 to t2, and thereafter, the driving operation is stopped
      <br/>
      Curve b3: temperature increase curve obtained when the heat source 2 is driven at the duty �X %� from time t2 to t3
    </p>
    <p num="251">In this algorithm, a temperature �ta� at time t3 obtained when the heat source 2 is continuously driven is calculated by �ta=tb1+tb2+tb3�. More specifically, increased/decreased temperatures at the present time from the temperatures increased by energy supplied in unit time are obtained (tb1, tb2, and tb3), and a total sum of these temperatures is calculated, thus presuming (calculating) the current temperature.</p>
    <p num="252">
      In this embodiment, as shown in FIG. 29, a matrix obtained in advance by calculating changes in temperature, i.e., increases/decreases in temperature of the object 1 within a range of the thermal time constant of the object 1 and possible input energy is set as a table, thereby greatly decreasing the calculation time.
      <br/>
      In this embodiment, the print duty is set at 2.5% intervals, and the unit time (temperature presumption interval) is set to be 0.1 sec. The duty indicates the ratio of an ON time of the head source 2 to the unit time (0.1 sec in this embodiment).
      <br/>
      In the object used in this embodiment, since a temperature increased in unit time is decreased to almost 0 (degree)  C. after an elapse of 1.5 sec, the table showing a decrease in temperature after an elapse of 1.6 sec is not provided.
      <br/>
      However, in the case of an object having a thermal time constant indicating a low thermal conductivity, a table until the increased temperature is decreased to 0 (degree)  C., and its influence is eliminated is provided.
    </p>
    <p num="253">Control for presuming the temperature of the recording head using the temperature presumption calculation method of the present invention will be described below with reference to the table of FIG. 30 and the flow chart of FIG. 31.</p>
    <p num="254">
      When a calculation is started, a �0.1 sec timer� is set/reset in step S1000 in FIG. 31. At the same time, the heat source ON duty for 0.1 sec is kept monitored.
      <br/>
      In this embodiment, the average duty for 0.1 sec is calculated from a value obtained by dividing the ON time of the heat source 2 by 0.1 sec, as described above (S1010 and S1020).
      <br/>
      The current temperature of the object (recording head) is calculated by accumulating data on the basis of duty data (15 data) for last 1.5 sec at 0.1-sec intervals, and the pre-set head temperature increase/decrease table (FIG. 29) in units of duties (S1030).
      <br/>
      The flow returns to step S1000 again to reset/set the 0.1 sec timer, thus counting the number of print dots for 0.1 sec.
    </p>
    <p num="255">The temperature accumulation calculation in step S1030 will be described below with reference to FIG. 30. FIG. 30 shows a case wherein the duty (%) changes like 100, 100, 95, and 0 at 0.1-sec intervals.</p>
    <p num="256">
      In data line (a) showing a state of an elapsed time=0.1 sec, since the duty is 100%, 15 table values at 0.1-sec intervals in the column of duty=100 in FIG. 29 are set in memories M1 to M15.
      <br/>
      At this time, the value of the memory M1 indicates the temperature of the object at that time, and the values in memories M2 to M15 indicate temperatures of the object at 0.1-sec intervals.
      <br/>
      In data line (b) showing a state of an elapse time=0.2 sec, the values in the memories M1 to M15 are shifted to the left to set the temperatures of the object at this time to be obtained by the previously supplied energy.
      <br/>
      In addition, since the duty is 100%, the same table values as in data line (a) are added to the values in the memories M1 to M15.
      <br/>
      At this time, the value of the memory M1 indicates the temperature of the object at that time, and the values in memories M2 to M15 indicate temperatures of the object at 0.1-sec intervals.
    </p>
    <p num="257">
      In data line (c) showing a state of an elapsed time=0.3 sec, the values in the memories M1 to M15 are shifted to the left, and table values corresponding to duty=95 in FIG. 29 are added to the values in the memories M1 to M15.
      <br/>
      In data line (d) showing a state of an elapsed time=0.4 sec, the values in the memories M1 to M15 are shifted to the left, and table values corresponding to duty=0 in FIG. 29 are added to the values in the memories M1 to M15.
      <br/>
      At this time, the value of the memory M1 indicates the temperature of the object at that time, and the values in memories M2 to M15 indicate temperatures of the object at 0.1-sec intervals.
    </p>
    <p num="258">
      As described above, in a system for applying heat energy to an object, the temperature is calculated as follows:
      <br/>
      (1) a change in temperature of the object is processed as a sum of discrete values per unit time;
      <br/>
      (2) a temperature drift (change) of the object according to each discrete value is calculated in advance within a range of possible input energy to form a table; and
      <br/>
      (3) the table is constituted by a two-dimensional matrix of supplied energy per unit time and elapsed time.
    </p>
    <p num="259">
      Therefore, the following effects can be expected.
      <br/>
      1. The problem of the response time can be solved.
      <br/>
      2. A measurement error of a temperature sensor due to, e.g., electrical noise, which is very difficult to be perfectly removed, can be eliminated.
      <br/>
      3. The problem of a direct/indirect increase in cost due to the arrangement of a temperature sensor can be eliminated.
    </p>
    <p num="260">
      In this embodiment, no temperature sensor is required, and a change in temperature of an object in the future can be predicted as long as energy to be supplied to the object in the future is known.
      <br/>
      For this reason, various control operations can be performed before energy is actually applied, and more proper control can be realized.
      <br/>
      In this algorithm, the temperature calculation can be performed only by looking up the table formed by calculating a change in temperature in advance, and by adding data, resulting in easy calculation control.
    </p>
    <p num="261">(20th Embodiment)</p>
    <p num="262">An embodiment wherein the temperature calculation algorithm of the present invention is applied to an ink jet recording apparatus will be described below.</p>
    <p num="263">The arrangement of this embodiment is the same as that shown in FIGS. 1 to 3 and FIG. 16. The 20th embodiment will be described in detail below with reference to the accompanying drawings.</p>
    <p num="264">(Overall Control)</p>
    <p num="265">
      In this embodiment, upon execution of recording by ejecting ink droplets from a recording head, a surrounding temperature sensor for measuring the surrounding temperature is provided to the main body side, and a change in temperature of the recording head with respect to the surrounding temperature from the past to the present and future is presumed by the above-mentioned calculation processing, thereby calculating the temperature of the recording head.
      <br/>
      Thus, optimal temperature control and ejection control can be performed without arranging a head temperature sensor having a correlation with the head temperature.
    </p>
    <p num="266">
      More specifically, the head is controlled by a divided pulse width modulation (PWM) driving method of heaters (sub-heaters) for increasing the head temperature, and ejection heaters on the basis of the head temperature calculated by the temperature calculation algorithm of the present invention.
      <br/>
      As one driving method of this control, when a difference from a temperature control target value is large, the head temperature is increased near the target value using the sub-heaters, and the remaining temperature difference is controlled by PWM ejection quantity control, so that a constant ejection quantity can be obtained.
      <br/>
      When the PWM control as an ejection quantity control means for a quick response head is used, a response delay time in temperature detection due to the position of a temperature sensor of the head or a detection error due to, e.g., noise can be prevented since calculation processing is performed, and control that maximally utilizes this merit can be performed.
      <br/>
      Since the PWM control in one line can be performed without arranging the temperature sensor to the head, as described above, density nonuniformity in one line or in one page can also be eliminated.
    </p>
    <p num="267">(Temperature Calculation Control)</p>
    <p num="268">
      Briefly speaking, a change in temperature of the head is calculated by estimating it using a matrix calculated in advance within a range of the thermal time constant of the head and possible input energy.
      <br/>
      A detailed means for calculating and presuming a change in temperature of the recording head uses the thermal conduction formula (1) in heating, and uses the thermal conduction formula (2) in cooling started during heating.
    </p>
    <p num="269">
      In order to facilitate the calculation processing, like in the 19th embodiment, the formulas are developed to the formulas &lt;2-1&gt;, &lt;2-2&gt;, &lt;2-3&gt;, . . . , &lt;2-n&gt;, as described above.
      <br/>
      More specifically, a change in temperature (increase in temperature) of the head is calculated by obtaining a decreased temperature after an elapse of unit time from a head temperature increased by energy supplied in unit time (corresponding to each of the formulas &lt;2-1&gt;, &lt;2-2&gt;, . . . , &lt;2-n&gt;), and a total sum of decreased temperatures at the present time from temperatures increased in respective past unit times is calculated to presume the current head temperature (&lt;2-1&gt;+&lt;2-2&gt;+ . . . +&lt;2-n&gt;).
      <br/>
      The calculation time of a change in head temperature, i.e., an increase/decrease in head temperature can be greatly shortened like in the 19th embodiment since a matrix calculated in advance within a range of the thermal time constant of the head and possible input energy is set as a table.
      <br/>
      In this embodiment, the print duty is set at 2.5% intervals, and the unit time (temperature presumption interval) is set to be 0.1 sec as shown in FIG. 32.
    </p>
    <p num="270">
      In the head used in this embodiment, since a temperature increased in unit time is decreased to almost 0 (degree)  C. after an elapse of 60.0 sec, no temperature decrease table after an elapse of 60.1 sec is prepared.
      <br/>
      However, in the case of a head having a thermal time constant indicating a low thermal conductivity, a table until the increased temperature is decreased to 0 (degree)  C., and its influence is eliminated is preferably prepared.
      <br/>
      Ejection quantity control is performed by the above-mentioned PWM control.
    </p>
    <p num="271">
      In the ink jet recording apparatus for applying eat energy to the head as described above, in addition to the 19th embodiment,
      <br/>
      since the head is controlled by the divided pulse width modulation (PWM) driving method of heaters (sub-heaters) for increasing the head temperature, and ejection heaters on the basis of the head temperature calculated by the temperature calculation algorithm,
      <br/>
      the head temperature can be controlled, and stabilization of ejection, and ejection quantity control can be attained.
      <br/>
      Ejection control in one line such as PWM control can be performed, and density nonuniformity in one line or one page can be eliminated.
    </p>
    <p num="272">
      Furthermore, in this embodiment, no temperature sensor is required, and a change in temperature of an object in the future can be predicted as long as energy to be supplied to the head in the future is known.
      <br/>
      For this reason, various control operations can be performed before energy is actually applied, and more proper control can be realized.
    </p>
    <p num="273">
      In this embodiment, the time base of the table formed by calculating in advance a change in temperature corresponds to an arithmetic progression, but need not always correspond to the arithmetic progression.
      <br/>
      More specifically, in order to save a memory capacity for the table, the time base of the calculation table may be roughly set for a region where a change in temperature is small, and increased/decreased temperature data in unit time may be calculated and presumed from adjacent data.
    </p>
    <p num="274">(21st Embodiment)</p>
    <p num="275">
      An embodiment wherein the temperature calculation algorithm of the present invention is applied to a copying machine will be described below.
      <br/>
      FIG. 33 is a perspective view of thermal fixing rollers of a copying machine which can suitably embody or adopt the present invention.
      <br/>
      In FIG. 33, a heat source 2 applies heat energy to an upper fixing roller 3a, and a lower fixing roller 3b is paired with the upper fixing roller.
      <br/>
      A recording medium P is conveyed in a direction of an arrow A in FIG. 33.
    </p>
    <p num="276">
      In the copying machine, an electrostatic latent image according to an original image is formed on a transfer drum (not shown).
      <br/>
      A toner as a recording agent is attracted to the electrostatic latent image, and the toner on the transfer drum is transferred onto the recording medium.
      <br/>
      Thereafter, the recording medium on which a non-fixed toner image is formed passes between the thermal fixing rollers, thus completing the fixing process.
      <br/>
      The recording medium is then discharged outside the copying machine.
      <br/>
      More specifically, when the recording medium passes between the thermal fixing rollers, the toner is melted by heat of the thermal fixing rollers, and when the molten toner is pressed, it is fixed on the recording medium.
    </p>
    <p num="277">
      In the copying machine, in order to reliably fix the toner as the recording agent on the recording medium, the temperature control of the thermal fixing rollers is an important factor.
      <br/>
      Therefore, in general, a temperature sensor is arranged in the surface layer of the fixing roller, and the heat source is ON/OFF-controlled according to the detection value from the temperature sensor.
      <br/>
      When the temperature control is performed using the temperature sensor in the fixing device of the copying machine, the above-mentioned influence is a matter of concern.
    </p>
    <p num="278">In this embodiment, a change in temperature of the thermal fixing rollers is calculated by the temperature calculation algorithm of the present invention, and temperature control is performed according to the calculated value, thus preventing occurrence of the above-mentioned influence.</p>
    <p num="279">(Temperature Calculation Control)</p>
    <p num="280">The temperature calculation control of this embodiment is substantially the same as that in the 19th and 20th embodiments, and a change in temperature of the fixing rollers is calculated by evaluating it using a matrix calculated in advance within a range of the thermal time constant of the fixing rollers and input possible energy.</p>
    <p num="281">
      A detailed means for calculating and presuming a change in temperature of the fixing rollers uses the thermal conduction formulas like in the 19th and 20th embodiments.
      <br/>
      In order to facilitate the calculation processing, the formulas are developed like in the 19th and 20th embodiments.
      <br/>
      A change in temperature (increase in temperature) of the fixing rollers is calculated by obtaining a decreased temperature after an elapse of unit time from a fixing roller temperature increased by energy supplied in unit time, and a total sum of decreased temperatures at the present time from temperatures increased in respective past unit times is calculated as the current fixing roller temperature.
    </p>
    <p num="282">
      The calculation time of a change in temperature, i.e., an increase/decrease in temperature of the fixing rollers can be greatly shortened since a matrix calculated in advance within a range of the thermal time constant of the fixing rollers and possible input energy is set as a table.
      <br/>
      In this embodiment, as shown in FIG. 34, the driving duty of the fixing rollers is set at 5% intervals, and the unit time (temperature presumption interval) is set to be 5 sec.
    </p>
    <p num="283">
      In the fixing rollers used in this embodiment, when 60.0 sec have elapsed, the temperature increased in unit time is decreased to about 0 (degree)  C. For this reason, a temperature decrease table after an elapse of 65 sec is not prepared.
      <br/>
      In the case of fixing rollers having a thermal time constant indicating a low thermal conductivity, a table having values coping with a decrease in increased temperature to 0 (degree)  C. and its influence is preferably prepared.
    </p>
    <p num="284">In the method of controlling the temperature of the thermal fixing rollers in this embodiment, an upper limit temperature (U) and a lower limit temperature (L) are set in advance, and when the temperature of the thermal fixing rollers falls outside the set temperature range, the ON/OFF control of the heat source 2 is performed.</p>
    <p num="285">
      As described above, in the copying machine for applying heat energy to the thermal fixing rollers, in addition to the 19th embodiment,
      <br/>
      when the heat source for increasing the temperature of the thermal fixing rollers is controlled according to the temperature of the thermal fixing rollers calculated by the temperature calculation algorithm,
      <br/>
      the temperature of the thermal fixing rollers can be adequately controlled, and reliability of the fixing characteristics can be improved.
    </p>
    <p num="286">
      In this embodiment, like in the 19th and 20th embodiments, the time base of the calculation table corresponds to an arithmetic progression, but need not always correspond to the arithmetic progression.
      <br/>
      More specifically, in order to save a memory capacity for the table, the time base of the calculation table may be roughly set for a region where a change in temperature is small, and increased/decreased temperature data in unit time may be calculated and presumed from adjacent data.
      <br/>
      The temperature increase/decrease gradient of the fixing rollers may be multiplied with a proper correction value.
      <br/>
      For example, temperature increase/decrease data of the calculation table may be multiplied with a correction coefficient based on, e.g., passage of the recording medium as a factor.
    </p>
    <p num="287">
      Various control methods for controlling the heat source according to the temperature of the fixing rollers can be similarly applied to a case wherein the temperature calculation algorithm of the present invention.
      <br/>
      Since individual heat source control means is a known technique, a detailed description thereof will be omitted.
    </p>
    <p num="288">(22nd Embodiment)</p>
    <p num="289">The 22nd embodiment wherein the present invention is applied to a recording apparatus like in the 20th embodiment will be described below with reference to the accompanying drawings.</p>
    <p num="290">(Outline of Overall Control Flow)</p>
    <p num="291">
      As described above, in an ink jet recording apparatus, when the temperature of a recording head is controlled to fall within a predetermined region, ejection and the ejection quantity can be stabilized, and a high-quality image can be recorded.
      <br/>
      In order to realize stable high-quality image recording, a temperature calculation/detection means of the recording head, and an optimal driving control method according to the temperature will be briefly described below.
    </p>
    <p num="292">(1) Setting of Target Temperature</p>
    <p num="293">
      Head driving control for stabilizing the ejection quantity to be described below is made with reference to the chip temperature of the head.
      <br/>
      More specifically, the chip temperature of the head is used as substitute characteristics upon detection of the ejection quantity per dot ejected at that time.
      <br/>
      However, even when the chip temperature is constant, since the ink temperature in a tank depends on the surrounding temperature, the ejection quantity varies.
      <br/>
      In order to eliminate this difference, a value that determines the chip temperature of the head for obtaining equal ejection quantities in units of surrounding temperatures (i.e., in units of ink temperatures) is a target temperature.
      <br/>
      The target temperature is set in advance as a target temperature table.
      <br/>
      FIG. 35 shows the target temperature table used in this embodiment.
    </p>
    <p num="294">(2) Calculation means of Recording Head Temperature</p>
    <p num="295">
      The recording head temperature is presumed and calculated from energy supplied previously.
      <br/>
      In a temperature calculation method, a change in temperature of the recording head is processed as the accumulation of discrete values per unit time.
      <br/>
      The changes in temperature of the recording head according to the discrete values are calculated in advance within a range of possible input energy so as to form a table.
      <br/>
      In this case, the table is constituted by a two-dimensional matrix (two-dimensional table) of input energy per unit time and an elapsed time.
    </p>
    <p num="296">
      In a temperature calculation algorithm means in this embodiment, the recording head constituted by combining members having a plurality of different heat conduction times is substituted with a smaller number of thermal time constants than that in practice to form a model, and calculations are individually performed while grouping required calculation intervals and required data hold times in units of models (thermal time constants).
      <br/>
      Furthermore, a plurality of heat sources are set, and temperature rise widths are calculated in units of models for each heat source.
      <br/>
      The calculated widths are added later to calculate the head temperature.
    </p>
    <p num="297">
      The reasons why the chip temperature is calculated and presumed from input energy in place of sensing it using a sensor are:
      <br/>
      1 the response time can be shortened by calculating and presuming the chip temperature as compared to the case using the sensor,
    </p>
    <p num="298">
      -  --&gt;  a change in chip temperature can be quickly processed; and
      <br/>
      2 cost can be decreased.
    </p>
    <p num="299">The presumed head temperature serves as a reference for ejection driving and sub-heater driving in this embodiment.</p>
    <p num="300">(3) PWM control</p>
    <p num="301">
      When the head is driven at the chip temperature described in the target temperature table in the corresponding environment, the ejection quantity can be stabilized.
      <br/>
      However, the chip temperature varies from time to time according to, e.g., the print duty, and is not constant.
      <br/>
      For this reason, a means for driving the head in a multi-pulse PWM driving mode and controlling the ejection quantity independently of the temperature for the purpose of stabilizing the ejection quantity is PWM control.
      <br/>
      In this embodiment, a PWM table, which defines a pulse having an optimal waveform and width at that time according to a difference between the head temperature and the target temperature in the corresponding environment, is set in advance, thereby determining an ejection driving condition.
    </p>
    <p num="302">(4) Sub-heater Driving Control</p>
    <p num="303">
      Control for driving sub-heaters immediately before printing to approach the head temperature to the target temperature when a desired ejection quantity cannot be obtained even by PWM driving is sub-heater control.
      <br/>
      An optimal sub-heater driving time at that time is set in advance according to a difference between the head temperature and the target temperature in the corresponding environment, thereby determining a sub-heater driving condition.
    </p>
    <p num="304">Principal control operations of this embodiment will be individually described below.</p>
    <p num="305">(Temperature Prediction Control)</p>
    <p num="306">
      Briefly speaking, a change in head temperature is calculated by estimating it using a matrix calculated in advance within a range of the thermal time constant of the head and possible input energy.
      <br/>
      The detailed means for calculating and presuming a change in temperature of the recording head uses the above-mentioned heat conduction formula (1) in heating, and uses the above-mentioned heat conduction formula (2) in cooling started during heating like in the 20th embodiment.
    </p>
    <p num="307">When the recording head is processed as a lumped constant system, the chip temperature of the recording head can be theoretically presumed by calculating the formulas (1) and (2) according to the print duty in correspondence with a plurality of thermal time constants.</p>
    <p num="308">However, in general, it is difficult to perform the above-mentioned calculations without modifications in terms of a problem of the processing speed.</p>
    <p num="309">Strictly speaking, all the constituting members have different time constants, and another time constant is formed between adjacent members, resulting in a huge number of times of calculations.</p>
    <p num="310">In general, since an APU cannot directly perform exponential calculations, approximate calculations must be performed, or calculations using a conversion table must be performed, thus disturbing a decrease in calculation time.</p>
    <p num="311">This embodiment solves the above-mentioned problems by the following modeling and calculation algorithm.</p>
    <p num="312">(1) Modeling</p>
    <p num="313">
      The present inventors sampled data in the temperature rise process of the recording head by applying energy to the recording head with the above arrangement, and obtained the result shown in FIG. 36. Strictly speaking, the recording head with the above arrangement is constituted by combining many members having different heat conduction times.
      <br/>
      However, FIG. 36 reveals that such many heat conduction times can be processed as a heat conduction time of a single member in practice in ranges where the differential value of the function of the log-converted increased temperature data and the elapsed time is constant (i.e., ranges A, B, and C having constant inclinations).
    </p>
    <p num="314">
      From the above-mentioned result, in a model associated with heat conduction, this embodiment processes the recording head using two thermal time constants.
      <br/>
      Note that the above-mentioned result indicates that feedback control can be more precisely performed upon modeling having three thermal time constants.
      <br/>
      However, in this embodiment, it is determined that the inclinations in areas B and C in FIG. 36 are almost equal to each other, and the recording head is modeled using two thermal time constants in consideration of calculation efficiency.
      <br/>
      More specifically, one heat condition is a model having a time constant at which the temperature is increased to the equilibrium temperature in 0.8 sec (corresponding to the area A in FIG. 36), and the other heat conduction is given by a model having a time constant at which the temperature is increased to the equilibrium temperature in 512 sec (i.e., a model of the areas B and C in FIG. 36).
    </p>
    <p num="315">Furthermore, this embodiment processes the recording head as follows to obtain a model.</p>
    <p num="316">The temperature distribution in heat conduction is assumed to be ignored, and the entire recording head is processed as a lumped constant system.</p>
    <p num="317">The heat source assumed to include two heat sources, i.e., a heat source for the print operation, and a heat source as sub-heaters.</p>
    <p num="318">
      FIG. 37 shows a heat conduction equivalent circuit modeled in this embodiment.
      <br/>
      FIG. 37 illustrates only one heat source.
      <br/>
      However, when two heat sources are used, they may be connected in series with each other.
    </p>
    <p num="319">(2) Calculation Algorithm</p>
    <p num="320">
      In the head temperature calculations of this embodiment, the above-mentioned formulas are developed to formulas &lt;2-1&gt;, &lt;2-2&gt;, &lt;2-3&gt;, . . . , &lt;2-n&gt; like in the 20th embodiment so as to facilitate the calculation processing.
      <br/>
      More specifically, a change in head temperature (increase in temperature) is obtained by calculating a decreased temperature after an elapse of unit time from the head temperature increased by energy supplied in unit time (corresponding to each of the formulas &lt;2-1&gt;, &lt;2-2&gt;, . . . , &lt;2-n&gt;), and a total sum of decreased temperatures at the present time from temperatures increased in respective past unit times is calculated to presume the current head temperature (&lt;2-1&gt;+&lt;2-2&gt;+ . . . +&lt;2-n&gt;).
    </p>
    <p num="321">
      In this embodiment, the chip temperature of the recording head is calculated (heat source 2*thermal time constant 2) four times based on the above-mentioned modeling.
      <br/>
      The required calculation times and data hold times for the four calculations are as shown in FIG. 38. FIGS. 39 to 42 show calculation tables used for calculating the head temperature, and each comprising a two-dimensional matrix of input energy and elapse time.
      <br/>
      FIG. 39 shows a calculation table when ejection heaters are used as heat source, and a member group having a short-range time constant is used; FIG. 40 shows a calculation table when ejection heaters are used as the heat source, and a member group having a long-range time constant is used; FIG. 41 shows a calculation table when sub-heaters are used as the heat source, and a member group having a short-range time constant is used; and FIG. 42 shows a calculation table when sub-heaters are used as the heat source, and a member group having a long-range time constant is used.
    </p>
    <p num="322">
      As shown in FIGS. 39 to 42, calculations are performed at 0.05-sec intervals to obtain:
      <br/>
      (1) an increase (in degrees) in temperature of a member having a time constant represented by the short range upon driving of the ejection heaters ( DELTA Tmh);
      <br/>
      (2) an increase (in degrees) in temperature of a member having a time constant represented by the short range upon driving of the sub-heaters ( DELTA Tsh); calculations are performed at 1.0-sec intervals to obtain:
      <br/>
      (3) an increase (in degrees) in temperature of a member having a time constant represented by the long range upon driving of the ejection heaters ( DELTA Tmb); and
      <br/>
      (4) an increase (in degrees) in temperature of a member having a time constant represented by the long range upon driving of the sub-heaters ( DELTA Tsb).
    </p>
    <p num="323">The above-mentioned calculations are sequentially performed, and  DELTA Tmh,  DELTA Tsh,  DELTA Tmb, and  DELTA Tsb are added to each other (= DELTA Tmh+ DELTA Tsh+ DELTA Tmb+ DELTA Tsb), thus calculating the head temperature at that time.</p>
    <p num="324">As described above, since the recording head constituted by combining a plurality of members having different heat conduction times is modeled to be substituted with a smaller number of thermal time constants than that in practice, the following effects can be obtained.</p>
    <p num="325">As compared to a case wherein calculation processing is faithfully performed in units of all the members having different heat conduction times, and in units of thermal time constants between adjacent members, the calculation processing volume can be greatly decreased without impairing calculation precision so much.</p>
    <p num="326">
      Since the head is modeled with reference to time constants, calculation processing can be performed in a small number of processing operations without impairing calculation precision.
      <br/>
      For example, in the above-mentioned case, when the head is not modeled in units of time constants, the calculation interval requires 50 msec since it is determined by the area A having a small time constant.
      <br/>
      On the other hand, the data hold time of discrete data requires 512 sec since it is determined by the areas B and C having a large time constant.
      <br/>
      More specifically, accumulation calculation processing of 10,240 data for last 512 sec must be performed at 50-msec intervals, resulting in the number of calculation processing operations several hundreds of times that of this embodiment.
    </p>
    <p num="327">
      As described above, in addition to the temperature calculation algorithm in the 20th embodiment, in this embodiment, the recording head constituted by combining a plurality of members having different heat conduction times is modeled to be substituted with a smaller number of thermal time constants than that in practice, and calculations are individually performed while grouping required calculation intervals and required data hold times in units of model units (thermal time constants).
      <br/>
      Furthermore, a plurality of heat sources are set, temperature rise widths are calculated in units of model units for each heat source, and the calculated widths are added later to calculate the head temperature (plural heat source calculation algorithm).
      <br/>
      Thus, a change in temperature of the recording head can be processed by calculations even in a low-cost recording apparatus without arranging a temperature sensor in the recording head.
    </p>
    <p num="328">Moreover, the above-mentioned PWM driving control and sub-heater control for controlling the temperature of the recording head within a predetermined range can be properly performed, and ejection and the ejection quantity can be stabilized, thus allowing recording of a high-quality image.</p>
    <p num="329">
      FIGS. 43A and 43B compare the recording head temperature presumed by the head temperature calculation method described in this embodiment, and the actually measured recording head temperature using the recording head with the above-mentioned arrangement.
      <br/>
      In FIGS. 43A and 43B,
      <br/>
      abscissa: elapsed time (sec)
      <br/>
      ordinate: increased temperature ( DELTA t)
      <br/>
      print pattern; (25% duty*5 lines+50% duty*5 lines+100% duty*5 lines)*5 times (a total of 75 lines printed)
      <br/>
      FIG. 43A; change in recording head temperature presumed by the head temperature calculation means
      <br/>
      FIG. 43B; actually measured change in recording head temperature
    </p>
    <p num="330">As can be seen from FIGS. 43A and 43B, the head temperature can be precisely presumed by the temperature calculation method of this embodiment.</p>
    <p num="331">(PWM Control)</p>
    <p num="332">
      In this embodiment, double-pulse PWM control is performed like in the 20th embodiment.
      <br/>
      However, other multi-pulse PWM control methods such as triple-pulse PWM control may be employed, or a main pulse PWM driving method for modulating a main pulse width by a single pulse may be employed.
    </p>
    <p num="333">
      In this embodiment, control is made to uniquely set a PWM value based on a temperature difference ( DELTA T) between the target temperature (FIG. 35) and the head temperature.
      <br/>
      FIG. 44 shows the relationship between  DELTA T and the PWM value.
      <br/>
      In FIG. 44, "temperature difference" represents  DELTA T, "pre-heat" represents P1, "interval" represents P2, and "main" represents P3.
      <br/>
      Also, "set-up time" indicates a time from when a recording command is input until the pulse P1 is actually raised.
      <br/>
      This time is mainly determined by a margin time until the driver is enabled, and is not a principal value in the present invention.
      <br/>
      In addition, "weight" represents the weighting coefficient to be multiplied with the number of print dots, which is detected for calculating the head temperature.
      <br/>
      Even when the number of print dots remains the same, an increase in head temperature varies depending on a pulse width, e.g., between a case wherein the print operation is performed to have a pulse width of 7  MU s and a case wherein the print operation is performed to have a pulse width of 4.5  MU s. As a means for correcting a difference in the increase in temperature due to PWM control depending on the selected PWM table, the "weight" is used.
    </p>
    <p num="334">(Sub-heater Driving Control)</p>
    <p num="335">
      When an actual ejection quantity is below a reference ejection quantity even after the PWM driving means is executed, the sub-heater driving control is performed immediately before the print operation, so that the ejection quantity becomes equal to the reference ejection quantity.
      <br/>
      The sub-heater driving time is set from a sub-heater table according to a difference ( DELTA t) between the target temperature and the actual head temperature.
      <br/>
      Two sub-heater tables, i.e., "rapid acceleration sub-heater table" and "normal sub-heater table", are prepared, and are selectively used according to the following conditions (see FIG. 45).
    </p>
    <p num="336">�When print operation is restarted from non-print state�</p>
    <p num="337">
      When 10 sec or more have elapsed from the end of the previous print operation, the "rapid acceleration sub-heater table" is used.
      <br/>
      Before an elapse of 10 sec, the "normal sub-heater table" is used.
    </p>
    <p num="338">(�When continuous print operation is performed�</p>
    <p num="339">
      When 5 sec or more have elapsed after the print operation is restarted from the non-print state, the "normal sub-heater table" is used.
      <br/>
      Before an elapse of 5 sec, the table used at the beginning of the print operation is used.
      <br/>
      More specifically, when the rapid. acceleration sub-heater table is used, the "rapid acceleration sub-heater table" is used; when the normal sub-heater table is used, the "normal sub-heater table" is used.
    </p>
    <p num="340">
      The reason why the two tables are selectively used, and the rapid acceleration sub-heater table is used is as follows.
      <br/>
      That is, since the ejection control means using the sub-heaters is a means for controlling the ejection quantity by increasing the head temperature, a temperature rise operation requires much time.
      <br/>
      When the required temperature rise operation is not completed within the ramp-up time of the carriage, the start of the print operation must be delayed until the temperature rise operation is completed, thus decreasing the throughput.
    </p>
    <p num="341">
      FIG. 46 shows details of the sub-heater driving conditions.
      <br/>
      In FIG. 46, "temperature difference" represents the difference ( DELTA t) between the target temperature and the actual head temperature, "LONG" represents the rapid acceleration sub-heater table, and "SHORT" represents the normal sub-heater table.
    </p>
    <p num="342">(Overall Flow Control)</p>
    <p num="343">The flow of the overall control system will be described below with reference to FIGS. 47 and 48.</p>
    <p num="344">
      FIG. 47 shows an interrupt routine for setting a PWM driving value for ejection, and a sub-heater driving time.
      <br/>
      This interrupt routine is called at 50-msec intervals.
      <br/>
      Therefore, the PWM value and the sub-heater driving time are updated at every 50 msec regardless of a print or non-print state, or an environment requiring or not requiring the driving operation of the sub-heaters.
    </p>
    <p num="345">
      When the interrupt routine is called at a 50-msec interval, the print duty for last 50 msec is referred to (S2010).
      <br/>
      The print duty to be referred to at this time is a value obtained by multiplying the number of actually ejected dots with a weighting coefficient in units of PWM values, as has been described above in the paragraph of (PWM Control).
      <br/>
      The increased temperature ( DELTA Tmh) of a member group when the ejection heaters are used as a heat source and the short-range time constant is used is calculated based on the print duty for last 50 msec, and the print history for last 0.8 sec (S2020).
      <br/>
      Similarly, the driving duty of the sub-heaters for last 50 msec is referred to (S2030), and the increased temperature ( DELTA Tsh) of a member group when the sub-heaters are used as a heat source and the short-range time constant is used is calculated based on the driving duty of the sub-heaters for last 50 msec, and the print history for last 0.8 sec (S2040).
      <br/>
      Then, the increased temperature ( DELTA Tmb) of a member group when the ejection heaters are used as a heat source and the long-range time constant is used, and the increased temperature ( DELTA Tsb) of a member group when the sub-heaters are used as a heat source and the long-range time constant is used, which temperatures have been calculated in the main routine (to be described later), are referred to, and the above-mentioned temperatures are added to each other (= DELTA Tmh+ DELTA Tsh+ DELTA Tmb+ DELTA Tsb), thus calculating the head temperature (S2050).
    </p>
    <p num="346">
      The target temperature is set from the target temperature table (S2060), and the temperature difference ( DELTA T) between the head temperature and the target temperature is calculated (S2070).
      <br/>
      A PWM value as the optimal head driving condition according to  DELTA T is set based on the temperature difference  DELTA T and the PWM table (S2080).
      <br/>
      The sub-heater driving time (S2100) as the optimal head driving condition according to the temperature difference  DELTA T is set on the basis of the selected sub-heater table (S2090).
      <br/>
      Thus, the interrupt routine is ended.
    </p>
    <p num="347">
      FIG. 48 shows the main routine.
      <br/>
      When a print command is input in step S3010, the print duty for last 1 sec is referred to (S3020).
      <br/>
      In this case, the print duty to be referred to at this time is a value obtained by multiplying the number of actually ejected dots with a weighting coefficient in units of PWM values, as has been described above in the paragraph of (PWM Control).
      <br/>
      The increased temperature ( DELTA Tmb) of a member group when the ejection heaters are used as a heat source and the long-range time constant is used is calculated based on the duty for the last 1 sec, and the print history for last 512 sec, and is stored and updated at a memory position, which is determined to be easily referred to in the interrupt routine called at 50-msec intervals (S3030).
      <br/>
      Similarly, the driving duty of the sub-heaters for last 1 sec is referred to (S3040), and the increased temperature ( DELTA Tsb) of a member group when the sub-heaters are used as a heat source and the long-range time constant is used is calculated based on the driving duty of the sub-heaters for last 1 sec, and the driving history of the sub-heaters for last 512 sec.
      <br/>
      The temperature  DELTA Tsb is stored and updated at a memory position, which is determined to be easily referred to in the interrupt routine called at each 50-msec interval, in the same manner as in a case wherein  DELTA Tmb is stored and updated (S3050).
    </p>
    <p num="348">The sub-heaters are driven according to the PWM value and the sub-heater driving time, which are updated in the interrupt routine called at each 50-msec interval (S3060), and thereafter, the print operation for one line is performed (S3070).</p>
    <p num="349">
      In this embodiment, the double- and single-pulse PWM control methods for controlling the ejection quantity and the head temperature are used.
      <br/>
      Alternatively, PWM control using three or more pulses may be used.
      <br/>
      When the head chip temperature is higher than the print target temperature, and cannot be decreased by PWM control with small energy, the carriage scan speed may be decreased, or the carriage scan start timing may be controlled.
    </p>
    <p num="350">
      In this embodiment, since a future head temperature can be predicted without using a temperature sensor, various head control operations can be performed before an actual print operation, and recording can be more properly performed.
      <br/>
      Since the model of the recording head is simplified, and the calculation algorithm is realized by accumulating simple calculations, prediction control can also be facilitated.
      <br/>
      Constants such as temperature prediction cycles (50-msec intervals and 1-sec intervals) used in this embodiment are merely examples, and the present invention is not limited to these.
    </p>
    <p num="351">(23rd Embodiment)</p>
    <p num="352">
      A method for presuming the current temperature from a print ratio (to be referred to as a print duty hereinafter), and controlling a recovery sequence for stabilizing ejection in an ink jet recording apparatus will be described below.
      <br/>
      When the above-mentioned PWM control is not performed, the print duty is equal to the power ratio.
    </p>
    <p num="353">In this embodiment, the current head temperature is presumed from the print duty like in the 19th embodiment described above, and a suction condition is changed according to the presumed head temperature like in FIG. 21 (ninth embodiment) presented previously.</p>
    <p num="354">(24th Embodiment)</p>
    <p num="355">
      The current head temperature is presumed from the print duty like in the 23rd embodiment.
      <br/>
      However, in this embodiment, a pre-ejection condition is changed according to the presumed head temperature.
      <br/>
      This embodiment corresponds to the 10th embodiment.
    </p>
    <p num="356">
      When the head temperature is high, the ejection quantity is undesirably increased, and pre-ejection may be performed in an unnecessary quantity.
      <br/>
      In this case, control can be made to decrease the pre-ejection pulse width.
      <br/>
      FIG. 49 shows the relationship between the presumed head temperature and the pulse width.
      <br/>
      Since the ejection quantity is increased as the temperature becomes higher, the pulse width is decreased to suppress the ejection quantity.
    </p>
    <p num="357">
      Since variations in temperature among nozzles are increased as the temperature becomes higher, the distribution of the number of pre-ejection pulses must be optimized.
      <br/>
      FIG. 50 shows the relationship between the presumed head temperature and the number of pre-ejection pulses.
      <br/>
      Even at room temperature, the nozzle end portions and the central portions have different numbers of pre-ejection pulses, thus suppressing the influence caused by variations in temperature.
      <br/>
      Since the temperature difference between the end portion and the central portion is increased as the head temperature becomes higher, the difference between the number of pre-ejection pulses is also increased.
      <br/>
      In this manner, variations in temperature distribution among the nozzles can be suppressed, and efficient (required minimum) pre-ejections can be performed, thus allowing stable ejection.
    </p>
    <p num="358">
      Furthermore, when a plurality of heads are used, pre-ejection temperature tables may be changed in units of ink colors.
      <br/>
      FIG. 51 shows a temperature table.
      <br/>
      When the head temperature is high, since the viscosity of Bk (black) containing a larger amount of dye than Y (yellow), M (magenta), and C (cyan) tends to be increased, the number of pre-ejection pulses must be relatively increased.
      <br/>
      Since the ejection quantity is increased as the temperature becomes higher, the number of pre-ejection pulses is decreased.
    </p>
    <p num="359">(25th Embodiment)</p>
    <p num="360">
      In this embodiment, various recovery processing operations are performed according to the head temperature presumed like in the 19th embodiment, thus stabilizing ejection.
      <br/>
      The various recovery processing operations are the same as those in the 11th to 14th embodiments described previously, and a detailed description thereof will be omitted.
    </p>
    <p num="361">As described above, according to the present invention, since a change in temperature of an object with respect to input energy can be calculated and presumed without providing a temperature sensor to the object, the temperature of the object can be quickly and precisely obtained independently of the error, precision, and response performance of the temperature sensor.</p>
    <p num="362">
      Since a recording apparatus of the present invention comprises, as described above, a modeling means for modeling a recording head constituted by combining a plurality of members having different heat conduction times to be substituted with a smaller number of thermal time constants than that in practice, a calculation algorithm means for individually performing calculations while grouping required calculation intervals and required data hold times in units of models (thermal time constants), and a plural heat source calculation algorithm means for setting a plurality of heat sources, calculating temperature rise widths in units of models for each heat source, and then adding the calculated widths to calculate the head temperature, a change in temperature of the recording head can be processed by calculation processing even in a low-cost recording apparatus without providing a temperature sensor to the recording head.
      <br/>
      Furthermore, a recording apparatus, which can stabilize recording, e.g., the ejection quantity and ejection according to the precise and quick-response change in temperature of the recording head obtained by the above-mentioned calculations, can be provided.
    </p>
    <p num="363">(26th Embodiment)</p>
    <p num="364">The arrangement of this embodiment is the same as that shown in FIGS. 1 to 3 and FIG. 16. This embodiment will be described in detail below with reference to the accompanying drawings.</p>
    <p num="365">(Summary of Temperature Prediction)</p>
    <p num="366">
      In this embodiment, upon execution of recording by ejecting ink droplets from a recording head, a surrounding temperature sensor for measuring the surrounding temperature is provided to a main body side, and a change in temperature of an ink in an ejection unit from the past to the present is presumed by calculation processing of ejection energy of the ink, thereby stabilizing ejection according to the ink temperature.
      <br/>
      More specifically, in this embodiment, no temperature detection member for directly detecting the temperature of the recording head is used.
    </p>
    <p num="367">(27th Embodiment)</p>
    <p num="368">
      A PWM ejection quantity control method in which the number of ON pulses per ejection is 3 (three divided pulses; triple-pulse PWM) will be described below.
      <br/>
      The driving operation of the recording head is controlled by a multi-pulse PWM driving method using ejection heaters on the basis of the presumed ink temperature.
      <br/>
      In this embodiment, control is made to obtain a constant ejection quantity by PWM ejection quantity control (to be described below) based on the ink temperature.
    </p>
    <p num="369">(PWM Control)</p>
    <p num="370">
      The PWM ejection quantity control method of this embodiment will be described in detail below with reference to the accompanying drawings.
      <br/>
      FIG. 52 is a timing chart of common signals and segment signals in a head using a known diode matrix.
      <br/>
      The command signals are output eight times in turn in a minimum driving period of the recording head regardless of the content of print data, and during the ON period of each common signal, the segment signals whose ON/OFF intervals are determined according to a print signal are turned on.
      <br/>
      A current flows through the ejection heaters when the command and segment signals are simultaneously turned on.
      <br/>
      In this embodiment, ejection ON/OFF control of each of 64 nozzles can be performed.
      <br/>
      In this embodiment, the segment signals are controlled by multi-pulse PWM control based on interval time control, thus realizing ejection quantity control as well as ON/OFF control.
    </p>
    <p num="371">
      FIGS. 53A and 53B are views for explaining divided pulses according to the embodiment of the present invention.
      <br/>
      In FIG. 53A, VOP represents the operational voltage, T1 represents the pulse width of the first one of a plurality of divided heat pulses, which pulse does not cause bubble production (to be referred to as a pre-pulse hereinafter), T2 represents the interval time, and T3 is the pulse width of the second pulse, which causes bubble production (to be referred to as a main pulse hereinafter).
      <br/>
      The operational voltage Vop represents electrical energy necessary for causing an electrothermal converting element applied with this voltage to generate heat energy in the ink in an ink channel constituted by a heater board and a top plate.
      <br/>
      The value of this voltage is determined by the area, resistance, and film structure of the electrothermal converting element, and the channel structure of the recording head.
    </p>
    <p num="372">
      The PWM ejection quantity control of this embodiment can also be referred to as an interval time with a modulation driving method.
      <br/>
      For example, in the case of triple-pulse PWM control, the pulses are applied in turn to have the widths T1, T2, and T3 upon ejection of one ink droplet.
      <br/>
      At this time, the width of the interval time T2 is modulated according to the ink temperature and an ejection quantity modulation signal.
      <br/>
      The pre-pulse is a pulse for applying heat energy to the ink temperature in the ink channel so as not to cause bubble production.
      <br/>
      The interval time controls a time required for conducting the pre-pulse energy to the ink in the ink channel, and plays an important role in this embodiment.
      <br/>
      The main pulse causes bubble production in the ink in the ink channel, and ejects the ink from an ejection orifice.
      <br/>
      The width T3 of the main pulse is preferably determined by the area, resistance, and film structure of the electrothermal converting element, and the channel structure of the recording head.
    </p>
    <p num="373">
      In the PWM control described previously with reference to FIG. 10, when the ejection quantity is to be increased, the pulse width of the pulse T1 must be increased to increase heat energy itself to be supplied to the recording head.
      <br/>
      For this reason, when a pulse value having large T1 is continuously input, the temperature of the head itself is undesirably increased.
      <br/>
      As a result, since the temperature of the head itself is increased, when the ejection quantity is to be decreased in turn, the ejection quantity cannot often be decreased to a desired quantity.
    </p>
    <p num="374">
      Also, in the power supply design at the main body side, when the maximum ejection quantity is to be obtained in the above-mentioned control, extra electrical power of about 40% must be input, and the power supply, flexible circuit board, and the like must be designed using this maximum value from the beginning.
      <br/>
      An increase in cost for this design is very large.
      <br/>
      In a portable printer, a battery driving operation is indispensable, and an increase in electrical power decreases the number of printable pages.
      <br/>
      In particular, at low temperature, since the pulse width is shifted to be larger, the number of printable pages is further decreased in an environment where battery performance is impaired.
    </p>
    <p num="375">
      In this embodiment, the width T1 of the pre-pulse is left unchanged, and the interval time T2 between the pre-pulse T1 and the main pulse T3 is set to be variable, thus allowing ejection quantity control by controlling the heat conduction time.
      <br/>
      According to this control, most of the above-mentioned drawbacks can be solved.
      <br/>
      A PWM control means of this embodiment will be described below.
    </p>
    <p num="376">In the recording head shown in FIGS. 8A and 8B, when the operational voltage VOP =18.0 (V), the main pulse width T3=4.000 � MU sec�, and the pre-pulse width T1=1.000 � MU sec� are set, and the interval time T2 is changed between 0 and 10 � MU sec�, the relationship between an ejection quantity Vd �pl/drop� and the interval time T2 � MU sec�, as shown in FIG. 54, is obtained.</p>
    <p num="377">
      FIG. 54 is a graph showing the interval line dependency of the ejection quantity in this embodiment.
      <br/>
      In FIG. 54, V0 indicates the ejection quantity when T2=0 � MU sec�, and this value is determined by the head structure shown in FIGS. 8A and 8B. In this embodiment, V0 =70.0 �pl/drop� when a surrounding temperature TR=23 (degree)  C. As indicated by the curve shown in FIG. 54, the ejection quantity Vd is nonlinearly increased to a given region up to the saturation point according to an increase in interval time T2, and shows saturated characteristics for a while.
      <br/>
      Thereafter, the ejection quantity Vd presents a slow descent curve.
    </p>
    <p num="378">
      In this manner, a range until the change in ejection quantity Vd with respect to the change in interval time T2 is saturated is effective as a range wherein the ejection quantity can be easily controlled by changing the interval time T2.
      <br/>
      In this embodiment indicated by the curve in FIG. 54, T2 can be used up to T2.apprxeq.8.00 ( MU s) in practice.
      <br/>
      The maximum ejection quantity at this time was 85.0 �pl/drop� in a 15 (degree)  C. environment, and was 91 �pl/drop� in a 23 (degree)  C. environment.
    </p>
    <p num="379">
      However, when the pulse width is still large, the ejection quantity Vd is gradually decreased from the maximum value.
      <br/>
      This phenomenon occurs for the following reason.
      <br/>
      In the principle of the ejection quantity control, when the pre-pulse is applied, and the ink at the interface between the electrothermal converting element and the ink is heated within a bubble non-production range, only a portion very close to the surface of the electrothermal converting element is heated since the heat conduction speed of the ink is low, and the degree of activation of this portion is increased.
      <br/>
      Thus, the evaporation quantity of this portion in response to the next main pulse is changed according to the increased degree of activation, and as a result, the ejection quantity can be controlled.
      <br/>
      For this reason, when the heat conduction time is too long (when the pulse width is too large), heat is excessively diffused in the ink, and the degree of activation of the ink is decreased in an actual bubble production range in response to the next main pulse.
    </p>
    <p num="380">
      An increase in ejection quantity due to an increase in interval time T2 will be described in detail below.
      <br/>
      As shown in FIG. 55, since a multi-layered coating such as a protection film is formed on the heater surface, the center of the heater exhibits the highest temperature, the temperature is slightly decreased toward the interface with the ink, a temperature distribution representing an abrupt change is formed at the interface with the ink, and thereafter, a moderate distribution is shown.
      <br/>
      FIG. 56 shows a one-dimensional temperature distribution of a section perpendicular to the heater surface in a conventional single-pulse driving method and the multi-pulse driving method.
      <br/>
      The temperature distribution shown in FIG. 56 is one after an elapse of the interval time T2 after the pre-pulse T1 is input, and immediately before film boiling in the main pulse T3 occurs.
      <br/>
      A curve of the single-pulse driving method also represents a temperature distribution after the single pulse is applied and immediately before film boiling occurs.
    </p>
    <p num="381">
      At this time, the temperature distribution in the ink is as shown in FIG. 56. As can be seen from FIG. 56, the thickness of an ink layer having a high temperature although its peak temperature is low is larger in the multi-pulse method than that in the single-pulse method.
      <br/>
      When film boiling occurs at the next moment in this state, a portion above a temperature indicated by an oblique dotted line is actually evaporated, and serves as a portion associated with bubble production.
      <br/>
      More specifically, the ink portion having a thickness indicated by a vertical dotted line in the graph of the temperature inside the ink is evaporated, and the bubble production volume in the multi-pulse method is larger than that in the single-pulse method.
      <br/>
      As a result, the ejection quantity is increased.
    </p>
    <p num="382">
      The multi-pulse PWM control based on the interval time control method is characterized in that input energy is set to have a minimum constant value, and the thickness of the ink layer (bubble production volume) to be evaporated is controlled according to a heat conduction time from the input of the pre-pulse T1 until the beginning of film boiling.
      <br/>
      More specifically, when the interval time is increased, although the peak temperature of the ink is decreased, the region of the (activated) ink layer, which is actually evaporated in response to the next main pulse, and is associated with bubble generation, is increased.
    </p>
    <p num="383">
      This embodiment is suitable for high-speed driving since a control region varies from the interval time=0 to a value (8  MU sec in FIG. 54) corresponding to the saturated ejection quantity.
      <br/>
      More specifically, a region after the value (8  MU sec in FIG. 54) corresponding to the saturated ejection quantity may be used as a control region.
      <br/>
      However, since a time required for one ejection is increased, the latter region is not suitable for high-speed driving.
      <br/>
      For example, when the pre-pulse width T1=1.000 � MU sec� and the main pulse width T3=4.000 � MU sec� are set, and the interval time T2 is changed between 0 and 8 � MU sec�, a time required for one ejection is a maximum of 13 � MU sec�. However, when the interval time T2 is changed from 8 to 20 � MU sec�, 25 � MU sec� are required.
    </p>
    <p num="384">As described above, according to this embodiment, the ejection quantity control is performed by controlling the ejection quantity by changing the interval time T2, i.e., by controlling the thickness of the ink layer at active level according to a heat conduction time after a minimum necessary heat amount is applied, in place of changing the pre-pulse width T1, i.e., in place of forcibly and abruptly applying heat energy to the ink having low heat conductivity with a large temperature gradient up to active level immediately before film boiling occurs.</p>
    <p num="385">
      With the above-mentioned new principle, the following effects are obtained.
      <br/>
      The first effect is a widened controllable range, as described above.
      <br/>
      When the pre-pulse width T1 is increased to increase the ejection quantity, the ink temperature approaches a pre-bubble region.
      <br/>
      However, since this embodiment is free from such a problem, the control range can be widened independently of variations of recording heads.
    </p>
    <p num="386">
      The second effect is an energy saving effect.
      <br/>
      In this embodiment, since an increase in bubble production efficiency is realized by increasing heat efficiency based on the heat conduction time, energy supplied to the recording head need not be increased, i.e., a minimum energy level can be set.
      <br/>
      In other words, in this embodiment, as the ejection quantity is increased, the heat efficiency can be improved, and the required heat amount per unit ejection volume is decreased.
      <br/>
      Therefore, in the design of the main body power supply, flexible cable, connector, and battery, as described above, only a minimum capacity is required.
      <br/>
      In the method of controlling the pre-pulse width, since the pulse width must be increased to continuously increase the ejection quantity, input energy is undesirably increased by a maximum of about 40%, and an increase in temperature of the recording head itself is promoted.
      <br/>
      However, the temperature of the recording head is not increased, and the increase in temperature of the head itself is suppressed by the improved heat efficiency.
    </p>
    <p num="387">
      In an actual ejection quantity control method, a temperature range described as "PWM control region" in FIG. 57 is a temperature range in which the ejection quantity can be stabilized.
      <br/>
      In this embodiment, this temperature range corresponds to a range between 15 (degree)  C. and 35 (degree)  C. of the ink temperature in the ejection unit.
      <br/>
      FIG. 57 shows the relationship between the ink temperature in the ejection unit and the ejection quantity when the interval time is changed in 10 steps.
      <br/>
      Even when the ink temperature in the ejection unit changes, the ejection quantity can be controlled within a width  DELTA V with respect to a target ejection quantity VdO by changing the interval time at every temperature step width  DELTA T according to the ink temperature.
    </p>
    <p num="388">(Temperature Prediction Control)</p>
    <p num="389">Operations upon execution of recording using the recording apparatus with the above arrangement will be described below with reference to the flow charts shown in FIGS. 58 and 59.</p>
    <p num="390">Since operations from when the power switch is turned on in step S700 until a print signal is input in step S760 are the same as those in steps S100 to S160 in FIG. 17, a detailed description thereof will be omitted.</p>
    <p num="391">
      When the print signal is input, a target (driving) temperature table (FIG. 60) is referred to, thus obtaining a print target temperature ( ALPHA ) of the head chip at which optimal driving is attached at the current surrounding temperature (S770).
      <br/>
      In FIG. 60, the same table as Table 6 presented previously may be used although the target temperatures are different.
      <br/>
      In step S780,  GAMMA (= ALPHA - BETA ) is calculated.
    </p>
    <p num="392">Then, the interval time T2 is determined with reference to FIG. 61A for the purpose of controlling the ejection quantity using the PWM method (S790).</p>
    <p num="393">
      During a one-line print operation, the chip temperature of the head changes according to its ejection duty.
      <br/>
      More specifically, since the difference ( GAMMA ) sometimes changes even in one line, the interval time is preferably optimized in one line according to the change in  GAMMA .
      <br/>
      In this embodiment, the one-line print operation requires 1.0 sec. Since the temperature prediction cycle of the head chip is 0.1 sec, one line is divided into 10 areas in this embodiment.
      <br/>
      The interval time at the beginning of printing, which value is set previously, is an interval time at the beginning of printing of the first area.
    </p>
    <p num="394">
      A method of determining the interval time at the beginning of printing of each of the second to 10th areas will be described below.
      <br/>
      In step S800, n=1 is set, and in step S810, n is incremented.
      <br/>
      In this case, n represents the area, and since there are 10 areas, the control escapes from the following loop when n exceeds 10 (S820).
    </p>
    <p num="395">
      In the first round of the loop, the interval time at the beginning of printing of the second area is set.
      <br/>
      More specifically, the power ratio of the first area is calculated based on the number of dots and the PWM value of the first area (S830).
      <br/>
      The power ratio corresponds to a value plotted along the ordinate when the temperature prediction table is referred to.
      <br/>
      In this case, the head chip temperature ( BETA ) at the end of printing of the first area (i.e., at the beginning of printing of the second area) is predicted by substituting the power ratio in the temperature prediction table (FIG. 20) (i.e., by referring to the table) (S840).
      <br/>
      In step S850, the difference ( GAMMA ) between the print target temperature ( ALPHA ) and the head chip temperature ( BETA ) is calculated again.
      <br/>
      The interval time T2 for printing the second area is obtained based on the difference ( GAMMA ) by referring to FIG. 61, and the interval time of the second area is set on the memory (S860).
    </p>
    <p num="396">
      Thereafter, the power ratio in the corresponding area is calculated based on the number of dots and the interval time of the immediately preceding area, thereby predicting the head chip temperature ( BETA ) at the end of printing of the corresponding area.
      <br/>
      Then, the interval time of the next area is set based on the difference ( GAMMA ) between the print target temperature ( ALPHA ) and the head chip temperature ( BETA ) (S820 to S860).
      <br/>
      Thereafter, when the interval times for all the 10 areas in one line-are set, the flow advances from step S820 to step S870, and the sub-heaters are heated before printing.
      <br/>
      Thereafter, the one-line print operation is performed according to the set interval times.
      <br/>
      Upon completion of the one-line print operation in step S870, the flow returns to step S720 to read the temperature of a reference thermistor, and the above-mentioned control operations are sequentially repeated.
    </p>
    <p num="397">With the above-mentioned control, since the actual ejection quantity can be stably controlled regardless of the ink temperature, a high-quality recorded image having a uniform density can be obtained.</p>
    <p num="398">(28th Embodiment)</p>
    <p num="399">The 28th embodiment of the present invention, capable of widening a control region of an ejection quantity will be described below.</p>
    <p num="400">
      In the 27th embodiment, the interval time in the double-pulse PWM driving method is controlled to control the ejection quantity in all the environments.
      <br/>
      However, in the 28th embodiment, sub-heaters are also used according to the surrounding temperature, so that the temperature range of the recording head, in which the ejection quantity can be controlled, is widened.
    </p>
    <p num="401">
      The temperature range of the recording head, in which the ejection quantity can be controlled, in the 28th embodiment will be described below.
      <br/>
      The characteristics of the recording head used in the 27th and 28th embodiments and the ejection quantity per dot suitable for image formation are as follows:
      <br/>
      Ejection quantity change width controlled by changing interval time; +30%
      <br/>
      Temperature dependency coefficient (KT); 0.8 �pl/ (degree)  C.�
      <br/>
      Optimal ejection quantity: 85 pl
    </p>
    <p num="402">
      Assuming that the surrounding temperature range, in which the apparatus can be used, and the print density is assured, is a range between 15 (degree)  C. and 35 (degree)  C., the recording head must be arranged to obtain an ejection quantity of 85 pl when the surrounding temperature is 15 (degree)  C. (recording head temperature=15 (degree)  C.), and the PWM value for maximizing the ejection quantity (to be referred to as PWMmax hereinafter) is set.
      <br/>
      At this time, an ejection quantity of 65 pl is obtained when the PWM value for minimizing the ejection quantity is set (to be referred to as PWMmin hereinafter).
      <br/>
      When this head is used at a surrounding temperature of 35 (degree)  C., since the temperature dependency coefficient is 0.8, the ejection quantity is increased by 16, pl and 81 pl are obtained by PWMmin.
      <br/>
      When a difference from the optimal ejection quantity is up to 4 pl, i.e., when an increase in temperature of the recording head itself by the print operation is up to 5 (degree)  C., the actual ejection quantity can be controlled to be equal to the optimal ejection quantity.
      <br/>
      However, when the increase in temperature of the recording head itself exceeds 5 (degree)  C., it is impossible to control the actual ejection quantity.
      <br/>
      Factors that limit the useable temperature width of the recording head are two factors, i.e., the ejection quantity control width of PWM driving and the temperature dependency coefficient.
      <br/>
      If the ejection quantity change width is 20 pl and the temperature dependency coefficient is 0.8, the useable temperature range of the recording head is inevitably limited to 25 (degree)  C.
    </p>
    <p num="403">
      Thus, in this embodiment, when the surrounding temperature is low, control for heating the recording head using the sub-heaters is performed in addition to the control in the 27th embodiment.
      <br/>
      Thus, a low recording head temperature need not be assumed, and the useable temperature range can be shifted toward the upper limit side.
      <br/>
      For this reason, the condition of a useable temperature can be expanded in a practical use.
      <br/>
      In this embodiment, although control is made also using the sub-heaters, since the ejection quantity is controlled by the method of the 27th embodiment without increasing the pre-pulse width, input energy conversion efficiency can be improved.
      <br/>
      For this reason, an increase in temperature can be suppressed, and an ejection quantity control range can be further widened even when print quality equivalent to that in the prior art is to be obtained.
    </p>
    <p num="404">
      This embodiment will be described in detail below with reference to the accompanying drawings.
      <br/>
      In this embodiment, an allowable variation range of the actual ejection quantity is a range between 85 and 90, pl and four ranks of PWM values are set.
      <br/>
      That is, PWM values PWM1, PWM2, PWM3, and PWM4 are set from a smaller ejection quantity side.
      <br/>
      The PWM value PWM4 is 1.3 times the ejection quantity ratio of PWM1, and other PWM values are set to have the same ratio.
      <br/>
      FIG. 63 shows details (pre-pulse widths, interval times, main pulse widths, and the like) of the PWM values.
      <br/>
      In this embodiment, the PWM values are changed immediately before the print operation of each line.
    </p>
    <p num="405">
      FIG. 62 shows the relationship between the recording head temperature, the selected PWM value, and the ejection quantity at that time.
      <br/>
      FIG. 62 does not illustrate setting below 30 (degree)  C. for the following reason.
      <br/>
      That is, when the recording head temperature is equal to or lower than 30 (degree)  C., the sub-heaters are driven to adjust the recording head temperature to be equal to or higher than 30 (degree)  C. The recording head temperature is presumed by the temperature prediction control means described in the 26th embodiment.
      <br/>
      When the recording head temperature falls within the range of 30 (degree)  C. (inclusive) and 36.25 (degree)  C. (exclusive), the recording head is driven by PWM4 capable of obtaining the maximum ejection quantity.
      <br/>
      When the recording head temperature exceeds 36.25 (degree)  C., the PWM value is switched to PWM3.
      <br/>
      Thereafter, every time an increase in recording head temperature exceeds 6.25 (degree)  C., the PWM value is switched in the order of PWM2 and PW1.
    </p>
    <p num="406">Operations upon execution of recording using the recording apparatus with the above-mentioned arrangement will be described below with reference to the flow chart shown in FIG. 64.</p>
    <p num="407">
      When a print command is input in step S4000, the recording head temperature is presumed (S4100).
      <br/>
      If the recording head temperature is 30 (degree)  C. or less, the sub-heaters are driven in unit time to increase the recording head temperature.
      <br/>
      Upon repetition of the above operations, the recording head temperature is adjusted to be 30 (degree)  C. or more (S4200 and S4300).
      <br/>
      If it is determined in step S4200 that the recording head temperature exceeds 30 (degree)  C., the flow advances to step S4400, and the rank of the PWM value is set based on the recording head temperature.
      <br/>
      The pre-pulse width, interval time, and main pulse width according to the rank are obtained from FIG. 63, and a one-line print operation is performed according to the obtained values (S4500).
      <br/>
      Thereafter, the control returns to a print standby state.
    </p>
    <p num="408">
      With the above-mentioned control, the upper limit value of the ejection quantity controllable temperature range of the recording head can be increased as compared to the 27th embodiment.
      <br/>
      Since a temperature difference between the recording head temperature and the surrounding temperature is increased, the temperature decrease speed of the recording head can also be increased.
      <br/>
      Thus, even when the ejection quantity controllable temperature range of the recording head remains the same, an increase in temperature of the recording head can be suppressed, and the control range of the recording head temperature with respect to input energy can be widened.
    </p>
    <p num="409">
      In this embodiment, since four ranks of PWM values are set, the allowable ejection quantity range is set to be 5 pl.
      <br/>
      However, when the number of ranks of the PWM values is increased, the allowable ejection quantity range can be narrowed.
      <br/>
      In this embodiment, the switching timing of the PWM values is set immediately before the print operation of each line.
      <br/>
      Alternatively, control may be made to switch the PWM value a plurality of number of times during the one-line print operation.
    </p>
    <p num="410">
      In this embodiment, the control method of increasing the temperature of the recording head to be 30 (degree)  C. or more using the sub-heaters is executed immediately before printing.
      <br/>
      However, the sub-heaters may be always driven even during printing.
      <br/>
      The optimal increased/keeping temperature is determined by the arrangement of the recording head, and the ink composition, and is not limited to 30 (degree)  C. In this embodiment.
      <br/>
      The arrangement and operations other than the sub-heater driving control means are the same as those in the above embodiment, and a detailed description thereof will be omitted.
    </p>
    <p num="411">(29th Embodiment)</p>
    <p num="412">The 29th embodiment for widening the control width of the ejection quantity by PWM driving according to the present invention will be described below.</p>
    <p num="413">
      As described above, factors that limit the useable temperature width of the recording head are two factors, i.e., the ejection quantity control width of PWM driving and the temperature dependency coefficient.
      <br/>
      In the 28th embodiment, since the ejection quantity change width is +30% (20 pl ), and the temperature dependency coefficient is 0.8, the useable temperature range of the recording head is limited to 25 (degree)  C. (20 pl/0.8).
      <br/>
      Therefore, the lowest temperature of the recording head is controlled to be 30 (degree)  C. or more using the sub-heaters, thereby shifting the useable temperature range (25 (degree)  C.) of the recording head toward the upper limit side to attain effective control.
    </p>
    <p num="414">
      However, in the control for driving the sub-heaters immediately before recording, and disabling the sub-heaters during printing, the print operation must be delayed until the recording head temperature is increased to a predetermined temperature, i.e., 30 (degree)  C. As a result, the throughput (recording time) may be decreased, and it is difficult to apply such control to a product that requires high-speed operations.
      <br/>
      In order to always drive the sub-heaters to control the recording head temperature to be 30 (degree)  C., the power supply capacity capable of driving the sub-heaters during printing is required, and this may cause an increase in cost.
      <br/>
      In addition, the energy saving effect as the primary object may be deteriorated.
    </p>
    <p num="415">Thus, in the 29th embodiment, the useable temperature range of the recording head is widened by increasing the ejection quantity control width, thus eliminating the above-mentioned influences upon the rapid temperature rise of the recording head by, e.g., the sub-heaters, and a temperature keeping operation.</p>
    <p num="416">
      This embodiment will be described in detail below.
      <br/>
      In FIG. 53A, T1 represents a pre-pulse, T3 represents a main pulse, and T2 represents an interval time between the pre-pulse T1 and the main pulse T3.
      <br/>
      As has been described in the above embodiment, the ejection quantity can be controlled by changing T2 without changing T1 Also, the ejection quantity can be controlled by changing T1 without changing T2.
      <br/>
      Thus, in this embodiment, both T1 and T2 are optimally controlled according to the recording head temperature to further widen the ejection quantity control width, so that the useable temperature range of the recording head can be widened without utilizing an external assist means such as the sub-heaters.
    </p>
    <p num="417">
      FIG. 65 shows the ratio of change in ejection quantity when T1 and T2 are changed.
      <br/>
      As can be seen from FIG. 65, when both T1 and T2 are changed, the ejection quantity can be increased by 50% in this embodiment.
      <br/>
      The pre-pulse T1 is used for the purpose of increasing the ink temperature around ejection heaters, and the ink temperature is increased to have a correlation with its pulse width.
      <br/>
      However, when the pre-pulse T1 causes a bubble production phenomenon, since a bubble may be irregularly produced upon application of the main pulse, the upper limit of T1 is determined by the maximum pulse width that does not cause the bubble production phenomenon.
      <br/>
      Since the pulse width of the pre-pulse T1 is left unchanged in any environment in the 28th embodiment, the value T1 is not set to be an upper limit value for the purpose of energy saving and suppression of an increase in temperature.
      <br/>
      However, this embodiment also controls T1 to provide the PWM effect with maximum efficiency.
    </p>
    <p num="418">
      In this embodiment, when the ink temperature is 15 (degree)  C., T1=3  MU s that can attain the maximum ejection quantity control width in FIG. 65 is set, thereby realizing a maximum increase in ejection quantity (by 50%) in the 15 (degree)  C. environment.
      <br/>
      Since the ejection quantity can be increased by 50% when the ink temperature is at 15 (degree)  C., and since the ejection quantity change width is 28 pl (85-85/1.5), and the temperature dependency coefficient is 0.8 in this embodiment, the useable temperature range of the recording head is inevitably set at 35 (degree)  C. (28/0.8).
    </p>
    <p num="419">
      With the above-mentioned control, the use range of the recording head temperature, in which the ejection quantity can be controlled to be an optimal ejection quantity, can be widened to a range between 15 (degree)  C. and 50 (degree)  C. (35 (degree)  C. width).
      <br/>
      The arrangement and operations other than the pre-pulse width control means are the same as those in the above embodiment, and a detailed description thereof will be omitted.
    </p>
    <p num="420">
      As described above, in the multi-pulse PWM control method of this embodiment, the duration of the OFF time (interval time) between the first pulse (pre-pulse) and the second pulse (main pulse) is set to be variable in place of changing the width of the first pulse.
      <br/>
      More specifically, heat efficiency is varied by changing the heat conduction time with a minimum energy amount without increasing the energy amount, and the degree of activity of the ink at the interface between the heater and the ink is changed, thus varying the ejection quantity.
    </p>
    <p num="421">
      In this manner, the control range can be widened without causing an increase in energy or a problem of an increase in temperature, and without causing an ejection error such as irregular bubble production that may easily occur at the limit point, and damage to heaters.
      <br/>
      Therefore, the ejection quantity can be stably controlled without posing a problem of an increase in power supply capacity or a problem of an overload upon battery driving, or without forming wait time even at a low temperature depending on the method.
    </p>
    <p num="422">
      Furthermore, when both the first pulse and the interval time are independently controlled, the variable range of the ejection quantity can be greatly widened.
      <br/>
      When the ink temperature is controlled also using the sub-heaters, the controllable range can also be widened.
    </p>
    <p num="423">
      Ejection is stabilized according to the ink temperature in the ejection unit in the recording mode, which is presumed prior to recording, thus obtaining a high-quality image having a uniform density.
      <br/>
      Since the ink temperature is presumed without providing a temperature sensor to the recording head, the recording apparatus main body and the recording head can be simplified.
    </p>
    <p num="424">
      As described above, in the multi-pulse PWM control method of the present invention, the duration of the OFF time (interval time) between the first pulse (pre-pulse) and the second pulse (main pulse) is set to be variable in place of changing the width of the first pulse.
      <br/>
      More specifically, heat efficiency is varied by changing the heat conduction time with a minimum energy amount without increasing the energy amount, and the degree of activity of the ink at the interface between the heater and the ink is changed, thus varying the ejection quantity.
    </p>
    <p num="425">In this manner, the control range can be widened without causing an increase in energy or a problem of an increase in temperature, and without causing an ejection error such as irregular bubble production that may easily occur at the limit point, and damaging heaters.</p>
    <p num="426">(30th Embodiment)</p>
    <p num="427">
      In the method of varying the interval time between the pulses described in the 29th embodiment, the above-mentioned problems of, e.g., an increase in temperature can be remarkably improved in principle.
      <br/>
      However, the main pulse as a pulse for actually causing ejection still has room for improvements.
      <br/>
      For example, when the minimum driving period of the recording head is shortened to increase the recording speed, since the heat conduction characteristics of the members themselves constituting the recording head approach their limits, if any wasteful heat quantity that cannot be converted into ejection energy is applied, local heat accumulation occurs near ejection nozzles.
      <br/>
      For this reason, a refill error occurs or a bubble cannot satisfactorily disappear due to an extreme increase in ejection quantity Vd, and the next successive bubble production causes a bubble production error, resulting in an ejection disable state.
    </p>
    <p num="428">
      When the interval time is further increased to widen the ejection quantity controllable range, heat is excessively diffused below the degree of activation necessary for varying the ejection quantity, thus decreasing heat efficiency.
      <br/>
      Even when the modulation of the first pulse width and the modulation of the interval time are combined, a maximum of the ejection quantity modulation width of about 50% can only be obtained.
    </p>
    <p num="429">For this reason, the above-mentioned embodiment is sufficient for the purpose of stabilizing the ejection quantity, but is insufficient to obtain a halftone image by varying the ejection quantity unless it is combined with a large number of times of multi-scan print operations.</p>
    <p num="430">The 30th embodiment of the present invention will be described below.</p>
    <p num="431">
      At a simple low print ratio, the above-mentioned result is obtained.
      <br/>
      However, when the print operation is performed at a high print ratio, the heat efficiency of the above-mentioned main pulse T3 (FIG. 53A) poses a problem.
      <br/>
      Furthermore, when the minimum driving ejection period (maximum driving frequency) is shortened (increased) in, e.g., a high-speed mode in units of print modes using a single head, the problem of the heat efficiency cannot often be ignored.
      <br/>
      For example, a difference shown in FIG. 66 is formed between a case wherein the minimum ejection driving period (maximum driving frequency) is 333  MU s (3 kHz) and a case wherein the minimum ejection driving period (maximum driving frequency) is 167  MU s (6 kHz).
    </p>
    <p num="432">
      FIG. 66 shows a change in temperature of the recording head when the print operations are respectively performed at print ratios of 5% and 50%.
      <br/>
      The print time is plotted along the abscissa.
    </p>
    <p num="433">
      The following description will be made mainly with reference to FIG. 66 which best illustrates the features of this embodiment.
      <br/>
      The graph shown in FIG. 66 shows the degrees of temperature rise of the recording head with respect to the print times when the print operations are respectively performed at the print ratios of 50% and 5% in the 27th and 30th embodiments.
      <br/>
      In the 27th embodiment, the print operation at the print ratio of 50% is performed to have the main pulse width T3 of 7  MU sec, and that at the print ratio 5% is performed to have the main pulse width T3 of 3  MU sec.
      <br/>
      In these cases, the pre-pulse width T1 is fixed po 3  MU sec, and the interval time T2 is varied.
      <br/>
      The minimum driving period of recording is set to be 167  MU sec (high-speed mode) in this embodiment, and a recording head, which has a thermal limit in use of 333  MU sec in the conventional driving technique, is used.
      <br/>
      More specifically, when this head is used in driving of 167  MU sec, it causes an overheating state in practice.
      <br/>
      In the latter half of one line, ejection becomes unstable, and when several lines are continuously printed, the ejection disable state occurs at last.
    </p>
    <p num="434">
      As for the embodiment of the present invention, FIG. 66 also shows data at the print ratios of 50% and 5%.
      <br/>
      The pre-pulse width T1 is similarly fixed to be 3  MU sec, and the interval time T2 is varied.
      <br/>
      The main pulse width T3 is varied between 3  MU sec and 7  MU sec.
      <br/>
      When the continuous print operation is performed in this state, the head shows a change in temperature shown in FIG. 66.
    </p>
    <p num="435">
      The possible ejection region of the main pulse T3 in the multi-pulse PWM driving mode is influenced by the pre-pulse T1 and the interval time T2.
      <br/>
      The influence of the interval time T2 will be described first.
      <br/>
      In contrast to the single-pulse driving mode, in the multi-pulse driving mode, since the temperature at the interface between the heater and the ink immediately before the main pulse is output is maintained at a high activation level, a time after the main pulse T3 is started until film boiling is started is shortened, and as a result, the minimum necessary pulse width of the main pulse T3 is shortened, as shown in FIG. 67.
    </p>
    <p num="436">As has been described above with reference to FIGS. 55 and 56, in the multi-pulse PWM control based on the interval time control method, input energy is set to have a predetermined minimum value, and the thickness (bubble production volume) of the ink layer to be evaporated is controlled by the heat conduction time after the pre-pulse T1 until the beginning of film boiling.</p>
    <p num="437">Furthermore, it is important that the thickness of the ink layer capable of causing film boiling changes during the interval time T2, and the time after the main pulse T3 is started until film boiling is actually started changes, as described above.</p>
    <p num="438">
      By utilizing these characteristics, when the main pulse T3 is PWM-controlled in correspondence with a change in interval time T2, wasteful energy which is generated since a value at which bubble production and ejection can be performed under the worst condition is used although the film boiling start point changes can be greatly decreased.
      <br/>
      More specifically, problems of, e.g., the heat accumulation and overheating of the recording head due to heating of the heaters in an adiabatic state from the ink after film boiling is already started, scorching and cavitation breakdown of the ink due to an increase in heater peak temperature, and the like, can be solved.
      <br/>
      Furthermore, since the problem of heat accumulation can be remarkably improved, the minimum driving period of the recording head can be greatly prolonged.
      <br/>
      In particular, the print operation at a high print ratio can be performed in a driving frequency band in which such a print operation is impossible so far.
      <br/>
      FIG. 68 shows an actual change in pulse width when several lines at a print ratio of 50% are printed on an A4-size recording sheet.
    </p>
    <p num="439">
      The influence of the pre-pulse T1 will be explained below.
      <br/>
      In contrast to the single-pulse driving mode, in the multi-pulse driving mode, since the temperature at the interface between the heater and the ink immediately before the main pulse is output is maintained at a high activation level, a time after the main pulse T3 is started until film boiling is started is shortened, and as a result, the minimum necessary pulse width of the main pulse T3 is shortened, as shown in FIG. 69.
    </p>
    <p num="440">
      When the pre-pulse width T1 is changed, the same temperature distribution as that obtained when the interval time T2 is changed, as shown in FIG. 56, is obtained.
      <br/>
      At this time, in the multi-pulse PWM control based on the pre-pulse T1 control method, the ink temperature at the interface between the heater and the ink is controlled within a bubble non-production range by varying input energy so as to vary the thickness (bubble production volume) of the ink layer to be evaporated, thereby controlling the ejection quantity.
    </p>
    <p num="441">In this case, it is important that the thickness of the ink layer capable of causing film boiling changes according to the pre-pulse width T1, and the time after the main pulse T3 is started until film boiling is actually started changes, as described above.</p>
    <p num="442">
      By utilizing these characteristics, when the main pulse T3 is PWM-controlled in correspondence with a change in pre-pulse width T1, wasteful energy which is generated since a value at which bubble production and ejection can be performed under the worst condition is used although the film boiling start point changes can be greatly decreased.
      <br/>
      More specifically, problems of, e.g., the heat accumulation and overheating of the recording head due to heating of the heaters in an adiabatic state from the ink after film boiling is already started, scorching and cavitation breakdown of the ink due to an increase in heater peak temperature, and the like, can be solved.
      <br/>
      Furthermore, since the problem of heat accumulation can be remarkably improved, the minimum driving period of the recording head can be greatly prolonged.
      <br/>
      In particular, the print operation at a high print ratio can be performed in a driving frequency band in which such a print operation is impossible so far.
      <br/>
      FIG. 70 shows an actual change in pulse width when several lines at a print ratio of 50% are printed on an A4-size recording sheet.
    </p>
    <p num="443">
      As described above, in the method of this embodiment, the main pulse width T3 is controlled to be minimized according to changes in pre-pulse width T1 and in interval time T2 by utilizing a change in film boiling start point of the main pulse T3 in the multi-pulse driving mode.
      <br/>
      Since the main pulse width T3 is shortened, ejection can be performed by energy about 70% that in the conventional method when the maximum ejection quantity is obtained.
    </p>
    <p num="444">
      In an actual ejection quantity control method, a temperature range described as "PWM control region" in FIG. 57 is a temperature range in which the ejection quantity can be stabilized.
      <br/>
      In this embodiment, this temperature range corresponds to a range between 15 (degree)  C. and 35 (degree)  C. of the ink temperature in the ejection unit.
      <br/>
      FIG. 57 shows the relationship between the ink temperature in the ejection unit and the ejection quantity when the interval time is changed in 10 steps.
      <br/>
      Even when the ink temperature in the ejection unit changes, the ejection quantity can be controlled within a width  DELTA V with respect to a target ejection quantity VdO by changing the interval time at every temperature step width  DELTA T according to the ink temperature.
    </p>
    <p num="445">(Temperature Prediction Control)</p>
    <p num="446">Operations in execution of recording using the recording apparatus with the above arrangement will be described below with reference to the flow charts shown in FIGS. 71 and 72.</p>
    <p num="447">Since steps S700 to S780 are the same as those in FIG. 58, a detailed description thereof will be omitted.</p>
    <p num="448">
      The pre-pulse width T1 or the interval time T2 is determined with reference to FIGS. 61A and 61B for the purpose of controlling the ejection quantity using the PWM method (S890).
      <br/>
      The main pulse width T3 is determined with reference to FIG. 73 or 74 according to the pre-pulse width T1 or the interval time T2 determined in step S890 (S900).
    </p>
    <p num="449">Thereafter, since steps S910 to S960 are the same as steps S800 to S850 in FIG. 59, a detailed description thereof will be omitted.</p>
    <p num="450">
      In step S960, a difference ( GAMMA ) between a print target temperature ( ALPHA ) and a head chip temperature ( BETA ) is calculated again.
      <br/>
      The pre-pulse value (the pre-pulse width T1 or the interval time T2) for printing the second area is obtained based on the difference ( GAMMA ) with reference to FIGS. 61A and 61B, and the pre-pulse value of the second area is set on a memory (S970).
      <br/>
      In step S970, the main pulse width T3 is determined based on the pre-pulse width T1 or the interval time T2 determined in step S970 with reference to FIG. 73 or 74. (S980).
    </p>
    <p num="451">
      Thereafter, the power ratio in the corresponding area is calculated based on the number of dots and the pre-pulse value of the immediately preceding area, thereby predicting the head chip temperature ( BETA ) at the end of printing of the corresponding area.
      <br/>
      Then, the pre-pulse value of the next area is set based on the difference ( GAMMA ) between the print target temperature ( ALPHA ) and the head chip temperature ( BETA ) (S930 to S980).
      <br/>
      Thereafter, when the pre-pulse values for all the 10 areas in one line are set, the flow advances from step S930 to step S990, and the sub-heaters are heated before printing.
      <br/>
      Thereafter, the one-line print operation is performed according to the set pre-pulse values.
      <br/>
      Upon completion of the one-line print operation in step S990, the flow returns to step S720 to read the temperature of a reference thermistor, and the above-mentioned control operations are sequentially repeated.
    </p>
    <p num="452">With the above-mentioned control, since the actual ejection quantity can be stably controlled regardless of the ink temperature, a high-quality recorded image having a uniform density can be obtained.</p>
    <p num="453">(31st Embodiment)</p>
    <p num="454">
      The 31st embodiment of the present invention will be described below.
      <br/>
      This embodiment pays attention to the fact that the ejection possible minimum main pulse width T3 in the single-pulse driving mode in the recording head has dependency on the surrounding temperature and the recording head temperature.
      <br/>
      FIG. 75 shows the relationship between the temperature of the recording head and the main pulse width that can stably cause bubble production in the first ejection in response to only a single pulse as the main pulse.
      <br/>
      As can be seen from FIG. 75, as the temperature is decreased, the required pulse width is increased; when the temperature is increased, the required pulse width is decreased.
      <br/>
      In a range below the ejection possible region, ejection becomes unstable, and the ejection quantity is extremely decreased, resulting in a splash-like printed state.
      <br/>
      When the temperature is further decreased, ejection cannot be performed at all.
      <br/>
      This value delicately changes depending on variations of heads, contamination of heaters, and the like.
    </p>
    <p num="455">Therefore, in the single-pulse driving mode of this embodiment, the pulse value is controlled by directly measuring or predicting the temperature of the recording head, thereby preventing the temperature of the recording head from being excessively increased.</p>
    <p num="456">
      The control of the required pulse width based on an increase in temperature of the recording head itself is not to modulate the ejection quantity in real time but to suppress heat that varies over a macroscopic time, i.e., by the increase in temperature of the recording head itself.
      <br/>
      For this reason, this control is different in concept from control for changing the pulse width of the recording head according to the temperature of the recording head so as to obtain a uniform density by density modulation in real time in, e.g., a thermal transfer printer, a thermal printer, and the like.
    </p>
    <p num="457">Furthermore, the control of the main pulse width for the macroscopic increase in temperature of the recording head can also be applied to multi-pulse PWM control.</p>
    <p num="458">
      When this concept is generalized, the control of the main pulse is performed not only at a macroscopic temperature, i.e., the temperature of the heater board of the recording head, but also at a temperature associated with the degree of activation at the interface between the heater and the ink where film boiling occurs, as described above.
      <br/>
      Since the surrounding temperature and the increased temperature of the recording head itself have a large difference from a bubble production temperature, the pulse width required for bubble production changes due to the surrounding temperature or the increased temperature of the recording head although the change is not so large.
      <br/>
      In the apparatus for performing the multi-pulse PWM control, as described in the 30th embodiment, the temperature at the interface between the ink and the heater changes according to the pre-pulse width T1, and the degree of activation is increased very much, thus considerably decreasing the minimum pulse width necessary for bubble production.
    </p>
    <p num="459">As described above, in the 31st embodiment of the present invention, in determination of the main pulse value T3 according to the temperature of the recording head, energy is further decreased as much as possible by, e.g., multiplying a correction coefficient.</p>
    <p num="460">
      As described above, when the pre-pulse width T1 is changed or when the interval time T2 is changed, the temperature distribution shown in FIG. 56 is similarly obtained.
      <br/>
      At this time, in the multi-pulse PWM control based on the pre-pulse T1 control method, the ink temperature at the interface between the heater and the ink is controlled within a bubble non-production range by varying input energy so as to vary the thickness (bubble production volume) of the ink layer to be evaporated, thereby controlling the ejection quantity.
      <br/>
      In the multi-pulse PWM control based on the interval time T2 control method, input energy is set to have a predetermined minimum value, and the thickness of the ink layer to be evaporated is controlled by the heat conduction time after the pre-pulse T1 until the beginning of film boiling.
    </p>
    <p num="461">In this case, it is important that the thickness of the ink layer capable of causing film boiling changes according to the pre-pulse width T1 and the interval time T2, and the time after the main pulse T3 is started until film boiling is actually started changes, as described above, and also changes according to the ink tank temperature (equal to the surrounding temperature) and the temperature of the recording head.</p>
    <p num="462">
      By utilizing these characteristics, when the main pulse T3 is PWM-controlled in correspondence with changes in pre-pulse width T1 and interval time T2, which are multiplied with a correction coefficient according to an increase in temperature, wasteful energy supplied when the film boiling start point changes according to the recording head temperature can be further decreased.
      <br/>
      More specifically, problems of, e.g., the heat accumulation and overheating of the recording head due to heating of the heaters in an adiabatic state from the ink after film boiling is already started, scorching and cavitation breakdown of the ink due to an increase in heater peak temperature, and the like, can be solved.
      <br/>
      Furthermore, since the problem of heat accumulation can be remarkably improved, the minimum driving period of the recording head can be further greatly prolonged.
      <br/>
      In particular, the print operation at a high print ratio can be performed in a driving frequency band in which such a print operation is impossible so far.
    </p>
    <p num="463">FIGS. 76 and 77 show actual changes in main pulse width T3 when the multi-pulse PWM control based on the interval time T2 or pre-pulse T1 control method is performed when several lines at a print ratio of 50% are printed on an A4-size recording sheet.</p>
    <p num="464">
      As described above, according to this embodiment, the main pulse width T3 is controlled to be minimized according to a change in interval time T2 or pre-pulse width T1 and the temperature of the recording head or the surrounding temperature (=ink tank temperature) by utilizing a change in film boiling start point of the main pulse T3 in the multi-pulse driving mode.
      <br/>
      When the main pulse width is changed according to the surrounding temperature (=ink tank temperature), the ink temperature is always lower than the temperature of the recording head.
      <br/>
      For this reason, when the temperature of the recording head is different from the ink temperature in the common ink chamber or nozzles in the recording head, another correction coefficient need only be multiplied.
    </p>
    <p num="465">(32nd Embodiment)</p>
    <p num="466">
      FIG. 53B is a view for explaining divided pulses according to the 32nd embodiment of the present invention.
      <br/>
      In FIG. 53B, VOP represents an operational voltage, T1 and T3 represent the pulse widths of pulses that do not cause bubble production (to be referred to as pre-pulses hereinafter) of a plurality of divided heat pulses, T2 and T4 represent interval times, and T5 represents the pulse width of a pulse that causes bubble production (to be referred to as a main pulse hereinafter).
      <br/>
      These pulses have the same functions as described in the 27th embodiment.
    </p>
    <p num="467">
      In this embodiment, the number of pre-pulses is increased, as shown in FIG. 53B, to increase the energy amount to be applied to the ink, and PWM control of the main pulse is added.
      <br/>
      Thus, a larger control range can be obtained.
      <br/>
      Furthermore, in this embodiment, a case will be explained below wherein the present invention is applied not only to stabilization of the ejection quantity but also to an ejection quantity modulation method according to a halftone signal.
      <br/>
      In this embodiment, a print operation can be performed even in a region wherein overheating occurs due to an increase in input energy, an increase in driving frequency, and an increase in print ratio when the main pulse width T5 is not modulated.
    </p>
    <p num="468">
      In this embodiment, the pre-pulse widths T1 and T3, and the interval times T2 and T4 between the pre-pulses T1 and T3 and between the pre-pulse T3 and the main pulse T5 are varied to obtain the maximum ejection quantity control range.
      <br/>
      According to this method, the above-mentioned controllable range can be greatly widened without causing overheating of the recording head.
    </p>
    <p num="469">When the ejection quantity is controlled by the structure of the recording head shown in FIG. 8 like in the first embodiment, if the operational voltage VOP =22.0 (V) is set, and the main pulse width T5 is changed between 1.000 and 4.000 � MU sec�, the pre-pulse widths T1 and T3 are changed between 0 and 3.000 � MU sec�, and the interval times T2 and T4 are changed between 0 and 10 � MU sec� in combination to obtain a linear change in ejection quantity, the characteristic curve of the ejection quantity Vd �pl/drop� shown in FIG. 78 is obtained.</p>
    <p num="470">
      FIG. 78 is a graph showing the pre-pulse width dependency of the ejection quantity in this embodiment.
      <br/>
      In FIG. 78, V0 indicate the ejection quantity when T11 to T14=0 � MU sec�, and T15=4 � MU sec�. This value is determined by the head structure shown in FIG. 8.
      <br/>
      In this embodiment, V0 =30.0 �pl/drop� when the surrounding temperature TR=23 (degree)  C. As indicated by the curve in FIG. 78, the ejection quantity Vd is linearly increased to a given region, and exhibits saturated characteristics for a while.
      <br/>
      Thereafter, the ejection quantity shows a slow descendant curve.
      <br/>
      In FIG. 78, a practical maximum ejection quantity is 90 �pl/drop� in the 23 (degree)  C. environment.
    </p>
    <p num="471">
      As described above, according to this embodiment, when the ejection quantity is controlled by varying the pre-pulse widths and the durations of the interval times in the multi-pulse driving method, the main pulse width is varied, i.e., is set to be a required minimum value according to a change in film boiling start point with respect to the main pulse upon changing of the pre-pulse widths and the interval times, thereby limiting heating of heaters in an adiabatic state from the ink after film boiling is started, and preventing heat accumulation of the recording head, an increase in heater peak temperature, scorching and cavitation breakdown of the ink, and the like as much as possible.
      <br/>
      Thus, the recording frequency can be greatly increased due to the heat accumulation prevention effect of the recording head.
    </p>
    <p num="472">
      According to this embodiment, the ejection quantity control range can be greatly widened without causing overheating of the recording head or causing an ejection error such as irregular bubble production that easily occurs at the limit point in the prior art and damage to heaters, and without causing an increase in power supply capacity, and a problem of the overload upon battery driving.
      <br/>
      In addition, the ejection quantity can be stably controlled without forming the wait time even at low temperature depending a method.
    </p>
    <p num="473">
      Furthermore, when both the pre-pulse and the interval time are independently controlled, the variable range of the ejection quantity can be greatly widened.
      <br/>
      When the ink temperature is controlled also using the sub-heaters, the controllable range can also be widened.
    </p>
    <p num="474">
      Ejection is stabilized according to the ink temperature in the ejection unit in the recording mode, which is presumed prior to recording, thus obtaining a high-quality image having a uniform density.
      <br/>
      Since the ink temperature is presumed without providing a temperature sensor to the recording head, the recording apparatus main body and the recording head can be simplified.
    </p>
    <p num="475">
      When the method of controlling the main pulse that does not cause the recording head to accumulate heat is used, the number of pulses per ejection, which do not cause ejection, can be increased in practice.
      <br/>
      Therefore, the ejection quantity modulation range can be widened to a range which cannot be used in the prior art, and halftone expression is allowed without multi-scan operations or by a very small number of scan operations.
    </p>
    <p num="476">Since heat accumulation is small, the minimum driving period and solid black print continuity can be remarkably improved as compared to the prior art.</p>
    <p num="477">The main pulse control in each of the above embodiments may be performed in only the high-speed mode when recording modes include the normal speed mode and the high-speed mode shown in FIG. 66.</p>
    <p num="478">
      As described above, according to the present invention, when the ejection quantity is controlled by varying the pre-pulse widths and the durations of the interval times in the multi-pulse driving method, the main pulse width is varied, i.e., is set to be a required minimum value according to a change in film boiling start point with respect to the main pulse upon changing of the pre-pulse widths and the interval times, thereby limiting heating of heaters in an adiabatic state from the ink after film boiling is started, and preventing heat accumulation of the recording head, an increase in heater peak temperature, scorching and cavitation breakdown of the ink, and the like as much as possible.
      <br/>
      Thus, the recording frequency can be greatly increased due to the heat accumulation prevention effect of the recording head.
    </p>
    <p num="479">The present invention brings about excellent effects particularly in a recording head and a recording device of the ink jet system using a thermal energy among the ink jet recording systems.</p>
    <p num="480">
      As to its representative construction and principle, for example, one practiced by use of the basic principle disclosed in, for instance, U.S. Pat. Nos. 4,723,129 and 4,740,796 is preferred.
      <br/>
      The above system is applicable to either one of the so-called on-demand type and the continuous type.
      <br/>
      Particularly, the case of the on-demand type is effective because, by applying at least one driving signal which gives rapid temperature elevation exceeding nucleate boiling corresponding to the recording information on electrothermal converting elements arranged in a range corresponding to the sheet or liquid channels holding liquid (ink), a heat energy is generated by the electrothermal converting elements to effect film boiling on the heat acting surface of the recording head, and consequently the bubbles within the liquid (ink) can be formed in correspondence to the driving signals one by one.
      <br/>
      By discharging the liquid (ink) through a discharge port by growth and shrinkage of the bubble, at least one droplet is formed.
      <br/>
      By making the driving signals into pulse shapes, growth and shrinkage of the bubble can be effected instantly and adequately to accomplish more preferably discharging of the liquid (ink) particularly excellent in accordance with characteristics.
      <br/>
      As the driving signals of such pulse shapes, the signals as disclosed in U.S. Pat. Nos. 4,463,359 and 4,345,262 are suitable.
      <br/>
      Further excellent recording can be performed by using the conditions described in U.S. Pat. No. 4,313,124 of the invention concerning the temperature elevation rate of the above-mentioned heat acting surface.
    </p>
    <p num="481">
      As a construction of the recording head, in addition to the combined construction of a discharging orifice, a liquid channel, and an electrothermal converting element (linear liquid channel or right angle liquid channel) as disclosed in the above specifications, the construction by use of U.S. Pat. Nos. 4,558,333 and 4,459,600 disclosing the construction having the heat acting portion arranged in the flexed region is also included in the invention.
      <br/>
      The present invention can be also effectively constructed as disclosed in Japanese Laid-Out Patent Application No. 59-123670 which discloses the construction using a slit common to a plurality of electrothermal converting elements as a discharging portion of the electrothermal converting element or Japanese Laid-Open Patent Application No. 59-138461 which discloses the construction having the opening for absorbing a pressure wave of a heat energy corresponding to the discharging portion.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An ink jet recording apparatus for performing recording by supplying heat energy according to driving pulses to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium on the basis of formation of the bubble, comprising:</claim-text>
      <claim-text>driving means for supplying the driving pulses, comprised of a plurality of pulses including a main pulse for causing the ink to be ejected, to said recording head for each ejection of the ink;</claim-text>
      <claim-text>and driving pulse control means for controlling an amount of the ink to be ejected, by changing a waveform of the driving pulses supplied by said driving means during a recording operation, said driving pulse control means limiting energy of the main pulse in accordance with a start timing of the film boiling which is variable according to a change in waveform of pulses other than the main pulse.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. An apparatus according to claim 1, wherein said driving pulse control means limits the energy of the main pulse according to a change in at least one of pulse width, pulse interval, pulse shape and pulse amplitude of the driving pulses other than the main pulse.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. An apparatus according to claim 1, wherein said driving pulse control means changes a waveform of the driving pulses according to a temperature of said recording head.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. An apparatus according to claim 3, further comprising means for obtaining the temperature of said recording head by calculating the energy input to said recording head by the driving pulses supplied from said driving means.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An apparatus according to claim 1, wherein said driving pulse control means changes a waveform of the driving pulses according to a halftone signal.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. An apparatus according to claim 1, wherein said driving pulse control means has a mode for limiting the energy of the main pulse for causing the ink to be ejected, and a mode for not limiting the energy, and selects one of the two modes according to a recording mode.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. An apparatus according to claim 1, wherein said driving pulse control means limits the energy of the main pulse by lessening a pulse width of the main pulse.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A method for recording by supplying heat energy according to driving pulses to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium on the basis of formation of the bubble, said method comprising the steps of: supplying the driving pulses, comprised of a plurality of pulses including a main pulse for causing the ink to be ejected, to the recording head for each ejection of the ink;</claim-text>
      <claim-text>and controlling an amount of the ink to be ejected, by changing a waveform of the driving pulses supplied in said supplying step during a recording operation, said controlling step limiting energy of the main pulse in accordance with a start timing of the film boiling which is variable according to a change in waveform of pulses other than the main pulse.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A method according to claim 8, wherein said controlling step limits the energy of the main pulse according to a change in at least one of pulse width, pulse interval, pulse shape, and pulse amplitude of the driving pulses other than the main pulse.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A method according to claim 8, wherein said controlling step changes a waveform of the driving pulses according to a temperature of the recording head.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A method according to claim 10, further comprising a step of obtaining the temperature of said recording head by calculating the energy input to said recording head by the driving pulses supplied from said driving means.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. A method according to claim 8, wherein said controlling step changes a waveform of the driving pulses according to a halftone signal.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. A method according to claim 8, wherein said controlling step has a mode for limiting the energy of the main pulse for causing the ink to be ejected, and a mode for not limiting the energy, and selects one of the two modes according to a recording mode.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. A method according to claim 8, wherein said controlling step limits the energy of the main pulse by lessening a pulse width of the main pulse.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. An ink jet recording apparatus for performing recording by supplying heat energy according to driving pulses to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium based on formation of the bubble, comprising: driving means for supplying the driving pulses, including a main pulse for causing the ink to be ejected, to said recording head for each ejection of the ink;</claim-text>
      <claim-text>and driving pulse control means for limiting energy of the main pulse in accordance with a start timing of the film boiling that begins sooner as a temperature of the recording head rises.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. An apparatus according to claim 15, further comprising means for obtaining a temperature of said recording head by calculating the energy input to said recording head by the driving pulse supplied from said driving means.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. An apparatus according to claim 15, wherein said driving pulse control means has a mode for limiting the energy of the main pulse for causing the ink to be ejected, and a mode for not limiting the energy, and selects one of the two modes according to a recording mode.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. An apparatus according to claim 15, wherein said driving pulse control means limits the energy of the main pulse by lessening a pulse width of the main pulse.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. An ink jet recording method for performing recording by supplying heat energy according to driving pulses to an ink to form a bubble based on film boiling, and ejecting the ink from a recording head onto a recording medium based on formation of the bubble, comprising the steps of: supplying the driving pulses, including a main pulse for causing the ink to be ejected, to said recording head for each ejection of the ink;</claim-text>
      <claim-text>and limiting energy of the main pulse in accordance with a start timing of the film boiling that begins sooner as a temperature of the recording head rises.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. A method according to claim 19, further comprising a step of obtaining a temperature of said recording head by calculating the energy input to said recording head by the driving pulse supplied in said driving step.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. A method according to claim 19, wherein said limiting step has a mode for limiting the energy of the main pulse for causing the ink to be ejected, and a mode for not limiting the energy, and selects one of the two modes according to a recording mode.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. A method apparatus according to claim 19, wherein said limiting step limits the energy of the main pulse by lessening a pulse width of the main pulse.</claim-text>
    </claim>
  </claims>
</questel-patent-document>