<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185189B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185189</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185189</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="8230026" extended-family-id="14421219">
      <document-id>
        <country>US</country>
        <doc-number>09093971</doc-number>
        <kind>A</kind>
        <date>19980609</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09093971</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>14741758</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="regional" sequence="1">
        <country>EP</country>
        <doc-number>97480036</doc-number>
        <kind>A</kind>
        <date>19970613</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997EP-0480036</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04L  12/801       20130101A I20131221RMEP</text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>801</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20131221</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04L  12/825       20130101A I20131221RMEP</text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>825</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20131221</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>370236000</text>
        <class>370</class>
        <subclass>236000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>370252000</text>
        <class>370</class>
        <subclass>252000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04L-047/26A</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>047</main-group>
        <subgroup>26A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04L-047/10</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>10</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04L-047/14</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>14</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>H04L-047/16</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>16</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/263</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>263</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20180109</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/10</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>10</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20180109</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/14</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>14</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20180109</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-047/16</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>47</main-group>
        <subgroup>16</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20180109</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20180101</date>
        </classification-scheme>
        <classification-symbol>Y02D-050/10</classification-symbol>
        <section>Y</section>
        <class>02</class>
        <subclass>D</subclass>
        <main-group>50</main-group>
        <subgroup>10</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20180103</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>Y02B-060/31</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>5</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>3</number-of-drawing-sheets>
      <number-of-figures>3</number-of-figures>
      <image-key data-format="questel">US6185189</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method for adapting committed information rate over frame relay switched network</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>TOKURA NOBUYUKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5400329</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5400329</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MITRA DEBASIS, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5426635</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5426635</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>NEWMAN PETER</text>
          <document-id>
            <country>US</country>
            <doc-number>5457687</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5457687</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>CHERUKURI RAO J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5600798</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5600798</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>IKEDA CHINATSU</text>
          <document-id>
            <country>US</country>
            <doc-number>5719853</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5719853</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>SHIRAI NOBUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5734654</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5734654</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>SEID HOWARD A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5768271</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5768271</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>WATT JAMES</text>
          <document-id>
            <country>US</country>
            <doc-number>5781532</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5781532</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>FICHOU ALINE, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5909443</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5909443</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="10">
          <text>SHIRAI NOBUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5912877</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5912877</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>"Congestion Control Strategies for Mixed X.25/Frame Relay Networks" by A.J. Vernon, T. Jawor, S. Rabie, D. Whiting &amp; H. Badran XP000438768, Jan. 5, 1994, Bell-Northern Research, Ontario Canada.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>"A Rate-Based Congestion Avoidance and Control Scheme for Packet Switched Networks" by D. E. Comer, R. S. Yavatkar XP000166240, 1990 IEEE, pp. 390-397.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>"On the Performance of Submitting Excess Traffic to ATM Networks" by B. A. Makrucki, XP000325986, Feb. 12, 1991, BellSouth Telecommunications, Globecom '91, 1991 IEEE.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>International Business Machines Corporation</orgname>
            <address>
              <address-1>Armonk, NY, US</address-1>
              <city>Armonk</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>IBM</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Brassier, Rene</name>
            <address>
              <address-1>Nice, FR</address-1>
              <city>Nice</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Esteve, Denis</name>
            <address>
              <address-1>Vence, FR</address-1>
              <city>Vence</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Maree, Jean-Pierre</name>
            <address>
              <address-1>St. Jeannet, FR</address-1>
              <city>St. Jeannet</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Thubert, Pascal</name>
            <address>
              <address-1>Vence, FR</address-1>
              <city>Vence</city>
              <country>FR</country>
            </address>
          </addressbook>
          <nationality>
            <country>FR</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Frisone, John B.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Cockburn, Joscelyn G.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Pham, Chi H.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      The Committed Information Rate (CIR) functionality is converted to an Adaptive Rate Base (ARB) mechanism.
      <br/>
      The solution is based on the interaction between a proactive setting of the Explicit Congestion Notifications (ECN) in the Frame Handler (FH) function of the switches and a converging Adaptive CIR algorithm in the Terminal Equipments.
      <br/>
      The result of this interaction is that when a logical bottleneck is in the process of settling in a switch, the CIR at the Terminating Equipment adapts itself to the throughput of the forming logical bottleneck.
      <br/>
      Henceforth, the logical bottleneck is exported at the boundary of the network within the Terminating Equipment.
      <br/>
      The end result is that the data sent by the data link control in the Terminating Equipment is paced so that the output matches that of the weakest point in the network, keeping it busy but not congested.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>FIELD OF INVENTION</heading>
    <p num="1">The present invention relates to high speed data networking and, more particularly, to the interconnection, for bandwidth allocation and control, between Terminating Equipments (TE) and Frame Handlers (FH) in a Frame Relay (FR) switched network by adapting the committed information rate (CIR).</p>
    <heading>BACKGROUND ART</heading>
    <p num="2">The present invention makes references to the following standards:</p>
    <p num="3">
      ANSI T1.617, T1.618 and T1.606 (addendum); and
      <br/>
      ITU-T Q933 and Q922
    </p>
    <p num="4">
      The terminology that is used throughout the description is as follows:
      <br/>
      FR:Frame Relay is dedicated to High speed switched networks.
    </p>
    <p num="5">FH:Frame Handler concerns the function of FR layer 2 that handles frame switching in the network.</p>
    <p num="6">TE:Terminating Equipment is a gateway from FR, it handles upper layer 2 and layer 3 functions.</p>
    <p num="7">Bc:Committed Burst size is the number of bytes that can be sent in a burst according to Committed Information Rate.</p>
    <p num="8">Be:Excess Burst size is the additional bytes to Bc that may or may not be carried by the network.</p>
    <p num="9">Tc:Period over which Bc is sent, its value is generally computed according to the formula CIR=Bc/Tc.</p>
    <p num="10">CIR:Committed Information Rate which represents a bit rate that is subscribed from a carrier.</p>
    <p num="11">V_CIR:Variable CIR which is the classical recommendation according to the standard organizations as mentioned above.</p>
    <p num="12">A_CIR:Adaptive CIR is the main object of this invention.</p>
    <p num="13">ARB:Adaptive Rate Base represents the ability to perform flow control by adapting a transmission rate.</p>
    <p num="14">PVC:Permanent virtual channel is a leased end to end path through the FR network.</p>
    <p num="15">DLCI:Data Link Control Identifier which identifies a PVC over a given hop.</p>
    <p num="16">
      ECN:Explicit Congestion Notification where a bit is piggy-backed in FR Q922 header to notify of a congestion (which happens generally in the FH function).
      <br/>
      The ECN uses the pair FECN/BECN of congestion management.
    </p>
    <p num="17">
      FECN:Forward ECN.
      <br/>
      Generally set by Frame Handler function in a frame that passes through a congested node and sends a signal to the receiving or destination FRTE, advising it to slow down the receipt of information.
    </p>
    <p num="18">
      BECN:Backward ECN.
      <br/>
      Flows on the way back from which the congestion was experienced to the source FRTE of the traffic in order to pace it down.
    </p>
    <p num="19">
      Bottleneck:The node or the line in the network that limits the throughput over a PVC.
      <br/>
      Both the bottleneck location and its throughput are subject to change overtime.
    </p>
    <p num="20">
      LAN:Local Area Network, it interconnects stations over a single plant (campus).
      <br/>
      Tendency is to go from the old shared media model to a switched model to have higher throughput.
    </p>
    <p num="21">
      WAN:Wide Area Network, everything from the most common modem in a PC to a Serial Optical Network.
      <br/>
      It interconnects stations and LANs over long distance serial links.
    </p>
    <p num="22">Frame Relay technology has past succeeded over the past years in becoming the major multiprotocol (IP for intra/internet, SNA, SNAP . . . ) Wide Area Network (WAN) for interconnecting Local Area Networks (LAN) of a company's dispersed sites.</p>
    <p num="23">Frame Relay is a switched multiplexed technology, which means in other words that many end to end communications can share a given node or a given link without knowing each other.</p>
    <p num="24">
      The load of that given node or link may thus change dramatically over time when huge data exchanges are asynchronously started.
      <br/>
      Preventing overuse of network resources is thus a major issue.
      <br/>
      Frame Relay uses Explicit Congestion Notifications to let FRTEs know about a congestion somewhere over a PVC path.
      <br/>
      The FRTE is responsible for diminishing its throughput till the congestion in the network terminates, through flow control operations.
    </p>
    <p num="25">
      The definition of objectives and requirements for congestion management is provided in addendum 1 of ANSI T1.606. This standard defines speed and burstiness and describes how the network and the FRTE devices handle an overabundance of data traffic.
      <br/>
      Congestion occurs when traffic arriving at a resource exceeds the network's capacity.
      <br/>
      It can also occur for other reasons (equipment failure etc.).
      <br/>
      Network congestion affects the throughput, delay, and frame loss experienced by the FRTE.
      <br/>
      The latter should therefore reduce its offered load in the face of network congestion.
    </p>
    <p num="26">
      When links or nodes in the network are overused, logical bottlenecks tend to form and move throughout the network.
      <br/>
      A logical bottleneck becomes the place where most of the outstanding data get queued, increasing latency and causing memory storage where it is most unwanted and expensive.
      <br/>
      When network access speed increases, larger windows are needed and more multiplexing takes place.
      <br/>
      At some level, the bottleneck cannot keep up and starts discarding frames, which in turn reduces traffic dramatically.
    </p>
    <p num="27">
      The movement of data through a network sometimes needs traffic signs to indicate when it should stop and go.
      <br/>
      Access signaling described in the ANSI T1.617, CCITT Q.933, specifies a protocol for establishing and releasing switched frame relay virtual calls and provides a means to inform users of permanent virtual circuits of failure and restoration.
    </p>
    <p num="28">
      Explicit Congestion Notifications (ECN) by the network are generally a reactive process intended to protect the network nodes.
      <br/>
      Forward ECN (FECN) and Backward ECN (BECN) are the most common congestion management signals.
    </p>
    <p num="29">
      Adaptive Rate Based (ARB) protocols are the modern solution to replace window based protocols.
      <br/>
      Whereas the window based protocols transfer a number of frames and then wait for an acknowledgement, the ARB protocols send a continuous binary flow at a given rate.
    </p>
    <p num="30">
      Frame relay networks provide a Committed Information Rate (CIR) that is a kind of rate enforcement, refer to the ITU-T X36, but the CIR is still not adaptive.
      <br/>
      The CIR is the rate (expressed in bits per second) at which the data are transferred between the user equipment and the network.
    </p>
    <p num="31">
      CIR standard provides a speed range between the committed and excess rates that the terminating equipment can use depending on whether the network reports a congestion or not.
      <br/>
      In order to adapt to the dynamics of transient logical bottlenecks, the Committed Information Rate should be able to vary within that range.
      <br/>
      Any implementation that uses a static CIR is bound to be obsolete.
    </p>
    <p num="32">
      Moreover, in the existing implementations, the ECN are used in a reactive way, meaning that the FECN and BECN are set when a congestion has already occurred.
      <br/>
      Should the occasion arises, the network enters a slow down condition to recover.
      <br/>
      In consequence, it is not possible to obtain a fine tuning of the rate at the end point (FRTE).
      <br/>
      This is why the congestion notification should be issued as soon as the conditions are reached that would lead to a congestion, but before it creates any damage.
    </p>
    <p num="33">
      Existing implementations try to create a Variable CIR but:
      <br/>
      There is no convergence in the algorithm,
      <br/>
      A Terminating Equipment (TE) cannot achieve any rate tuning by itself.
      <br/>
      A cooperation between the switches (FRFHs) AND the end points (FRTEs) as a system is required to achieve a real rate tuning.
    </p>
    <p num="34">The problem addressed here is how to improve that current CIR technique in order to turn it into a rate control and to optimize the throughput to the network to match the logical bottleneck capacity.</p>
    <heading>OBJECT OF THE INVENTION</heading>
    <p num="35">The main object of the present invention is to improve the Committed Information Rate (CIR) functionality in order to turn it into an Adaptive Rate Base (ARB) mechanism, so as to apply it to frame relay networks.</p>
    <p num="36">The solution is based on the interaction between a proactive setting of the Explicit Congestion Notifications (ECN) in the Frame Handler (FH) function of the switches and a converging Adaptive CIR algorithm in the Terminal Equipments.</p>
    <p num="37">
      The result of this interaction is that when a logical bottleneck is in the process of settling in a switch, the CIR at the Terminating Equipment adapts itself to the throughput of the forming logical bottleneck.
      <br/>
      Henceforth, the logical bottleneck is exported at the boundary of the network, within the Terminating Equipment.
    </p>
    <p num="38">The end result is that the information sent by the data link control in the Terminating Equipment is paced so that the output matches that of the weakest point in the network, keeping it busy but not congested.</p>
    <heading>BRIEF DESCRIPTION OF DRAWINGS</heading>
    <p num="39">
      FIG. 1 illustrates a block diagram of a components in the Frame relay network according to the present invention.
      <br/>
      FIG. 2 compares the reaction of traditional Variable CIR versus the Adaptive CIR according to the present invention, in case of dynamic variation of the available throughput for a PVC over time.
      <br/>
      FIG. 3 is a flow-chart illustrating the FRTE dynamic CIR adjustment according to the present invention.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="40">The Frame Relay Terminating Equipment (FRTE) and the Frame Relay Switching Equipment (FRSE, also called Frame Handler) must be considered as a system.</p>
    <p num="41">Before reaching any kind of buffer, queue, or throughput limitation, the Frame Handler (FRSE) will decide whether it is in the process of becoming a logical bottleneck as soon as it:</p>
    <p num="42">
      receives more data to transmit than it can actually send according to current Committed Information Rate over a short period of time; or
      <br/>
      introduces a given amount of delay on the traffic for a given Data Link Control Identifier (DLCI).
    </p>
    <p num="43">
      In both cases, the Frame Handler sets Forward Explicit Congestion Notifications (FECN) on the traffic for that Data Link Control Identifier, which is echoed by the remote Frame Relay Terminating Equipment (FRTE) as a Backward Explicit Congestion Notification (BECN).
      <br/>
      The Frame Handler can also set BECNs, on the first opportunity in case the traffic flows in the other way.
    </p>
    <p num="44">
      When the Frame Relay Terminating Equipment receives a BECN, it reduces its Committed Information Rate (CIR).
      <br/>
      If it does not receive any BECNs, it increases the CIR.
    </p>
    <p num="45">
      There are two important things that make the CIR adaptive and converging:
      <br/>
      The increment is dynamic, so that the Committed Information Rate settles close to the optimum value.
      <br/>
      It starts with a minimum value and gets longer and longer until the CIR crosses the optimum value.
      <br/>
      At that point, the CIR is set back to about the last value under the optimal point, and the increment becomes minimum again.
      <br/>
      When the CIR is close to the optimum value, the increment should stay at the lowest value but its sign should change all the time.
    </p>
    <p num="46">
      The rate is changed at a time base of at least the Turn Around Time (TAT) of the network, so that the effect of the previous tuning can be detected.
      <br/>
      For instance, a fair value for the TAT is the retry timer of the Data Link Control, if the TAT cannot be measured dynamically.
      <br/>
      The time base may be much greater than the TAT in order to take account of the damping effect of the queues in the network if some switches do not implement proactive congestion detection.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="47">
      Let us first discuss the role of the switches in the system according to the present invention.
      <br/>
      It is very important that they detect an upcoming congestion before queues build up and delays are introduced in the traffic.
    </p>
    <p num="48">
      A Frame Relay Switch (15) consists of pairs of partner Frame Handler subports (3,4) and (5,6) as shown in FIG. 1.
      <br/>
      Each partner corresponds to a given Data Link Control Identifier referred as DLCI over a different physical line, for instance the partner (3) corresponds to the DLCI 16 (9) over the physical link (12).
      <br/>
      The Frame Handler subports are associated like a logical jumper between the DLCIs so that every frame received by a subport is passed to its partner to be retransmitted.
      <br/>
      A successive interconnection of switches (15) and Data Link Control Identifiers (10) creates an end to end Permanent Virtual Channel.
    </p>
    <p num="49">
      To be proactive in its congestion detection, a subport (3,4,5,6) measures the traffic received from its partner (i.e. 3 is the partner of 4) and enqueued in outstanding queue over the last Tc period.
      <br/>
      If the measured traffic is greater than the current burst allowed by CIR, some of the frames for that DLCI will be stamped with FECNs.
    </p>
    <p num="50">
      The number of ECNs set does not have a large affect on the FRTE since most implementations integrate ECNs over time as a single information.
      <br/>
      Thus, instead of measuring the number of bytes queued, the variation of that information is used as a primary congestion indicator.
    </p>
    <p num="51">FECNs are also set if the delay introduced by queuing packets in the FH passes a predefined Threshold, that depends on CIR value.</p>
    <p num="52">Now that the FRFH sets ECNs in a proactive way, the FRTE needs to use that information to send as much as the FH can handle--but not more--. The invention allows the convergence of the CIR as illustrated in FIG. 2.</p>
    <p num="53">
      FIG. 2 shows a simulation of a change in the available throughput for a Permanent Virtual Channel (PVC).
      <br/>
      Variable CIR parameters are set to 12 percent increment and 25 percent decrement, which are common defaults that exist in the marketplace.
    </p>
    <p num="54">
      The throughput (201) shows that Adaptive Committed Information Rate (A-CIR) converges to a new value which can be very fast thanks to the exponential curve.
      <br/>
      As is shown, the optimum curve is crossed faster than that of the Variable Committed Information Rate (V-CIR) shown in dots line.
    </p>
    <p num="55">The throughput (202) illustrates the damping of the Adaptive CIR around the optimum reached.</p>
    <p num="56">
      The throughput (203) shows the existing of some `noise`, i.e. certain irregularities are added on the optimum.
      <br/>
      In this part, the Adaptive CIR converges to the lowest level of that noise so that the network is never overused.
    </p>
    <p num="57">FIG. 3 details the algorithm used for adapting the CIR to the network capability the results of which are shown in FIG. 2.</p>
    <p num="58">
      For this algorithm, several values are configured and act as constants:
      <br/>
      a minimum information rate (MIR) which is the minimum value for Adaptive CIR;
      <br/>
      a Excess Information Rate (EIR) which is the maximum value for Adaptive CIR;
      <br/>
      a PRECISION which determines how close to the Frame Handler throughput the algorithm is expected to converge and how fast it reaches the correct value (ranges 6 to 10).
      <br/>
      Value 7 is used in FIG. 2; and
      <br/>
      a TIME_BASE which specifies how often CIR is updated.
      <br/>
      Default is 3.2 seconds.
    </p>
    <p num="59">
      Several variables are also defined for the algorithm:
      <br/>
      a CURRENT is the current value for the Committed Burst size (Bc), which is the number of bytes that can be sent over a Tc period.
      <br/>
      This is what is to be adjusted by referring to the network Explicit Congestion Notifications;
      <br/>
      a DYN_INCREMENT is a variable that changes at each iteration by either being reset to zero or incremented by 1.
      <br/>
      The Maximum value for DYN_INCREMENT is 5;
      <br/>
      a DELTA is the amount by which CURRENT is incremented or decremented.
      <br/>
      DELTA is computed from CURRENT and DYN_INCREMENT:
    </p>
    <p num="60">DELTA=CURRENT&gt;&gt;(PRECISION--DYN_INCREMENT);</p>
    <p num="61">where&gt;&gt; is a binary shift right.</p>
    <p num="62">
      In other words, DELTA is CURRENT divided by 2 at the power of (PRECISION minus DYN_INCREMENT).
      <br/>
      DELTA is at the minimum when DYN_INCREMENT is NULL and it is multiplied by 2 each time DYN_INCREMENT is incremented by 1;
      <br/>
      a BECN_RECEIVED is a flag that is raised when a frame with a BECN is received;
      <br/>
      a JUST_REDUCED is a flag that is raised when CURRENT is decremented; it is reset when CURRENT is incremented to keep track of the last action performed against CURRENT; and
      <br/>
      a REQUEST_LARGER_CIR is a flag that is raised when the CURRENT value is not enough versus the traffic passed from the upper layer.
    </p>
    <p num="63">At INIT time, CURRENT is set to the committed burst size (Bc) and DYN_INCREMENT is set to 0.</p>
    <p num="64">In RUN time, two processes operate in flip flop mode, being separated by half of TIME_BASE.</p>
    <p num="65">
      Process 1 resets BECN_RECEIVED to sweep information that may not represent the latest change in CURRENT.
      <br/>
      This is run at the first half TIME_BASE and then every TIME_BASE.
      <br/>
      This is actually optional but may improve the algorithm response in the case of high latency networks.
    </p>
    <p num="66">
      Process 2, represented in FIG. 3, increments or decrements CURRENT based on whether BECN_RECEIVED is set or not, at step (301).
      <br/>
      If the current process does not modify the JUST_REDUCED flag, that means that we need to keep on changing the computed value of CIR in the same way (by incrementing or decrementing the CURRENT variable).
      <br/>
      DYN_INCREMENT is incremented by 1 so that DELTA doubles and CURRENT changes exponentially.
    </p>
    <p num="67">FIG. 3 illustrates in greater detail the method of CIR adaptation implemented in the Frame Relay Terminating Equipment:</p>
    <p num="68">At every TIME_BASE (300):</p>
    <p num="69">If no BECN was received at step (301), the CURRENT (CIR) is lower than the end to end network capability, so it will be increased in the process, unless more bandwidth is not needed.</p>
    <p num="70">
      At step (302), if REQUEST_LARGER_CIR flag is not raised, CURRENT value is left unchanged.
      <br/>
      The reason is that CURRENT is not currently used up so there is no way to determine whether the network could support as much as CURRENT.
      <br/>
      Incrementing CURRENT is thus useless and dangerous too.
    </p>
    <p num="71">At step (303) the REQUEST_LARGER_CIR flag is reset.</p>
    <p num="72">At step (304), since no BECN was received and if JUST_REDUCED is raised, this means that we start incrementing CURRENT after having decremented it.</p>
    <p num="73">At step (307), the JUST_REDUCED flag is reset since CURRENT is in the process of being increased.</p>
    <p num="74">
      At step (308) DYN_INCREMENT is reset to zero before DELTA is computed. (As a remark, this is opposed to step (324) where DELTA is computed before DYN_INCREMENT is reset to zero.
      <br/>
      The reason is that the system is expected to leave CIR below the network capability, as much as possible.
      <br/>
      Therefore, incrementing CURRENT is always in slow start mode while decrementing starts by returning to the previous value, which was supposed to be under the optimal value for CURRENT, and then resetting DYN_INCREMENT).
    </p>
    <p num="75">
      At steps (305) and (306), the DYN_INCREMENT is incremented if it does not reach the maximum value of 5.
      <br/>
      Another value than 5 may used depending on the pace of convergence that is desired.
    </p>
    <p num="76">At step (309), the computation of DELTA according to the formula mentioned above enables to increase the CURRENT value.</p>
    <p num="77">At steps (310) and (311), the CURRENT value is tested so as to be limited by the maximum value for Adaptive CIR (EIR), Afterwards, the algorithm loops back to step (300) where it waits for another time_base.</p>
    <p num="78">
      Step (320) is not necessary if process 1 is run.
      <br/>
      It consists in resetting the BECN_RECEIVED flag.
      <br/>
      The process is now to reduce the CURRENT value of CIR.
    </p>
    <p num="79">At steps (321), (322) and (323), the DYN_INCREMENT is incremented if it does not reach the maximum value of 5 and if the previous process was also to reduce the CURRENT value of CIR (JUST_REDUCED must be raised).</p>
    <p num="80">At step (324), the computation of DELTA according to the formula mentioned above enables to reduce the CURRENT value.</p>
    <p num="81">At steps (325) and (326), if the previous process was not to reduce the CURRENT value of CIR (JUST_REDUCED must be reset), JUST_REDUCED is set and the DYN_INCREMENT is reset to zero.</p>
    <p num="82">At steps (327) and (328), the CURRENT value is tested so as to be limited by the minimum value for Adaptive CIR (MIR), Afterwards, the algorithm loops back to step (300) where it waits for another time_base.</p>
    <p num="83">
      The present invention directly applies to the internet as long as the IP traffic is carried over a frame relay backbone.
      <br/>
      The FRTE in the internet server will be able to pace its sending rate up to the optimal throughput the frame relay network can support.
    </p>
    <p num="84">
      The invention is not limited to this specific implementation.
      <br/>
      It can also apply to a system composed of a data overflow sensor and an tunable source so as to optimize the amount of data emitted.
    </p>
    <p num="85">
      For instance, an internet server could limit its transmit throughput up to the network capability to deliver data to an end user, as opposed to sending large quantities of data that load the network.
      <br/>
      This would require a sensor of some kind placed in the boundaries of the internet in front of the low speed lines that serve most end users modems, in order to limit the congestion at that point.
    </p>
    <p num="86">
      Another example can be a work load manager that shares tasks among a set of processors that are distributed over a network.
      <br/>
      The manager issues orders to the processors at a given rate that is supposed to match a processor capability to execute these orders.
      <br/>
      If the processor starts receiving more orders than it can achieve, it will send a back pressure signal to the manager within the response to an order.
      <br/>
      The manager will reduce the rate of orders sent to the processor that is overloaded.
      <br/>
      A processor that is shared between several managers has to slow down its execution rate for the current active managers when a new manager starts using its resources.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>In a data communication network including a number of terminating equipments (TE) each connected to one of a plurality of frame handlers (FH) by a data link control identifier (DLCI), a method for controlling the bandwidth allocated to communications between the TEs comprising the steps:</claim-text>
      <claim-text>at each of said FHs setting an Explicit Congestion Notification (ECN) which includes a burst size (Bc) when the FH receives more data to transmit than it can transmit or if the FH has imposed a delay on network traffic received from a DLCI; periodically at each TE; determining if an ECN has been received; if an ECN has not been received; determining if the CIR is in an increasing mode and if it is, exponentially increasing the burst size until the CIR exceeds a predetermined maximum value and then changing to a decreasing mode;</claim-text>
      <claim-text>- determining if the CIR has just ended a decreasing mode and if it has, slowly increasing the burst size; if an ECN has been received, - returning the burst size to its previous value if it has just increased and reducing the burst size exponentially if the CIR continues in a decreasing mode;</claim-text>
      <claim-text>and - repeating the above steps in subsequent time periods.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. In a data communication network including a number of terminating equipments (TE) each connected to one of a plurality of frame handlers (FH) by a data link control identifier (DLCI), a method for controlling the bandwidth allocated to communications between the TEs comprising the steps: at each of said FHs setting an Explicit Congestion Notification (ECN) bit when the FH receives more data to transmit than it can transmit or if the FH has imposed a delay on network traffic received from a DLCI; at each of the TEs periodically determining if an ECN has been received; - incrementing the CIR by a first dynamically derived amount that is a function of the state of a prior reduction of the CIR if additional bandwidth is needed if an ECN was not received during the period, and - decrementing the CIR by a second dynamically derived amount which is a function of the state of a prior reduction of the CIR if an ECN was received during the period.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method set forth in claim 2 in which the dynamic increase of the CIR is not allowed to exceed an Excess Information Rate (EIR) and the dynamic decrease of the CIR is not allowed to fall below a Minimum Information Rate (MIR).</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method set forth in claim 3 in which: the CIR is incremented in a period in which an ECN was not received only if it had not been decremented in the prior period and the amount by which the CIR is to be incremented is increased from the amount determined in the prior period;</claim-text>
      <claim-text>and the CIR is decremented in a period in which an ECN was received, by an amount derived in the prior period if it had not been reduced in the prior period and reduced by an amount derived in the prior period augmented by a predetermined value if it had been reduced in the prior period.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. In a data communication network including a number of terminating equipments (TE) each connected to one of a plurality of frame handlers (FH) by a data link control identifier (DLCI), a method for controlling the bandwidth allocated to communications between the TEs comprising the steps: at each of said FHs setting an Explicit Congestion Notification (ECN) bit when the FH receives more data to transmit than it can transmit or if the FH has imposed a delay on network traffic received from a DLCI; at each of the TEs periodically determining if an ECN has been received and incrementing the CIR in a period in which ECN was not received only if it had not been decremented in the prior period and the amount by which the CIR is to be incremented is increased from the amount determined in the prior period;</claim-text>
      <claim-text>and decrementing the CIR in a period in which ECN was received by an amount derived in the prior period if it had not been reduced in the prior period and reduced by an amount derived in the prior period augmented by a predetermined value if it had been reduced in a prior period, wherein the amount for the decrementing or incrementing is derived dynamically.</claim-text>
    </claim>
  </claims>
</questel-patent-document>