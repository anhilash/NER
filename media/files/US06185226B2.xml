<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185226B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185226</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185226</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="23988813" extended-family-id="42013338">
      <document-id>
        <country>US</country>
        <doc-number>09103258</doc-number>
        <kind>A</kind>
        <date>19980622</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09103258</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43030804</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>10325898</doc-number>
        <kind>A</kind>
        <date>19980622</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09103258</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>50029895</doc-number>
        <kind>A</kind>
        <date>19950710</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1995US-08500298</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <term-of-grant>
      <disclaimer/>
    </term-of-grant>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H03H  17/02        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>02</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04L  25/24        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>25</main-group>
        <subgroup>24</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>370501000</text>
        <class>370</class>
        <subclass>501000</subclass>
      </main-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H03H-017/02</text>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>02</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04L-025/24</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>25</main-group>
        <subgroup>24</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-025/24</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>25</main-group>
        <subgroup>24</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03H-017/02</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>H</subclass>
        <main-group>17</main-group>
        <subgroup>02</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>14</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>8</number-of-drawing-sheets>
      <number-of-figures>10</number-of-figures>
      <image-key data-format="questel">US6185226</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Integrated twisted pair filter with a secure RIC function</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>SPIESMAN ROBERT L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4847831</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4847831</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MOORWOOD CHARLES A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5293375</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5293375</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SEGARAM PARA K</text>
          <document-id>
            <country>US</country>
            <doc-number>5357145</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5357145</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>EDEM BRIAN C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5361261</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5361261</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>SEGARAM PARA</text>
          <document-id>
            <country>US</country>
            <doc-number>5410188</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5410188</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>YANG HENRY S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5410535</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5410535</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>PICAZO JR JOSE J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5432907</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5432907</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>HUTCHISON JERRY D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5838989</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5838989</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>50029895</doc-number>
              <kind>A</kind>
              <date>19950710</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5822325</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>National Semiconductor Corp</orgname>
            <address>
              <address-1>Santa Clara, CA, US</address-1>
              <city>Santa Clara</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NATIONAL SEMICONDUCTOR</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Segaram, Para K.</name>
            <address>
              <address-1>Campbell, CA, US</address-1>
              <city>Campbell</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Myers, Jr., Roy T.</name>
            <address>
              <address-1>Santa Clara, CA, US</address-1>
              <city>Santa Clara</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Skjerven, Morrill, MacPherson, Franklin &amp; Friel LLP</orgname>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Kwok, Edward C.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Coulter, Kenneth R.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A repeater interface controller ("RIC") integrated circuit with integrated filters and buffer drivers is provided for use in a repeater.
      <br/>
      In one embodiment, the RIC uses two filters to filter link pulse signals and data signals for a plurality of ports.
      <br/>
      Thus, the RIC is able to concurrently provide filtered link pulses to some ports and filtered data signals to other ports.
      <br/>
      Further, because only two filters are used, the area required to implement the plurality of ports is reduced relative to conventional repeaters that use a filter for each port.
      <br/>
      In another embodiment of the present invention, a RIC includes a logic circuit and a plurality of analog multiplexers and twisted pair buffer drivers.
      <br/>
      The analog multiplexers receive signals on their input lines and select which of these signals are passed to the buffer drivers to be outputted.
      <br/>
      The logic circuit provides control signals to the analog multiplexers such that the analog multiplexers select a new input line when the signal on the new input line is approximately the same as the signal on the currently selected input line.
      <br/>
      As a result, the signal passed on to the buffer drivers remains approximately the same, thereby reducing switching noise.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a divisional application of Ser.
      <br/>
      No. 08/500,298, filed Jul. 10, 1995, now U.S. Pat. No. 5,822,325, issued on Oct. 13, 1998.
    </p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">The present invention relates to local area networks and, in particular, to repeater interface controller circuits for use in local area networks.</p>
    <heading>BACKGROUND</heading>
    <p num="3">
      The term "local area network" or LAN, generally refers a communications system that provides interconnection among a number of independent computing stations within a small area.
      <br/>
      This small area is typically a single building or set of closely grouped buildings.
    </p>
    <p num="4">
      Some of the standards or protocols for implementing a LAN require a medium attachment unit ("MAU") that couples the computing station to the physical medium implementing the interconnection.
      <br/>
      These standards typically require an attachment unit interface ("AUI") for coupling the computing station or twisted pair interface ("TPI") to the associated MAU.
    </p>
    <p num="5">
      A "repeater" can be used to couple together a number of nodes or hubs to extend the size of a LAN.
      <br/>
      The repeater typically includes at least one MAU for each node or hub coupled to the repeater so that signals can be passed to and from a node or hub to any other node or hub coupled to the repeater.
      <br/>
      Typically, the repeater synchronizes, amplifies and regenerates the signals as the signals are passed through to reduce data corruption.
    </p>
    <p num="6">
      For example, the 10BASE-T Ethernet standard uses twisted pair wiring to provide the interconnection between computing stations, with separate transmit and receive circuits.
      <br/>
      The 10BASE-T Ethernet standard is herein incorporated by reference in its entirety.
      <br/>
      Some conventional twisted pair repeaters use external filters and buffer drivers to transmit signals on each twisted pair.
      <br/>
      Because a repeater can have several MAUs (i.e., ports to several nodes or hubs), a filter and buffer driver is needed for each port, thereby increasing the repeater's size and cost.
      <br/>
      The external filters and drivers also generate a significant amount of electro-magnetic interference ("EMI").
    </p>
    <p num="7">
      The 10BASE-T Ethernet standard also requires each MAU in the LAN to transmit a series of "link pulses" to confirm that the MAU is properly connected.
      <br/>
      Because each repeater has one or more MAUs, each repeater must generate link pulses between signals (i.e., data) retransmitted or received on each MAU's associated twisted pair interconnect wiring.
      <br/>
      In addition, the 10BASE-T Ethernet standard provides for data transmission in "packets" that include destination address, source address, type/length field, and a data field.
    </p>
    <heading>SUMMARY</heading>
    <p num="8">According to the present invention, a repeater interface controller ("RIC") integrated circuit with integrated filters and buffer drivers is provided for use in a repeater.</p>
    <p num="9">
      In one embodiment, the RIC uses two filters to filter link pulses and a data signal for a plurality of ports.
      <br/>
      The term "signal" is used in this context to mean a serial data stream.
      <br/>
      Thus, the RIC is able to concurrently provide a filtered link pulse to some ports and a filtered data signal to other ports.
      <br/>
      Further, because only two filters are used, the area required to implement the plurality of ports is reduced relative to conventional repeaters that use a filter for each port.
      <br/>
      As a result, integration of the filters and buffer drivers onto the RIC integrated circuit is made more practical, thereby reducing size, cost and EMI radiation.
    </p>
    <p num="10">
      In another embodiment, the RIC uses three filters to filter link pulses, a Manchester encoded transmit data signal and a security data signal for twelve ports.
      <br/>
      Thus, the RIC is able to concurrently provide a filtered link pulse to some ports, a filtered Manchester encoded transmit data signal to other ports and a filtered security data signal to still other ports.
      <br/>
      Further, because only three filters are used, the area required to implement the plurality of ports is reduced relative to conventional repeaters, thereby making more practical the integration of the filters and buffer drivers.
      <br/>
      Accordingly, data security is provided and the size, cost and EMI radiation of the repeater is greatly reduced.
    </p>
    <p num="11">
      In another embodiment of the present invention, a RIC includes a logic circuit and a plurality of analog multiplexers and twisted pair buffer drivers.
      <br/>
      The analog multiplexers receive signals on their input lines and select which of these signals are passed to the buffer drivers to be outputted.
      <br/>
      The logic circuit provides control signals to the analog multiplexers such that the analog multiplexers select a new input line when the signal on the new input line is approximately the same as the signal on the currently selected input line.
      <br/>
      As a result, the signal passed on to the buffer drivers remains approximately the same, thereby preventing the switching noise, reflections and ground bounce that could be generated if the signals were not approximately the same.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="12">
      FIG. 1 shows a simplified block diagram of the architecture of a RIC according to one embodiment of the present invention.
      <br/>
      FIG. 2 shows a block diagram of a transmit block of a port of a RIC according to one embodiment of the present invention.
      <br/>
      FIG. 2A shows a state diagram illustrating a TXEL state machine.
      <br/>
      FIG. 3 shows a block diagram of another embodiment of a transmit block according to the present invention.
      <br/>
      FIG. 4 shows a conceptual block diagram of one embodiment of data generation circuit 200 depicted in the transmit block depicted in FIG. 3.
      <br/>
      FIG. 5 shows a schematic diagram of one embodiment of the link generator of data generation circuit depicted in FIG. 4.
      <br/>
      FIG. 6 shows a schematic diagram of one embodiment of the EOP/idle generator of data generation circuit depicted in FIG. 4 related to generating the random.
      <br/>
      FIG. 7 show a schematic diagram of one embodiment of the data select circuit depicted in the transmit block in FIG. 3.
    </p>
    <heading>DETAILED DESCRIPTION</heading>
    <p num="13">
      FIG. 1 shows the architecture of a RIC 100 according to one embodiment of the present invention.
      <br/>
      RIC 100 includes a timing and control circuit ("TCC") 110. In one embodiment, TCC 110 includes circuitry substantially similar to circuitry disclosed in application, "REPEATER INTERFACE CONTROLLER HAVING SECURITY FEATURES", Application Ser.
      <br/>
      No. 08/023,991, filed Feb. 26, 1993 by Charan Jeet Singh, et al, now abandoned (referred to hereinafter as the Singh application).
      <br/>
      The Singh application is assigned to the same assignee as the present application and herein incorporated by reference in its entirety.
    </p>
    <p num="14">
      TCC 110 provides control signals to control the operation of port blocks 1201, 1202, . . . 120K via line 111.
      <br/>
      TCC 110 includes a main state machine ("MSM") 112, an elasticity buffer 113 and address filters 114 to provide these control signals.
      <br/>
      MSM 112, elasticity buffer 113 and address filters 114 are disclosed in the aforementioned Singh application.
    </p>
    <p num="15">
      In addition, TCC 110 provides transmit data ("txib") and random data ("randenc") to a data generation and filter circuit 130 via lines 115 and 116, respectively.
      <br/>
      Data generation and filter circuit 130 is described further below in conjunction with FIG. 2.
    </p>
    <p num="16">
      TCC 110 also provides control signals via line 117 to data generation and filter circuit 130.
      <br/>
      The control signals provided by TCC 110 to data generation and filter circuit 130 include the following signals listed in Table 1 below.
    </p>
    <p num="17">
      --      TABLE 1
      <br/>
      --      Signal        Description             Source
      <br/>
      --      txeg          global transmit: asserted MSM
      <br/>
      --                    when MSM has entered the
      <br/>
      --                    transmit state
      <br/>
      --      x1            20MHz clock             external
      <br/>
      --                                            oscillator
      <br/>
      --      grst          global reset: asserted  Power On reset
      <br/>
      --                    when power is restored  circuit
      <br/>
      --      eotyplf       end of type length field: Packet monitor
      <br/>
      --                    asserted after the type in TCC
      <br/>
      --                    length field has been
      <br/>
      --                    posted
      <br/>
      --      every4ms      4ms clock (250 KHz)     4ms timer
      <br/>
      --      txmsm         early global transmit:  MSM
      <br/>
      --                    asserted slightly before
      <br/>
      --                    txeg
      <br/>
      --      dmvalid       destination match valid: address filters
      <br/>
      --                    asserted when address
      <br/>
      --                    filters finish comparing
      <br/>
      --                    destination address
    </p>
    <p num="18">
      Data generation and filter circuit 130 provides the link pulse ("link"), a Manchester encoded transmit data ("txdata") signal and a random Manchester encoded data ("random") signal to port blocks 1201, 1202, . . . 120K via lines 131-133, respectively.
      <br/>
      The random data signal is used to implement a security feature that corrupts transmit data destined for an unauthorized port or generated by an unauthorized source coupled to RIC 100 (FIG. 1).
      <br/>
      The security feature, the txdata signal and the random data signal are disclosed in the aforementioned Singh application.
    </p>
    <p num="19">Port blocks 1201, 1202, . . . 120K are respectively coupled to transmit twisted-pairs 1221 . . . 122K via transmit blocks 1231 . . . 123K. RIC 100 transmits the txdata to computing stations coupled to the ports using transmit blocks 1231 . . . 123K. The transmit blocks are described further below in conjunction with FIG. 2.</p>
    <p num="20">
      Port blocks 1201, 1202, . . . 120K are respectively coupled to receive twisted-pairs 1241 . . . 124K via receive blocks 1251 . . . 125N. RIC 100 uses the receive blocks to receive data from computing stations coupled to the ports.
      <br/>
      Port blocks 1201, 1202, . . . 120K provide receive data respectively received from receive twisted-pairs 1241 . . . 124K to TCC 110 via receive data lines 1261 . . . 126K. The receive blocks are fully disclosed in the aforementioned Singh application.
    </p>
    <p num="21">
      FIG. 2 shows a block diagram of one embodiment the transmit architecture of RIC 100 (FIG. 1).
      <br/>
      In this embodiment, RIC 100 has twelve ports.
      <br/>
      Common reference numerals are used between drawings for elements having substantially similar structure and function.
    </p>
    <p num="22">
      Data generation and filter block 130 includes a data generation circuit 200 having input leads 201-209 coupled to TCC 110 (not shown).
      <br/>
      As shown in FIG. 2, data generation circuit 200 provides the link signal, the txdata signal and the random signal on lines 210-212, respectively in response to signals transmitted by TCC 110 on input leads 201-209.
      <br/>
      Data generation circuit 200 is described further below in conjunction with FIG. 4.
    </p>
    <p num="23">
      Filters 220-222 are respectively coupled to data generation circuit 200 via lines 210-212.
      <br/>
      As a result, filter 220 filters the link pulses, filter 221 filters the txdata signal, and filter 222 filters the random signal.
      <br/>
      Filters 220-222 can be implemented using a low-pass filter or other wave shaping circuit.
      <br/>
      For example, a conventional low-pass L-C filter can be used.
      <br/>
      In another embodiment, filters 220-222 are substantially similar to wave shaping circuits and PLL disclosed in U.S. Pat. No. 5,357,145 ("the '145 patent") issued to Para K. Segaram on Oct. 18, 1994 and assigned to the same assignee as the present invention.
      <br/>
      The '145 patent is herein incorporated by reference in its entirety.
      <br/>
      Of course, other types of filters and circuits can be used to shape the output waveform on the twisted-pair lines.
    </p>
    <p num="24">The output leads 224-226 of filters 220-222 are each coupled to transmit blocks 1231 . . . 12312. Transmit blocks 1231 . . . 12312 include analog multiplexers 2301 . . . 23012 which are each coupled to output leads 224-226, thereby receiving the filtered link pulses, txdata signal and random signal.</p>
    <p num="25">
      Transmit blocks 123, . . . 12312 also include data select circuits 2401 . . . 24012, respectively.
      <br/>
      Data select circuits 2401 . . . 24012 respectively provide control signals to analog multiplexers 2301 . . . 23012 via lines 2411 . . . 24112, to select one of the three signals (i.e., the filtered link pulses, the filtered txdata signal or the filtered random signal) to output on lines 2321 . . . 23212, respectively.
      <br/>
      Each data select circuit provides a random select signal, a transmit select signal and a link select signal to control its associated analog multiplexer in selecting which signal to output (described further below in conjunction with FIG. 7).
    </p>
    <p num="26">
      Data select circuits 2401 . . . 24012 are respectively coupled to the per port TXEL state machines 2501 . . . 25012. Each TXEL state machine provides a local transmit enable ("txel") signal to its associated data select circuit.
      <br/>
      Data select circuits 2401 . . . 24012 each also receives control signals from TCC 110 (FIG. 1).
      <br/>
      These signals are the link off, randenable and lost link signals.
      <br/>
      The random select, transmit select and link select signals are asserted according to the following logic equations:
      <br/>
      random select=txel * randenable * �lost link  (1)
      <br/>
      transmit select=txel * �randenable * �lost link  (2)
      <br/>
      link select=(lost link * �link off)+�(txel+link off)  (3)
    </p>
    <p num="27">
      FIG. 2A shows the state diagram of the TXEL state machine.
      <br/>
      The TXEL state machine receives control signals from TCC 110 (FIG. 1).
      <br/>
      The state transition terms for the TXEL state diagram (FIG. 2A) are:
    </p>
    <p num="28">
      C1=minterm1 or minterm2
      <br/>
      C2=minterm3 or minterm4 or minterm5
    </p>
    <p num="29">where, the minterms for the TXEL state diagram are as follows.</p>
    <p num="30">
      Minterm1: TXEG and NOT DISPT and NOT M and NOT ANYXNSIz
      <br/>
      there is a current transmission
      <br/>
      this port is not disabled
      <br/>
      this port's N state machine is in the idle state
      <br/>
      there is no transmit collision
    </p>
    <p num="31">
      Minterm2: TXEG and NOT DISPT and JAM1 and ANYXNSIz
      <br/>
      there is a current transmission
      <br/>
      this port is not disabled
      <br/>
      the current preamble bit is a 1
      <br/>
      there is a transmit collision
    </p>
    <p num="32">
      Minterm3: NOT TXEG
      <br/>
      there is no longer a transmission
    </p>
    <p num="33">
      Minterm4: DISPT
      <br/>
      this port is disabled
    </p>
    <p num="34">
      Minterm5: M and NOT ANYXNSIz and ENDz
      <br/>
      this port's N state machine is in either port N or port M state
      <br/>
      there is no transmit collision
      <br/>
      are at the end of the current bit
    </p>
    <p num="35">Referring back to FIG. 2, transmit port blocks 1231 . . . 12312 include buffer drivers 2601 . . . 26012. Buffer drivers 2601 . . . 26012 are respectively coupled to analog multiplexers 2301 . . . 23012 via lines 2321 . . . 23212. Buffer drivers 2601 . . . 26012 receive the signal selected by analog multiplexers 2301 . . . 23012, respectively and output the selected signals on the twisted-pair lines.</p>
    <p num="36">
      In operation, data generation circuit 200 provides link signals approximately every 16 ms on line 210.
      <br/>
      Filter 220 filters the link signal and provides true and complement filtered link signals to analog multiplexers 2301 . . . 23012 via line 224.
      <br/>
      An analog multiplexer only selects the filtered link pulses when that particular analog multiplexer is part of "PortN".
      <br/>
      As disclosed in the aforementioned Singh application, PortN is the port that received the data being transmitted to the rest of the ports.
      <br/>
      PortN does not retransmit the received data.
    </p>
    <p num="37">
      TCC 110 (FIG. 1) also provides signals to each port transmit block to be used by each port transmit block to determine whether that transmit block will transmit either txdata or random data.
      <br/>
      If a link is lost on a port, the port will only output link pulses (see logic equation 3 above).
    </p>
    <p num="38">
      In addition, because PortN does not retransmit txdata or random data, the data select circuit for PortN causes its associated analog multiplexer to continue to output the filtered link pulses to that port's buffer driver.
      <br/>
      The buffer driver then outputs the filtered link pulses onto its associated twisted-pair line.
    </p>
    <p num="39">
      When a transmit port block determines that it is going to output the txdata signal, the flow is as follows.
      <br/>
      Data generation circuit 200 provides the txdata signal to filter 221 via line 211.
      <br/>
      Filter 221 filters the txdata signal and provides true and complement filtered txdata signals to analog multiplexers 2301 . . . 23012 via line 225.
      <br/>
      The data select circuit for each port that has determined it will output the txdata signal causes the analog multiplexer for that port to output the filtered true and complement txdata signals to that port's buffer drivers.
      <br/>
      The buffer drivers then output the filtered true and complement txdata signal onto its associated twisted-pair line.
    </p>
    <p num="40">However, if one or more ports are not authorized destinations for the txdata, then, through the security feature (disclosed in the aforementioned Singh application), the port associated with each of the unauthorized destination ports controls its corresponding analog multiplexer to select the random data instead.</p>
    <p num="41">
      The flow for this scenario is as follows.
      <br/>
      Data generation circuit 200 provides the random signal to filter 222 via line 212.
      <br/>
      Filter 222 filters the random signal and provides true and complement filtered random signals to analog multiplexers 2301 . . . 23012 via line 226.
      <br/>
      The data select circuit for each invalid destination port causes the analog multiplexer for that port to output the filtered true and complement random signals to the port's buffer drivers.
      <br/>
      The buffer drivers then output the filtered true and complement random signals onto its associated twisted-pair line.
    </p>
    <p num="42">
      Typically, the same txdata is transmitted by the authorized ports and the same random data is transmitted by the unauthorized ports.
      <br/>
      Thus, only three filters are needed to filter the link, txdata and random data signals.
      <br/>
      The present invention takes advantage of this fact to reduce the number of filters relative to conventional RICs (which typically use an external filter for every port) thereby reducing the RIC's size and cost.
      <br/>
      Further, the reduced number of filters allows the filters and buffer drivers to be integrated with the RIC, thereby reducing EMI and further reducing size and cost.
    </p>
    <p num="43">
      FIG. 3 shows a block diagram of another embodiment of data generation and filter circuit 130 and transmit blocks 1231 . . . 123N of port blocks 1201 . . . 120K of RIC 100 (FIG. 1) according to the present invention for use with a 10BASE-T Ethernet repeater.
      <br/>
      This embodiment is substantially similar to the embodiment of FIG. 2, except that filters 220-222 are replaced with wave shaping circuits 300-302 and phase-locked loop ("PLL") 303. Wave shaping circuits 300-302 and PLL 303 are substantially similar to the wave shaping circuits disclosed in U.S. Pat. No. 5,410,188 entitled "Enhanced Integrated Waveshaping Circuit" ("the '188 patent") issued to Para K. Segaram on Apr. 25, 1995 and assigned to the same assignee as the present invention.
      <br/>
      The '188 patent is herein incorporated by reference in its entirety.
      <br/>
      This embodiment operates in substantially the same manner as the embodiment of FIG. 2, except for the operation of PLL 303.
    </p>
    <p num="44">
      FIG. 4 shows a conceptual block diagram of one embodiment of data generation circuit 200 (FIG. 3).
      <br/>
      Data generation circuit 200 includes a timer 401 which receives a signal every 4 ms via a line 402.
      <br/>
      Signal every 4 ms is a clock signal having a period of 4 ms.
      <br/>
      Timer 401 counts the clock periods of signal every 4 ms and outputs a clock signal having a period of approximately 16 ms on a line 403.
    </p>
    <p num="45">
      A link generator 410 is coupled to line 403, thereby receiving the 16 ms clock signal.
      <br/>
      Link generator 410 also receives the global transmit ("txeg") and early global transmit ("txmsm") signals from TCC 110 (FIG. 1).
      <br/>
      The txmsm and txeg signals provide a window before the start of a packet ("SOP").
      <br/>
      Link generator 410 will not generate a link signal during this SOP window, but will delay any link pulse generated during this SOP window until after the window has ended.
      <br/>
      Thus, link generator 410 ensures that link generator 410 provides link pulses within the time requirements of the 10BASE-T Ethernet standard.
    </p>
    <p num="46">
      As described below in conjunction with FIG. 6, non-portal ports switching for transitions from txdata to link is done during idle.
      <br/>
      As a result, switching noise is substantially eliminated for transitions between link and txdata for non-portN ports.
    </p>
    <p num="47">
      When switching from link to txdata, TCC 110 causes the analog multiplexer to select the txdata path only when both link and txdata are at idle.
      <br/>
      Thus, the voltages on lines 210 and 211 are approximately equal, thereby reducing switching noise.
    </p>
    <p num="48">
      Data generation circuit 200 also includes multiplexer circuits 420 and 421 and end of packet/idle ("EOP/idle") generator 423.
      <br/>
      EOP/idle generator 423 provides EOP and idle signals as specified in the 10BASE-T Ethernet standard to indicate the end of a packet and to place the port in the idle state, respectively.
      <br/>
      EOP/idle generator 423 generates an idle signal after generating the EOP signal.
      <br/>
      Multiplexer circuits 420 and 421 receive the EOP and idle signals generated by EOP/idle generator 423 via line 424.
    </p>
    <p num="49">
      Both multiplexer circuits 420 and 421 receive the txib data signals from TCC 110 (FIG. 1) via a line 425.
      <br/>
      Multiplexer circuit 420 also receives the txeg signal.
      <br/>
      The txeg signal, when asserted, causes multiplexer circuit 420 to select the txib data signals from TCC 110.
      <br/>
      After the packet of txib data signals is transmitted, the txeg signal is deasserted, thereby causing multiplexer circuit 420 to select the EOP and idle signals from EOP/idle generator 423.
    </p>
    <p num="50">
      Multiplexer circuit 421 operates in a similar manner, except multiplexer circuit 421 switches between the randenc data signal, the txib data signal and the EOP and idle signals.
      <br/>
      Multiplexer circuit 421 selects the randenc signal after the destination address is transmitted.
      <br/>
      Signals txeg, end of type length field ("eotyplf") and destination match valid ("dmvalid") control the switching of multiplexer circuit 421.
    </p>
    <p num="51">
      In addition, multiplexer circuit 421 receives the txib data signals from TCC 110.
      <br/>
      Multiplexer circuit 421 selects txib data before SOP so that the voltages provided on the random and txdata lines match.
      <br/>
      Consequently, txdata is transmitted on line 212 after SOP.
    </p>
    <p num="52">
      In normal operation, RIC 100 transmits the destination address (from the txib data) even when the destination address is unauthorized.
      <br/>
      The selection of txib by multiplexer circuit 421 at SOP allows the analog multiplexer (FIG. 3) of the transmit port corresponding to the unauthorized destination address to switch from txdata to random without causing additional noise at the analog multiplexer.
      <br/>
      Then multiplexer circuit 421 selects the randenc signal after the destination address has been transmitted.
      <br/>
      Consequently, when the analog multiplexer corresponding to this "unauthorized" port selects the random data signals, there is substantially no voltage mismatch when switching from txdata to random.
      <br/>
      As a result, this two-tier switching scheme substantially eliminates switching noise in the unauthorized destination address scenario.
    </p>
    <p num="53">
      However, when the source address is unauthorized, RIC 100 (FIG. 1) must provide random data to every transmit port block.
      <br/>
      In this embodiment, TCC 110 then provides randomized data in the txib path (i.e., line 426).
      <br/>
      Thus, all of the analog multiplexers (FIG. 3) continue to select the txdata, thereby substantially eliminating switching noise in the unauthorized source address scenario.
    </p>
    <p num="54">
      FIG. 5 shows a schematic diagram of one embodiment of timer 401 and link generator 410 (FIG. 4).
      <br/>
      Timer 401 includes a buffer 501 and D flip flops 502-504.
      <br/>
      Buffer 501 receives signal every 4 ms and drives the clock input nodes of D flip flops 502-504.
      <br/>
      D flip flops 502-504 are connected to form a ring counter providing a clock signal having a 16 ms period.
    </p>
    <p num="55">
      Link generator 410 includes a two-input NAND gate 506.
      <br/>
      NAND gate 506 has an input lead coupled to the Q output lead of D flip flop 503 and the QZ output lead of D flip flop 502.
      <br/>
      Thus, NAND gate 506 outputs a "negative" pulse every 16 ms on output lead 507.
    </p>
    <p num="56">
      Link generator 410 also includes a two-input NOR gate 508, which has one input lead coupled to output lead 507 of NAND gate 506.
      <br/>
      The other input lead 509 of NOR gate 508 is normally at a logic low level (described below), thereby causing NOR gate 508 to operate as an inverter.
      <br/>
      Thus, the negative pulse generated by NAND gate 506 is normally inverted by NOR gate 508, except when the voltage at input load 509 is at a logic high level as described below.
      <br/>
      Thus, NOR gate 508 normally outputs a positive pulse every 16 ms.
    </p>
    <p num="57">
      Input lead 509 of NOR gate 508 is coupled to the output lead of an XOR gate 510.
      <br/>
      XOR gate 510 receives the txeg and txmsm signals.
      <br/>
      Thus, XOR gate outputs a logic high signal only when the txeg and txmsm signals are not the same.
      <br/>
      As stated above, the txmsm signal is substantially similar to the txeg signal except that the txmsm signal leads the txeg signal.
      <br/>
      Thus, the txeg and txmsm signals are unequal only during the window before the txeg signal is asserted (and deasserted).
      <br/>
      Accordingly, XOR gate 509 outputs a logic high signal during a "pre-SOP" and a "post-EOP" window.
      <br/>
      As a result, NOR gate 508 outputs a positive pulse every 16 ms, except during the pre-SOP and post-EOP windows, thereby substantially eliminating conflict with the SOP or the EOP.
    </p>
    <p num="58">
      Link generator 410 also includes a D flip flop 512.
      <br/>
      The output lead of NOR gate 508 is coupled to the D input lead of D flip flop 512.
      <br/>
      D flip flop 512 is clocked by signal phi1 received via a buffer 513.
      <br/>
      Signal phi1 is a 10 MHz clock signal.
      <br/>
      Thus, the output signal provided by NOR gate 508 is clocked into D flip flop 512.
      <br/>
      Further, NAND gate 506 will provide a pulse having a pulsewidth of up to 4 ms.
      <br/>
      Because a window is much less than 4 ms, NOR gate 508 will provide a logic high signal to D flip flop 512 even if the pulse from NAND gate 506 occurs during a pre-SOP window.
      <br/>
      Thus, D flip flop 512 will provide a logic high signal, which is used to generate a link pulse.
      <br/>
      Consequently, NOR gate 508 helps delay the link pulse until after the pre-SOP window.
    </p>
    <p num="59">
      The Q output lead of D flip flop 512 is coupled to the D input lead of a D flip flop 513.
      <br/>
      An inverter 514, having its input lead coupled to the clock input of D flip flop 512, clocks D flip flop 513 with the complement of signal phi1.
      <br/>
      Thus, the output signal of D flip flop 512 is clocked into D flip flop 513 a half a cycle (of signal phi1) after being clocked into D flip flop 512.
      <br/>
      The QZ output lead 514 of D flip flop 513 provides the link signal.
    </p>
    <p num="60">
      The QZ output lead 515 of D flip flop 512 is coupled an input lead of two-input NAND gate 516.
      <br/>
      Output lead 515 is normally at a logic high level until D flip flop receives a logic high signal at its D input node.
      <br/>
      The other input lead of NAND gate 516 is coupled to receive the complement of the global reset ("grst") signal via an inverter 517.
      <br/>
      The grst signal is used in the global reset mode, which does not form a substantial part of the present invention, but is included for completeness.
    </p>
    <p num="61">
      The output lead of NAND gate 516 is coupled to the reset nodes of D flip flops 502-504.
      <br/>
      The grst signal is at a logic low level when RIC 100 (FIG. 1) is not being reset.
      <br/>
      Thus, NAND gate 515 normally receives at logic high signal from inverter 516.
      <br/>
      Further, D flip flop 512 provides a logic high signal via its QZ output lead 515 when NOR gate 508 is not outputting a pulse.
      <br/>
      Thus, NAND gate 516 normally outputs a logic low signal, which does not reset D flip flops 502-504.
    </p>
    <p num="62">
      However, when a positive pulse from NOR gate 508 is clocked into D flip flop 512, D flip flop 512 provides a logic low signal to NAND gate 516, thereby resetting D flip flops 502-504.
      <br/>
      Consequently, D flip flop 512 outputs on its Q output lead a pulse having a pulse width approximately equal to the period of signal phi1.
      <br/>
      Further, the ring counter formed by D flip flops 502-504 begins a new cycle to generate a link pulse 16 ms later.
    </p>
    <p num="63">
      FIG. 6 shows a schematic diagram of one embodiment of EOP/idle generator 423 and multiplexer circuits 420 and 421 (FIG. 4).
      <br/>
      EOP/idle generator 423 includes D flip flop 601 having its D input node coupled to receive the txeg signal.
      <br/>
      D flip flop 601 is clocked by signal x1 having a frequency of 20 MHz, which is received from TCC 110 (FIG. 1).
      <br/>
      Thus, D flip flop "samples" the txeg signal and outputs on its Q output lead the logic level of the sample as txegSampledREx1, and the complement txegSampledREx1z on its QZ output lead.
    </p>
    <p num="64">
      A D flip flop 602 has its clock input node coupled to the QZ output lead of D flip flop 601, thereby being clocked by the txegSampledREx1z signal.
      <br/>
      The D input node of D flip flop 602 is coupled to the supply voltage source.
      <br/>
      Consequently, D flip flop 602 asserts the idle window signal ("tpidleWindow") outputted on its Q output lead at approximately the time the txeg signal is deasserted, thereby indicating the start of an "idle window" at the end of the packet of transmit data.
    </p>
    <p num="65">
      A D flip flop 605 has its D input node connected to receive the tpidleWindow signal from D flip flop 602, which is coupled to D flip flops 606-608 to form a delay circuit.
      <br/>
      D flip flops 605-608 are clocked by the 10 MHz phi1 signal via a buffer circuit 606, which receives the phi1 signal from TCC 110 (FIG. 1).
      <br/>
      Thus, the tpidleWindow signal delayed by D flip flops 605-608.
      <br/>
      Accordingly, D flip flop 608, at its Q output lead, provides an endidleWindow signal that is equivalent to the tpidleWindow signal delayed by approximately 320 ns.
      <br/>
      The endidleWindow signal then resets D flip flop 602 through an OR gate 610.
      <br/>
      Thus, the idle window is approximately 320 ns.
      <br/>
      The idle window is used in generating the EOP signal, which is a logic high level pulse with a pulse width of approximately 320 ns.
    </p>
    <p num="66">
      The tpidleWindow signal is also transmitted to an input lead of a two-input NAND gate 614.
      <br/>
      The other input lead of NAND gate 614 is coupled to receive the txegSampledREx1z signal.
      <br/>
      The txegSampledREx1z signal is at a logic high level substantially only during the period that the txeg signal is deasserted.
      <br/>
      As a result, NAND gate 614 outputs a logic low signal substantially only during the idle window at the end of a packet.
    </p>
    <p num="67">
      The output lead of NAND gate 614 is connected to an input lead of both NAND gate 615 and NAND gate 616.
      <br/>
      Thus, NAND gates 615 and 616 output logic high signals during the idle window.
      <br/>
      The output leads of NAND gates 615 and 616 are respectively connected to D flip flops 618 and 619.
      <br/>
      The clock nodes of D flip flops 618 and 619 are connected to the clock node of D flip flop 612 and, thus, are clocked by the complement of the x1 signal.
      <br/>
      Consequently, D flip flops 618 and 619 output a logic high signal on their QZ output leads during the idle window.
      <br/>
      Thus, a 320 ns logic high signal is transmitted on the txdata as random lines 211 and 212, respectively, thereby providing the EOP signal.
    </p>
    <p num="68">
      However, when not in the idle window, NAND gate 614 outputs a logic high signal, thereby causing NAND gates 615 and 616 to operate as inverters relative to the signals on their other input lead (i.e., input leads 620 and 621, respectively).
      <br/>
      NAND gates 615 receives the txib data on input lead 620 via a D flip flop 622 and an AND gate 623.
    </p>
    <p num="69">
      AND gate 623 receives the txegSampledREx1 signal and the txib signals at its input leads.
      <br/>
      Thus, AND gate 611 gates the txib signals to its output lead substantially only when the txeg signal is asserted.
    </p>
    <p num="70">
      D flip flop 622 receives the gated txib signals from AND gate 623.
      <br/>
      D flip flop 622 is clocked by the complement of the x1 signal via an inverter 624.
      <br/>
      Thus, D flip flop 622 is clocked a half cycle later than D flip flop 601, which generates the txegSampledREx1 signal.
      <br/>
      D flip flop 622 outputs the complement of the current txib signal on its QZ output lead during the next cycle of the x1 signal.
      <br/>
      As a result, the inverted txib data is transmitted to input lead 620 of NAND gate 615, which operates as an inverter when not in the idle window.
      <br/>
      The txib data is then clocked into D flip flop 618.
      <br/>
      D flip flop 618 then outputs the complement of the txib data on line 211 via a buffer, delayed by approximately one period of the x1 signal.
      <br/>
      After D flip flop 618 outputs the last txdata bit of the packet, NAND gate 614 causes D flip flop 618 to output the EOP signal as described above.
    </p>
    <p num="71">
      Data generation circuit 200 (FIG. 4) receives the randenc data signals from TCC 110 (FIG. 1) at multiplexer 630 via an input lead 631.
      <br/>
      Multiplexer 630 receives the txib data via input lead 632.
      <br/>
      A control lead 633 of multiplexer 630 is connected to an output lead 6334 of a three-input NAND gate 635.
      <br/>
      NAND gate 635 receives the eotyplf, dmvalid and datmux signals from TCC 110 (FIG. 1).
      <br/>
      MSM 112 (FIG. 1) provides the datmux signal.
      <br/>
      MSM 112 causes the datmux signal to be at a logic low level when the txib data being output from elasticity buffer 113 (FIG. 1) starts to become the data field.
    </p>
    <p num="72">
      The eotyplf signal is asserted after the destination address is transmitted.
      <br/>
      The dmvalid signal is asserted when the address filters 114 (FIG. 1) detects that there is at least one destination address authorized to receive the transmit data.
      <br/>
      The datmux signal is asserted while transmit data is available.
      <br/>
      Thus, NAND gate 635 outputs a logic low signal when these conditions occur, thereby selecting the randenc data signals.
      <br/>
      Otherwise, NAND gate 635 outputs a logic high signal, which causes multiplexer 630 to select the gated txib data from AND gate 623.
    </p>
    <p num="73">
      For example, in the case of a packet with at least one destination address authorized to receive the transmit data, at the start of a packet, the eotyplf signal is deasserted while the dmvalid and datmux signals are asserted.
      <br/>
      Consequently, NAND gate 630 outputs a logic high signal, thereby causing multiplexer 630 to select the txib data.
      <br/>
      Then, after TCC 110 provides the destination address, TCC 110 asserts the eotyplf signal, thereby causing NAND gate 636 to output a logic low signal.
      <br/>
      Thus, multiplexer 630 selects the randenc data to output on its output lead 636.
    </p>
    <p num="74">
      Output lead 636 of multiplexer 630 is connected to the D input node of a D flip flop 640.
      <br/>
      D flip flop 640 is clocked by the complement of the x1 signal via inverter 624.
      <br/>
      D flip flop 640 outputs the complement of the current randenc signal on its QZ output lead 641 during the next cycle of the x1 signal.
      <br/>
      Output lead 641 is connected to input lead 621 of NAND gate 616.
      <br/>
      As a result, the complemented randenc data is transmitted to input lead 621 of NAND gate 616, which operates as an inverter when not in the idle window.
      <br/>
      The randenc data is then clocked into D flip flop 619.
      <br/>
      D flip flop 619 then outputs the complement of the randenc data on line 212 via buffer 642, delayed by approximately one period of the x1 signal.
      <br/>
      After D flip flop 619 outputs the last randenc bit of the packet, NAND gate 614 causes D flip flop 619 to output the EOP signal as previously described.
      <br/>
      Accordingly, multiplexer 630 causes the txib data to be transmitted on random line 212 until the beginning of the data field.
      <br/>
      Then, multiplexer 630 causes the random data to be transmitted on random line 212.
      <br/>
      Thus, multiplexer 630 substantially eliminates switching noise on random line 212.
      <br/>
      The analog multiplexers for the unauthorized ports are controlled by their corresponding data select circuit to switch from txdata to random while the random line is carrying txdata (i.e., the destination address).
      <br/>
      Thus, lines 225 and 226 will have matched voltages when the analog multiplexer switches, thereby substantially eliminating switching noise.
    </p>
    <p num="75">
      FIG. 7 shows a schematic diagram of one embodiment of data select circuit 2401 (FIG. 3).
      <br/>
      Of course, the schematic diagrams of data select circuits 2402 -24012 are substantially similar to that of data select circuit 2401.
    </p>
    <p num="76">
      The txel signal is extended by one period of the phi1 signal to generate the txelpxExtend signal via a D flip flop 702, a two-input NOR gate 704 and an inverter 706.
      <br/>
      D flip flop 702 receives the txel signal at its D input node and is clocked by the phi1 signal.
      <br/>
      NOR gate 704 has one input lead connected to the D input node of D flip flop 702, thereby receiving the txel signal.
      <br/>
      The other input lead of NOR gate 704 is coupled to the Q output lead of D flip flop 720.
      <br/>
      As a result, when the txel signal is asserted, NOR gate 704 outputs the a logic low signal (i.e., the complement of the txel signal).
      <br/>
      In addition, D flip flop 702 outputs the txel signal delayed by 1 period of the phi1 signal.
      <br/>
      Thus, after the txel signal is deasserted, NOR gate 704 continues to output a logic low signal for one period of the phi1 signal.
      <br/>
      The logic low signal outputted by NOR gate 704 is inverted by inverter 724 to generate the txelpxExtend signal.
      <br/>
      Accordingly, the txelpxExtent signal, when asserted, is substantially equivalent to the txel signal extended by one period of the phi1 signal.
    </p>
    <p num="77">
      The linksel signal is generated by a two-input OR gate 710, a two-input OR gate 716 and a two-input NAND gate 722.
      <br/>
      Or gate 710 is coupled to receive the txelpxExtend signal from inverter 708 via an input lead 712.
      <br/>
      OR gate 710 has another input lead 714 coupled to receive the link off signal from TCC 110 (FIG. 1).
      <br/>
      Thus, OR gate 710 outputs the logical OR of the txel signal and the link off signal.
    </p>
    <p num="78">
      OR gate 716 has an input lead 718 connected to input lead 714 of OR gate 710, thereby also receiving the link off signal.
      <br/>
      OR gate 716 has another input lead 720 coupled to receive the �lost link signal (i.e., the complement of the lost link signal) from TCC 110.
      <br/>
      Thus, OR gate 716 outputs the logical OR of the link off signal and the �lost link signal.
    </p>
    <p num="79">
      NAND gate 722 has input leads 724 and 726 connected to the output leads of OR gates 716 and 710, respectively.
      <br/>
      Accordingly, NAND gate 722 outputs the linksel signal substantially in accordance with logic equation 3 above.
      <br/>
      The output signal of NAND gate 722 (i.e., the linksel signal), is asserted under either of the following two conditions: (1) when link is lost with the corresponding port and the link off signal is not asserted; and (2) when at the same time, both the txel signal and the link off signal are not asserted.
    </p>
    <p num="80">
      The randsel signal is generated via an inverter 728, a D flip flop 730 and an AND gate 732.
      <br/>
      Inverter 728 is coupled to receive the �randenable signal (i.e., the complement of the randomenable signal) from TCC 110.
      <br/>
      The output lead of inverter 728 is connected to clock input node of D flip flop 730.
      <br/>
      The D input node of D flip flop 730 is connected to the supply voltage source, thereby receiving a substantially constant logic high signal.
      <br/>
      Thus, a logic high signal is clocked into D flip flop 730 when the randomenable signal is asserted.
      <br/>
      In addition, D flip flop has its reset lead coupled to the output lead of NOR gate 704, thereby receiving the complement of the extended txel signal.
      <br/>
      Thus, when the txel signal is not asserted, D flip flop 730 is reset, thereby implementing the logical AND of the txel signal and the randomenable signal on its Q output lead.
    </p>
    <p num="81">
      AND gate 732 has input leads 734 and 736 connected to the Q output lead of D flip flop 730 and to input lead 720 of OR gate 716, respectively.
      <br/>
      Thus, input lead 734 receives the logical AND of txel signal and the randomenable signal, whereas input lead 736 receives the �lost link signal.
      <br/>
      Accordingly, AND gate 732 outputs the randsel signal according logic equation 1 above.
      <br/>
      Thus, the randsel signal is asserted when the lost link signal is not asserted and the txel and randomenable signals are asserted.
    </p>
    <p num="82">
      The txdatasel signal is generated via inverter 728, D flip flop 730 and three-input AND gate 740.
      <br/>
      AND gate 740 has an input lead 742 connected to input lead 736 of AND gate 732, thereby receiving the �lost link signal.
      <br/>
      AND gate 740 also has an input lead 744 connected to input lead 712 of OR gate 710, thereby receiving the txelpxExtend signal.
      <br/>
      A third input lead 746 of AND gate 740 is connected to the QZ output lead of D flip flop 730.
      <br/>
      In normal operation, prior to transmitting data, RIC 100 (FIG. 1) is in idle.
      <br/>
      Thus, the txel signal is not asserted, thereby resetting D flip flop 730.
      <br/>
      Consequently, D flip flop outputs a logic high signal on its QZ output lead while in idle.
      <br/>
      If the randomenable signal remains deasserted when the txel signal is asserted, then D flip flop 730 does not clock, thereby continuing to output a logic high on its QZ output lead.
      <br/>
      Thus, input lead 746 of AND gate 740 receives the logical equivalent of a �randomenable signal.
      <br/>
      Accordingly, AND gate 740 outputs the txdatasel signal substantially in accordance with logic equation 2 above.
      <br/>
      Thus, the txdatasel signal is asserted when the lost link and randomenable signals are not asserted and the txel is asserted.
    </p>
    <p num="83">
      The foregoing has described the principles and various embodiments of the present invention.
      <br/>
      However, the invention should not be construed as being limited to the particular embodiments described.
      <br/>
      For example, different implementations of the data generation circuit, data select circuit, link generator, etc. may be used instead of the implementations described herein.
      <br/>
      Further, the two-tier switching method of the present invention can be used to reduce switching noise in any application that requires switching of analog signals.
      <br/>
      Thus, the above-described embodiments should be regarded as illustrative rather than restrictive.
      <br/>
      Variations can be made to those embodiments by workers skilled in the art without departing from the scope of the present invention as defined by the following claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method for providing a repeater interface controller, which receives a link signal, a random signal, and a data signal, said method comprising:</claim-text>
      <claim-text>filtering said link signal said random signal, and said data signal; providing said filtered link signal and said filtered data signal to a transmit port, said transmit port comprising a buffer driver coupled to an external interconnect; selecting said filtered link signal, said filtered random signal, or said filtered data signal for output to said external interconnect using said buffer driver.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1 wherein a single integrated circuit is configured to implement said transmit port and to perform said filtering of said link signal and said filtering of said data signal.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A repeater interface controller, receiving as input signals a link signal, a random signal, and a data signal, said repeater interface controller comprising: a first filter for said link signal; a second filter for said data signal; a third filter for said random signal;</claim-text>
      <claim-text>and a transmit port comprising:</claim-text>
      <claim-text>- a buffer driver coupled to an external interconnect;</claim-text>
      <claim-text>and - an analog multiplexer, coupled to said buffer driver and receiving from said first, second and third filters said link, random and data signals, said analog multiplexer selecting one of said filtered link signal, said filtered random signal, and said filtered data signals to said buffer driver for output to said external interconnect.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The repeater interface controller of claim 3 wherein said repeater interface controller is integrated on a single integrated circuit.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A circuit comprising: a data generation circuit providing a plurality of link, random and data signals for transmission in a plurality of repeater channels, each channel capable of transmitting one or more of a link signal, a random signal and a data signal; a filter bank coupled to said data generation circuit, said filter bank filtering said link, random and data signals;</claim-text>
      <claim-text>and a plurality of transmit ports coupled to said filter bank for receiving said filtered link, random and data signals, each transmit port receiving a link signal, a random signal and a data signal of one of said repeater channels and being selectably enabled to transmit said link signal, said random signal, and data signal selectively onto an external interconnect.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The circuit of claim 5 wherein said circuit is part of an integrated circuit repeater interface controller.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The circuit of claim 6 wherein said data generation circuit comprises a link generator for generating said link signal, said link signal comprising a plurality of link pulses.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An integrated circuit repeater interface controller comprising: a data generation circuit including a link generator and providing a plurality of link and data signals for transmission in a plurality of repeater channels, each channel transmitting a link signal and a data signal, wherein said link generator is capable of providing a link pulse between packets of transmitted data, said link generator providing said link pulse outside of a window of time preceding the start of each said packet and outside a window of time following the end of said packet; a filter bank coupled to said data generation circuit, said filter bank filtering a selected pair of said link and data signals;</claim-text>
      <claim-text>and a plurality of transmit ports coupled to said filter bank for receiving said filtered link, random and data signals, each transmit port receiving a link signal, a random signal, and a data signal of one of said repeater channel and being selectably enabled to transmit one of said link, random and data signals onto an external interconnect.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A method for providing a repeater interface controller, said repeater interface controller receiving a link signal, a random signal and a data signal, said method comprising: filtering said link signal; filtering said data signal; filtering said random signal; providing said filtered link signal, said filtered random signal, and said filtered data signal to a transmit port, said transmit port comprising a buffer driver coupled to an external interconnect;</claim-text>
      <claim-text>and outputting selectively said link signal, said random signal and said data signals onto said external interconnect, said transmit port selecting, when authorized, said filtered data signal for output when a voltage of said filtered link signal is substantially equal to a voltage of said filtered data signal.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The method of claim 9 wherein said transmit port defers switching from transmitting said link signal to transmitting said data signal when said voltage of said filtered link signal is not substantially equal to said voltage of said filtered data signal.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The method of claim 9 wherein a single integrated circuit is configured to implement said transmit port and to perform said filtering of said link signal and said filtering of said data signal.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. A repeater receiving a link signal, a random signal and a data signal, comprising: a first filter for filtering said link signal; a second filter for filtering said data signal; a random signal; a transmit port comprising a buffer driver coupled to an external interconnect;</claim-text>
      <claim-text>and an analog multiplexer receiving said filtered link signal, said filtered random signal, and said filtered data signal for selectively providing said filtered link signal, said random signal, and said filtered data signal to said transmit port for output, said analog multiplexer, when authorized, selecting said filtered data signal when a voltage of said filtered link signal is substantially equal to a voltage of said filtered data signal.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The structure of claim 12 wherein said analog multiplexer defers switching from transmitting said link signal to transmitting said data signal when said voltage of said filtered link signal is not substantially equal to said voltage of said filtered data signal.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The structure of claim 12 wherein said structure is implemented in a single integrated circuit.</claim-text>
    </claim>
  </claims>
</questel-patent-document>