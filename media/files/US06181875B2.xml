<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181875B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181875</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181875</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="17033851" extended-family-id="20662834">
      <document-id>
        <country>US</country>
        <doc-number>09379596</doc-number>
        <kind>A</kind>
        <date>19990824</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09379596</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>21225327</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>37959699</doc-number>
        <kind>A</kind>
        <date>19990824</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09379596</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>JP</country>
        <doc-number>23869089</doc-number>
        <kind>A</kind>
        <date>19890914</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1989JP-0238690</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>US</country>
        <doc-number>16564698</doc-number>
        <kind>A</kind>
        <date>19981002</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1998US-09165646</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="4">
        <country>US</country>
        <doc-number>69666396</doc-number>
        <kind>A</kind>
        <date>19960814</date>
        <priority-linkage-type>1</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="4">
        <doc-number>1996US-08696663</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="5">
        <country>US</country>
        <doc-number>37029395</doc-number>
        <kind>A</kind>
        <date>19950109</date>
        <priority-linkage-type>1</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="5">
        <doc-number>1995US-08370293</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="6">
        <country>US</country>
        <doc-number>6295093</doc-number>
        <kind>A</kind>
        <date>19930518</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="6">
        <doc-number>1993US-08062950</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="7">
        <country>US</country>
        <doc-number>58188790</doc-number>
        <kind>A</kind>
        <date>19900913</date>
        <priority-linkage-type>1</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="7">
        <doc-number>1990US-07581887</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G03B  17/18        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>17</main-group>
        <subgroup>18</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G02B  27/64        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>27</main-group>
        <subgroup>64</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G03B   5/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>5</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>G03B  17/14        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>17</main-group>
        <subgroup>14</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>396055000</text>
        <class>396</class>
        <subclass>055000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>348208150</text>
        <class>348</class>
        <subclass>208150</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G02B-027/64V</text>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>027</main-group>
        <subgroup>64V</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G03B-005/00</text>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>5</main-group>
        <subgroup>00</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G03B-017/14</text>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>17</main-group>
        <subgroup>14</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-005/00</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>5</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G02B-027/646</classification-symbol>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>27</main-group>
        <subgroup>646</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-017/14</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>17</main-group>
        <subgroup>14</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-2205/0007</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>2205</main-group>
        <subgroup>0007</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-2217/005</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>2217</main-group>
        <subgroup>005</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-2217/185</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>2217</main-group>
        <subgroup>185</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S03B-205/00B</classification-symbol>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S03B-217/00B</classification-symbol>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S03B-217/18B</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>7</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>26</number-of-drawing-sheets>
      <number-of-figures>38</number-of-figures>
      <image-key data-format="questel">US6181875</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Camera capable of correcting camera-shake</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>HAMADA MASATAKA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5266981</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5266981</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>OSHIMA MITSUAKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4623930</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4623930</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>KOJIMA HIROSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>4733258</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4733258</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>KAWAI TOHRU</text>
          <document-id>
            <country>US</country>
            <doc-number>4774538</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4774538</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>NORITA TOSHIO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4792820</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4792820</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>HAMADA MASATAKA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4860045</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4860045</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>TOERNBLOM BENGT H</text>
          <document-id>
            <country>US</country>
            <doc-number>4965519</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4965519</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>VASEY FRANCOIS, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4970540</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4970540</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>SHIKAUMI MASAO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5101230</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5101230</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>KITAJIMA TATSUTOSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5109249</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5109249</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>SHINOHARA JUNICHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5192964</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5192964</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>ODAKA YUKIO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5198856</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5198856</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>HAMADA MASATAKA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5210563</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5210563</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>ISHIDA TOKUJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5220375</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5220375</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>MIYAZAWA AZUMA</text>
          <document-id>
            <country>US</country>
            <doc-number>5237365</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5237365</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>NAGATA TORU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5606456</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5606456</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S6247012</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP62047012</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>16564698</doc-number>
              <kind>A</kind>
              <date>19981002</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>6295093</doc-number>
              <kind>A</kind>
              <date>19930518</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5978601</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5416554</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </division>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>69666396</doc-number>
              <kind>A</kind>
              <date>19960814</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>37029395</doc-number>
              <kind>A</kind>
              <date>19950109</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>58188790</doc-number>
              <kind>A</kind>
              <date>19900913</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5832314</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5561485</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>5266981</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Minolta Co., Ltd.</orgname>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>MINOLTA</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Hamada, Masataka</name>
            <address>
              <address-1>Osakasayama, JP</address-1>
              <city>Osakasayama</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Masumoto, Hisayuki</name>
            <address>
              <address-1>Sakai, JP</address-1>
              <city>Sakai</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Okada, Takashi</name>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Ootsuka, Hiroshi</name>
            <address>
              <address-1>Toyokawa, JP</address-1>
              <city>Toyokawa</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Burns, Doane, Swecker &amp; Mathis, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Gray, David M.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A camera comprises an angular velocity sensor for detecting camera-shake.
      <br/>
      The angular velocity sensor takes a certain time to be stabilized after its operation is started.
      <br/>
      When correction of camera-shake is required during the certain period, it is displayed that correction of camera-shake is not possible.
      <br/>
      As a result, a photographer using the camera with the camera-shake detection sensor refrains from photographing when correction of camera-shake is not possible.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a divisional of application Ser.
      <br/>
      No. 09/165,646 , filed Oct. 2, 1998, now U.S. Pat. No. 5,978,601 which is a continuation of application Ser.
      <br/>
      No. 08/696,663, filed Aug. 14, 1996 , now U.S. Pat. No. 5,832,314, which is a continuation of application Ser.
      <br/>
      No. 08/370,293, filed Jan. 9, 1995 , now U.S. Pat. No. 5,561,485, which is a divisional of application Ser.
      <br/>
      No. 08/062,950, filed May 18, 1993, now U.S. Pat. No. 5,416,554, which is a continuation of application Ser.
      <br/>
      No. 07/581,887, filed Sep. 13, 1990, now U.S. Pat. No. 5,266,981.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">The present invention generally relates to cameras, and more particularly, to a camera having a camera-shake detector which detects camera-shake occurring when a picture is taken.</p>
    <p num="4">2. Description of the Related Arts</p>
    <p num="5">
      Some conventional cameras have been proposed with camera-shake detecting sensors which detect camera-shake to prevent pictures being blurred.
      <br/>
      A conventional camera provided with a camera-shake detecting sensor comprises a camera-shake detecting sensor, a correcting device for correcting camera-shake amount in response to output of detection, and a display unit for making display of a warning that a picture is being blurred.
    </p>
    <p num="6">A conventional camera which can correct camera-shake is responsive to output of camera-shake detecting sensor for correcting camera-shake amount so as to allow unblurred pictures to be taken and at the same time, display that unblurred picture are being taken.</p>
    <p num="7">
      Conventional cameras with camera-shake sensors are configured as described above.
      <br/>
      Therefore, the conventional cameras with camera-shake sensors make correction of camera-shake and at the same time, give a display that camera-shake is corrected.
    </p>
    <p num="8">
      However, it takes time for the camera-shake sensors to become able to provide stable output of camera-shake detection after the sensors are turned on.
      <br/>
      Accordingly, the output of the sensors can not be used until stabilized.
      <br/>
      Therefore, pictures taken before the sensors are stabilized can not be subjected to camera-shake correction.
      <br/>
      As a result, even those cameras provided with camera-shake-sensors and correction mechanism may produce blurred pictures without operating such mechanism in such a case.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="9">An object of the present invention is to take reliably unblurred pictures using a camera with a camera-shake sensor.</p>
    <p num="10">Another object of the present invention is to eliminate unnecessary continuous driving of a taking lens in a camera with a camera-shake sensor.</p>
    <p num="11">Still another object of the present invention is to more precisely correct camera-shake in a camera with a camera-shake sensor.</p>
    <p num="12">
      According to the present invention, the objects described above can be achieved by a camera comprising the following elements.
      <br/>
      That is, a camera according to the present invention comprises a camera-shake detector for detecting camera-shake occurring when a picture is taken, a correction device for correcting camera-shake in response to output of the camera-shake detector, and a warning display unit for displaying a warning when the camera-shake detector is not operating.
    </p>
    <p num="13">
      Camera-shake detecting means can not detect camera-shake amount immediately after a signal for starting its operation is entered.
      <br/>
      Therefore, when such a camera-shake detector is in an inoperable state, a warning that the camera can not make camera-shake correction is displayed at a warning display portion.
      <br/>
      Then, a photographer can recognize that the camera-shake correction device is not operating and thus, does not start photographing until output of the camera-shake sensor is stabilized.
      <br/>
      As a result, it becomes possible to take reliably unblurred pictures using the camera with a camera-shake sensor.
    </p>
    <p num="14">
      In a camera according to the present invention, lens driving for camera-shake correction is detected when the camera-shake amount is large in the out-of-focus state.
      <br/>
      When the camera-shake amount is large in the out-of-focus state, the in-focus state can not be easily realized even if a taking lens is driven.
      <br/>
      According to the present invention, driving of a taking lens is inhibited when the camera-shake amount is large in the out-of-focus state.
      <br/>
      Therefore, unnecessary driving of the taking lens is eliminated in the camera with a camera-shake sensor.
    </p>
    <p num="15">
      According to the present invention, the camera-shake amount of a moving object is estimated using a plurality of camera-shake data.
      <br/>
      Accordingly, a precise camera-shake correction can be made in a camera with a camera-shake sensor even when an object is in motion.
    </p>
    <p num="16">The foregoing and other objects, features, aspects and advantages of the present invention will become more apparent from the following detailed description of the present invention when taken in conjunction with the accompanying drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="17">
      FIG. 1 is a schematic perspective view of a camera system according to the present invention.
      <br/>
      FIG. 2 is a circuit block diagram of a camera body according to the present invention.
      <br/>
      FIGS. 3 to 7 are flow chart diagrams showing operation of the camera system according to the present invention.
      <br/>
      FIGS. 8A and 8B are diagrams showing performance of a camera-shake sensor according to the present invention.
      <br/>
      FIGS. 9A to 13C are flow chart diagrams for explaining operation of a camera according to the present invention.
      <br/>
      FIGS. 14A and 14B are diagrams showing an AE program.
      <br/>
      FIG. 15 is a flow chart diagram for explaining operation of a camera according to the present invention.
      <br/>
      FIGS. 16A and 16B are diagrams showing contents displayed at the display portion and in the finder of a camera body.
      <br/>
      FIGS. 17A and 17B are flow charts for explaining operation of a camera system according to the present invention.
      <br/>
      FIGS. 18 to 23 are circuit block diagrams of a camera-shake detector applicable to the present invention and flow chart diagrams of a microcomputer controlling the circuit.
      <br/>
      FIG. 24 is a circuit diagram showing a the electronic flash device ST circuit.
      <br/>
      FIG. 25 is a circuit diagram showing circuit structure of lens.
      <br/>
      FIGS. 26 and 27 are flow charts diagrams for explaining operation of a microcomputer on the side of lens.
      <br/>
      FIG. 28 is a diagram showing results of a simulated correction of camera-shake.
      <br/>
      FIGS. 29 and 30 are diagrams showing driving mechanism of a correction lens which performs correction of camera-shake according to the present invention.
      <br/>
      FIG. 31 is a flow chart diagram for explaining operation of the driving mechanism.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="18">
      In the following, embodiments of the present invention will be described with reference to the accompanying drawings.
      <br/>
      Meanwhile, the description below is made not only on system of the present invention but on the entire system including those parts or functions that have no direct relation with the present invention.
    </p>
    <p num="19">
      FIG. 1 is a schematical perspective view of a camera having a camera-shake detecting sensor according to the present invention.
      <br/>
      Referring to FIG. 1, the camera according to the present invention comprises camera body 1 and lens 2 interchangeably provided to camera body 1.
      <br/>
      Camera body 1 comprises X direction camera-shake sensor Sx for detecting camera-shake amount in the X direction in the figure, Y direction camera-shake sensor Sy for detecting camera-shake amount in the Y direction, and display portion DISP1 for giving a warning when X direction and Y direction camera-shake sensors Sx and Sy are not in the operating state.
    </p>
    <p num="20">
      FIG. 2 is a block diagram showing a circuit of a camera according to the present embodiment.
      <br/>
      Referring to FIG. 1, the camera according to the present invention comprises a microcomputer  MU C which controls the entire camera and performs various operations, and has focus detecting circuit AFCT connected thereto.
      <br/>
      Focus detecting circuit AfCT comprises CCD, an integration control circuit, and an A/D converting circuit, and gets information of an object from a focus detection area as will be described later and A/D converts the information to output the result to microcomputer  MU C. The main parts shown in the circuit block of a camera according to the present invention will be described below.
    </p>
    <p num="21">
      Brightness measuring circuit LM measures brightness in two areas described later and A/D converts the measured brightness values to output the results to microcomputer  MU C as brightness information.
      <br/>
      Display control circuit DISPC receives a display control signal from microcomputer  MU C to display a predetermined information in display portions DISP1 on the upper surface of the camera body and DISP2 in a finder.
      <br/>
      Camera-shake detector BL detects camera-shake as will be described later in detail.
    </p>
    <p num="22">
      Microcomputer  MU C is connected to electronic flash device ST, brightness adjusting circuit STC which receives light reflected from an object through an unshown taking lens at an emission of flash and stops the emission of flash when an appropriate exposure amount is reached, and lens circuit LE which outputs information specific to an interchangeable lens to microcomputer  MU C and drives an actuator for correction (a pulse motor in the present embodiment) as will be described later, based on correction amount information for camera-shake correction received from the camera.
      <br/>
      Further, microcomputer  MU C is connected to lens driving control circuit LECN for driving a taking lens based on focus detecting information, shutter control circuit TVCT for controlling shutter based on a control signal from microcomputer  MU C, aperture control circuit AVCT for controlling aperture based on a control signal from microcomputer  MU C, motor control circuit MD for winding and controlling a film based on a control signal from microcomputer  MU C, battery E serving as power source, reverse-current preventing diode D1, large-capacity condenser CBU for backing up microcomputer  MU C, power supply transistor Tr1 for supplying power to part of the above-described circuits, field-effect transistor FET (Tr2) for supplying power to a motor for camera-shake correction.
    </p>
    <p num="23">
      In the following, description will be made on switches.
      <br/>
      Brightness measuring switch S1 is used to perform various operations of camera (for example, brightness measuring and display of various data) including automatic focusing operation (referred to as "AF" hereinafter), and turned on when an unshown release button is depresssed at a first stroke.
      <br/>
      When light measuring switch S1 is turned on, microcomputer  MU C executes an interruption flow INT1 shown in FIG. 9A, as will be described later.
      <br/>
      Main switch SM puts the camera in the operable state when turned on.
      <br/>
      When this switch is turned on/off, interruption SMINT described later is performed.
      <br/>
      Switch SIHBL is one for inhibiting camera-shake correction and switch SSP is one for switching brightness measuring modes (spot/average).
      <br/>
      Release switch S2 is handled when a picture is taken, and turned on when the release button is depressed at a second stroke (deeper than the first stroke).
      <br/>
      Switch X is a so-called X contact, and turned on when a travel of preceding shutter curtain is completed and turned off when an unshown release member is charged.
    </p>
    <p num="24">
      FIG. 3 is a flow chart diagram showing the interruption SMINT which is performed when main switch SM is turned on/off.
      <br/>
      Referring to FIG. 3, when this interruption is to be made, first, microcomputer  MU C resets all flags and data (to 0) (step -5) (in the following, the designation of step will not be repeated).
      <br/>
      Then, determination is made as to whether main switch SM has been turned on or not.
      <br/>
      When the switch has been turned on, data is entered from the lens (-10 and -15).
      <br/>
      In this embodiment, the data includes focal length f, coefficient KL for converting defocus amount into lens driving amount, object distance DV, fully open aperture value AV0 and a data representing presence or absence of lens.
    </p>
    <p num="25">
      FIG. 4 is a flow chart diagram showing the subroutine of data input at -15 shown in FIG. 3.
      <br/>
      Referring to FIG. 4, in the subroutine of data input, data indicative of mode (I) (data input) is set (-180), potential at terminal CSLE is set to the L level (-182), the data set as described above is output (-185), the above-described data such as focal length f are entered from the lens (-190), and then potential at terminal CSLE is set to the H level (-195).
      <br/>
      It is to be noted that the mode (I) is a control mode for the lens, subroutine LESIO (I) denoted in FIG. 4 represents data input to the camera, and LESIO (II) shown in FIG. 5 is a mode for outputting data from the camera.
    </p>
    <p num="26">
      Turning back to the flow chart of FIG. 3, determination is made, based on the data entered from the lens, as to whether a lens has been mounted or not (-20).
      <br/>
      When one has been mounted, potential at terminal PW1 is set to the H level so as to turn transistor Tr2 on (-25).
      <br/>
      Thus, power is supplied to the driving motor for camera-shake correction.
      <br/>
      Data for resetting a camera-shake correction is set and then the data is output to the lens according to subroutine LESIO (II) (-35).
      <br/>
      The output data includes shake amount in the X direction  DELTA X, shake amount in the Y direction  DELTA Y and a data representing mode (reset/release/OFF).
    </p>
    <p num="27">
      Subroutine LESIO (II) for outputting data from the camera body to the lens will be described with reference to FIG. 5.
      <br/>
      First, data of mode (I) is reset (-200), voltage at terminal CSLE is set to the L level (-202), and the above-described mode signal, i.e., mode (II) is output (-205).
      <br/>
      Thereafter, the above-described output data is output (-210), potential at terminal CSLE is set to the H level (-215), and then the program returns to the main routine.
    </p>
    <p num="28">
      Subsequently, the operation proceeds to -42 in FIG. 3 (even in the case that determination has been made at -20 that lens is absent, the program proceeds up to this step), timer T is reset to start, a timer flag F1 indicative thereof is set, and then potential at terminal CHST is set to the H level to start boosting of the electronic flash device ST (-40 to -45).
      <br/>
      Thereafter, determination is made as to whether correction inhibit switch SIHBL for inhibiting camera-shake correction has been turned on or not (-50).
      <br/>
      When the correction inhibit switch SIHBL has been turned on (correction is inhibited), data for inhibiting display is set (-55) and the data is output to the display control circuit (-60) so as to turn off the display indicating that camera-shake correction is being made.
      <br/>
      Thereafter, the system waits until value of timer T reaches T2 (about 5 minutes) (-65), and then the program proceeds to step -125.
      <br/>
      At step -125, the boosting of the electronic flash device ST is stopped, potential at terminal CHST is set to the L level, data for turning on an angular velocity monitor is reset and a signal indicative thereof is output to camera-shake detector BL to turn off the monitor (-125 to -135).
      <br/>
      Then, power supply transistors Tr2 and Tr1 are turned off, display data is set, and a signal indicative thereof is output to the display circuit to turn off the display.
      <br/>
      Thereafter, a timer flag (timer F) is reset and then the microcomputer stops its operation (-140 to -148).
    </p>
    <p num="29">
      At step -50, when the switch for inhibiting correction has not been turned on, the program proceeds to step -70, where data for turning on the angular velocity monitor is set.
      <br/>
      Then, a sensor mode A is selected and data indicative thereof is set and output to camera-shake detector BL (-70 to -80).
      <br/>
      Meanwhile, there are two sensor modes A and B. In the sensor mode A, the angular velocity monitor for detecting camera-shake is turned on only for a predetermined time, and in the sensor mode B, the angular velocity sensor is always in the on-state.
      <br/>
      The purposes of providing the two sensor modes are to reduce consumption current and also to make the angular velocity sensor work only when it is required as in taking a picture.
    </p>
    <p num="30">
      Next, contents of the subroutine BLSIO (I) shown at step -80 will be described, where data is output to camera-shake detector BL.
      <br/>
      The data output at this step is as follows.
    </p>
    <p num="31">
      angular velocity monitor: ON/OFF
      <br/>
      sensor mode: A, B, OFF
      <br/>
      focal length: f
      <br/>
      object distance data: DV
    </p>
    <p num="32">
      FIG. 6 is a flow chart diagram showing the subroutine.
      <br/>
      Referring to FIG. 6, in the subroutine BLSIO (I) where data is output to the camera-shake detector, first, data mode is set to mode (I) for data input, potential on terminal CSBL is set to the L level (-220 and -222), and then the data is output (-225).
      <br/>
      Subsequently, data indicative of whether the above-mentioned angular velocity monitor has been turned on/off is output, potential on terminal CSBL is set to the H level, and then the program returns to the main routine (-230 and -235).
    </p>
    <p num="33">
      Returning now to the flow chart shown in FIG. 3, the system waits until the angular velocity sensor is stabilized to start measuring and then data therefor is entered (-85 and -90).
      <br/>
      The data output from the camera is as follows.
      <br/>
      DELTA XBL : correction amount in the X direction
      <br/>
      DELTA YBL : correction amount in the Y direction
      <br/>
      : camera-shake amount is large/not large
    </p>
    <p num="34">
      FIG. 7 is a flow chart diagram showing the subroutine BLSIO (II) at step -90 shown in FIG. 3, where camera-shake amount is output from camera to lens.
      <br/>
      Referring to FIG. 7, in the subroutine BLSIO (II), data of mode (I) is reset (returning to mode (II) indicative of data output), potential on terminal CSBL is set to the L level and data indicative thereof is output (-240 to -245).
      <br/>
      Subsequently, data from camera-shake detector BL is entered in microcomputer  MU C, potential on terminal CSBL is set to the H level, and then the program returns to the main routine (-250 and -255).
    </p>
    <p num="35">
      Turning back to the flow chart shown in FIG. 3, determination is made as to whether the above-mentioned timer T indicates no less than T1 (about 7 seconds, corresponding to the time taken for the angular velocity sensor to be stabilized) or not.
      <br/>
      When T &gt;= T1, it is determined that the angular velocity sensor has been stabilized, and then a flag indicative thereof (detection OKF) is set, data indicative of a WAIT display is reset, and data is output to the display circuit (-100 to -110).
    </p>
    <p num="36">
      The reason why the system waits for the angular velocity sensor to be stabilized is that when power is supplied to the sensor, data representing a correct shake amount can not be output immediately.
      <br/>
      This is true particularly when a vibration-type angular velocity sensor is employed.
    </p>
    <p num="37">
      In FIGS. 8A and 8B, there are shown times required for output of the angular velocity sensor to be stabilized after power is turned on.
      <br/>
      In FIG. 8A, it takes about one second for the stabilization of output after power is turned on, while in the example shown in FIG. 8B, it takes about 8 seconds for the stabilization of output.
      <br/>
      In consideration of the level to be used, a maximum waiting time of 7 seconds is set in the present invention.
    </p>
    <p num="38">Turning back to the flow chart shown in FIG. 3, when T=T2 in timer, detection OK flag OKF is reset to turn off the camera and the flow following the above-described step 125 is executed (-115 and -125).</p>
    <p num="39">
      At step -95, when timer T has not yet reached T1, the program proceeds to step -125 and the system waits for 500 m seconds.
      <br/>
      Thereafter, t is made equal to T1-T, data of WAIT display is set and the above-mentioned t and the data of WAIT display are output to the display control circuit, and then the program proceeds to step -75 (-115 to -170).
    </p>
    <p num="40">
      As described above in connection with steps -95 to -110 and -115 to -170, according to the present invention, a display that photographing is "waited" is made after the turning-on of main switch SM until time T1 taken for the angular velocity sensor to be stabilized has passed.
      <br/>
      When the time taken for the angular velocity sensor to become stable has passed, the display is reset.
      <br/>
      As a result, a photographer can determine whether the angular velocity sensor for detecting camera-shake is operating or not.
      <br/>
      Therefore, when the camera-shake detecting sensor is not operating, pictures are not taken, thus preventing blurred pictures being taken.
    </p>
    <p num="41">
      Subsequently, a program executed when brightness measuring switch S1 is turned on will be described below.
      <br/>
      FIG. 9A is a flow chart diagram showing the program executed when brightness measuring switch S1 is turned on.
      <br/>
      First, potential on terminal FLOK for indicating that flash emission is possible is set to the L level, and all display data is reset (-260 and -265).
      <br/>
      Then, determination is made as to whether main switch SM has been turned on or not.
      <br/>
      If the switch has been turned off, microcomputer  MU C stops (-275).
      <br/>
      If the switch has been turned on, transistor Tr1 is turned on to supply power to brightness measuring-and AF circuits and the like, flag AFEF indicating the in-focus state and flag MDF indicating that camera-shake amount is large after the in-focus state is achieved are reset, and then determination is made as to whether the correction inhibit switch has been turned on or not (-280 to -290).
      <br/>
      When correction inhibit switch SIHBL has been turned on at step -290, the program proceeds to step -475 to set display inhibit data and further proceeds to step -395 to execute the flow following thereafter (-475), details of which will be described later.
    </p>
    <p num="42">
      When the correction inhibit switch has been turned off at step -290, the program proceeds to step -295 and determination is made as to whether a flag indicating that the angular velocity sensor can perform detection, or detection OK flag OKF has been set or not.
      <br/>
      When the flag has been set, the program proceeds to step -300 to set data of monitor ON.
      <br/>
      Subsequently, a flag indicating that the sensor is in the A mode is set, data indicative thereof is output to camera-shake detector BL, and then the system waits for a certain time (10 m second).
      <br/>
      Thereafter, data of camera-shake amount is entered from the above-mentioned detector BL and the program proceeds to step -395 (-305 to -320).
      <br/>
      From the original purpose of correcting camera-shake which takes place at the time of exposure, operation of the camera-shake detecting sensor may not be started until release switch S2 is turned on.
      <br/>
      However, if the switch of the camera-shake detector is turned on before release switch S2 is turned on, as shown in this flow, its rising time can be reduced.
      <br/>
      When the detection OK flag indicating that the angular velocity sensor can perform detection has not been set at step -295, i.e., when the sensor has not yet been stabilized, data indicating that the monitor is ON and data indicating that the sensor is in the A mode are set and output to camera-shake detector BL to reset display inhibit data, and then data is entered from lens (-330 to -345).
      <br/>
      It is determined from the entered data whether a lens has been mounted or not.
      <br/>
      When a lens has been mounted, transistor Tr2 is turned on to supply power to the motor for correction on the lens side, lens mode is reset, information indicative thereof is output to the lens, and then the program proceeds to step -370 (-350 to -365).
      <br/>
      Even when no lens has been mounted at step -360, the program proceeds also to step -370.
    </p>
    <p num="43">
      At step -375, determination is made as to whether the timer flag has been set or not.
      <br/>
      When the flag has been set, the program proceeds to step -376.
      <br/>
      When the timer flag has not been set, the timer-flag is set, timer T is reset to start, and then the program proceeds to step -376 (-370 to -374).
      <br/>
      At step -376, determination is made as to whether timer T has reached a value no less than T1 or not.
      <br/>
      When T &gt;= T1, the detection OK flag is set, WAIT display is reset, and the program proceeds to step -395 (steps -376 to -385).
      <br/>
      On the other hand, when T&lt;T1, it is determined that the angular velocity sensor has not been yet stabilized.
      <br/>
      Then, operation is made to make t equal to T1-T, WAIT display data is set, and then the program proceeds to step -395.
    </p>
    <p num="44">
      At step -395, data is entered from lens, brightness is measured, and then AF operation is performed.
      <br/>
      Exposure operation (AE operation) is performed based on the measured brightness data to stop down aperture, and a shutter speed is found (-400 to -410).
      <br/>
      Those respective subroutines will be described later.
    </p>
    <p num="45">
      As described above in connection with steps -376 to -390, according to the present invention, also in an interruption flow where the brightness measuring switch is turned on, WAIT display is made at the display portion of camera after the turning-on of the brightness measuring switch until the angular velocity sensor is stabilized, and after the time taken for the angular velocity sensor to be stabilized has passed, the display is reset.
      <br/>
      Therefore, as previously described, before the camera-shake detecting sensor becomes stable, it is displayed that the camera-shake detecting sensor has not been yet stabilized.
      <br/>
      Accordingly, a photographer does not take pictures in such a state.
      <br/>
      As a result, a camera capable of photographing unblurred pictures can be provided.
    </p>
    <p num="46">
      Meanwhile, according to the present invention, as shown at step -325, when the detection OK flag indicating that camera-shake can be detected represents NO, ON data is set for the camera-shake detecting monitor.
      <br/>
      Accordingly, at the same time that the brightness measuring switch is turned on, the sensor circuit of the camera-shake detector is turned on.
    </p>
    <p num="47">
      Subsequently, the brightness measuring subroutine shown at step -400 in FIG. 9 will be described with reference to FIG. 10. In FIG. 11, there is shown a brightness measuring pattern as viewed from a finder.
      <br/>
      As shown in FIG. 11, the brightness measuring pattern is composed of two areas; one is spot brightness measuring area BVSP at the center and the other is peripheral brightness measuring area BVAM surrounding the former.
      <br/>
      Brightness values measured from the respective areas are represented as BVSP and BVAM.
    </p>
    <p num="48">
      Referring to FIG. 10, data of values BVSP and BVAM measured in the respective areas are entered and determination is made as to whether the spot brightness measuring switch has been turned on or not.
      <br/>
      When the switch has not been turned on, the measured value BV is set to (BVAM +BVSP)/2 and then the program returns to the main routine (-480 to -490).
      <br/>
      On the other hand, when the spot brightness measuring switch has been turned on at step -485, determination is made, based on the data entered from camera-shake detector BL, as to whether the camera-shake amount is large or not.
      <br/>
      When the camera-shake amount is large, the data is not updated but the program returns to the main routine.
      <br/>
      When the camera-shake amount is small,BVSP is substituted for the measured value BV and then the program returns to the main routine (-495 to -500).
      <br/>
      The reason why the data is not updated in the case of a large camera-shake amount is that deviation of measured values should be prevented which might take place when a brightness measuring range is shifted due to a momentary camera-shake.
    </p>
    <p num="49">
      Subsequently, the AF subroutine shown at step -405 in FIG. 9 will be described below.
      <br/>
      FIG. 12 is a flow chart diagram showing contents of the AF subroutine.
      <br/>
      Referring to FIG. 12, first, integration of CCD is done, data is entered, and then current defocus amount DF1 is calculated based on the entered DF amount for driving lens (-505 to -515).
      <br/>
      At step -520, determination is made as to whether flag MDF indicating that camera-shake amount is large after the in-focus state is achieved has been set on or not.
      <br/>
      If MDF has been set, the program returns immediately to the main routine (-520).
      <br/>
      Thus, when the camera-shake amount after achievement of the in-focus state is large, determination of a moving object is inhibited and AF lock is made.
      <br/>
      This is because AF information can not be relied on when the camera-shake amount is large.
    </p>
    <p num="50">
      On the other hand, when flag MDF has not been set at step -520, determination is made as to whether flag AFEF indicative of the in-focus state has been set or not (-525).
      <br/>
      When the flag has not been set, determination is made as to whether camera-shake amount is large or not (-530).
      <br/>
      When the camera-shake amount is large, reliability of the defocus amount is low.
      <br/>
      Therefore, the program returns to the main routine without driving lens.
      <br/>
      When the camera-shake amount is not large at step -530, the obtained defocus amount DF1 is set as defocus amount DF for lens drive.
      <br/>
      When the defocus amount is not below a predetermined value, lens drive amount is taken by multiplying the DF amount by coefficient for converting lens drive amount so as to perform lens drive, and then the program returns to the main routine (-535, -540, -555 and -560).
      <br/>
      When the defocus amount DF for lens drive is below the predetermined value at step -540, flag AFEF indicative of the in-focus state is set, N is set to 0, and then the program returns to the main routine (-545 and -550).
    </p>
    <p num="51">
      When flag AFEF indicative of the in-focus state has been set at step -525, the program proceeds to step 570 and the current defocus amount DF1 is changed to DF2.
      <br/>
      Thereafter, determination is made, based on the data entered from camera-shake detector BL, as to whether the camera-shake amount is large or not (-580).
      <br/>
      When the camera shake amount is large at step -580, flag MDF indicative thereof is set and the program returns to the main routine (-585).
      <br/>
      On the other hand, when the camera-shake amount is not large at step -580, determination is made as to whether N is no less than 2 or not.
      <br/>
      If N&lt;2, it means non-input or input of one data indicative of the in-focus state.
      <br/>
      Then, since determination of a moving object can not be made, the program returns to the main routine (steps -587 and -590).
      <br/>
      If N &gt;= 2 at step -587, difference between the defocus amounts of the previous and current times is found and then determination is made as to whether the difference is larger than a predetermined value (K  DELTA DF) or not.
      <br/>
      If the difference is not larger than the predetermined value, the object is not in motion.
      <br/>
      Therefore, the program returns to the main routine (-595 and -600).
      <br/>
      When the difference is larger than the predetermined value, the defocus amount is set as DF=DF1+ DELTA DF and the program proceeds to step -555 to drive lens (-605).
    </p>
    <p num="52">
      Subsequently, the subroutine of AE operation shown at step -430 in FIG. 9 and an example of AE program will be described with reference to FIGS. 13A to 14B.
      <br/>
      In the present embodiment, an object is identified based on magnification data as follows.
      <br/>
      BETA &gt;1/10: macrophotographing
      <br/>
      BETA  &lt;= 1/200 landscape photographing
      <br/>
      1/40 &gt;=  BETA &gt;1/100: figure photographing
    </p>
    <p num="53">
      An intermediate magnification can not be classified into any of the cases above.
      <br/>
      Further, when  BETA &gt;1/10 and  BETA  &lt;= 1/200, aperture is stopped down from an open aperture value to about 2EV or 3EV, resulting in an improved photographic performance.
      <br/>
      Particularly for the landscape photographing, specific consideration is given to depth.
      <br/>
      In the case of 1/40 &gt;=  BETA &gt;1/100, the depth of focus is made shallower in photographing a figure and at the same time, the open aperture value is used as control aperture value so as to reduce camera-shake in photographing a figure.
    </p>
    <p num="54">
      Further, according to the present embodiment, determination is made as to whether an object is in motion or not.
      <br/>
      When the object is moving, an AE diagram is employed in which priority is given to aperture as in the above-mentioned diagram of AE program and shutter speed is also taken into consideration so as not to allow blurring of the object to be caused by the movement.
    </p>
    <p num="55">
      In FIG. 13A, film sensitivity SV is read, magnification  BETA  is calculated from focal length f and distance information DV entered from lens, and shutter speed TVf which is very likely to cause camera-shake is found from focal length f (-610 to -620).
      <br/>
      Subsequently, determination is made as to whether detection of camera-shake is possible or not.
      <br/>
      If it is possible, the detection OK flag is set.
      <br/>
      Then, since correction of camera-shake is possible, the above-mentioned shutter speed is set as TVf=TVf-3 so as to reduce a limit shutter speed which does not cause camera-shake.
      <br/>
      If it is not possible, nothing is done and the program proceeds to step -635 (-625 and -630).
      <br/>
      It has been known that in order to prevent pictures from being blurred, faster one of a currently determined shutter speed and the limit shutter speed may be desirably used.
      <br/>
      This limit shutter speed which does not cause camera-shake is reduced through the steps described above.
      <br/>
      At step -635, determination is made as to whether lens open F value AV0 meets AV0 &gt;= 5 or not (-365).
      <br/>
      When lens open F value AV0 &gt;= 5, aperture variation  DELTA AV is made to meet  DELTA AV=2, and when  DELTA V0 &lt;5, the variation is made to meet  DELTA AV=3, and then the program proceeds to step -646.
      <br/>
      Meanwhile, brightness value BV is made to meet BV=BV0 +AV0 and exposure value EV is made to meet EV=BV+SV (-646 and -647).
    </p>
    <p num="56">
      After exposure value EV is found, magnification  BETA  is determined (-655).
      <br/>
      When  BETA &gt;1/10 or  BETA  &lt;= 1/200, the program proceeds to step -670.
      <br/>
      When 1/20 &lt;=  BETA &lt;1/40 or 1/100 &gt;=  BETA &gt;1/200, aperture correction amount  DELTA AV is changed to  DELTA AV/2 and then the program proceeds to step -670 (-655 to -665).
      <br/>
      At steps -670, shutter speed TV is found from TV=EV-(AV0 + DELTA AV).
      <br/>
      When flag FLF indicative of flash photographing has been set at step -675, the program proceeds to step -770.
      <br/>
      When flag FLF has not been set, the program proceeds to -680 where determination is made as to whether the calculated shutter speed TV is below camera-shake causable shutter speed TVf or not (-680).
      <br/>
      If TV &lt;= TVf, aperture AV is found by AV=EV-TVf and TV is made equal to TVf (-685 and -687).
    </p>
    <p num="57">
      Subsequently, determination is made as to whether AV&lt;AV0 stands or not for aperture (-690).
      <br/>
      When AV&lt;AV0, AV is made equal to AV0, shutter speed TV is set to EV-AV0 (-700), and then the program proceeds to step -705.
      <br/>
      The calculated TV and AV are employed as control shutter speed TVC and control aperture value AVc, determination is made on release lock as will be described later, and then the program returns to the main routine (-690 to -715).
      <br/>
      When AV &gt;= AV0 at step -690, the program immediately proceeds to step -705.
    </p>
    <p num="58">
      When TV&gt;TVf at step -680, the program proceeds to step -717 where determination is made as to whether flag MDF has been set or not, which is to be set when camera-shake is large in determining a moving object.
      <br/>
      When it has been set, i.e., when MDF=1, or when variation  DELTA DF between two defocus amounts is below a predetermined value, it is determined that the object is not moving and then the program proceeds to step -738.
      <br/>
      When flag MDF has not been set at step -717 and defocus variation  DELTA DF is larger than the: predetermined value K  DELTA DF, it is determined that the object is moving and then, aperture is found by AV=(1/2) * EV-2.5 (-725).
      <br/>
      Thus, when the object is moving, the aperture value is subtracted from the predetermined value so as to set aperture to open larger.
      <br/>
      As a result, the shutter speed is increased.
      <br/>
      Subsequently, at step -730, determination is made as to whether aperture AV meets AV &gt;= AV0 + DELTA AV or not.
      <br/>
      When AV &gt;= AV0 + DELTA AV, the obtained shutter speed will be lower than the value found by AV=AV0 + DELTA AV even if the object is in motion.
      <br/>
      Therefore, the program proceeds to step -738 where AV is made equal to AV0 + DELTA AV and then, further proceeds to step -740.
    </p>
    <p num="59">
      On the other hand, when AV&lt;AV0 + DELTA AV at step -730, the program proceeds to step -731 to increase the shutter speed.
      <br/>
      At step -731, shutter speed TVd for stopping down aperture from aperture F value AV0 is found by TVd=AV0 +5 and shutter speed TV is found by TV=EV=AV0 (-731 and -733).
      <br/>
      Then, determination is made as to whether the thus obtained shutter speed is larger than TVd or not (-735).
      <br/>
      When TV &gt;= TVd, TV is made equal to (1/2) * EV -2.5 (-737).
      <br/>
      When TV&lt;TVd, AV is made equal to AV0 (-736), and then the program proceeds to step -740.
    </p>
    <p num="60">
      The aperture value shown in FIGS. 13A to 14B is determined as AV=AV0 when TV&lt;TVd.
      <br/>
      When TV &gt;= TVd and AV&lt;AV0 + DELTA AV, AV is made equal to (1/2) * EV-2.5. When AV &gt;= AV0 + DELTA AV, the aperture value is found by AV=AV0 + DELTA AV.
      <br/>
      Shutter speed TV is found by TV=EV-AV.
    </p>
    <p num="61">
      At step -740, shutter speed TV is found by TV=EV-AV and determination is made as to whether TV is larger than maximum shutter speed TVmax or not (-745).
      <br/>
      When TV is not larger than TVmax, the program proceeds to -705.
      <br/>
      When TV is larger than TVmax, TV is made equal to TVmax and aperture value AV is found again by AV=EV-TVmax.
      <br/>
      Then, determination is made as to whether aperture value AV is larger than maximum aperture value TVmax or not (-750 to -760).
      <br/>
      If AV&gt;AVmax, AV is made equal to AVmax and then the program proceeds to step -705.
      <br/>
      When AV &lt;= AVmax, the program immediately proceeds to step -705.
    </p>
    <p num="62">
      When flag FLF indicative of flash photographing has been set at step -675, the program proceeds to step 770 where determination is made as to whether shutter speed TV is equal to camera-shake causable shutter speed TVf.
      <br/>
      If TV &lt;= TVf, determination is made as to whether the above-mentioned TVf is larger than maximum shutter speed TVx for synchronizing with flash emission or not (-770 and -775).
      <br/>
      If Tvf&gt;Tvx, TV is made equal to Tvx, and if Tvf &lt;= Tvx, TV is made equal to Tvf.
      <br/>
      Thus, a fast shutter speed which is least likely to cause camera-shake is set and aperture is set to open larger so that flash-light can reach farther or amount of the light becomes small (-780 and -785).
      <br/>
      Whether it is from step -780 or -785, the program proceeds to step -790 where aperture AV is found by AV=EV-TV (-790).
      <br/>
      Subsequently, determination is made as to whether the aperture value AV found at step -795 is smaller than open aperture value AV0 or not.
      <br/>
      If AV&lt;AV0, AV is made equal to AV0 and the program proceeds to step -705.
      <br/>
      On the other hand, if AV &gt;= AV0 at step -795, determination is made as to whether AV is larger than maximum aperture value AVmax or not (-805).
      <br/>
      If AV&gt;AVmax, AV is made equal to AVmax and then the program proceeds to step -705.
      <br/>
      If AV &lt;= AVmax at step -805, the program immediately proceeds to step -705.
      <br/>
      If TV&gt;Tvf at step -770, determination is made as to whether the shutter speed TV is larger than synchronizing maximum shutter speed Tvx or not.
      <br/>
      If TV&gt;TVx, TV is made equal to TVx and then the program proceeds to step -790 (-815 and -820).
      <br/>
      If TV &lt;= TVx at step -815, the program proceeds to step -705.
    </p>
    <p num="63">
      In FIGS. 14A and 14B, there are shown diagrams of AE programs where focal length/open F value of length is 35 mm/f4 and 3200 mm/f5.6, respectively.
      <br/>
      In both diagrams, X-axis denotes values of shutter speed TV, Y-axis denotes aperture values AV, and relationship between them are shown using exposure values as parameter.
    </p>
    <p num="64">
      Next, the subroutine for determining release lock as shown at step -715 in FIG. 13C will be described with reference to FIG. 15. Referring to FIG. 15, first, flag LELF indicative of release lock and flag FLF indicative of flash emission are reset and determination is made as to whether distance DV entered from lens is larger than 10 m or not (-830 to -840).
      <br/>
      When object distance DV is larger than 10 m, it is determined that no figure is photographed and thus, flash is not emitted.
      <br/>
      When object distance DV is larger than 10 m and control shutter speed TVc is higher than camera-shake causable speed TVf, or when camera-shake correction is inhibited, or when camera-shake detection is possible (when detection OK flag is representing 1), release lock is not made but data of display as will be described later is output, and then the program returns to the main routine (-845 to -855 and -865).
    </p>
    <p num="65">If at steps -845 to -855, control shutter speed TVc is under camera-shake causable speed TVf and camera-shake detection can not be made even though the correction inhibit mode has not been set, flag LECF for release lock is set (-860) since there is a large possibility of camera-shake taking place, and then the program proceeds to step -865.</p>
    <p num="66">
      When distance DV is not larger than 10 m at step -840, the program proceeds to -870 where determination is made as to whether the expression for object brightness BV, or BV &lt;= 2 stands or not.
      <br/>
      If BV &lt;= 2 at step -870, the electronic flash device ST photographing is performed to give contrast to the object.
      <br/>
      A signal indicative of whether charging of a main condenser for flash has been completed or not is entered from flash device FL.
      <br/>
      If the charging has been completed, flag FLF indicative of flash emission is set, potential on terminal FLOK is set to the H level to allow flash emission, and then the program proceeds to step -865.
      <br/>
      On the other hand, when the charging has not been completed at step -875, the program proceeds to step -860 where flag LECF indicative of release lock is set.
      <br/>
      When BV&gt;2 at step -870, photographing is performed without using flash.
      <br/>
      Therefore, the program proceeds to step -845 and the flow following the step -845 is executed.
    </p>
    <p num="67">
      Now, contents displayed in the display SIO subroutine will be described with reference to FIGS. 16A and 16B.
      <br/>
      FIG. 16A shows contents of display DISP2 (FIG. 2) in finder, and FIG. 16B shows contents of external display DISP1 shown in FIG. 1.
      <br/>
      In the diagrams, a shows presence or absence of release lock, and when displayed, it indicates that camera is in the released lock state. b is displayed when camera-shake correction is not inhibited, and the same is turned on and off when the camera-shake correction was not successfully made. c indicates that charging is completed for flash photographing. d, e, f and g indicate control shutter speeds and aperture values. h is displayed when the angular velocity sensor is not stable, and i displays a waiting time.
    </p>
    <p num="68">
      When the above-mentioned AE operation is completed, the program returns to the flow shown in FIG. 9 and determination is made as to whether release switch S2 has been turned on or not (-420).
      <br/>
      When it has not been turned on, the program proceeds to step -405.
      <br/>
      When release switch S2 has been turned on at step -420, determination is made as to whether release lock has been set or not (-425).
      <br/>
      If release lock has been set (LELF=1), the program proceeds to step -445.
      <br/>
      When release lock has not been set at step -425 (LELF=0), exposure control is performed (-430), film is wound by one frame (-435), and the system waits for brightness measuring switch S1 being turned off (-440).
      <br/>
      When brightness measuring switch S1 is turned off at step -440, the program proceeds to step -445.
      <br/>
      Details of the exposure control mentioned at step 430 will be described later.
      <br/>
      At step -445, determination is made as to whether brightness measuring switch S1 has been turned off or not.
      <br/>
      If it has been turned on, power holding timer TA is reset to start (-450), and then the program proceeds to step -295.
      <br/>
      When brightness measuring switch S1 has been turned off at step -445, the program proceeds to step -445 where determination is made as to whether power holding timer TA has reached five seconds or not (-455).
      <br/>
      If the above-mentioned timer shows less than 5 seconds, the program proceeds to step -295.
      <br/>
      When the above-mentioned timer has gone beyond five second at step -455, determination is made as to whether the correction inhibit switch has been turned off or not (-460).
      <br/>
      If it has been turned on, the program proceeds to -125 (see FIG. 3) where control is conducted to stop the operation.
      <br/>
      If correction is not inhibited at step -460, the program proceeds to step -465 where determination is made as to whether power holding timer TA has reached T3 (1 minute) or not.
      <br/>
      When the above-mentioned timer has not yet reached T3 at step -465, potential on terminal PW1 is set to the L level so as to turn off power supply to the brightness measuring circuit and the like, and then the system waits until T3 is reached (-465 and -470).
      <br/>
      When T3 is reached, the program proceeds to step -125 shown in FIG. 3 and control is conducted to stop the operation.
    </p>
    <p num="69">
      Subsequently, the AE control subroutine shown at step -430 in FIG. 9 will be described with reference to FIG. 17. First, detection is made as to whether the correction inhibit mode has been set or not (-890).
      <br/>
      If the correction inhibit mode has not been set, the mode B (continuous mode) is selected as sensor mode of camera-shake detector BL, data indicative thereof is output to camera-shake detector BL, and then the system waits for a time (10 msec) required for detector BL to enter data of camera-shake (-891 to -895).
      <br/>
      Subsequently, to receive the data, the system performs data communication with camera-shake detector BL (-897).
      <br/>
      Thereafter, to lift up mirror, an unshown magnet for mirror-up is turned on and aperture control is conducted based on control aperture value AVc (-899 and -901).
      <br/>
      Then, data of lens control mode is turned off, data communication (II) with lens is made so as to output data such as camera-shake amount, mode and the like to lens, and then determination is made whether or not the lifting-up of mirror has been completed or not (-903 to -915).
      <br/>
      If the lifting-up of mirror has not been completed, data of camera-shake amount is entered from camera-shake detector BL and then the program proceeds to step -905 where the data of camera-shake amount is output to lens (-915).
      <br/>
      When the lifting-up of mirror has been completed at step -910 (SMUP is ON), the program proceeds to step -920 where data is entered from camera-shake detector BL (-920).
      <br/>
      Thereafter, based on the entered data, determination is made as to whether the camera-shake amount is large or not (-925).
      <br/>
      Then reason why such a program is employed is as follows.
      <br/>
      The camera-shake amount is increased due to operation of a release button and release control such as aperture control, mirror control and the like.
      <br/>
      In order to reduce camera-shake amount at the time of exposure, the camera-shake amount at that time is detected.
      <br/>
      When the camera-shake amount is large, release is inhibited until the amount becomes small.
      <br/>
      When it is determined at step -925 that camera-shake amount is large, data communication with lens is made when data of the camera-shake amount is output to lens.
      <br/>
      Thus, the program does not return to -920 (-930 and -935) until the camera-shake amount becomes small.
      <br/>
      When the camera-shake amount has become small at step -925, the program proceeds to step -940 where release mode is selected for lens, and then data indicative thereof is output to length (-945).
      <br/>
      Thereafter, film sensitivity data SV is output through a D/A converter as analog data to a brightness adjusting circuit.
      <br/>
      Real time Tc is found from control shutter speed TVc (-955), an engagement magnet for preceding shutter curtain is turned on, and then exposure timer T is reset to start (-950 to -960).
      <br/>
      Then, comparison is made between real time Tc and current time T to determine whether (Tc -T) is larger than a predetermined value KT or not (-970).
      <br/>
      The time KT is a little larger those times taken for data communication with camera-shake detector BL and lens, respectively.
      <br/>
      When Tc -T is smaller than KT, precise control of the exposure time is impossible and thus, the program proceeds to step -975.
      <br/>
      At step -975, determination is made as to whether exposure timer T has reached real time Tc or not.
      <br/>
      When T not equal to Tc, the program proceeds to -970.
      <br/>
      When T=Tc, the program proceeds to step -977.
      <br/>
      If (Tc -T)&gt;KT at step -970, data of camera-shake amount is entered from camera-shake detector BL and output as lens data, and then the program proceeds to step -975 (-971 and -973).
      <br/>
      If T=Tc at step -975, the program proceeds to step -977 where an engagement magnet for trailing shutter curtain is turned off (-977).
      <br/>
      Data of camera-shake amount is entered from camera-shake detector BL and output to lens (-979 to -981).
      <br/>
      At this time, data communication with lens is generally allowed only one time, though it depends on travelling speed of the trailing shutter curtain and speed of the data communication.
      <br/>
      Thus, even after the travelling of the trailing shutter curtain, camera-shake correction is restricted to as small as possible until exposure is completed.
      <br/>
      The system waits for the time (5 msec) taken for the traveling of the trailing shutter curtain to be completed.
      <br/>
      Thereafter, data for turning off the sensor of camera-shake detector BL is set and output to camera-shake detector BL, and then data is entered from lens (-983 to -989).
      <br/>
      Based on the entered data, determination is made as to whether or not data of camera-shake limit exists or not which indicates whether camera-shake correction of lens has been made or not (or indicates that the correction lens has reached the correction limit) (-993).
      <br/>
      When the data of camera-shake limit exists at step -991 (when the data has been set), camera-shake data for display is set (-993) so as to turn on and off the designation b shown in FIG. 16A.
    </p>
    <p num="70">
      When the data of camera-shake limit has not been set, the above-mentioned camera-shake data for display is reset (-995) and then the program proceeds to step -997.
      <br/>
      Thereafter, display data including the data above is output to the display control circuit and the program returns to the main routine (-997).
    </p>
    <p num="71">
      When the correction inhibit mode has been set at step -890, no control associated with camera-shake correction is conducted but the other control associated with, for example, data communications with camera-shake detector and lens and exposure is done.
      <br/>
      Microcomputer  MU C controls exposure from step -1200 to -1245.
      <br/>
      However, the control adopts only necessary steps out of the above-described steps -891 to -977 and has no specific relation with the present invention.
      <br/>
      Therefore, description thereof is omitted and only its diagram is given.
    </p>
    <p num="72">Referring to FIGS. 18 to 22, a circuit block diagram of camera-shake detector BL, specific examples of the camera-shake detector, and a flow chart of the microcomputer controlling the detector will be described.</p>
    <p num="73">
      Referring to FIG. 18, camera-shake detector BL comprises, as shown in the circuit block diagram, microcomputer  MU C3 which performs operation of camera-shake amount and data communication with microcomputer  MU C having control over the entire circuit block and the whole camera.
      <br/>
      Sensors I and II are sensor portions for detecting outputs of angular velocity obtained from monitors I and II in monitor portions each comprising an angular velocity sensor.
      <br/>
      Switch SW1 is a selecting switch for selecting output of either one of the sensors I and II to be applied to an A/D converter.
      <br/>
      Transistors Tr3 and Tr4 supply power to monitors I and II and sensors I and II.
      <br/>
      One shot circuit OS continues to output H level for the period after the power supply to the motors is started until their output is stabilized.
    </p>
    <p num="74">
      FIG. 19 is a perspective view showing a tuning fork-shaped angular velocity sensor used in the present invention.
      <br/>
      FIG. 20 is a block diagram showing a sensor portion and a monitor portion of the angular velocity sensor.
      <br/>
      FIG. 21 is a detailed circuit diagram of FIG. 20. Meanwhile, FIGS. 19 to 21 are disclosed in U.S. Pat. No. 4,671,112. Description on the structure and circuit diagrams of the angular velocity sensor shown in FIGS. 19 to 21 is omitted, since it has no direct relation with contents of the present invention.
    </p>
    <p num="75">
      FIG. 22 is a flow chart diagram showing operation of microcomputer  MU C3 which controls sequence of camera-shake detector BL and calculates detection of camera-shake amount.
      <br/>
      When voltage on terminal CSBL indicating data communication is set to the L level, the flow of CSBL shown in FIG. 22 is executed as an interruption.
      <br/>
      First, data communication is made one and from the obtained data, it is determined whether input mode has been set or not: (-1005 and -1010).
      <br/>
      When input mode has not been set, data communication is made to output data and determination is made as to whether the continuous mode B has been selected as sensor mode or not (-1120).
      <br/>
      If the B mode has not been selected as sensor mode, it is determined that continuous detection of camera-shake amount is not made and therefore, detection is immediately stopped.
      <br/>
      If the B mode has been selected as sensor mode, the program proceeds to step -1065 to detect camera-shake (-1115 and -1120).
      <br/>
      The data output at this stage is those indicative of camera-shake correction amount ( DELTA XBL and  DELTA IBL) and those indicative of magnitude of the camera-shake.
    </p>
    <p num="76">
      When it is determined at step -1010 that input mode has been set, serial communication is made to input data.
      <br/>
      The input data at this time includes those indicative of ON/OFF of the angular velocity monitors, A, B and OFF of sensor mode, focal length f and object distance DV.
      <br/>
      Subsequently, when it is determined based on the input data, that the monitors are ON, transistor Tr3 is turned on.
      <br/>
      When the monitors are OFF, transistor Tr3 is turned off, and then the program proceeds to step -1035 (-1020 to -1030).
      <br/>
      After step -1035, determination is made as to sensor mode.
      <br/>
      When the A mode has been selected as sensor mode, terminal OPI is set to the H level for a certain time.
      <br/>
      When the B mode has been selected as sensor mode, potential on terminal PW1 is raised to the H level to turn on transistor Tr2, and then the program proceeds to step -1060 (-1035 to -1050).
      <br/>
      If transistor Tr2 is OFF at step -1055, potential on terminal PW1 is set to the L level and then the program stops (-1055).
      <br/>
      At step -1060, the system waits for the time taken to stabilize the sensors and then, the program proceeds to -1065.
      <br/>
      At step -1065, flag lSTF indicative of first time of data communication is set and a signal for setting switch SW1 to the side of sensor I is output (-1070).
      <br/>
      Thereafter, A/D conversion is started and the system waits for the time taken for the A/D conversion, and then a signal is entered (-1075 to -1085).
      <br/>
      Subsequently, determination is made at step -1090 as to whether flag lSTF indicative of the first time has been set or not.
      <br/>
      When it has been set, the flag is reset, the switch is set to the side of sensor II and then, the program proceeds to step -1075 where data is entered (-1105 and -1110).
      <br/>
      When flag 1 STF has not been set at step -1090, correction operation is made from the entered sensor data and determination is made as to whether the B mode has been selected as sensor mode or not.
      <br/>
      If the B mode has been selected, the program proceeds to step -1065 since continuous detection of camera-shake is required.
      <br/>
      On the other hand, if the B mode has not been selected, the program stops (-1095 and -1100).
    </p>
    <p num="77">
      Meanwhile, at steps -1065 to -1110, data writing is performed twice using the flag indicative of the first time.
      <br/>
      This is because the data to be written in includes those of the X direction and those of the Y direction.
      <br/>
      Thus, this flag allows data writing to be performed twice in one flow chart.
    </p>
    <p num="78">
      Subsequently, the method of calculating camera-shake amount as mentioned at step -1095 in FIG. 22 will be described.
      <br/>
      Generally, when a taking lens is inclined by  DELTA  THETA , movement  DELTA Y of object on a surface of film is given as follows.
      <br/>
      DELTA Y=f (1- BETA ) * tan THETA ,
    </p>
    <p num="79">where f is focal length of the taking lens and  BETA  is magnification.</p>
    <p num="80">
      Now, if  DELTA  THETA  is small, an approximate value can be obtained by the following expression.
      <br/>
      DELTA Y.apprxeq.f (1- BETA ) *  DELTA  THETA
    </p>
    <p num="81">
      Subsequently, details of the calculation of correction amount will be described below.
      <br/>
      It is assumed now that angular velocity outputs w1 and w2 are obtained from the two angular velocity sensors at detection timings  DELTA t. Thereafter, magnification  BETA  for the used object is found from AF information of the camera body and focal length information fi of the interchangeable lens.
      <br/>
      Camera-shake amounts  DELTA X and  DELTA Y of the object will be found from focal length information fi, magnification  BETA , angular velocity outputs w1 and w2 and  DELTA t by microcomputer  MU C in the camera body, based on the following expressions.
      <br/>
      DELTA X.apprxeq.fi * (1- BETA ) * w1 *  DELTA t
      <br/>
      DELTA Y.apprxeq.fi * (1- BETA ) * w2 *  DELTA t
    </p>
    <p num="82">As the magnification increases, a factor of parallel shake may become significant or calculation of approximate values ( DELTA Y=f * tan THETA ) may not stand.</p>
    <p num="83">Therefore, in order to reduce the camera-shake amount found in the case of a large magnification, the term of (1- BETA ) is added.</p>
    <p num="84">Another embodiment may be adopted where correction is not made when magnification is large, i.e.:</p>
    <p num="85">
      if
      <br/>
      BETA &lt;1/15, DELTA Y=f * tan THETA
    </p>
    <p num="86">
      if
      <br/>
      BETA  &gt;= 1/15,  DELTA Y=0.
    </p>
    <p num="87">
      In FIG. 23, there is shown a flow chart diagram of the correction operation shown at step -1095 in FIG. 22. In FIG. 23, the above-mentioned At is found at steps -1130 to -1145.
      <br/>
      At steps -1145 to -1155, camera-shake amounts in the X and Y directions are found in the manner as described above.
      <br/>
      Meanwhile, at steps -1147 and -1148, the outputs w1 and w2 from the respective sensors are multiplied by correction coefficients Kw1 and Kw2 so as to correct errors caused by deviation of the respective angular velocity sensors.
      <br/>
      Further, at steps -1160 and -1165, determination is made as to whether the above-mentioned respective correction amounts  DELTA X and  DELTA Y are no less than a predetermined value KA or not.
      <br/>
      If either is no less than KA, it is determined that the camera-shake amount is large.
      <br/>
      If both of them are below KA, it is determined that the camera-shake amount is small.
      <br/>
      Then, data is set and the program returns to the main routine.
    </p>
    <p num="88">
      Now, referring to FIG. 24, a the electronic flash device ST circuit will be described.
      <br/>
      Booster circuit D/D boosts a low voltage (battery voltage) to a high voltage and stores energy in emission energy storing condenser MC through rectifying device D/S.
      <br/>
      Emission control circuit EMC starts emission of flash in response to an AND signal composed of a signal output when flash photographing is performed (which raises potential on the above-mentioned FLOK terminal to the H level) and an X signal put in the ON state when a travel of preceding shutter curtain is completed.
      <br/>
      The flash emission is stopped in response to an emission stop signal STC.
    </p>
    <p num="89">In the above-described booster circuit D/D, boosting is done when potential of boosting control signal CHST from microcomputer  MU C is at the H level and a signal indicating that charging is not completed (or TrD is OFF) is present.</p>
    <p num="90">The detection of completed charging is made by connecting a series connection of a neon tube and a ladder resistance to condenser MC in parallel and connecting a transistor TrD to the rudder resistance so as to allow the transistor TrD to be turned on when the condenser reaches a predetermined voltage.</p>
    <p num="91">
      The circuit structure of lens and its connection relationship with camera will be described with reference to FIG. 25. FIG. 25 will be described in connection with the circuit of lens (zoom lens).
      <br/>
      Lens microcomputer L MU C performs data communication with camera and controls driving of motor control circuits MC1 and MC2 for camera-shake correction.
      <br/>
      Zoom encoder ZM detects focal length of zoom lens.
      <br/>
      Distance encoder DV indicates distance.
      <br/>
      Power is supplied through power supply line Vcc2 to motor control circuits MC1 and MC2 and the two motors.
      <br/>
      For the other circuits, power is supplied through another power supply line VDD.
      <br/>
      Earth line GND2 is connected to the two motors of motor control circuits MC1 and MC2 having their respective pulse motors.
      <br/>
      For the other circuits, earth line GND1 is provided.
    </p>
    <p num="92">
      Subsequently, switches connected to microcomputer L MU C will be described.
      <br/>
      Microcomputer L MU C on the side of lens has right and left correction limit switches SX1 and SX2 for the X direction and upper and lower correction limit switches SY1 and SY2 for the Y direction connected thereto, which are turned on when a lens driving portion reaches the correction limits in the respective directions.
      <br/>
      Terminal CSLE is an input terminal.
      <br/>
      In response to an input signal from camera, lens microcomputer L MU C executes interruption routine CSLE as will be described later.
      <br/>
      Input terminals SCK and SIN are for receiving clock signals for data transfer.
      <br/>
      Terminal SOUT is for outputting lens data.
    </p>
    <p num="93">
      When an interruption signal of CSLE is entered from microcomputer L MU C in the camera body to lens, the interruption routine shown in FIG. 26 is executed.
      <br/>
      Data of 1-byte is entered from the camera body and then, focal length f and object distance DV are read out (-2005 to -2015).
    </p>
    <p num="94">
      Now, the data communication will be described.
      <br/>
      The data communication is divided into lens communication I where lens data is output to camera body and lens communication II where data is output from camera body to lens.
      <br/>
      From the above-mentioned input data, determination is made as to whether communication I or II is to be made (-2020).
      <br/>
      If it is determined that output mode I has been set for lens communication, data communication SIO is made to output the predetermined data as described in connection with the respective output data, data of camera-shake limit is reset and then the microcomputer stops its operation (-2025 and -2027).
      <br/>
      In the input mode (when NO at -2020), camera-shake amounts  DELTA X and  DELTA Y in the X and Y directions and a mode signal are entered from the camera body (-2030).
      <br/>
      In response to the mode signal, if lens is to be reset, setting control is performed and then the microcomputer stops its operation (-2035 and -2040).
      <br/>
      If release mode has been set , lens control is performed until an interruption is executed.
      <br/>
      Further if neither mode has been set, the microcomputer does not perform any further operation (-2030 to -2050).
    </p>
    <p num="95">
      Referring to FIG. 27, the subroutine of lens control shown at step -2050 in FIG. 26 will be described.
      <br/>
      With reference to FIG. 27, lens correction amount is calculated (-2090), details of which will be described below.
      <br/>
      In the interchangeable lens, ratio between movement amount of camera-shake correction lens (in a direction vertical to optical axis)  DELTA LH and movement amount of object (in a direction vertical to optical axis)  DELTA YL, or LH= DELTA LH/ DELTA YL is stored in a ROM.
      <br/>
      When a lens having variable focal length such as zoom lens is employed, the ratio LH is stored as information depending on the focal length.
      <br/>
      Further, for some interchangeable lenses, it is stored as information depending on focusing.
      <br/>
      Therefore, in an interchangeable lens, ratio LH is read out from information of focal length and distance information DV (amount of forward movement of a focus adjusting lens from infinity photographing position) and converted into movement amounts  DELTA LX and  DELTA LY of the correction lens.
      <br/>
      DELTA LX=LH (fi, DV) *  DELTA X
      <br/>
      DELTA LY=LH (fi, DV) *  DELTA Y
    </p>
    <p num="96">
      Ratio LH is divided into four cases as follows, depending on the type of an employed interchangeable lens.
      <br/>
      (1) An interchangeable lens having only a single specific ratio LH
      <br/>
      (2) A lens having a ratio LH variable corresponding to focusing (distance):
    </p>
    <p num="97">
      In this case, when camera body obtains forward movement amount of the lens, data is entered from the camera.
      <br/>
      (3) A lens having a ratio LH variable corresponding to zooming
      <br/>
      (4) A lens having a ratio LH variable corresponding to both focusing and zooming
    </p>
    <p num="98">
      Camera-shake amount of the next time will be estimated using those correction amounts  DELTA LX and  DELTA LY.
      <br/>
      Methods of the estimation will be as follows.
    </p>
    <p num="99">
      (i) Linear prediction control
      <br/>
      DELTA LX1 =LH (f, DV) * X2
      <br/>
      DELTA LX2 =LH (f, DV) * + DELTA X-1 +( DELTA X1 - DELTA X-2)}
      <br/>
      DELTA LX3 =LH (f, DV) * + DELTA X1 - DELTA X-1)}
    </p>
    <p num="100">(ii) Multiply ratio between camera-shake amounts of the preceding and present times ( DELTA Xi)/ ( DELTA Xi-1) by a constant r and use the result as a weighing factor for the camera-shake amount of the present time taken into consideration of the linear prediction.  (Equation image '1' not included in text)</p>
    <p num="101">Since the same methods are available also in the Y direction, description thereof is not repeated.</p>
    <p num="102">Meanwhile, the results of a simulated linear predict control performed as described in (i) above are shown in FIG. 28.</p>
    <p num="103">
      Turning back to FIG. 27, the thus obtained correction amounts  DELTA LX and  DELTA LY are output to the pulse motor control circuit.
      <br/>
      This allow correction to be made and determination is made as to whether any of correction limit switches Sx1 to Sy2 has been turned off.
      <br/>
      If any of the switches has been turned off, data of camera-shake limit is set to repeat the detection of turning-off of the switches.
      <br/>
      If no switch has not been turned off, only the detection of turned-off switches is repeated.
      <br/>
      This routine continues until interruption CSLE is executed again.
    </p>
    <p num="104">
      Subsequently, reset control will be described.
      <br/>
      FIG. 29 is a diagram showing driving mechanism of a correction lens.
      <br/>
      Referring to FIG. 29, the driving mechanism of correction lens comprises correction lens 11 and frame 12 holding correction lens 11.
      <br/>
      Holding frame 12 is provided with mechanical stopper 13 indicating movement limit of the correction lens and rod 14 which is forced by holding frame 12, before holding frame 12 gets in touch with mechanical stopper 13, into turning off limit switch SX1.
      <br/>
      When a drive pulse motor rotates, driving portion 31 rotates.
      <br/>
      Between driving portion 31 and driving shaft 30, there is provided a ball thread.
      <br/>
      The driving shaft is provided with a V-shaped groove and is driven in the straightforward direction led by the V-shaped groove as shown in FIG. 30. The driving takes place in the range of l as shown in the diagram.
      <br/>
      Meanwhile, the same applies also in the Y direction and, therefore, description thereof will be omitted.
      <br/>
      Further, since mechanism has no object in the present invention, detail description thereof will also be omitted.
    </p>
    <p num="105">
      A routine of reset control in a driving mechanism of correction lens configured as described above is shown in FIG. 31. Referring to FIG. 31, first, a pulsed normal rotation signal is output to the circuit of pulsed motor M1 for the X direction to drive pulse motor M1 by one pulse.
      <br/>
      The correction lens is moved in the right direction of FIG. 29 and determination is made as to whether switch SX1 has been turned off or not (-2060 and -2065).
      <br/>
      When switch SX1 has not been turned off at step -2065, the program proceeds to step -2060 to further drive pulse motor M1 by one pulse.
      <br/>
      If switch SX1 has been turned off at step -2065, a signal for driving pulse motor M1 in the reverse direction by KN pulses is output.
      <br/>
      Thus, pulse motor M1 is rotated in the reverse direction and an initial position in the X direction is set (-2070).
      <br/>
      Then, setting of initial position in the Y direction is made.
    </p>
    <p num="106">
      Pulse motor M2 is rotated by one pulse and determination is made as to whether limit switch SY1 is turned off or not (-2080).
      <br/>
      If switch SY1 is not turned off at step -2080, pulse motor M2 is driven by additional one pulse.
      <br/>
      If switch SY1 is turned off, a signal for driving pulse motor M2 in the reverse direction by KN pulses is output to drive pulse motor M2 in such a manner.
      <br/>
      Thus, setting of initial position is completed (-2085) and the program returns to the main routine.
      <br/>
      Meanwhile, the above-mentioned constant KN is predetermined for the setting of initial positions in configuring the correction mechanism.
    </p>
    <p num="107">Although the present invention has been described and illustrated in detail, it is clearly understood that the same is by way of illustration and example only and is not to be taken by way of limitation, the spirit and scope of the present invention being limited only by the terms of the appended claims.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A subject-image-shake detecting apparatus comprising:</claim-text>
      <claim-text>a sensor to output data relating to the subject image shake; a first corrector to correct the output data from said sensor; a first calculator to calculate magnification;</claim-text>
      <claim-text>and a second calculator to calculate an amount of the subject image shake based on the magnification calculated by said first calculator and the output data from the first corrector.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The subject-image-shake detecting apparatus according to claim 1, further comprising a second corrector to correct the subject image shake based on the amount of subject image shake calculated by the second calculator.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A subject-image-shake detecting apparatus according to claim 1, further comprising a photographic lens and, wherein said second calculator calculates the subject image shake based on the focal length of said photographic lens, the magnification calculated by said first calculator and corrected sensor output.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The subject-image-shake detecting apparatus according to claim 1, wherein said second calculator calculates the subject image shake based on the equation of where  DELTA x is an amount of subject image shake, f is a focal length,  BETA  is magnification, w is corrected sensor output, and  DELTA t is detecting timing of the sensor.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The subject-image-shake detecting apparatus according to claim 1, wherein said sensor is an angular velocity sensor.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The subject-image-shake detecting apparatus according to claim 1, wherein said sensor outputs data relating to the subject image shake in a first and a second directions;</claim-text>
      <claim-text>and said first corrector corrects data of said first and second directions.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. A method of calculating an amount of subject-image-shake comprising the steps of: outputting data relating to the subject image shake; correcting the outputted data; calculating magnification;</claim-text>
      <claim-text>and calculating an amount of the subject image shake based on the calculated magnification and the data relating to the corrected subject image shake.</claim-text>
    </claim>
  </claims>
</questel-patent-document>