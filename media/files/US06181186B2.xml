<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181186B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181186</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181186</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="16037920" extended-family-id="21064152">
      <document-id>
        <country>US</country>
        <doc-number>09337678</doc-number>
        <kind>A</kind>
        <date>19990622</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09337678</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>21600253</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>17783398</doc-number>
        <kind>A</kind>
        <date>19980624</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998JP-0177833</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H01L  29/78        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>01</class>
        <subclass>L</subclass>
        <main-group>29</main-group>
        <subgroup>78</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H01L  21/8236      20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>01</class>
        <subclass>L</subclass>
        <main-group>21</main-group>
        <subgroup>8236</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H01L  27/04        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>01</class>
        <subclass>L</subclass>
        <main-group>27</main-group>
        <subgroup>04</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>H01L  27/088       20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>01</class>
        <subclass>L</subclass>
        <main-group>27</main-group>
        <subgroup>088</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>H03K  17/08        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>K</subclass>
        <main-group>17</main-group>
        <subgroup>08</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>H03K  17/082       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>K</subclass>
        <main-group>17</main-group>
        <subgroup>082</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>327309000</text>
        <class>327</class>
        <subclass>309000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>327427000</text>
        <class>327</class>
        <subclass>427000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>327538000</text>
        <class>327</class>
        <subclass>538000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>327543000</text>
        <class>327</class>
        <subclass>543000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H03K-017/082B</text>
        <section>H</section>
        <class>03</class>
        <subclass>K</subclass>
        <main-group>017</main-group>
        <subgroup>082B</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03K-017/0822</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>K</subclass>
        <main-group>17</main-group>
        <subgroup>0822</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>41</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>11</number-of-drawing-sheets>
      <number-of-figures>11</number-of-figures>
      <image-key data-format="questel">US6181186</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Power transistor with over-current protection controller</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>MIYAZAKI HIDEKI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5008586</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5008586</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>SCHOOFS FRANCISCUS A C M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5369308</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5369308</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>FUJIHIRA TATSUHIKO</text>
          <document-id>
            <country>US</country>
            <doc-number>5422593</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5422593</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>SCHMIDT THOMAS A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5541799</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5541799</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>FUJIHIRA TATSUHIKO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5621601</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5621601</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>COLLETTI PAOLO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5789971</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5789971</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>OSBORN DOUGLAS BRUCE, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5796278</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5796278</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>KELLY BRENDAN P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5801573</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5801573</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>NEC CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H03238869</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP03238869</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <nplcit num="1">
          <text>Nikkei Electronics, "MOSFET", (Jul. 28, 1986), pp. 144-145.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>NEC Corporation</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NEC</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Itoh, Yukio</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Arai, Takao</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Sughrue, Mion, Zinn, Macpeak &amp; Seas, PLLC</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Callahan, Timothy P.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A semiconductor device enables a semiconductor element to turn off accurately and quickly at the time of short circuit of the load to protect the semiconductor element from the short circuit of the load.
      <br/>
      The semiconductor device comprises a first switching measure for turning on/off a current flowing into the load, a current detector for detecting current flowing into the load, a second switching measure for turning on/off a connection between the current detector and the load, and a controller for controlling the first switching measure and the second switching measure.
      <br/>
      The controller turns on the first switching measure, before turning on the second switching measure at the start of driving of the load.
      <br/>
      The current detector turns off the first switching measure when detecting excess current.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">The present invention relates to a semiconductor device in which a protection circuit is added to power semiconductor elements such as power MOSFET, IGBT, and so forth.</p>
    <heading>DESCRIPTION OF THE PRIOR ART</heading>
    <p num="2">
      Formerly, for instance, a protection circuit of the semiconductor device disclosed in the Japanese Patent Application Laid-Open No. HEI 3-238869 is known, and a circuit diagram of the protection circuit is shown in FIG. 1.
      <br/>
      In this circuit, when a potential of a drain of both of a MOSFET Q1 and a MOSFET Q2 is increased while short-circuiting a load connected in between a drain terminal D and a power terminal which is not illustrated, a voltage to be larger than a voltage generated normally is generated in the resistors R20 and R30 which are connected to the MOSFET Q2.
      <br/>
      When this voltage value reaches a threshold voltage value of the MOSFET Q3, the MOSFET Q3 turns on to decrease a gate voltage of the MOSFET Q1, and the MOSFET Q2, thus it is capable of controlling a current of the MOSFET Q1.
    </p>
    <p num="3">
      However, in this semiconductor device, since the gate of both of the MOSFET Q1 and the MOSFET Q2 is common, in case where the load is short-circuited, the voltage generated in the resistor is increased, thus a gate voltage of both of the MOSFET Q1 and the MOSFET Q2 is decreased.
      <br/>
      Then, also the drain current of the MOSFET Q2 is reduced, thus the voltage generated in the resistor is decreased, with the result that this causes the gate voltage of the MOSFET Q1 and the MOSFET Q2 to increase again to render the drain current large again.
      <br/>
      This operation is repeated to the state where the drain current converges on a certain fixed value.
    </p>
    <p num="4">There was the problem that the semiconductor device is destroyed caused by the large current flowing therethrough until the drain current converges according to an operation condition of the semiconductor device or a condition of a short circuit of the load.</p>
    <p num="5">Further, since there is scarcely voltage drop due to the load at the time of a short circuit of the load, so a power voltage is directory applied between drain/source of the MOSFET Q1, even though the drain current is restricted, at the time point, the electric power consumed by the semiconductor device is large, therefore there was the problem that the semiconductor device is destroyed by heat if the heat resistance is not reduced by increase of the chip size or substituting the large type package therefor.</p>
    <p num="6">
      As the method for achieving such defect, the feedback circuit is added in such a way that it detects state of the load and state of input voltage, causing gate voltage to be reset in connection with the first MOSFET Q1 and the second MOSFET Q2.
      <br/>
      Such method is disclosed in NIKKEI ELECTRONICS (1986, 7, 28 P. 144, 145).
      <br/>
      However, there was the problem that in order to newly form the feedback circuit which consists of latch, an operation amplifier, a reference voltage, it becomes necessary to re-investigate the manufacturing process of the semiconductor, and space for layout increases, and cost up occurs.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="7">In view of the foregoing, it is an object of the present invention, in order to overcome the above-mentioned problems, to provide a semiconductor device in which it becomes unnecessary to re-investigate the manufacturing process of the semiconductor, and space for layout does not increase, and cost up does not occur, in such a way that the semiconductor device causes semiconductor element to be turned off at the time of short circuit of the load to protect the semiconductor element from the short circuit of the load.</p>
    <p num="8">According to a first aspect of the present invention in order to achieve the above mentioned object, there is provided a semiconductor device which comprises a first switching means for turning on/off a current flowing into a load, a current detector for detecting the current flowing into the load, a second switching means for switching on/off a connection between the current detector and the load, and a controller for controlling the second switching means and the first switching means, wherein the controller, at a time when the load starts driving, turns on the first switching means, before turns on the second switching means, and the current detector turns off only the first switching means when detecting an excess current.</p>
    <p num="9">According to a second aspect of the present invention, in the first aspect, there is provided a semiconductor device, wherein the first switching means and the second switching means are transistors, the current detector is a resistor provided in between the second switching means and a ground point, and the controller consists of a control terminal provided at an input line of the first switching means, resistors connected to the control terminal, and latch for inputting a signal from an intermediate point of said resistors and outputting a control signal to an input line of the second switching means.</p>
    <p num="10">According to a third aspect of the present invention, in the second aspect, there is provided a semiconductor device, wherein the first switching means and the second switching means are MOSFETs.</p>
    <p num="11">According to a fourth aspect of the present invention, in the second aspect, there is provided a semiconductor device, wherein the first switching means and the second switching means are IGBTs.</p>
    <p num="12">According to a fifth aspect of the present invention, in the third aspect, there is provided a semiconductor device, wherein the current detector is depletion type MOSFET whose gate and source are short-circuited.</p>
    <p num="13">According to a sixth aspect of the present invention, in any one of the first aspect to the fifth aspect, there is provided a semiconductor device, wherein the semiconductor device is formed within an identical semiconductor.</p>
    <p num="14">According to a seventh aspect of the present invention, in any one of the first aspect to the sixth aspect, there is provided a semiconductor device, wherein serially connected in between an input terminal and an output terminal of the first switching means are a clamping diode for clamping a potential of the output terminal of the first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of the switching means towards the output terminal of the same.</p>
    <p num="15">According to an eighth aspect of the present invention, in the seventh aspect, there is provided a semiconductor device, wherein the clamping diode is a voltage regulation diode with guard ring structure.</p>
    <p num="16">According to a ninth aspect of the present invention, in the seventh aspect or in the eighth aspect, wherein the reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</p>
    <p num="17">According to a tenth aspect of the present invention, in any one of the first aspect to the sixth aspect, there is provided a semiconductor device, wherein a bidirectional voltage regulation diode is connected in between the input terminal and the output terminal of the first switching means.</p>
    <p num="18">According to an eleventh aspect of the present invention, in the tenth aspect, there is provided a semiconductor device as claimed in claim 32, wherein the bidirectional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</p>
    <p num="19">
      The above and further objects and novel features of the invention will be more fully understood from the following detailed description when the same is read in connection with the accompanying drawings. It should be expressly understood, however, that the drawings are for purpose of illustration only and are not intended as a definition of the limits of the invention.
      <br/>
      BRIEF DESCRIPTION OF THE DRAWINGS
      <br/>
      FIG. 1 is a circuit diagram of the conventional example;
      <br/>
      FIG. 2 is a block diagram showing a first embodiment of the present invention;
      <br/>
      FIG. 3 is a circuit diagram showing the first embodiment of the present invention;
      <br/>
      FIG. 4 is a sectional view showing a semiconductor chip of the first embodiment of the present invention;
      <br/>
      FIG. 5 is a wave form view showing the first embodiment of the present invention;
      <br/>
      FIG. 6 is a circuit view of a second embodiment of the present invention;
      <br/>
      FIG. 7 is a sectional view showing a semiconductor chip of the second embodiment of the present invention;
      <br/>
      FIG. 8 is a circuit diagram showing a third embodiment of the present invention;
      <br/>
      FIG. 9 is a circuit view showing a fourth embodiment of the present invention;
      <br/>
      FIG. 10 is a circuit view showing a fifth embodiment of the present invention; and
      <br/>
      FIG. 11 is a sectional view showing a semiconductor chip of the fifth embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="20">A preferred embodiment of the present invention will be described in detail in accordance with the accompanying drawings.</p>
    <p num="21">
      A first embodiment of the present invention will be described referring to FIG. 2, FIG. 3, and FIG. 4.
      <br/>
      FIG. 2 is a block diagram showing a first embodiment of the present invention.
      <br/>
      FIG. 3 is a circuit diagram showing the first embodiment of the present invention.
      <br/>
      FIG. 4 is a sectional view showing a semiconductor chip.
      <br/>
      In the following description, in the same part of respective drawings, the same reference numerals are added to avoid repeated description.
    </p>
    <p num="22">The present embodiment, as shown in FIG. 4, has a power MOSFET (Metal-Oxide-Semiconductor Field Effect Transistor) Q1 and a MOSFET Q2 provided commonly at N-type epitaxial layer 2 which is developed on N+ type silicon substrate 1.</p>
    <p num="23">The above-described power MOSFET Q1 with the N-type epitaxial layer 2 as a drain region, has a drain electrode 3, a P-type base region 4, an N+ type source region 5, a gate oxide film 6, a gate electrode 7, and a source electrode 9.</p>
    <p num="24">Further, the above-described MOSFET Q2 with the N-type epitaxial layer 2 as a drain region, has a drain electrode 3, a P-type base region 10, an N+ type source region 11, a gate oxide film 12, a gate electrode 13, and a source electrode 14.</p>
    <p num="25">
      A MOSFET Q3 is provided on the inside of a P-type well region 15 formed on the N-type epitaxial layer 2.
      <br/>
      The MOSFET Q3 has a drain electrode 16, an N+ type source region 17, a gate oxide film 18, a gate electrode 19, an N+ type drain region 20, and a source electrode 21.
      <br/>
      Further, the MOSFETs Q4, Q5, and Q6 shown in FIG. 3 have the same configuration as the MOSFET Q3.
    </p>
    <p num="26">Resistor elements R1 to R6 are polycrystal silicon resistor 8 formed by polycrystal silicon film.</p>
    <p num="27">
      Connection of the above elements will be described referring to FIG. 2.
      <br/>
      The gate electrode 7 of the MOSFET Q1 is connected to one end of the resistor element R1, the drain electrode 16 of the MOSFET Q3, and one end of the resistor element R3.
      <br/>
      The source electrode 9 of the MOSFET Q1 is connected to a source terminal S. Further, the drain electrode 3 of the MOSFET Q1 is connected to a drain terminal D.
    </p>
    <p num="28">
      The gate electrode 13 of the MOSFET Q2 is connected to output line of latch 22.
      <br/>
      The source electrode 14 of the MOSFET Q2 is connected to one end of the resistor element R4 and the gate electrode 19 of the MOSFET Q3.
      <br/>
      Another end of the resistor element R4 and the source electrode 21 of the MOSFET Q3 are connected to the source terminal S. The drain electrode 3 of the MOSFET Q2 is connected to the drain terminal D.
    </p>
    <p num="29">The resistor elements R1 and R2 are inserted in series between the gate electrode 7 of the MOSFET Q1 and the source terminal S. The resistor element R3 is inserted between the gate electrode 7 of the MOSFET Q1 and the control terminal G. An intermediate point of the resistor element R1 and the resistor element R2 is connected to an input line of latch 22.</p>
    <p num="30">The resistor element R3 is inserted between the gate electrode 7 of the MOSFET Q1 and the control terminal G. A power supply of latch 22 is connected to the control terminal G. A GND (ground) of latch 22 is connected to the source terminal S.</p>
    <p num="31">
      Detailed internal configuration of latch 22 will be described referring to FIG. 3.
      <br/>
      The input line of latch 22 is connected to the gate electrode of the MOSFET Q5.
      <br/>
      The drain electrode of the MOSFET Q5 is connected to each of the gate electrode of the MOSFET Q6, the drain electrode of the MOSFET Q4, and one end of the resistor element R5.
      <br/>
      Another end of the resistor element R5 is connected to the power of latch 22.
      <br/>
      The source electrode of the MOSFET Q5 is connected to the GND of latch 22.
    </p>
    <p num="32">
      The gate electrode of the MOSFET Q4 is connected to an output line of latch 22, a drain electrode of the MOSFET Q6, and one end of a resistor element R6.
      <br/>
      Another end of the resistor element R6 is connected to the power line of latch 22.
      <br/>
      The source electrode of the MOSFET Q4 and the MOSFET Q6 are connected to the GND of latch 22.
      <br/>
      The ratio of the resistor element R5 to the resistor element R6 becomes degree of 1:3.
      <br/>
      At this time in order to equalize a current driving ability of the MOSFET Q4 and the MOSFET Q6, the gate electrode of the MOSFET Q4 and the MOSFET Q6 is formed equally with respect to its length and width.
    </p>
    <p num="33">Otherwise, as a different configuration, rendering the resistance value of R5 and R6 equal, thus size of the gate electrode is formed three times thereof in such a way that the current driving ability of the MOSFET Q4 becomes degree of three times of the MOSFET Q6.</p>
    <p num="34">
      Further, ON-resistance of the MOSFET Q3 is sufficiently smaller than a resistance value of R3.
      <br/>
      ON-resistance of the MOSFET Q4 and the MOSFET Q5 is sufficiently smaller than a resistance value of R5.
      <br/>
      ON-resistance of the MOSFET Q6 is sufficiently smaller than a resistance value of R6.
    </p>
    <p num="35">Furthermore, in FIG. 4, if a reverse conductive type P+ type silicon substrate is substituted for the N+ type silicon substrate 1, it is capable of changing Q1, and Q2 of MOSFET into IGBT.</p>
    <p num="36">
      Next, operation of the first embodiment will be described referring to wave form diagram of FIG. 5.
      <br/>
      When positive voltage is applied to the control terminal G, the power MOSFET Q1 turns on.
    </p>
    <p num="37">
      At this time, the positive voltage is also applied to the power line of latch 22.
      <br/>
      If the positive voltage is larger than the threshold voltage value of the MOSFET Q4 and the MOSFET Q6, the MOSFET Q6 turns on according to resistance ratio of the R5 and the R6, or ratio of a current driving ability of the MOSFET Q4 and the MOSFET Q6, thus an output of latch 22 becomes LOW voltage.
    </p>
    <p num="38">
      When the positive voltage is applied to the control terminal G, current flows into the R1 and the R2.
      <br/>
      When the voltage generated on both end of the R2 becomes larger than the threshold value voltage of the MOSFET Q5, the MOSFET Q5 turns on, with the result that the MOSFET Q6 turns off, thus the drain electrode of the MOSFET Q6 becomes the same potential of the control terminal G so that the MOSFET Q2 turns on.
    </p>
    <p num="39">
      Namely, when the positive voltage is applied to the control terminal G, the MOSFET Q1 turns on, before the MOSFET Q2 turns on according to function of latch 22.
      <br/>
      This is to prevent error that when the large current flows between the drain and the source of the MOSFET Q2 in such way that the MOSFET Q2 with small input capacity turns on before the MOSFET Q1, which is regarded as load short-circuited accidentally.
    </p>
    <p num="40">
      Next, in cases where the load connected between the drain terminal D and a power terminal of the whole circuit which is not illustrated is short-circuited, potential of the drain terminal D is increased to flow large current in the MOSFET Q2 and the MOSFET Q4 so that large voltage which is not generated normally is generated on both ends of the R4.
      <br/>
      The voltage reaches on the threshold value voltage of the MOSFET Q3 to turns on, so that the potential of the gate electrode 7 of the MOSFET Q1 is decreased, thus the MOSFET Q1 is turned off.
      <br/>
      At this time, the potential of the gate electrode 13 of the MOSFET Q2 does not change, therefore, the MOSFET Q2 maintains on state.
    </p>
    <p num="41">When the operation causes the positive voltage applied to the control terminal G to be zero, the MOSFET Q2 turns off, also the MOSFET Q3 turns off.</p>
    <p num="42">Short-circuit of the load is repaired to turn to normal state, then the positive voltage is applied to the control terminal G again, with the result that the MOSFET Q1 turns on to return to normal operation.</p>
    <p num="43">
      FIG. 6 is a circuit view of a second embodiment of the present invention.
      <br/>
      FIG. 7 is a sectional view showing a semiconductor chip of the second embodiment of the present invention.
      <br/>
      In the second embodiment, there is provided a bi-directional diode which comprises a clamping diode D1 for clamping the potential of the drain terminal D, and a reverse-current prevention diode D2 which prevents current flowing from the control terminal G to the drain terminal D, thus being connected in series as being the bi-directional diode.
      <br/>
      A plurality of bi-directional diodes which are connected in series are inserted between the drain terminal D and the gate electrode 7 of the power MOSFET Q1.
      <br/>
      Further, the resistor element R7 is inserted between the gate electrode 7 of the power MOSFET Q1 and the resistor element R3.
    </p>
    <p num="44">
      The clamping diode D1 and the reverse-current prevention diode D2 are made of polycrystal silicon film as shown in FIG. 7.
      <br/>
      The P-type polycrystal silicon which forms P-type anode 26 is formed in the same way as a P-type base region 4 of the power MOSFET Q1.
      <br/>
      Further, the N+ type polycrystal silicon which forms the N+ type cathode 27 is formed in the same way as the N+ type source region 5 of the power MOSFET Q1.
      <br/>
      Further, the R7 is made of polycrystal silicon film in the same way as the R1 to R6.
    </p>
    <p num="45">
      In cases where a load is inductance, the second embodiment causes an applied voltage of the control terminal G to be decreased to zero to turn off Q1, counter-electromotive force is generated in the drain terminal D. In this case, the clamping diode D1 undergoes a breakdown.
      <br/>
      Current of the breakdown flows into the control terminal G through the R7 and R3.
      <br/>
      The power MOSFET Q1 turns on, so that dynamic clamping operation occurs in such a way that the power MOSFET Q1 absorbs counter-electromotive force.
    </p>
    <p num="46">
      The moment the MOSFET Q3 turns on caused by the short circuit of the load to turn off the MOSFET Q1, the reverse-electromotive force is generated in the drain terminal D according to parasitic inductance included in the wiring and so forth.
      <br/>
      In this case, the clamping diode D1 undergoes a breakdown, thus the breakdown current flows into the source terminal S through the R7 and the MOSFET Q3 which is on.
      <br/>
      The MOSFET Q1 turns on, and the MOSFET Q1 absorbs the reverse-electromotive force.
    </p>
    <p num="47">As described above, it is capable of absorbing the reverse-electromotive force at the time of short circuit of the load due to the dynamic clamping operation according to function of the R7.</p>
    <p num="48">Further the R7 stays a dV/dt in a low level which dV/dt is generated when the reverse-electromotive force is generated in the drain terminal D. Thus the R7 accomplishes a role for avoiding operation of parasitic NPN bipolar transistor generated in P-type well region 15 of the MOSFET Q3.</p>
    <p num="49">
      Next, a third embodiment of the present invention will be described referring to a circuit diagram of FIG. 8.
      <br/>
      In the third embodiment, latch (2) 23 to be a second latch is added to the second embodiment.
      <br/>
      An input line of latch (2) 23 is connected to the source electrode 14 of the MOSFET Q2, and an output line thereof is connected to the gate electrode 19 of the MOSFET Q3.
      <br/>
      Internal configuration of latch (2) 23 is the same as that of latch 22 of the second embodiment.
    </p>
    <p num="50">When large voltage is generated on both ends of the R4 while occurring a short circuit of the load and so forth, the voltage reaches the threshold value voltage of the MOSFET Q8 to operate latch (2) 23, thus increasing the voltage of the gate electrode 19 of the MOSFET Q3 to equal voltage to the gate terminal G. Consequently, it is capable of driving the MOSFET Q3 with the sufficiently high gate voltage, therefore, it is capable of designing a channel width of the MOSFET Q3 efficiently small.</p>
    <p num="51">
      FIG. 9 is a circuit diagram showing a fourth embodiment of the present invention.
      <br/>
      In the fourth embodiment, the polycrystal silicon resistors R5, R6, R8, R9 of latch 22 and latch (2) 23 are substituted for depletion type MOSFET Q10 to Q13 whose the gate and the source are short-circuited.
      <br/>
      These MOSFET Q10 to MOSFET Q13 operate in the same way as that of the polycrystal silicon resistors R5, R6, R8, and R9.
    </p>
    <p num="52">
      FIGS. 10 and 11 are a circuit diagram of a fifth embodiment of the present invention and a sectional view showing a semiconductor chip respectively.
      <br/>
      In the fifth embodiment, a plurality of clamping diode D1 and the reverse-current prevention diode D2 in the second embodiment are substituted for only respective one stage of diode D3 and diode D4.
    </p>
    <p num="53">
      Further, sectional construction of the semiconductor chip is construction shown in FIG. 11, and above described diode D3 is formed on N-type epitaxial layer 2.
      <br/>
      An anode electrode 24 of the D3 is connected to a P+ anode region 25 whose circumference is surrounded by a P-type well region 15, thus forming anode layer.
      <br/>
      A cathode layer is above described N-type epitaxial layer 2.
      <br/>
      Namely, the D3 is a voltage regulation diode with the P-type well region 15 as guard ring.
    </p>
    <p num="54">
      As described above according to the present invention, the semiconductor device comprises a first switching means for turning on/off current flowing into a load, a current detector for detecting current flowing into the load, a second switching means for turning on/off the connection between the current detector and the load, and a controller for controlling the first switching means and the second switching means, wherein the controller turns on the first switching means at the start of driving of the load, before turning on the second switching means, and the current detector turns off only the first switching means when detecting excess current, therefore, when the excess current is detected, only the first switching means which drives the load is turned off, at the time when the second switching means is not turned off.
      <br/>
      Consequently, the connection between the current detector and the load is not disconnected, thus detection of the excess current is continued.
      <br/>
      Consequently, the first switching means is turned off accurately and quickly, thus the excess current flowing into the load is turned off accurately and quickly, therefore, it is capable of protecting the semiconductor device accurately from the excess current in case where the load is short-circuited.
    </p>
    <p num="55">Further, at the start of driving of the load, the first switching means is turned on, before the second switching means is turned on, therefore, the load current is not turned off while turning off the first switching means unnecessarily when large current flows into only the second switching means and the current detector to decide it as the short circuit of the load accidentally.</p>
    <p num="56">Furthermore, the clamping diode for clamping the potential of output terminal of the first switching means and the reverse-current prevention diode for preventing current from the input terminal of the first switching means to the output terminal are connected in series between the input terminal and the output terminal of the first switching means, therefore, when the load is inductance, or when parasitic inductance is involved in wiring and so forth, the semiconductor device is protected accurately because the reverse-electromotive force is generated when the first switching means is turned off is absorbed by the fact that the clamping diode undergoes breakdown.</p>
    <p num="57">While preferred embodiments of the invention have been described using specific terms, the description has been for illustrative purpose only, and it is to be understood that changes and variations may be made without departing from the spirit or scope of the following claims</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A semiconductor device comprising:</claim-text>
      <claim-text>a first switching means for turning on/off a current flowing into a load; a current detector for detecting the current flowing into said load; a second switching means for switching on/off a connection between said current detector and said load;</claim-text>
      <claim-text>and a controller for controlling said second switching means and said first switching means, wherein said controller, at a time when the load starts driving, turns on said first switching means, before turns on said second switching means, and said current detector turns off only said first switching means when detecting an excess current.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A semiconductor device as claimed in claim 1, wherein: said first switching means and said second switching means are transistors; said current detector is resistor provided in between said second switching means and a ground point;</claim-text>
      <claim-text>and said controller consists of a control terminal provided at an input line of said first switching means, resistors connected to said control terminal, and latch for inputting a signal from an intermediate point of said resistors and outputting a control signal to an input line of said second switching means.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A semiconductor device as claimed in claim 2, wherein: said first switching means and said second switching means are MOSFETs.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A semiconductor device as claimed in claim 2, wherein: said first switching means and second switching means are IGBTs.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A semiconductor device as claimed in claim 3, wherein: said current detector is depletion type MOSFET whose gate and source are short-circuited.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A semiconductor device as claimed in claim 1, wherein: said semiconductor device is formed within an identical semiconductor.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. A semiconductor device as claimed in claim 2, wherein: said semiconductor device is formed within an identical semiconductor.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A semiconductor device as claimed in claim 3, wherein: said semiconductor device is formed within an identical semiconductor.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A semiconductor device as claimed in claim 4, wherein: said semiconductor device is formed within an identical semiconductor.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A semiconductor device as claimed in claim 5, wherein: said semiconductor device is formed within an identical semiconductor.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A semiconductor device as claimed in claim 1, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. A semiconductor device as claimed in claim 2, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. A semiconductor device as claimed in claim 3, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. A semiconductor device as claimed in claim 4, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. A semiconductor device as claimed in claim 5, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. A semiconductor device as claimed in claim 6, wherein: serially connected in between an input terminal and an output terminal of said first switching means are a clamping diode for clamping a potential of the output terminal of said first switching means, and a reverse-current prevention diode for preventing a current flowing from the input terminal of said switching means towards the output terminal of the same.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. A semiconductor device as claimed in claim 11, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. A semiconductor device as claimed in claim 12, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. A semiconductor device as claimed in claim 13, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. A semiconductor device as claimed in claim 14, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. A semiconductor device as claimed in claim 15, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. A semiconductor device as claimed in claim 16, wherein: said clamping diode is a voltage regulation diode with guard ring structure.</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23. A semiconductor device as claimed in claim 11, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. A semiconductor device as claimed in claim 12, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. A semiconductor device as claimed in claim 13, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26. A semiconductor device as claimed in claim 14, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27. A semiconductor device as claimed in claim 15, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28. A semiconductor device as claimed in claim 16, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="29">
      <claim-text>29. A semiconductor device as claimed in claim 17, wherein: said reverse-current prevention diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30. A semiconductor device as claimed in claim 1, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="31">
      <claim-text>31. A semiconductor device as claimed in claim 2, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="32">
      <claim-text>32. A semiconductor device as claimed in claim 3, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="33">
      <claim-text>33. A semiconductor device as claimed in claim 4, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="34">
      <claim-text>34. A semiconductor device as claimed in claim 5, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="35">
      <claim-text>35. A semiconductor device as claimed in claim 6, wherein: a bi-directional voltage regulation diode is connected in between the input terminal and output terminal of said first switching means.</claim-text>
    </claim>
    <claim num="36">
      <claim-text>36. A semiconductor device as claimed in claim 30, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="37">
      <claim-text>37. A semiconductor device as claimed in claim 31, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="38">
      <claim-text>38. A semiconductor device as claimed in claim 32, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="39">
      <claim-text>39. A semiconductor device as claimed in claim 33, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="40">
      <claim-text>40. A semiconductor device as claimed in claim 34, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
    <claim num="41">
      <claim-text>41. A semiconductor device as claimed in claim 35, wherein: said bi-directional voltage regulation diode is formed by a polycrystal semiconductor over an insulating film.</claim-text>
    </claim>
  </claims>
</questel-patent-document>