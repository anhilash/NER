<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06191412B1.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as first publication">
      <document-id>
        <country>US</country>
        <doc-number>06191412</doc-number>
        <kind>B1</kind>
        <date>20010220</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6191412</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B1</original-publication-kind>
    <application-reference family-id="21713364" extended-family-id="42088918">
      <document-id>
        <country>US</country>
        <doc-number>09564072</doc-number>
        <kind>A</kind>
        <date>20000503</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>2000US-09564072</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43138097</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>56407200</doc-number>
        <kind>A</kind>
        <date>20000503</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>2000US-09564072</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>495198</doc-number>
        <kind>A</kind>
        <date>19980109</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998US-09004951</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010220</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G11C  27/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>11</class>
        <subclass>C</subclass>
        <main-group>27</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G11C  27/02        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>11</class>
        <subclass>C</subclass>
        <main-group>27</main-group>
        <subgroup>02</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04N   5/357       20110101A I20130511RHUS</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>357</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>US</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130511</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>H04N   5/365       20110101A I20140524RMEP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>365</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20140524</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>H04N   5/374       20110101A I20130511RHUS</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>374</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>US</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130511</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>H04N   5/378       20110101A I20140524RMEP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>378</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20140524</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>250214000AG</text>
        <class>250</class>
        <subclass>214000AG</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>327514000</text>
        <class>327</class>
        <subclass>514000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>348E03018</text>
        <class>348</class>
        <subclass>E03018</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>348E03021</text>
        <class>348</class>
        <subclass>E03021</subclass>
      </further-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/374</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>374</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G11C-027/00</classification-symbol>
        <section>G</section>
        <class>11</class>
        <subclass>C</subclass>
        <main-group>27</main-group>
        <subgroup>00</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G11C-027/02</classification-symbol>
        <section>G</section>
        <class>11</class>
        <subclass>C</subclass>
        <main-group>27</main-group>
        <subgroup>02</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G11C-027/024</classification-symbol>
        <section>G</section>
        <class>11</class>
        <subclass>C</subclass>
        <main-group>27</main-group>
        <subgroup>024</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/3658</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>3658</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/378</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>378</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>10</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>5</number-of-drawing-sheets>
      <number-of-figures>6</number-of-figures>
      <image-key data-format="questel">US6191412</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Gain and error correction circuitry</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>AFGHAHI MORTEZA</text>
          <document-id>
            <country>US</country>
            <doc-number>6093924</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6093924</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>FOSSUM ERIC R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5471515</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5471515</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>GOWDA SUDHIR MUNISWAMY, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5877715</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5877715</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>J.E.D. Hurwitz, P.B. Denyer, D.J. Baxter, and G. Townsend, "An 800K-Pixel Color CMOS Sensor for Consumer Still Cameras," SPIE vol. 3019 (1997), pp. 115-124.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>S.K. Mendis, S.E. Kemeny, R.C. Gee, B. Pain, Q. Kim, and E.R. Fossum, "Progress in CMOS Active Pixel Image Sensors," SPIE vol. 2172 (1994), pp. 19-29.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>495198</doc-number>
              <kind>A</kind>
              <date>19980109</date>
            </document-id>
          </parent-doc>
        </relation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>6093924</doc-number>
              <kind>A</kind>
            </document-id>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Intel Corporation</orgname>
            <address>
              <address-1>Santa Clara, CA, US</address-1>
              <city>Santa Clara</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>INTEL</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Afghahi, Morteza</name>
            <address>
              <address-1>Tempe, AZ, US</address-1>
              <city>Tempe</city>
              <state>AZ</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Blakely, Sokoloff, Taylor &amp; Zafman LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Lee, John R.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      Gain and error correction circuitry for metal-oxide-semiconductor (MOS) analog storage circuits, including image sensors.
      <br/>
      The correction circuitry allows the analog output signal for a storage cell to substantially track an input signal in each cell.
      <br/>
      Voltage dependent distortion and attenuation in the output signal, with respect to the input signal, is minimized, without significantly increasing the size of each cell.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a division of application Ser.
      <br/>
      No. 09/004,951, filed Jan. 9, 1998, and now U.S. Pat. No. 6,093,924 has been inserted.
    </p>
    <heading>BACKGROUND INFORMATION</heading>
    <p num="2">This invention is generally related to analog signal processing and more particularly to gain and error correction in analog storage circuits.</p>
    <p num="3">
      Analog storage circuits are commonly used to store different types of analog information.
      <br/>
      For example, an image sensor can be viewed as a type of analog storage circuit which provides signals representing light intensity.
      <br/>
      The image sensor contains an array of photocells that are electrically responsive to incident light.
      <br/>
      The photocell through readout circuitry provides an output signal that represents a light-generated signal inside the photocell.
    </p>
    <p num="4">
      One of the tasks for using analog storage arrays is to faithfully read the stored information.
      <br/>
      The task becomes particularly difficult for larger and denser arrays in which the smaller size of the individual cells restricts the range of circuits that can be used as readout circuitry in each cell.
    </p>
    <p num="5">
      For example, FIG. 1 illustrates in relevant part a typical compact prior art photocell 104.
      <br/>
      The cell 104 using only a few MOS circuit elements, such as the field effect transistor (FET), operates as described below.
    </p>
    <p num="6">
      The following short cuts are used in this disclosure to describe various operating regions of the MOS field effect transistor (FET).
      <br/>
      An FET is said to be "turned off" when VGS (gate-source voltage)  &lt;= VT (threshold voltage) for the device and the device is operating in the cut-off region where its channel acts as an open circuit.
      <br/>
      When a FET is "turned on", VGS &gt;VT, VDS (drain-source voltage) is normally small and the device is operating in the non-saturation region.
    </p>
    <p num="7">
      The cell 104 operates in response to RESET and SAMPLE signals being used to turn on M13 and M14 which causes the voltage at node A (VIN) to rise to a reset value.
      <br/>
      When the desired object or scene comes into view of the image sensor containing the cell 104, a timer (exposure timer, not shown) is triggered and M13 is turned off.
      <br/>
      Thereafter, photo-generated electron-hole pairs in photodiode D10 cause a photocurrent (light-generated signal) Iphoto which discharges the capacitor C10 through M14 and consequently results in VIN decaying.
      <br/>
      When the timer runs out, M14 is turned off, leaving an exposed value for VIN on C10.
      <br/>
      M14 thus acts as an electronic shutter in limiting the light energy detected by the pixel.
      <br/>
      The difference between the reset value of VIN and the exposed value, together with the exposure or "integration" time defined by the timer, gives a measure of the incident light energy detected by the pixel.
    </p>
    <p num="8">
      To read the light intensity information in VIN, the prior art cell 104 includes readout circuitry having M11 and M12.
      <br/>
      M11 is used as an amplifier whereas M12 is a switch.
      <br/>
      The readout circuitry together with a load (provided external to the cell, but not shown) on node B form an amplifier in a source follower configuration having a voltage gain less than one but a current gain greater than one when a SELECT signal is applied that turns on M12.
      <br/>
      When that happens, an analog signal VOUT representative of VIN (and hence the information stored in the cell), may be read from the cell.
      <br/>
      An example of an active pixel (photocell) with associated readout circuitry is discussed in U.S. Pat. No. 5,471,515, "Active Pixel Sensor With Intra-Pixel Charge Transfer," to Fossum et al.
    </p>
    <p num="9">
      For a cell having ideal read-out circuitry, VOUT will equal VIN (voltage gain of exactly one) for the entire range of VIN.
      <br/>
      However, for an actual prior art cell such as cell 104, VOUT is a non-linear function of VIN.
      <br/>
      Any non-linearity or deviation from the ideal presents an additional problem for the system designer to deal with, as the detected information deviates from the actual information.
    </p>
    <p num="10">
      The non-linearity in VOUT is known as gain distortion and may be caused by VT modulation, where the gain of M11 in the readout circuitry is modulated in response to a changing threshold voltage VT of M11.
      <br/>
      This occurs because M11 is implemented as a n-channel FET in a P-substrate, where the P-substrate is connected to zero potential or ground.
      <br/>
      The source to substrate (bulk) voltage for M11 in this configuration is non-zero and changing for different values of VOUT.
      <br/>
      As a result, VT for M11, and therefore the gain of M11, is changing as a function of VOUT.
    </p>
    <p num="11">
      The prior art cell 104 also suffers from reduced dynamic range, due to the source follower configuration of the readout circuitry which cannot provide voltage gain per se.
      <br/>
      This is because VOUT is derived from the voltage at the source node of M11, which voltage is always smaller than VIN being the gate voltage of M11.
      <br/>
      The lower dynamic range is particularly a problem at the low end where VIN approaches 1 volt, as VOUT cannot follow such low input voltages due to the gate-source drop across M11 and the drain-source drop across M12.
    </p>
    <p num="12">
      In addition to gain distortion and reduced dynamic range discussed above, the output signals of cells in a large array, particularly an imaging array having hundreds of thousands of cells, are susceptible to errors (small differences between design and actual values).
      <br/>
      These may be caused by manufacturing variations among the many cells in the array, and by readout noise originating in the signal path beyond the source node of M11.
    </p>
    <p num="13">In view of the above, it would be desirable to have a circuit which may correct for some or all of the above disadvantages that exist in analog storage circuits, and particularly in photocells.</p>
    <heading>SUMMARY</heading>
    <p num="14">
      The invention in one embodiment is directed at a circuit having first and second portions coupled together at an intermediate node.
      <br/>
      The first portion has at least one first device that is a replicate of a second device in the second portion.
      <br/>
      The second portion is configured to provide an output signal that is linearly proportional to an input signal received by the first portion in response to the first and second devices conducting substantially the same amount of current.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="15">
      The above briefly summarized aspects and features of the invention may be better understood by referring to the detailed description, the claims, and the drawings below where:
      <br/>
      FIG. 1 illustrates a prior art photocell.
      <br/>
      FIG. 2 is a schematic of a first embodiment of the invention as a correction circuit coupled to an analog storage cell's readout circuitry.
      <br/>
      FIG. 3 is a second embodiment of the invention.
      <br/>
      FIG. 4 is a third embodiment of the invention.
      <br/>
      FIG. 5 is a block diagram of a sensor array embodiment of the invention.
      <br/>
      FIG. 6 is a block diagram of a second sensor array embodiment of the invention.
    </p>
    <heading>DETAILED DESCRIPTION</heading>
    <p num="16">
      As briefly summarized above, the invention is directed at a circuit for improving the transfer function of an analog storage cell in order to provide a more faithful representation of the cell's information.
      <br/>
      The correction circuitry can be shared by a group of cells, where each correction circuit has devices that are replicates of those in a cell's readout circuitry.
      <br/>
      The correction circuit provides an output signal that is linearly proportional and in many cases substantially the same as an input signal of a selected cell in response to conducting the same amount of current as the readout circuitry of the selected cell.
    </p>
    <p num="17">
      In another embodiment, the circuit is used in conjunction with a photocell in an image sensor.
      <br/>
      The first portion is part of the readout circuitry of the photocell and the second portion is part of a correction circuit that is shared by a group of photocells in the sensor.
      <br/>
      The photocell generates an input signal to its readout circuitry that is related to a photogenerated signal.
      <br/>
      The correction circuit associated with the photocell provides an output signal of the sensor that is linearly proportional to the input signal in response to the readout circuitry and the correction circuitry conducting the same amount of current.
      <br/>
      By using a number of correction circuits, for instance one for each column of the sensor array, the image sensor thus provides sensor signals that more faithfully represent the information in each photocell and over a greater dynamic range than the prior art cell 104.
    </p>
    <p num="18">
      The various embodiments of the correction circuitry can help reduce errors (differences in circuit operation between design and actual values) due to device mismatching between cells, as well as provide more linear unity gain with greater dynamic range than the prior art cell 104.
      <br/>
      By locating the correction circuitry outside of each cell, individual cell size is also kept small thereby permitting denser and greater resolution image sensors.
    </p>
    <p num="19">
      For purposes of explanation, specific embodiments are set forth below to provide a thorough understanding of the invention.
      <br/>
      However, as understood by one skilled in the art, from reading this disclosure, the invention may be practiced without such details.
      <br/>
      Furthermore, well-known elements, devices, process steps, and the like, are not set forth in detail in order to avoid obscuring the invention.
    </p>
    <p num="20">
      FIG. 2 illustrates a first embodiment of the invention as readout circuitry or output stage 218 of an analog storage cell with a cell output node B coupled to a correction circuit 210.
      <br/>
      The correction circuit 210 includes an output stage 214 that has devices which are replicates, i.e., have matching physical characteristics, with those in the cell's readout circuitry 218.
      <br/>
      For instance, where the readout circuitry 218 includes an amplifying device such as n-channel FET M11, the output stage 214 includes a corresponding amplifying device being n-channel FET M21 which is a replicate of M11.
      <br/>
      In addition, the readout circuitry 218 includes a switching device such as n-channel FET M12, corresponding to a replicate FET M22 in the output stage 214.
      <br/>
      Other devices in addition to amplifier and switch combinations are possible and can be incorporated as replicates.
      <br/>
      The matching physical characteristics of the replicate FET devices include matching channel width and length.
    </p>
    <p num="21">
      The readout circuitry receives an input signal VIN at the gate of M11, where the signal VIN can be related to information stored in an analog storage cell, such as the prior art photocell 104 described above in the background.
      <br/>
      The readout circuitry, in response to receiving VIN and a SELECT signal at the gate of M12, will cause an intermediate signal to develop at node B at which there is a current sink of value 2*I, where I is the value of current forced in the devices of correction circuit 210 by the current source I. In this particular embodiment, the readout circuitry, and more specifically the amplifying device M11, is functioning as a source follower, although other output stages may be possible.
    </p>
    <p num="22">
      A system having the correction circuitry 210 should be designed to generate a signal VDUMMY which mimics the SELECT signal, particularly when M12 is turned on in response to SELECT.
      <br/>
      When both are turned on, switching devices M12 and M22 provide a low impedance path between the source of M11 and M21, respectively, and the cell output node B. The SELECT and VDUMMY signals may be generated according to known digital techniques in the art.
      <br/>
      In a particular embodiment, VDUMMY can simply be tied to the positive supply VDD which approximates a logic high level in SELECT.
    </p>
    <p num="23">
      The above described components of the readout circuitry and correction circuitry operate to provide a voltage follower effect in that VOUT is linearly proportional to and may even substantially track VIN, i.e., 0.97 VIN &lt;= VOUT &lt;= VIN for a wide range of VIN.
      <br/>
      This desirable effect may be explained by the following observations.
    </p>
    <p num="24">
      The correction circuitry 210 features control circuitry in the form of current source I and current sink 2I as shown in FIG. 2.
      <br/>
      When the two currents have been set as I and 2I, the current through the readout circuitry 218, i.e., the current through devices M11 and M12, is also forced to be I in order to satisfy Kirchoff's Current Law at node B. As both the readout circuitry and the output stage 214 thus conduct the same amount of current, and since both have replicate devices with matching physical and operating characteristics, including both having the same gate-to-source voltage on the switching devices M12 and M22, then it can be expected that VOUT being the gate voltage of device M21 is substantially the same as VIN which is the gate voltage of corresponding device M11.
    </p>
    <p num="25">
      Any differences between the two legs feeding the current sink 2I may contribute to a difference between VIN and VOUT.
      <br/>
      These differences include the voltage drop across the current source I and the fact that M21 is diode-connected while M11 is not.
      <br/>
      To make the left leg of the circuit more similar to the right leg, and thereby improve the tracking of VOUT, the current source I may be implemented using FET devices which have large channel width-to-length (W/L) ratios so as to reduce their VDS voltage drop and thus reduce the drop across the current source I.
    </p>
    <p num="26">
      For improved dynamic range, the transistors M11 and M21 should be designed such that they are operating in their active region for as much of the range of VIN as possible.
      <br/>
      Similarly, transistors M12 and M22 should be designed such that each is turned off and turned on in response to the SELECT and VDUMMY signals, where VDUMMY mimics SELECT as much as possible when M12 is turned on.
      <br/>
      As mentioned earlier, VDUMMY can be kept constant at VDD to reduce the complexity of the timing signal generation circuitry used for creating the various control signals for the cell.
    </p>
    <p num="27">
      The current I should be selected in view of power consumption and noise immunity requirements for the system as a whole, especially if the correction circuitry is duplicated for each column of pixels in an image sensor, as seen in FIGS. 5 and 6 below.
      <br/>
      The current I, however, should, at the same time, be able to provide enough drive for the subsequent stage of analog processing beyond the correction circuitry 210.
    </p>
    <p num="28">Although the embodiment of the invention in FIG. 2 features FETs having their substrate (or bulk) connections being grounded, the circuit should operate properly even if the substrate is directly connected to the source of each transistor and may otherwise be floating.</p>
    <p num="29">
      To further improve the fidelity between VOUT and VIN, FIG. 3 illustrates a second embodiment of the invention as correction circuitry 310 coupled to readout circuitry 318.
      <br/>
      In this embodiment, the correction circuitry 310 includes a control circuit coupled to the readout circuitry 318 at node C and to the output stage 314 at node D. The control circuit includes an operational amplifier (opamp) A30 driving a gate of a FET M44 with negative feedback from node C. This configuration causes the potential at node C to track the one at node D, and helps correct higher order errors due to the voltage drop in current source I and mismatches between corresponding devices in the readout circuitry 318 and in the output stage 314.
    </p>
    <p num="30">As a simpler but less accurate alternative to the control circuit in correction circuit 310, the opamp A30 may be eliminated and instead M44 may be designed to conduct the current I when connected as a diode.</p>
    <p num="31">
      The above embodiments of the readout circuitry and correction circuitry were described as MOS circuits which can be built using n-channel FETs built in a p-substrate.
      <br/>
      FIG. 4 shows yet another embodiment of the readout and correction circuitry, this time using p-channel FET devices in both readout circuitry 418 and correction circuitry 410.
      <br/>
      The operation of the circuit in FIG. 4 can be understood by one skilled in the art using the descriptions above for the n-channel embodiments in FIGS. 2 and 3, and therefore is not further discussed in the same detail.
      <br/>
      It should be noted that in the p-channel embodiment, VDUMMY can now be directly connected to ground to mimic SELECT when used for reading VOUT.
    </p>
    <p num="32">
      A different embodiment of the invention, this time as an image sensor 500 is shown in FIG. 5.
      <br/>
      The sensor features an array of pixels 204a, 204b, . . . arranged as rows and columns.
      <br/>
      To reduce the space taken on a angle integrated circuit die that contains both the pixels and correction circuitry, the pixels in each column of the array are coupled to a single correction circuit 210a, 210b, 210c, . . . , respectively.
      <br/>
      The sensor 500 can be implemented as a CMOS IC, including the correction circuits 210a, 210b, . . . . The pixels are multiplexed in response to ROW signals, so that the VOUT at the correction circuitry may be read one row at a time.
      <br/>
      The image sensor 500 can be coupled to conventional analog-to-digital is (A/D) conversion circuitry which results in raw image data being produced in response to analog VOUT signals received from the correction circuitry.
      <br/>
      The A/D conversion circuitry can also be included on the same IC die as the pixels, but need not be.
      <br/>
      Although shown as being row multiplexed, the pixels can also be column multiplexed where the pixels in a given row receive the same correction circuitry.
    </p>
    <p num="33">
      FIG. 6 illustrates yet another embodiment as an image sensor 600 having an array of pixels 304a, 304b, 304c, . . . to each containing readout circuitry 318 (see FIG. 3).
      <br/>
      Once again, to obtain a more compact design, each pixel in a column is connected to its respective node C and a node B, which nodes are also coupled to a single correction circuit 310a, 310b, 310c, (see FIG. 3) . . . for the column.
      <br/>
      Similar to the sensor 500, the sensor 600 provides analog output signals VOUT which can be forwarded to A/D conversion circuitry and further signal and image processing functions.
      <br/>
      Keeping the correction circuitry outside the pixels and shared by a column allows the overall image sensor to be kept small and provides greater resolution through the use of a large number of tightly packed pixels.
      <br/>
      Again, although shown as column circuitry, the invention may also be realized as row circuitry where pixels in each row are coupled to a respective correction circuit.
    </p>
    <p num="34">
      To summarize, the embodiments of the invention described above are directed at a circuit having first and second portions that have replicate devices.
      <br/>
      The first and second portions are coupled to an intermediate node.
      <br/>
      The second portion provides an output signal that is linearly proportional and substantially tracks an input signal received by the first portion due to the current in both portions being the same and due to the portions having replicate devices.
      <br/>
      Of course, the embodiments described above are subject to some variations in structure and implementation.
      <br/>
      For instance, some of the circuits described above may be implemented in a standard digital CMOS process, although other semiconductor fabrication processes could alternatively be used.
      <br/>
      Therefore, the scope of the invention should be determined not by the embodiments illustrated but by the appended claims and their legal equivalents.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A circuit comprising:</claim-text>
      <claim-text>first portion having at least one first device receiving an input signal; second portion having at least one second device that is a replicate of the first device, the second portion being coupled to the first portion at an intermediate node; first control circuit for causing a first current through the second device;</claim-text>
      <claim-text>and second control circuit for causing a second current through the intermediate node, the second portion providing an output signal that is linearly proportional to the input signal in response to the first and second devices conducting the same amount of current.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A circuit as in claim 1 wherein the first device in the first portion is a FET configured as a source follower receiving the input signal.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A circuit as in claim 1 wherein the first control circuit comprises a current source and the second control circuit comprises a current sink.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A circuit as in claim 1 wherein the second current has a value twice the first current.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A method comprising: applying an input signal to a first transistor to enable a first current through the transistor; controlling a second current through a second transistor that is a replicate of the first transistor, the second transistor being coupled to the first transistor so that the first and second currents are summed at an intermediate node; controlling a third current through the intermediate node, the third current being equal to twice the second current;</claim-text>
      <claim-text>and reading an output signal at an output of the second transistor.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 5, wherein the first and second currents are sourced into the intermediate node.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 5, wherein the third current is sourced into the intermediate node.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 5, wherein the input signal is a light-generated signal created by a photodetector in an image sensor array.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 5 further comprising: applying a select signal to a third transistor being stacked with the first transistor, to selectively enable the first current through the first and third transistors;</claim-text>
      <claim-text>and applying a dummy signal to a fourth transistor being stacked with the second transistor, to enable the second current through the second and fourth transistors.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The method of claim 9, wherein the input signal is a light-generated signal created by a photodetector in an image sensor array.</claim-text>
    </claim>
  </claims>
</questel-patent-document>