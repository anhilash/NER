<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181210B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181210</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181210</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="26798386" extended-family-id="42107605">
      <document-id>
        <country>US</country>
        <doc-number>09398101</doc-number>
        <kind>A</kind>
        <date>19990916</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09398101</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43163882</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>39810199</doc-number>
        <kind>A</kind>
        <date>19990916</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09398101</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>10155598</doc-number>
        <kind>P</kind>
        <date>19980921</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998US-60101555</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H03L   7/089       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>089</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>331008000</text>
        <class>331</class>
        <subclass>008000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>327157000</text>
        <class>327</class>
        <subclass>157000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>331017000</text>
        <class>331</class>
        <subclass>017000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H03L-007/089C4D</text>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>007</main-group>
        <subgroup>089C4D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H03L-007/089C4F</text>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>007</main-group>
        <subgroup>089C4F</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03L-007/0898</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>0898</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03L-007/0896</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>L</subclass>
        <main-group>7</main-group>
        <subgroup>0896</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>5</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>4</number-of-drawing-sheets>
      <number-of-figures>5</number-of-figures>
      <image-key data-format="questel">US6181210</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Low offset and low glitch energy charge pump for PLL-based timing recovery systems</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>GERSBACH JOHN E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5508660</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5508660</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>WILSON WILLIAM B, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5942949</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5942949</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <related-publication>
        <document-id>
          <country>US</country>
          <doc-number>60/101,555</doc-number>
          <date>19980921</date>
        </document-id>
        <document-id>
          <country>US</country>
          <doc-number>60/101555</doc-number>
          <date>19980921</date>
        </document-id>
      </related-publication>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Broadcom Corporation</orgname>
            <address>
              <address-1>Irvine, CA, US</address-1>
              <city>Irvine</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>BROADCOM</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Wakayama, Myles H.</name>
            <address>
              <address-1>Laguna Niguel, CA, US</address-1>
              <city>Laguna Niguel</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Christie, Parker &amp; Hale, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Grimm, Siegfried H.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A high precision charge pump used in a phase-lock-loop incorporating a phase/frequency detector is designed and constructed to substantially eliminate the effects of DC offset and glitch errors on the charge pump output current.
      <br/>
      The high precision charge pump is constructed of parallel current paths each having a central node which is, in turn, connected to a feedback element.
      <br/>
      The feedback element defines a feedback current which is applied to the charge pump so as to maintain the two central nodes at an equi-potential level and to maintain the value of the pump-down current exactly equal to the value of the pump-up current output by the device.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED APPLICATIONS</heading>
    <p num="1">This application is related to provisional application Serial No. 60/101,555, filed Sep. 21, 1998, entitled LOW OFFSET AND LOW GLITCH ENERGY CHARGE PUMP DESIGN, commonly owned by the Assignee of the present invention.</p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">The present invention is directed to high speed data transmission and conversion systems and, more particularly, to a system for and a method of controlling the average current output of a charge pump such that glitch energy and offset voltage errors are minimized.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      The past several years have witnessed a dramatic increase in the capabilities of high-speed, high-density, broadband data communication systems.
      <br/>
      Pertinent such systems range anywhere from broadcast or cablecast HDTV systems, local area and wide area (LAN, WAN) systems for multimedia, fibre to the home (FTTH) applications and board-to-board interconnections in exchange systems and computers.
    </p>
    <p num="4">
      In any one of the foregoing applications, it should be noted that bidirectional data communication is in digital form and, accordingly, clock and data recovery circuitry is a key component of the efficient functioning of modern data communications systems.
      <br/>
      The ability to regenerate binary data is an inherent advantage of transmitting information digitally as opposed to transmitting such information in analog form.
      <br/>
      However, in order for the intelligence signal to be correctly reconstructed at the receiving end, the transmitted binary data must be regenerated with the fewest possible number of bit errors, requiring received data to be sampled at an optimum sample rate and at an optimum instance of time.
      <br/>
      Given the bandwidth constraints imposed on most modern data communication systems, it is generally impractical to transmit the requisite sampling clock signal separate from the transmitted datastream.
      <br/>
      Timing information is consequently derived from the incoming transmitted data signal itself.
      <br/>
      Extraction of the implicit timing signal is generally termed timing recovery (or clock recovery) in it's functional role in general digital receiver technology, is traditionally performed by a phase-lock-loop system such as that illustrated in FIG. 1.
    </p>
    <p num="5">
      Phase-lock-loops operate to compare the frequency and/or phase of an incoming serial datastream to a periodic reference clock signal generated by an oscillator circuit, and to adjust the operational frequency and phase characteristics of the oscillator until its output stream is "locked" in both frequency and phase to the data signal.
      <br/>
      A reference clock is thereby established which, in turn, controls operation of a decision circuit which regenerates (or retimes) the data signal.
      <br/>
      The phase-lock-loop suitably comprises a phase detector 10 whose output is coupled to a charge pump circuit 12, operatively connected, in turn, to a loop filter 13 and a voltage controlled oscillator (or VCO) 14.
    </p>
    <p num="6">
      The data signal is received at a data input of the phase detector 10, in which the occurrence of the data's rising edge (its phase) is compared in time to the occurrence of a rising edge (the phase) of an output signal of the VCO 14.
      <br/>
      Conventionally, the phase detector incorporates logic circuity (in effect a logical XNOR function) which precludes an output signal from being issued during phase comparisons unless two rising edges are present during a comparison cycle.
      <br/>
      This feature prevents the phase-lock-loop from becoming unstable by trying to perform a phase comparison between a VCO rising edge and a DATA ZERO bit (necessarily without a rising edge).
      <br/>
      It will be understood that the phase comparison result in such a situation would indicate either an infinite phase lead or an infinite phase lag, thus causing the VCO frequency to run out of control.
    </p>
    <p num="7">
      According to convention, the phase detector 10 issues a PUMP UP signal 16 to the charge pump 12 if the datastream phase leads the VCO signal, and issues a PUMP DN 18 if the datastream phase lags the VCO signal.
      <br/>
      PUMP UP and PUMP DN are directed to the charge pump 12 which sources or sinks a particular amount of current (the pump current) to or from, respectively, the loop filter 13.
      <br/>
      Voltage is developed as the pump current is sourced or sunk, with the voltage being used to control the operational frequency of the VCO 14.
      <br/>
      The sign of the VCO control voltage variation depends on whether the phase of the datastream leads or lags the phase of the VCO output and its magnitude is a function of the extent of the phase lead or phase lag.
      <br/>
      Thus, the operational frequency of the VCO 14 is increased or decreased, as appropriate, to reduce the phase lead or phase lag of the inputs to the phase detector 10.
      <br/>
      The phase-lock-loop thus ensures that the VCO output, which is used as a timing reference, is locked in phase with the incoming serial datastream.
      <br/>
      Once the PLL is "locked", the timing reference signal (i.e., the VCO output) is used to control operation of a decision circuit 19 which defines regenerated or retimed data.
    </p>
    <p num="8">
      A particular shortcoming of prior art phase-lock-loop systems is that the charge pump is required to source and sink current which precisely represents the magnitude and polarity of a phase difference between incoming data and the VCO.
      <br/>
      In addition, for a type II or a type IV phase detector operating in quasi flywheel mode, the charge pump is required to source and sink current in such a manner that the output current, averaged over a correction cycle, equals 0.
      <br/>
      In other words, the charge pump should ideally only cause corrections to be made to the operating characteristics of the VCO which result from consistent frequency shifts of the datastream, such that the VCO is locked to the mean phase of the incoming datastream rather than to the phase of any specific data bit.
    </p>
    <p num="9">
      Maintaining perfect phase-lock VCO to data, however, is particularly difficult for conventional prior art-type phase-lock-loop circuits operating in the GHz range, because of the internal construction of conventional prior art-type charge pump circuits.
      <br/>
      In addition, the source and sink current waveforms, of such conventional charge pump circuits, exhibit significant amounts of offset and "glitch errors" which cause the source and sink current waveforms to be non-symmetrical.
      <br/>
      This non-symmetry necessarily results in a residual charge being left on the filter capacitor at the end of a correction cycle and further causes a non-zero increment to the control voltage Vc to the VCO.
      <br/>
      The terms "offset" and "glitch errors" refer to fluctuations in the source and/or sink current waveforms and represent quantifiable departures from a smooth waveform characteristic.
      <br/>
      These fluctuations are caused by a variety of factors, the majority of which are functions of the physical and electrical properties of semiconductor integrated circuit transistors and integrated circuit charge pumps manufactured therefrom and exhibit the response characteristics illustrated in FIG. 2.
    </p>
    <p num="10">
      Offset is an undesirable quantum of charge output from a charge pump when the PUMP UP and PUMP DN signals applied to the input of the charge pump are identical (i.e., the output of the charge pump should be flat or zero).
      <br/>
      This DC offset current tends to perturb the system in one direction or the other and results in timing jitter at the output of the VCO.
      <br/>
      Glitch energy is a sharp transition peak signal defined at the output of the charge pump, caused in major part by transition edge (clock) feed through effects of the input signals.
    </p>
    <p num="11">To better understand the causes of offset and glitch errors, it will be helpful to review the common and well-known charge pump architecture depicted in simplified form in FIG. 3.</p>
    <p num="12">
      Conceptually, a charge pump may be viewed as a "pump up" current source 20 connected in series with a switch 22 to provide an output source current in response to a PUMP UP signal issued by a, for example, phase detector.
      <br/>
      Similarly, a "pump down" current sink 24 is coupled between a VSS supply and a second switch 26 which, together function to define a sink current in response to a PUMP DN signal from the phase detector.
      <br/>
      While relatively simple, the simplified charge pump design of FIG. 3 can be used to illustrate several practical problems with contemporary charge pump design.
      <br/>
      For example, DC mismatches in the up and down current sources 20 and 24 necessarily cause a DC offset in the charge pump output when both PUMP UP and PUMP DN activate the respective switches 22 and 26, at the same time.
    </p>
    <p num="13">
      Likewise, the voltage node between the current source 20 and switch 22 on the "UP" side of the charge pump will rise to VDD when the pump-up switch 22 is in an open condition.
      <br/>
      The voltage node between the current sink 24 and switch 26 on the pump-down side of the charge pump will go to VSS when the pump-down switch is in an open condition.
      <br/>
      These conditions cause a DC offset in the charge pump output that is necessarily dependent on the output voltage because of well-known parasitic capacitance effects that are present on the above-described nodes.
      <br/>
      In addition to the offset effects inherent in contemporary charge pump designs, it will be understood that as the switches 22 and 26 open and close in response to PUMP UP and PUMP DN signals issued by the phase detector, voltage spikes, ground bounce, and the like, will cause a sharp "ring" spike at transition edge instants.
      <br/>
      Spikes, ringing and other non-linearities introduced by switch transients, clock feed through effects, and the like, are subsumed into the term "glitch energy".
    </p>
    <p num="14">
      Accordingly, prior art-type charge pump circuits do not provide a smooth, constant and symmetrical response characteristic between their source and sink currents during phase lock, thus introducing variation to the loop filter and, consequently the VCO output.
      <br/>
      This variability becomes proportionately more significant as the VCO frequency increases.
      <br/>
      Accordingly, for high-speed phase-lock-loops, there is a demonstrated need for a high precision charge pump which is designed and constructed such that glitch errors and DC offsets are minimized for both source and sink phases of a detection cycle, such that the average current, integrated across the cycle, more closely approximates zero.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="15">
      A high-speed phase lock loop circuit includes a high precision charge pump which functions to maintain the stability of VCO lock by providing source and sink pump currents which are substantially zero over phase correction cycle.
      <br/>
      The uniformity of source and sink currents is imposed by valuating the voltages at the common drain nodes of the charge pump's first and second parallel conduction paths by a feedback element.
      <br/>
      The feedback element controls the value of an "adjust" current source so as to drive the two common drain nodes to an equi-potential level.
    </p>
    <p num="16">
      In one aspect of the invention, a phase lock loop includes a phase/frequency detector for comparing a phase or frequency characteristic of an input signal to a phase or frequency characteristic of a timing reference signal developed by a voltage controlled oscillator (VCO), numerically controlled oscillator (NCO) or the like.
      <br/>
      A charge pump sources and sinks characteristic current in response to control signals developed by the phase/frequency detector, in response to a phase or frequency comparison event.
      <br/>
      The charge pump is constructed of two parallel current paths, each a mirror image of the other, and both coupled between a pump-up current source and a pump-down current source.
    </p>
    <p num="17">
      Each of the two parallel current paths is constructed of an upper switch connected in series with a lower switch with the common nodes of each parallel current path defining a respective output node.
      <br/>
      The upper switch may be constructed of an N-channel transistor, while the lower switch may be constructed of a P-channel transistor.
      <br/>
      The charge pump includes a feedback element coupled between the output nodes and an "adjust" current source which functions to balance currents in the two parallel current paths so as to minimize DC offsets at the circuit output.
    </p>
    <p num="18">
      In a further aspect of the invention, a first output node defined by the common nodes of the upper and lower switches defining one of the parallel current paths is coupled to a loop filter, connected between the charge pump and a VCO.
      <br/>
      The loop filter develops a control voltage for the VCO in response to a characteristic current sourced or sunk by the charge pump and received from the first output node.
      <br/>
      The loop filter includes an RC network coupled between the charge pump's first output node and a reference potential, and including a resistor element in series with a first capacitor defining a zero of the filter.
    </p>
    <p num="19">
      In an additional aspect of the invention, the charge pump includes a second output node defined by the common nodes of the upper and lower switches defining a second one of the parallel current paths.
      <br/>
      The second output node is coupled to a reference potential through a third "dump" capacitor having a value substantially the same as the "zero" capacitor coupled to the first output node.
    </p>
    <p num="20">
      An amplifier, such as a transconductance amplifier, has first and second inputs coupled, respectively, to the first and second output nodes and an output connected to control operation of an "adjust" current source.
      <br/>
      The "adjust" current source might be provided separately or, might be incorporated into the charge pump's "pump-up" or "pump-down" current sources directly.
      <br/>
      The amplifier thus forces the common drain nodes of each of the current paths to be maintained at an equi-potential value with respect to one another.
      <br/>
      By maintaining the dump capacitor node and the zero capacitor node at the same voltage during operation of the charge pump, independent of the output voltage of the charge pump, non-linearities and DC offsets developed by the charge pump are minimized.
    </p>
    <heading>DESCRIPTION OF THE DRAWINGS</heading>
    <p num="21">
      These and other features, aspects, and advantages of the present invention will be more fully understood when considered with respect to the following detailed description, appended claims, and accompanying drawings, wherein:
      <br/>
      FIG. 1 is a semi-schematic simplified block diagram of a phase-lock-loop, configured to provide timing information to a decision circuit;
      <br/>
      FIG. 2 is a series of waveform diagrams illustrating the effects of glitch energy and DC offset on the output of a charge pump;
      <br/>
      FIG. 3 is a semi-schematic simplified circuit diagram of a conventional charge pump design;
      <br/>
      FIG. 4 is a semi-schematic simplified circuit diagram of a charge pump and loop filter coupled to a phase detector in accordance with the prior art;
      <br/>
      FIG. 5 is a simplified semi-schematic circuit diagram of a low offset and low glitch energy high precision charge pump in accordance with the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="22">
      In practical terms, lack of perfect symmetry between sourced and sunk charge pump current selectively adds a small component (a DC offset component, a glitch error component, or both) to the control voltage Vc provided to a VCO.
      <br/>
      These error components selectively shift frequency of a VCO relative to its nominal center frequency.
      <br/>
      Any offset from the center frequency will cause a phase detector's data capture window to shift, thus allowing a portion of data pulse position distribution to fall outside the detection window, and consequently increasing the system's bit error rate.
    </p>
    <p num="23">
      FIG. 4 illustrates, in simplified semi-schematic circuit diagram form, a typical prior art-type three-state charge pump, 15 coupled to receive PUMP UP and PUMP DN signals from a phase detector 28.
      <br/>
      The charge pump is implemented as two switched current sources 30 and 32 driving a capacitor 34 which, in turn, defines an output voltage (VOUT or Vc).
      <br/>
      The charge pump switches are disposed as an upper and lower switch bank, the upper switch bank constructed of a pair of P-channel transistors 36 and 38 coupled at their source terminals to an upper current source 30 and whose drains are connected to the drains of a corresponding pair of N-channel transistors 40 and 42 which define the lower switch bank.
      <br/>
      The lower switch bank transistors have their source terminals connected in common and to the second current source 32.
      <br/>
      For purposes of explanation, it will be assumed that the upper current source 30 is implemented with PFETs and the lower current source 32 is implemented with NFETs, according to well understood design principles.
    </p>
    <p num="24">
      In operation, a PUMP UP pulse of characteristic width T would cause a positive output current +Icp to deposit a charge equal to (Icp T) on the capacitor 34 of a, for example, loop filter.
      <br/>
      Likewise, a PUMP DN pulse of width T would cause a negative current -ICP to remove a charge equal to (ICP T) from the filter capacitor 34.
      <br/>
      Thus, in the case of a phase difference, either a positive charge would steadily accumulate on the capacitor, yielding an infinite DC gain for the phase detector, or charge will be steadily removed from the capacitor on every phase comparison, driving DC gain toward negative infinity.
      <br/>
      In the third state, i.e. "lock" the steady state gain is desirably zero.
    </p>
    <p num="25">
      An important implication to this type of charge pump design is that offsets and mismatches between the PUMP UP and PUMP DN switch transistors would result in currents being either sourced to or sunk from the capacitor even though the phase detector experiences zero static phase difference at the inputs.
      <br/>
      Mismatch error is introduced in the behavior of prior art-type charge pumps by implementing the current source switches from different transistor types, i.e., N-channel and P-channel transistors.
      <br/>
      When these switches turn-off, charge injection and feed-through mismatch, inherent in the different physical properties of P-channel and N-channel transistors, results in an error step at the output which, when fed through the loop filter, perturbs the VCO frequency until the next phase comparison cycle.
      <br/>
      Moreover, when the switches are turned-off, the upper and lower pump currents generated by the respective current sources 30 and 32, pull their respective source nodes to VDD and ground causing charge-sharing between the capacitor 34 and the internal parasitic capacitances of the various transistors, when the switches are once again turned-on.
      <br/>
      Since the internal parasitic capacitances of N-channel and P-channel transistors are significantly different, the output is significantly disturbed at turn-on.
      <br/>
      In addition to disturbing the output at turn-on, the well understood parametric differences between N-channel and P-channel transistors necessarily results in the quantifiable glitches introduced at the output, for PUMP UP and PUMP DN, to be different.
      <br/>
      Consequently, the average output current is non-zero, i.e., contains a DC offset.
    </p>
    <p num="26">
      A high precision charge pump configured for use in very high speed applications, such as data and timing recovery circuitry in broadband data communication systems, is depicted in the simplified semi-schematic circuit diagram of FIG. 5.
      <br/>
      The charge pump, in accordance with the present invention, is seen to be somewhat similar to the conventional charge pump described with reference to FIG. 4, but differs from the prior art design in several significant aspects.
    </p>
    <p num="27">The high precision charge pump, indicated generally at 40 will be understood to be constructed of two parallel current paths, each a mirror image of the other, and both coupled between a pump-up current source 42, connected in turn to VDD, and a pump-down current source (current sink) 44 coupled to VSS.</p>
    <p num="28">
      First current path, i.e., the left current path, is constructed of an upper switch, illustrated in the exemplary embodiment as a P-channel transistor 46, connected in series with a lower switch, illustrated in the exemplary embodiment as an N-channel transistor 48.
      <br/>
      It should be understood that the active elements according to the invention are current switches, and are only represented as MOSFET transistors for ease of explanation.
      <br/>
      Likewise, whether the transistors are N-channel or P-channel, is a matter of design choice.
      <br/>
      One having skill in the art of circuit design will be able to make the appropriate substitutions while still gaining the benefits of the present invention.
    </p>
    <p num="29">
      Similarly, the second current path, the right current path, is constructed of an upper P-channel transistor 50 and a lower N-channel transistor 52.
      <br/>
      The P-channel transistors 46 and 50 are mirror images of one another and have their drain terminals connected together in common and to the pump-up current source 42.
      <br/>
      The lower N-channel transistors 48 and 52 are likewise mirror images of one another and also have their source terminals connected together in common and to the pump-down current source 44.
    </p>
    <p num="30">
      The gate terminals of the matched N-channel transistors 48 and 52 are configured to be operatively responsive to a PUMP DN signal received from a phase detector, for example.
      <br/>
      One of the matched N-channel transistors has its gate terminal coupled directly to the PUMP DN signal while the other matched N-channel transistor has its gate terminal coupled to receive the inverse of the PUMP DN signal, which might be implemented by directing PUMP DN through an inverting buffer.
      <br/>
      Thus, the gate terminal of one of the matched N-channel transistors is coupled to DN, while the gate terminal of the second matched N-channel transistor is coupled to DN.
    </p>
    <p num="31">
      In like fashion, the matched pair of P-channel transistors 46 and 50 are connected to be operatively responsive to the PUMP UP signal with the gate terminal of one of the matched P-channel transistors connected to UP and the gate terminal of the second matched P-channel transistor receiving UP.
      <br/>
      UP is generated by directing UP through an inverting buffer and thence to the gate terminal of the P-channel transistor.
    </p>
    <p num="32">
      An output node is defined by the common drain nodes of the P-channel and N-channel transistors defining one of the parallel current paths.
      <br/>
      Source and sink currents are output to an analog loop filter 54 constructed to include an RC network characterized by a resistor element 56 and a capacitor 58 which define the filter's zero.
      <br/>
      The RC network is coupled between the charge pump output and ground in parallel with a second capacitor 60 which defines the analog loop filter's pole.
    </p>
    <p num="33">
      An amplifier, such as a transconductance (gm) amplifier 62 has a first input connected to a node defined between the resistor element 56 and zero capacitor 58 of the loop filter's RC network.
      <br/>
      A second input of the transconductance amplifier 62 is connected to a second output node defined by the common drain terminals of the second parallel conduction path of the charge pump.
      <br/>
      A dump capacitor 64 is coupled between the second input of the transconductance amplifier 62 and a reference potential in a manner similar to and consistent with the loop filter's zero capacitor 58 and the first input of the transconductance amplifier 62.
      <br/>
      Thus, the two inputs of the transconductance amplifier will be understood to be in static balance with respect to one another, given the appropriate design values for the dump capacitor 64 and zero capacitor 58.
    </p>
    <p num="34">
      The output of the transconductance amplifier 62 is coupled to control a third current source 63 which is connected in parallel fashion to the "down" current source 44 between the transistor elements of the charge pump and VSS.
      <br/>
      Third current source 63 is constructed to conduct an "adjust" current which is nominally zero, and is further constructed to have a limited current conduction range relative to the "down" current source 44.
    </p>
    <p num="35">
      In operation, the transconductance amplifier 62 functions as a feedback element to drive the dump capacitor node (i.e., the second output node of the charge pump) to the same voltage value as the zero capacitor node, by controlling the value of the "adjust" current source 63.
      <br/>
      Since the "adjust" current is nominally zero (i.e., the circuit is balanced) the transconductance amplifier 62 requires very little additional power to operate.
      <br/>
      By maintaining the dump capacitor node and the zero capacitor node at the same voltage during operation of the charge pump, independent of the output voltage of the charge pump, non-linearities and DC offsets developed by the transistor's parasitic capacitances are minimized.
    </p>
    <p num="36">
      Further, the transconductance amplifier 62 forces the common drain nodes of each of the current paths of the charge pump 40 to be maintained at an equi-potential value with respect to one another.
      <br/>
      Thus, transconductance amplifier in combination with the "adjust" current source 63 functions to force the "down" current sunk by the "down" current source 44 to exactly equal the "up" current sourced by the "up" current source 42, in a manner independent of the output voltage of the charge pump.
      <br/>
      Thus, any DC mismatches between the "up" and "down" current sources which could cause offsets in the charge pump output, are removed.
      <br/>
      Since the charge pump output nodes are maintained at an equi-potential level, there is no further voltage dependence of the "up" and "down" current sources on the output voltage and DC offsets in the charge pump output are minimized.
    </p>
    <p num="37">
      It should be realized by one having skill in the art that the third "adjust" current source 63 need not be provided neither as a separate element, nor in parallel with the "down" current source.
      <br/>
      The "adjust" current source might also be partially or wholly provided in parallel with the "pump-up" current source 42.
      <br/>
      Further, the "adjust" current source might be eliminated as a separate element and the amplifier 62 configured to control either the "pump-up" 42 or "pump-down" current sources directly.
    </p>
    <p num="38">
      A high-speed phase lock loop circuit has been described and includes a high precision charge pump circuit with low offset and low glitch energy which functions to maintain the stability of VCO lock by providing source and sink pump currents which are substantially zero over a phase correction cycle.
      <br/>
      The uniformity of source and sink currents is imposed by evaluating the voltages at the common drain nodes of the charge pump's first and second parallel conduction paths by a feedback element.
      <br/>
      The feedback element controls the value of an "adjust" current source so as to drive the two common drain nodes to an equi-potential level.
    </p>
    <p num="39">
      It will be understood that the "adjust" current source can be implemented as an independent current source which has a limited range relative to the "down" current source or it can be implemented in conjunction with the "down" current source as a secondary element controlled by the charge pump's feedback element.
      <br/>
      Likewise, the feedback current may be applied to the "up" current source instead of, or in conjunction with the "down" current source.
    </p>
    <p num="40">
      While the invention has been described in terms of CMOS integrated circuit technology, it will be evident to one having skill in the art that the invention may likewise be suitably implemented in other semiconductor technologies, such as bipolar, bi-CMOS, and the like.
      <br/>
      Moreover, the circuit according to the invention may be constructed from discrete components as opposed to a monolithic integrated circuit, so long as the individual components are matched as closely as possible to one another.
    </p>
    <p num="41">
      It will thus be recognized by those skilled in the art that various modifications may be made to the illustrated and other embodiments of the invention described above, without departing from the broad inventive scope thereof.
      <br/>
      It will be understood, therefore, that the invention is not limited to the particular embodiments or arrangements disclosed, but is rather intended to cover any changes, adaptations or modifications which are within the scope and spirit of the invention as defined by the appended claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A phase lock loop comprising:</claim-text>
      <claim-text>a detector for comparing a phase or frequency characteristic of an input signal to a phase or frequency characteristic of a timing reference signal; a timing reference signal generator, connected in feedback fashion to provide a timing reference signal to the detector; a charge pump connected to receive control signals developed by the detector, the charge pump sourcing and sinking a characteristic current in response to the control signals, the charge pump constructed of two parallel current paths, each a mirror image of the other, and both coupled between a pump-up current source and a pump-down current source, wherein the charge pump includes feedback means coupled between an output and an adjustment current source, the feedback means operative to balance currents in the two parallel current paths so as to minimize DC offsets at the output; each of the two parallel current paths constructed of an upper switch connected in series with a lower switch, the common nodes of each parallel current path defining an output node;</claim-text>
      <claim-text>and a loop filter coupled between the charge pump and the timing reference generator, the loop filter developing a control voltage for the timing reference generator in response to a characteristic current sourced or sunk by the charge pump; wherein a first output node defined by the common nodes of the upper and lower switches defining one of the parallel current paths is coupled to the loop filter; the loop filter including an RC network having a resistor element in series with a first capacitor, together defining a zero of the filter, the RC network coupled between the charge pump's first output and a reference potential in parallel with a second capacitor defining a pole of the filter; the charge pump including a second output node defined by the common nodes of the upper and lower switches defining a second one of the parallel current paths, the second output node coupled to a reference potential through a third capacitor; the feedback means including an amplifier, the amplifier having a first input coupled to a node defined between the resistor element and the first capacitor of the loop filter's RC network, the amplifier having a second input connected to the second output node defined by the common nodes of the second parallel conduction path of the charge pump.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The phase lock loop according to claim 1, the amplifier including an output, the output controlling operation of an adjust current source, the amplifier and adjust current source in combination maintaining the charge pump's second output node at the same voltage as the first output node independent of the operational state of the charge pump.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The phase lock loop according to claim 2, each upper switch comprising a P-channel transistor.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The phase lock loop according to claim 3, each lower switch comprising an N-channel transistor.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The phase lock loop according to claim 4, wherein the amplifier comprises a transconductance amplifier.</claim-text>
    </claim>
  </claims>
</questel-patent-document>