<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185013B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185013</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185013</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="25097592" extended-family-id="42112970">
      <document-id>
        <country>US</country>
        <doc-number>08773229</doc-number>
        <kind>A</kind>
        <date>19961223</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1996US-08773229</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43170973</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>77322996</doc-number>
        <kind>A</kind>
        <date>19961223</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1996US-08773229</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04N   1/56        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>56</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>358520000</text>
        <class>358</class>
        <subclass>520000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>358523000</text>
        <class>358</class>
        <subclass>523000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04N-001/56</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>56</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/56</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>56</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>11</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>7</number-of-drawing-sheets>
      <number-of-figures>7</number-of-figures>
      <image-key data-format="questel">US6185013</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Color printing having a plural highlight color image map in a full color image</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>EDWARDS WALLACE</text>
          <document-id>
            <country>US</country>
            <doc-number>4554241</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4554241</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MCMANUS PAUL A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4670780</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4670780</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SASAKI TAKASHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4682186</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4682186</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>LANGDON MICHAEL J</text>
          <document-id>
            <country>US</country>
            <doc-number>4761669</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4761669</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>DAVIS RANDALL L</text>
          <document-id>
            <country>US</country>
            <doc-number>4894665</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4894665</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>HASEBE MITSUO</text>
          <document-id>
            <country>US</country>
            <doc-number>4907078</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4907078</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>IWATA TSUKASA</text>
          <document-id>
            <country>US</country>
            <doc-number>4908779</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4908779</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>HARRINGTON STEVEN J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5237517</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5237517</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>DALRYMPLE JOHN C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5243414</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5243414</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="10">
          <text>KASSON JAMES M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5390035</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5390035</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="11">
          <text>YOUNG FREDRIC S</text>
          <document-id>
            <country>US</country>
            <doc-number>5416848</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5416848</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="12">
          <text>MORAG GUY, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5517334</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5517334</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="13">
          <text>DILLINGER PAUL H</text>
          <document-id>
            <country>US</country>
            <doc-number>5537228</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5537228</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="14">
          <text>GOODMAN NANCY B, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5557393</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5557393</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="15">
          <text>LAVENDEL LAURENCE A</text>
          <document-id>
            <country>US</country>
            <doc-number>5615320</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5615320</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="16">
          <text>BEACH RICHARD J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5668636</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5668636</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="17">
          <text>YAMASHITA HARUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5691779</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5691779</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Xerox Corporation</orgname>
            <address>
              <address-1>Stamford, CT, US</address-1>
              <city>Stamford</city>
              <state>CT</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>XEROX</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Harrington, Steven J.</name>
            <address>
              <address-1>Webster, NY, US</address-1>
              <city>Webster</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Klassen, R. Victor</name>
            <address>
              <address-1>Webster, NY, US</address-1>
              <city>Webster</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Oliff &amp; Berridge, PLC</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Nguyen, Madeleine</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      Mapping of full color images to two-highlight color images which provides excellent results for both pictorial image and presentation graphics applications is described.
      <br/>
      Shades and tints for each hue in the original full color image are mapped to a corresponding triangle of colors in a tetrahedral of possible colors defined by the two highlight colors.
      <br/>
      The apex of the triangle of colors is varied within the tetrahedral of possible colors according to hue.
      <br/>
      Differentiations in the result colors for the fully saturated cases is provided while preserving the relative saturation and lightness behavior.
      <br/>
      The triangle of colors maps to a first triangle bordering one side of the tetrahedral, the first triangle corresponding to a first one of the highlight colors or a second triangle bordering another side of the tetrahedral, the second triangle corresponding to a second one of the highlight colors when the hue of the original colors matches one of the highlight hues.
      <br/>
      Mappings may be provided for printers using arbitrary highlight colors.
      <br/>
      The mappings preserve information important to the viewer without discarding dimensions of the color space.
      <br/>
      Different information can be preserved depending upon the particular application.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="2">
      This invention relates to color printing having a plural highlight color image mapped from a full color image.
      <br/>
      More particularly, this invention is directed to multiple highlight color printing which preserves information important to the viewer.
    </p>
    <p num="3">2. Description of the Related Art</p>
    <p num="4">
      Color images are a significant element in today's printing industry.
      <br/>
      As a result, electronic color printers and color image creation tools have been increasingly developed to obtain color images using electronic printing methods.
      <br/>
      Color printing is often performed using full color.
      <br/>
      The gamut of colors includes tints and shades of a full color spectrum--reds, greens, blues and their combinations.
    </p>
    <p num="5">
      A significant amount of color printing, however, can be performed using highlight color printing rather than full color printing.
      <br/>
      In highlight color printing, when a single highlight color is used, only two inks are used in the printing process.
      <br/>
      These inks are black and a highlight color, which is often red or blue.
      <br/>
      Electronic printers may be designed specifically for highlight color printing.
      <br/>
      A highlight color printer is generally faster and less expensive than a full color printer, as only two inks are processed, rather than the three or four inks which must be processed in order to obtain full color images.
    </p>
    <p num="6">
      The gamut of full colors is a three-dimensional volume which can be represented by the double hexagonal cone 10 illustrated in FIG. 1.
      <br/>
      In this representation, shades vary from dark to light as one moves upwards from the black vertex.
      <br/>
      Tints vary from unsaturated grays to fully saturated colors as one moves out radially from a central axis.
      <br/>
      Hues vary as one moves angularly in a horizontal plane.
    </p>
    <p num="7">
      The gamut of colors available to a single highlight color printer can be represented by the two-dimensional triangle 13 illustrated in FIG. 2.
      <br/>
      This is a slice from the full color double-hexagonal cone of FIG. 1 at the angle of the highlighted hue.
    </p>
    <p num="8">
      Prior attempts to print a full color image on a highlight color image involve mapping the three-dimensional double hexagonal cone of FIG. 1 to a two-dimensional triangular slice of colors within the double-hexagonal cone.
      <br/>
      The highlight color printer attempts to render the highlight color image by mapping the full color specification onto the set of colors which it can produce.
      <br/>
      In this mapping, many different colors in the full color space are mapped to the same color in the highlight color space.
      <br/>
      This information important to the viewer is often lost.
    </p>
    <p num="9">
      U.S. Pat. No. 4,554,241 to Edwards discloses a method of printing a realistic image of an original on a sheet.
      <br/>
      Two printing plates are used to print different impressions with two different coloring media.
    </p>
    <p num="10">
      U.S. Pat. No. 4,636,839 to Cole et al. discloses a method and an apparatus for generating color matte signals.
      <br/>
      RGB color components are calculated from hue, saturation and luminance value inputs.
      <br/>
      A new luminance value Y and color difference components CR and CB are calculated from these RGB values.
      <br/>
      Various algorithms are disclosed which are used for color calculation.
    </p>
    <p num="11">
      U.S. Pat. No. 4,670,780 to McManus et al. discloses a method for matching hard copy colors to display colors for registered ink jet copiers.
      <br/>
      A color transformation for matching hard copy color to display color includes an MSW color space which restricts the hard copy color to certain percentages of binary mixtures of inks (M), single inks (S) and paper white (W).
      <br/>
      Color data in the XYZ space is converted to the MSW space.
      <br/>
      Unreachable display colors are matched into reachable hard copy colors.
      <br/>
      Corrections for color shifts due to interactions of the inks are also disclosed.
    </p>
    <p num="12">
      U.S. Pat. No. 4,761,669 to Langdon discloses an electrophotographic highlight color printing machine in which printing is done in at least two different colors.
      <br/>
      Methods for transferring multiple color images simultaneously are disclosed.
    </p>
    <p num="13">
      U.S. Pat. No. 4,682,186 to Sasaki et al. discloses a method for forming a color image.
      <br/>
      The color image is formed by using a plurality of coloring materials and controlling quantities of the coloring materials.
      <br/>
      When a density to be reproduced exceeds the density reproducible for that coloring material, the quantities of other coloring materials are reduced.
    </p>
    <p num="14">
      U.S. Pat. No. 4,907,078 to Hasebe discloses a method of reproducing color images.
      <br/>
      Two charge-coupled devices of different wavelengths are used to scan a full color document.
      <br/>
      The outputs of the charge-coupled devices are fed into a lookup table to determine the appropriate color in a two-color system.
      <br/>
      The output from the table is then recorded on a piece of paper.
      <br/>
      The system can be used for any type of copier.
    </p>
    <p num="15">
      U.S. Pat. No. 4,894,665 to Davis discloses a method of generating an expanded color set of a low resolution color printer.
      <br/>
      The four-color printer can be expanded to twelve colors by printing a black dot next to a line to make the line seem darker.
      <br/>
      Two algorithms are provided for determining whether or not a line is critical and for enhancing a line.
    </p>
    <p num="16">
      U.S. Pat. No. 4,908,779 to Iwata discloses a display pattern processing apparatus.
      <br/>
      The system can be programmed to convert a full color image into a number of other formats.
      <br/>
      An example is shown where an RGB image is converted into a two-color image.
    </p>
    <p num="17">
      U.S. Pat. No. 5,237,517 to Harrington et al. discloses a method and an apparatus for mapping from a full color specification to a highlight color.
      <br/>
      The full color image is sent to a highlight printer using only a single highlight color.
      <br/>
      Harrington shows that mapping to a restricted set of colors entailed a loss of information.
    </p>
    <p num="18">
      The article entitled, "Reproducing Color Images as Duotones", Joanne Power et al., 1996 SIGGRAPH PROCEEDINGS, pp. 237-248, discloses a method of mapping a full color image to a two-color print.
      <br/>
      The reference describes utilizing an orthogonal system to define the printable color gamut and then transforms the image colors along two directions and uses parallel projections along the third.
      <br/>
      The method provides one of the orthogonal directions corresponding to the Y-axis of the XYZ color space and initially transforms in this direction.
      <br/>
      This method tends to have the effect of reducing the available black values, and therein negatively affects pictorial images.
    </p>
    <p num="19">
      While these references attempted to map a full color image to a highlight color image, they did not fully account for the need for mapping due to different image types.
      <br/>
      These different image types include pictorial images and presentation graphic images.
      <br/>
      These image types typically encode their useful information in different manners.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="20">This invention provides a method and an apparatus for mapping a full color image to a plural highlight color image while preserving information important to the viewer.</p>
    <p num="21">This invention also provides a method and an apparatus for mapping a full color image to a plural highlight color image, where the method and apparatus work with various types of images.</p>
    <p num="22">This invention further provides a method and an apparatus for mapping a full color image to a plural highlight color image such that different types of information are preserved in accordance with the type of original image being mapped.</p>
    <p num="23">
      In this invention, mapping full color images to plural highlight color images preserves information which is important to the viewer.
      <br/>
      This invention uses two-highlight colorants in addition to black.
      <br/>
      The full color to two-highlight color mapping for pictorial images uses a system that preserves luminance.
      <br/>
      The highlight colors are used only where they are present in the original image.
      <br/>
      The amount of a color present in the original image is defined by the chrominance vectors.
      <br/>
      The chrominance vectors may be obtained by a transformation to a luminance-chrominance space.
      <br/>
      Given a color source, the amount of highlight colorant in the proposed mapping can be determined.
      <br/>
      The amount of highlight color ink for each highlight color is based upon a relationship between the chrominance components of the source color and the highlight color and the magnitude of the source chrominance relative to that of the highlight color.
      <br/>
      Thereafter, the amount of white and black to be contributed to the mapping can be determined.
    </p>
    <p num="24">
      The mapping for presentation images converts the source color to a special color coordinate system.
      <br/>
      The transformation also converts both highlight colors to the special color system.
      <br/>
      Once the colors are converted, the is content of the special color coordinates is analyzed.
      <br/>
      The amount of highlight colorant is determined and then modified to provide the proper lightness and saturation.
    </p>
    <p num="25">In situations wherein the original image includes both pictorial objects and presentation object types on the same page, the method of the present invention identifies the particular object type at a particular portion of the original full color image and then applies a mapping appropriate for the identified object type.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="26">
      The invention will be described in detail with the reference to the following drawings in which like-referenced numerals refer to like elements and wherein:
      <br/>
      FIG. 1 illustrates the three-dimensional full color space;
      <br/>
      FIG. 2 illustrates the three-dimensional tetrahedral of colors available to a highlight printer;
      <br/>
      FIG. 3 illustrates a locus of fully saturated colors for two arbitrary highlight colors;
      <br/>
      FIG. 4 illustrates a two-dimensional triangle of colors printable by a two-highlight color printer for any given hue;
      <br/>
      FIG. 5 illustrates a mapping function for the presentation graphics;
      <br/>
      FIG. 6 illustrates a flow chart for implementing a portion of a mapping of the present invention; and
      <br/>
      FIG. 7 illustrates a block diagram of a device for mapping a full color image to a two-highlight color image.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="27">
      As shown in FIGS. 2 and 3, a tetrahedral section 4 defines the highlight color space 2 of the different colors available to a two-highlight-color printer.
      <br/>
      The tetrahedral section 4 is bounded on its sides by triangles 18 and 20.
      <br/>
      The triangles 18 and 20 correspond to the colors that can be produced using black and the first and second highlight colors, respectively.
      <br/>
      The highlight color triangles 18 and 20 have apexes 6 and 8, respectively.
      <br/>
      The apex 6 corresponds to the first highlight color.
      <br/>
      The apex 8 corresponds to the second highlight color.
      <br/>
      Points 10 and 12 define the amounts of white and black, respectively, available to the two-highlight-color printer.
    </p>
    <p num="28">
      To preserve information desirable on both presentation graphics applications and pictorial image applications, deriving diverse colors for fully saturated hues in the full color image while still preserving the basic luminance and saturation behavior is desirable.
      <br/>
      For any given hue, the tetrahedral section 4 of colors will be mapped to a triangular slice of available printer colors 22.
      <br/>
      As shown in FIG. 4, the fully saturated color for a given hue maps to the apex 24 of the result color triangle 22.
      <br/>
      The position of the apex 24 varies according to hue.
      <br/>
      If the hue matches that of one of the highlight colors, the apex 24 of the resulting color triangle 22 will coincide with one of the apexes 6 or 8 of one of the triangles 18 or 20 of the highlight colors.
      <br/>
      The mapping will be the identity for the triangle corresponding to the highlight color.
      <br/>
      For other hues, the apex 24 will be at some point within the tetrahedral section 4 of the possible colors.
      <br/>
      The set of apex points for different hues defines the set of highlight colors generated by the mapping of fully saturated colors.
    </p>
    <p num="29">
      The information that needs to be preserved depends upon how the color is being used.
      <br/>
      For pictorial images, most of the information lies in the luminance.
      <br/>
      For this reason, black and white photographs are easily recognizable.
      <br/>
      The hue in pictorial images is of secondary importance.
      <br/>
      For example, it is desirable to view a color image in which the sky is blue, the grass is green and faces are of flesh tones.
      <br/>
      When color is used to highlight an image, the information derived is from the presence or absence of color rather than a grey level.
      <br/>
      The colored area with the same luminance as a grey area should look different.
      <br/>
      Highlight color documents may also vary in this situation.
    </p>
    <p num="30">
      In presentation graphics, such as graphs and charts, in contrast, most of the information is in the hue.
      <br/>
      In presentation graphics applications, strongly saturated colors are usually selected for impact, using hue to differentiate the colors.
      <br/>
      The principles for mapping a presentation graphic from a full color image to a black and two-highlight color image include: (1) keeping colors in either of the highlight hues the same before and after mapping, (2) preserving the relative lightness and saturation behavior of a hue, (3) mapping non-neutral colors to non-neutral colors, and (4) mapping fully saturated colors to a distinct set.
    </p>
    <p num="31">
      In order to output an image on a black plus two-highlight-color printer from a full color image, the colors in the original image must be mapped from the full color space to the two-highlight-color space.
      <br/>
      In this invention, none of the colorants should overlap.
      <br/>
      This arises naturally when using black ink with the two highlight colors.
      <br/>
      Specifically, this arises because overlapping the highlight color with black simply yields black, rather than producing new colors.
      <br/>
      Further, this arises when using highlight colors such as red, green and blue, as overlapping these colors generates black.
      <br/>
      This is unnecessary and redundant when a printer has black ink available.
    </p>
    <p num="32">
      However, this does not naturally arise when using subtractive inks which remove a narrower portion of the spectrum.
      <br/>
      These inks include cyan, magenta and yellow.
      <br/>
      In particular, overlapping these colors produces new colors.
      <br/>
      The mapping described herein is designed to work for an arbitrary choice of highlight colors.
      <br/>
      As such, the mapping works under the more restrictive conditions of non-overlapping inks.
      <br/>
      This approach is taken even though it reduces the gamut of mapped colors over the gamut available for some choices of colors and some printing technologies.
      <br/>
      However, this is not intended to limit the invention to the more restrictive approach.
      <br/>
      Highlight colors, which allow for less restrictive conditions, may also be selected for implementing the invention.
    </p>
    <p num="33">
      When working with presentation graphics images, this invention provides a mapping that initially converts a source color to a special color coordinate system.
      <br/>
      This special color coordinate system includes three coordinates U, V and W. The first coordinate U defines the strength of the source color in the first highlight color.
      <br/>
      The second coordinate V defines the strength of the source color in the second highlight color.
      <br/>
      The transformation converts the first highlight color (Rh1, Gh1, Bh1) to (1, 0, 0) and the second highlight color (Rh2, Gh2, Bh2) to (0, 1, 0), while white (1, 1, 1) is unchanged.
      <br/>
      The transformation can be expressed as a matrix M, giving the transform color coordinates UVW for a source color RS, GS, BS as by:
      <br/>
      �UVW�=�RS GS BS �M,
    </p>
    <p num="34">
      where M is:
      <br/>
      M=N-1 T
    </p>
    <p num="35">where  (Equation image '1' not included in text)</p>
    <p num="36">It should be appreciated that, if the first and second highlight colors are chosen from red, green and blue, the M transformation matrix becomes a simple exchange of coordinates.</p>
    <p num="37">
      This transformation enables the mapping of colors in either of the two-highlight hues onto themselves.
      <br/>
      However, for highlight colors other than red, green or blue, this transformation can lead to transformed coordinate values outside the range of 0 to 1.
      <br/>
      The transformed color values can be brought back into the 0 to 1 range by first adding to all three components the value of any component less than 0.
      <br/>
      Then all three components are divided by their largest component greater than 1.
      <br/>
      In particular:
    </p>
    <p num="38">1. if (U&lt;0) V=V-U, W=W-U, U=0;</p>
    <p num="39">
      - if (V&lt;0) U=U-V, W=W-V, V=0;
      <br/>
      - if (W&lt;0) U=U-W, V=V-W, W=0;
      <br/>
      2. if (U&gt;1) V=V/U, W=W/U, U=1;
      <br/>
      - if (V&gt;1) U=U/V, W=W/V, V=1;
      <br/>
      - if (W&gt;1) U=U/W, V=V/W, W=1.
    </p>
    <p num="40">
      It should be noted that if the highlight colors are chosen from the set of red, green and blue, the transformation will leave all colors within the 0 to 1 range.
      <br/>
      Thus, this clamping stage will not be necessary.
      <br/>
      Once the source colors are converted to the special color coordinate system, the transformed colors are examined to determine how much white the transformed color contains, how much saturated color the transformed color contains, and the mapping for the most saturated color in the transformed color hue.
      <br/>
      The mapping for the most saturated color is defined by the amount of each of the three colorants to be used.
      <br/>
      The mapping used is illustrated in FIG. 5.
    </p>
    <p num="41">
      The minimum of the three color components of the special color coordinate system is taken as a measure of the amount of white (m) present.
      <br/>
      The difference between the maximum and the minimum components is used as a measure of the amount of chrominance (d) present.
      <br/>
      The amount of the first highlight color for the most saturated color is calculated as f1, the amount of the second highlight color as f2, and the amount of black is f3.
      <br/>
      The calculation is done by dividing the color space into six regions according to the ordering of the color components and then determining the parameters according to the functions for each region.
      <br/>
      The precise method is given by the following program fragment:
    </p>
    <p num="42">
      --
      <br/>
      -- if (U &gt; V)
      <br/>
      --    +if (V &gt; W)
      <br/>
      --      +m=W; d=U-W; f1=(1+(U-V)/U)/2; f2=(1+(V-U)/U/2; f3=0;}
      <br/>
      --    else
      <br/>
      --      +if (U&gt;W)
      <br/>
      --           +m=V; d=U-V; f1=((U-V-W)/U+2)/3; f2=0; f3=0}
      <br/>
      --      else
      <br/>
      --        +m=V; d=W-V; f1=((U-V-W)/W+2)/3; f2=((V-U-W)/W+2)/3; f3=(1-U/W)/6;}
      <br/>
      --           }
      <br/>
      --      }
      <br/>
      -- else
      <br/>
      --    +if (U &gt; W)
      <br/>
      --      +m=W; d=V-W; f1=(1+(U-V)/V)/2; f2=(1+(V-U)/V)/2; f3=0;}
      <br/>
      --    else
      <br/>
      --      +if (V &gt; W)
      <br/>
      --        +m=U; d=V-U; f1=0; f2=((V-U-W)/V+2)/3; f3=0;}
      <br/>
      --      else
      <br/>
      --        +if(W�=0)
      <br/>
      --         +m=U, d=W-U; f1=((U-V-W)/W+2)/3; f2=((V-U-W)/W+2)/3; f3=(1-
      <br/>
      --           V/W)/6;}
      <br/>
      --        else
      <br/>
      --         +m=0; d=0; f1=0; f2=0; f3=1;}
      <br/>
      --         }
      <br/>
      --      }
      <br/>
      -- }
    </p>
    <p num="43">
      The mapping then modifies the values f1, f2 and f3 which represent the mapping for the most saturated color.
      <br/>
      The f1, f2 and f3 values are altered by m and d to give the proper lightness and saturation behavior.
      <br/>
      The amounts of the two-highlight colorants (h1 and h2) are given by:
      <br/>
      h1=f1 * d; and
      <br/>
      h2=f2 * d.
    </p>
    <p num="44">
      The amount of white for the most saturated color (ws) is:
      <br/>
      ws=1-f1-f2-f3.
    </p>
    <p num="45">
      The amount of white in the final mapped color (w) is:
      <br/>
      w=ws * d+m.
    </p>
    <p num="46">
      The amount of black colorant (k) will thus be:
      <br/>
      k=max(0,1-h1-h2-w).
    </p>
    <p num="47">
      The mapping described above works for arbitrary colorants, except for opposing colors, such as red and cyan.
      <br/>
      In that case, the transformation into the UVW coordinates cannot be defined.
      <br/>
      These cases can be handled by artificially perturbing one of the colorant coordinates away from the singular case.
    </p>
    <p num="48">
      For pictorial applications, it is important to preserve luminance.
      <br/>
      Luminance accounts for white and black, but luminance also includes the eye sensitivity to different hues.
      <br/>
      For example, blues look darker than yellows.
      <br/>
      While a picture is quite recognizable, dark hues such as blue may be mapped to lighter colors than light hues such as yellow.
      <br/>
      Even more significant are some unpleasant color shifts.
      <br/>
      For example, when blue highlight color is used, unnatural blue fleshtones can be obtained in a mapped highlight color image.
    </p>
    <p num="49">Full color pictorial images can also be mapped into arbitrary highlight colors while preserving luminance and including no more of a highlight color than was present in the full color image.</p>
    <p num="50">
      In pictorial images, the mapping should not specify more of the highlight colors than is present in the original sample.
      <br/>
      To achieve this, however, how much of one color is present in another color must be defined.
      <br/>
      This can be achieved by expressing colors in the original full color image and in the two highlight colors in the YES coordinate system.
    </p>
    <p num="51">
      In this coordinate system, Y is the luminance, while E and S are the chrominance components.
      <br/>
      The E coordinate is the red-green scale; the S coordinate is the yellow-blue scale.
      <br/>
      Using the YES coordinate system, the measure of color similarity is based on the chrominance components.
      <br/>
      The Y, E and S values are determined as:
      <br/>
      Y=0.253r+0.684g+0.063b;
      <br/>
      E=(r-g)/2; and
      <br/>
      S=(r+g)/4-b/2;
    </p>
    <p num="52">
      where r is the amount of red in the image; g is the amount of green in the image; and b is the amount of blue in the image.
      <br/>
      Each of these coordinates is determined for each of the highlight colors and the sample color of the full color image.
    </p>
    <p num="53">
      If the two highlight colors are referred to as H1 and H2, their color coordinates can be measured and transformed into YES values.
      <br/>
      After the transformation, the luminance of the highlight colors H1and H2 are labeled as YH1 and YH2, respectively.
      <br/>
      Similarly, the chrominance vectors are �EH1, SH1 � and �EH2, SH2 �, respectively.
      <br/>
      For a particular source color YS, ES, SS, this invention determines the amount of color to use for the two highlight colors H1 and H2, and black.
      <br/>
      The amount of each highlight color in this mapping is proportional to the cube of the cosine of the angle between the chrominance components of the source color and the highlight color, and the magnitude of the source chrominance relative to that of the highlight color chrominance.
      <br/>
      The amount of highlight color is calculated as:
      <br/>
      h1 =(ES EH1 +SS SH1)3 /((ES2 +SS2) EH12 +SH12)2)
      <br/>
      h2 =(ES EH2 +SS SH2)3 /((ES2 +SS2) (EH22 +SH22)2).
    </p>
    <p num="54">
      Enough white must be added to make up the difference between the luminance desired and the luminance contributed by the two highlight colors.
      <br/>
      Thus:
    </p>
    <p num="55">w=YS -YH1 * YH2 * h2.</p>
    <p num="56">
      Black is thus the area which is not a highlight color or white:
      <br/>
      k=1-h1 -h2 -w.
    </p>
    <p num="57">All values should be clamped to the physically meaningful range of 0 to 1.</p>
    <p num="58">
      FIG. 7 is a block diagram of a system 100 representative of the invention.
      <br/>
      The system 100 includes a programmed general purpose computer 110, a printer 120 and input means 125 for inputting a full color image.
      <br/>
      The computer 110 may also be implemented on a special purpose computer, a programmed microprocessor or microcontroller and peripheral integrated circuit elements, an ASIC or other integrated circuit, a hardwired electronic or logic circuit such as a discrete element circuit, a programmable logic device such a PLD, PLA or PAL, or the like.
      <br/>
      Input means 125 may be for example a scanner.
      <br/>
      The printer 120 is coupled to the computer 110 in a conventional manner.
      <br/>
      The computer 110 includes a CPU 130, a memory element 140 for storing a control program, a memory element 145 and data processing means 150.
      <br/>
      The memory elements 140 and 145 may be static or dynamic RAM or some type of ROM.
      <br/>
      The system also includes processing means 150.
      <br/>
      In accordance with the control program, the processing means 150 generates values for a color space corresponding to a complete set of possible colors for the highlight color printer 120.
      <br/>
      The processing means 150 further determines a location of a fully saturated color and a generated color space corresponding to a hue from the full color image.
      <br/>
      The system 100 further includes mapping means 160 for mapping the generated color space to a space of printable colors defined by the hue of the full color image.
      <br/>
      The processing means 150 converts colors of the full color image to the UVW coordinate system or the YES coordinate system, depending upon the type of full color image.
    </p>
    <p num="59">
      When the source color is converted to the UVW system, the processing means 150 determines the most saturated color, a first highlight color amount in the most saturated color, a second highlight color amount in the most saturated color and a black amount.
      <br/>
      Thereafter, the first highlight color amount in the most saturated color, the second highlight color amount in the most saturated color and the black amount are altered to preserve luminance and saturation with respect to the full color image.
      <br/>
      The altered amounts represent the amounts of the first highlight color and the second highlight color to be used in printing out the two highlight color image.
      <br/>
      Once the first highlight color amount, the second highlight color amount and black are determined, these values are sent to the printer 120 for outputting an image.
    </p>
    <p num="60">
      The mappings from full color to two-highlight-color, as described above, provide excellent results for both pictorial image application and presentation graphic applications.
      <br/>
      The shades and tints for each hue are mapped to a corresponding triangle of colors in the tetrahedral section 4 formed by the triangular planes of the two highlight hues.
      <br/>
      The apex 24 of the triangle 22 of resulting colors 18 and 20 varies within the tetrahedral section 4 of possible result colors according to a hue.
      <br/>
      Differentiations are provided in the resulting color for the fully saturated cases while preserving relative saturation and lightness behavior.
      <br/>
      The triangle 22 of resulting colors can exactly match a triangle of possible colors when the original hue matches one of the highlight hues.
      <br/>
      Thus, highlight colors can be specified in a manner consistent with full color specifications.
    </p>
    <p num="61">
      There may be instances when a full color image includes more than one type of image object or region, i.e. both pictorial and presentation elements.
      <br/>
      Each of the objects or regions will require mapping to the appropriate available printable colors.
      <br/>
      Regardless of whether the mapping is applied when the page is assembled or applied at a later point in time, the object or region type information can be used to identify the type of mapping used on a particular portion of the full color image.
      <br/>
      Specifically, if the image portion is identified as a pictorial type, the pictorial mapping will be applied to that portion of the image and if the image portion is identified as a presentation type, the presentation mapping will be applied.
      <br/>
      This allows for the highest degree of fidelity between a multi-type full color image and a corresponding two-highlight color image.
    </p>
    <p num="62">
      While this invention has been described in conjunction with the specific embodiments outlined above, it is evident that many alternatives, modifications and variations will be apparent to those skilled in the art.
      <br/>
      For example, the color mappings can be used for three-color printers as well as two-highlight color printers.
      <br/>
      In three-color printers, there may also be limitations which make mappings useful.
    </p>
    <p num="63">
      Accordingly, the preferred embodiments of the invention as set forth herein are intended to be illustrative, not limiting.
      <br/>
      Various changes may be made without departing from the spirit and scope of the invention as defined in the following claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>We claim:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method of converting a full color image to a two-highlight color image producible by a two-highlight color printer comprising the steps of:</claim-text>
      <claim-text>defining a substantially tetrahedral color space comprising a complete set of possible colors for the two-highlight color printer; determining a hue for any given color in the full color image; defining a triangle of printable colors, being a subset of the tetrahedral color space, for the hue for any color in the full color image;</claim-text>
      <claim-text>and mapping the given color to a point in the triangle.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1, wherein the full color image includes at least two object types requiring different mapping and further comprising identifying regions having each of the at least two object types and selectively converting the regions dependent upon an identified type.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 1, wherein the triangle of printable colors is defined according to an amount of the two highlight colors present in the full color image.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 1, wherein the triangle of printable colors is defined by vertices of a first color white, a second color black and a third color.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A method of claim 4, wherein the third color is dependent upon the hue.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A method of mapping a full color image to a two-highlight-color image producible by a printer comprising the steps of: converting a source color, of numerous possible colors, of the full color image to a special color coordinate system (U V W); determining a most saturated color of the source color; determining a first highlight color amount present in the most saturated color (f1) based upon the converted source color coordinate; determining a second highlight color amount present in the most saturated color (f2) based upon the converted source color coordinate; determining a black amount in the most saturated color (f3) based upon the converted source color coordinate;</claim-text>
      <claim-text>and altering the first highlight color amount, the second highlight color amount and the black amount to preserve lightness and saturation behavior from the full color image.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 6, wherein the special coordinate system has three coordinates, a first coordinate of the special coordinate system representing a strength of the source color in the first highlight color and a second coordinate of the special coordinate system representing the strength of the source color in the second highlight color.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 6, further comprising converting the source color from (RS, GS, BS) to (U V W) by a transformation M.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 8, further comprising: defining a minimum of the coordinates (U V W) as an amount of white (m) present in the two highlight color image, the difference between the maximum of the three components of the coordinates (U V W) and the minimum of the three components of the coordinates (U V W) is taken as an amount of chrominance (d) present in the two-highlight color image.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A method as recited in claim 9, further comprising: defining the amount of first highlight color in the most saturated color (f1), the amount of second highlight color in the most saturated color (f2) and black in the most saturated color (f3) in the two-highlight color image based upon a relationship between the three components of the coordinates (U V W).</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A method as recited in claim 10, wherein the first highlight color amount present in the most saturated color is altered in accordance with the amount of chrominance present in the two-highlight color image, the second highlight color amount present in the most saturated color is altered in accordance with the amount of chrominance in the two-highlight color image, the amount of white for the most saturated color in the two-highlight color image (ws) is determined by (1-f1-f2-f3), the amount of white in the final mapped color (w) is determined by ws*d+m and the amount of black is selected from the greater of zero and (1-h1-h2-w).</claim-text>
    </claim>
  </claims>
</questel-patent-document>