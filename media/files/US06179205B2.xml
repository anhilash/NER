<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06179205B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06179205</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6179205</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="21883947" extended-family-id="606289">
      <document-id>
        <country>US</country>
        <doc-number>09035647</doc-number>
        <kind>A</kind>
        <date>19980305</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09035647</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>620953</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>3564798</doc-number>
        <kind>A</kind>
        <date>19980305</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09035647</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G07F   7/10        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>10</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>235382000</text>
        <class>235</class>
        <subclass>382000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>235379000</text>
        <class>235</class>
        <subclass>379000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>902004000</text>
        <class>902</class>
        <subclass>004000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G07F-007/10D</text>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>007</main-group>
        <subgroup>10D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G06Q-020/341</text>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>341</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G06Q-020/4097</text>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>4097</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>G07F-007/08G2P</text>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>007</main-group>
        <subgroup>08G2P</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G07F-007/1008</classification-symbol>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>1008</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06Q-020/341</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>341</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06Q-020/4097</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>Q</subclass>
        <main-group>20</main-group>
        <subgroup>4097</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G07F-007/0886</classification-symbol>
        <section>G</section>
        <class>07</class>
        <subclass>F</subclass>
        <main-group>7</main-group>
        <subgroup>0886</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>15</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>11</number-of-drawing-sheets>
      <number-of-figures>19</number-of-figures>
      <image-key data-format="questel">US6179205</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">System and method for locking and unlocking and application in a smart card</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>WHITE PETER</text>
          <document-id>
            <country>US</country>
            <doc-number>4630201</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4630201</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>UGON MICHEL</text>
          <document-id>
            <country>US</country>
            <doc-number>4656342</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4656342</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>KAWANA SHIGEYUKI</text>
          <document-id>
            <country>US</country>
            <doc-number>4746788</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4746788</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>ALANAERAE SEPPO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5266782</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5266782</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>LARSSON STIG B, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5379344</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5379344</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>FUJIOKA SHUZO</text>
          <document-id>
            <country>US</country>
            <doc-number>5698836</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5698836</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>GARCIA AGUILERA JOSE MARIA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5854976</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5854976</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>ADAMS ROBERT THEODORE, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5873100</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5873100</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>NAKANO MISUZU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5987438</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5987438</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="10">
          <text>KURIYAMA RYOUICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>6044470</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6044470</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>OOGITA YOSHINORI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5065155</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5065155</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>SIEMENS AG</text>
          <document-id>
            <country>DE</country>
            <doc-number>3632294</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE3632294</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>B ET DEV</text>
          <document-id>
            <country>FR</country>
            <doc-number>2637710</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>FR2637710</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>ASCHENBROICH YVES</text>
          <document-id>
            <country>FR</country>
            <doc-number>2665279</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>FR2665279</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>JONIC UTVECKLINGS AB</text>
          <document-id>
            <country>WO</country>
            <doc-number>9110971</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9110971</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>ENCO TONE LTD, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9417498</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9417498</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Carol Hovenga Fancher, "In Your Pocket SmartCard", Feb. 1997, IEEE Spectrum.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>Chaum et al., "SmartCard 2000: The Future of IC Cards", Oct. 19, 1987, Elsevier Science Publishers, B.V.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>Steven Levy, "E-Money (That's What I Want)", Dec. 1994, Wired Magazine.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="4">
          <text>Carol H. Fancher, "Smart Cards as Potential Applications Grow, Computers in the Wallet are Making Unobstrusive Inroads", Aug. 1996, Scientific American Website.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="5">
          <text>Jerome Svigals, "SmartCards The New Bank Cards", 1985, MacMillan Publishing Company. No Month Available.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="6">
          <text>Roy Bright, "SmartCards: Principles, Practice, Applications", Ellis Horwood Limited. 1988, No Month Available.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="7">
          <text>Jerome Svigals, "SmartCards The Ultimate Personal Computer", 1985, MacMillan Publishing Company. No Month Available.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="8">
          <text>Hawkes et al., "Integrated Circuit Cards, Tags and Tokens", 1990, BSP Professional Books. No Month Available.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="9">
          <text>Hiro Shogase, The Very Smart Card: A Plastic Packet Bank:, Oct. 1988, IEEE Spectrum.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="10">
          <text>David Naccache, "Cryptographic Smart Cards", Jun. 3, 1996, IEEE Micro 1996 Website.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="11">
          <text>Zoreda et al., "Smart Cards", 1994, Artech House. No Month Available.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="12">
          <text>"Identification Card Systems-Inter-Sector Electronic Purse Part I: Concepts and Structures", Oct. 1994, European Standard, prEN 1546.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="13">
          <text>"Identification Card Systems-Inter-Sector Electronic Purse Part 2: Security Architecture", Jan. 1994, European Standard, prEN XXXXX-2.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="14">
          <text>"Identification Card System-Inter-Sector Electronic Purse Part 3: Data Elements and Interchanges", Dec. 1994, European Prestandard, prEN 1546-3.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="15">
          <text>"Identification Card System-Inter-Sector Electronic Purse Part 4: Devices", Oct. 1994, European Prestandard, prEN 1546-4.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="16">
          <text>"Identification Cards-Integrated Circuit(s) Cards With Contacts Part 1: Physical Characteristics", Jul. 1987, International Standard, ISO 7816-1, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="17">
          <text>"Identification Cards-Integrated Circuit(s) Cards With Contacts Part 2: Dimensions and Location of the Contacts", May 1988, International Standard, ISO 7816-2, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="18">
          <text>"Identification Cards-Integrated Circuit(s) Cards With Contacts Part 3: Electronic Signals and Transmission Protocols", Sep. 1989, International Standard, ISO/IEC 7816-3, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="19">
          <text>"Identification Cards-Integrated Circuit(s) Cards with Contacts Part 4: Inter-Industry Commands for Interchange", Jul. 1994, International Standard, ISO/IEC 7816-4, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="20">
          <text>"Identification Cards-Integrated Circuit(s) Cards With Contacts Part 5: Numbering System and Registration Procedure for Application Identifiers", Mar. 1993, International Standard, ISO/IEC DIS 7816-5.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="21">
          <text>"International Cards-Integrated Circuit(s) Cards With Contact Part 6: Inter-Industry Data Elements", Jul. 1995, International Standard, ISO/IEC DIS 7816-6.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="22">
          <text>"Bank Cards-Magnetic Stripe Data Content For Track 3", Jul. 1987, International Standard, ISO 4909 Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="23">
          <text>"Identification Cards-Physical Characteristics", Aug. 1995, International Standard, ISO/IEC 7810, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="24">
          <text>"Identification Cards-Recording Technique-Part 1: Embossing", Aug. 1995, International Standard, ISO/IEC 7811-1, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="25">
          <text>"Identification Cards-Recording Technique-Part 2: Magnetic Strip", Aug. 1995, International Standard, ISO/IEC 7811-2, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="26">
          <text>"Identification Cards-Recording Technique-Part 3: Location of Embossed Characters on ID-1 Cards", Aug. 1995, International Standard, ISO/IEC 7811-3, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="27">
          <text>"Identificaiton Cards-Recording Technique-Part 4: Location of Read-Only Magnetic Tracks-Tracks 1 &amp; 2", Aug. 1995, International Standard, ISO/IEC 7811-4, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="28">
          <text>"Identification Cards-Recording Technique-Part 5: Location of Read-Write Magnetic Track-Track 3", Aug. 1995, International Standard, ISO/IEC 7811-5, Second Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="29">
          <text>"Identification Cards-Recording Technique-Part 6: Magnetic Stripe-High Coercivity", Apr. 1996, International Standard, ISO/IEC 7811-6, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="30">
          <text>"Identification Cards-Financial Transaction Cards", Jun. 1990, International Standard, ISO/IEC 7813, Third Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="31">
          <text>"Identification Cards-Financial Transaction Cards Amendment 1" Dec. 1996, International Standard, ISO/IEC 7813, Fourth Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="32">
          <text>"Identification Cards-Contactless Integrated Circuit(s) Cards-Part 1: Physical Characteristics", Sep. 1992, International Standard, ISO/IEC 10536-1, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="33">
          <text>"Identification Cards-Contactless Integrated Circuit(s) Cards-Part 2: Dimensions and Locations of Coupling Areas", Dec. 1995, International Standard, ISO/IEC 10536-2, First Edition.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="34">
          <text>"Identification Cards-Contactless Integrated Circuit(s) Cards-Part 3: Electronic Signals and Reset Procedures", Dec. 1996, International Standard, ISO/IEC 10536-3, First Edition.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Visa International Service Association</orgname>
            <address>
              <address-1>Foster City, CA, US</address-1>
              <city>Foster City</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>VISA</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Sloan, Jerry F.</name>
            <address>
              <address-1>Saratoga, CA, US</address-1>
              <city>Saratoga</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Beyer Weaver &amp; Thomas, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Frech, Karl D.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      Locking and unlocking an application in a smart card allows for automatic authenticity of a lock or unlock command without the need for a personal identification number (PIN).
      <br/>
      The smart card is locked and unlocked by using a smart card device that need not have a keypad.
      <br/>
      The smart card device is a dedicated reader and locking/unlocking device, or can be a bank terminal, PC, telephone, etc.
      <br/>
      The smart card is inserted into the smart card device.
      <br/>
      A lock command is sent from the device to the smart card.
      <br/>
      An application on the smart card is locked.
      <br/>
      The smart card sends identifying information, such as a password and a card identification number, to the device which is stored in a cache.
      <br/>
      The identifying information allows automatic authentication for unlocking of the card at a later time.
      <br/>
      The locked application cannot be used until it is unlocked.
      <br/>
      To unlock, the smart card is inserted into the device and an unlock button is pressed.
      <br/>
      The smart card device reads the card identification number of the card and determines if the corresponding password for that card is present in the cache of the device.
      <br/>
      If so, an unlock command is issued to the smart card along with the password.
      <br/>
      If the password received by the smart card matches the password of the smart card then the smart card is unlocked.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>FIELD OF THE INVENTION</heading>
    <p num="1">The present invention relates generally to smart card transactions, more particularly, to a system and method for locking and unlocking an application in a smart card.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      A smart card is typically a credit card-sized plastic card that includes a semiconductor chip capable of holding data supporting multiple applications.
      <br/>
      One popular such application is the holding of the digital equivalent of cash directly, instead of pointing to an account or providing credits.
      <br/>
      Accordingly, smart cards with such an application are also sometimes referred to as stored-value cards.
      <br/>
      When a card of this kind is used to make a purchase, the digital equivalent of cash is transferred to the merchant's "cash register" and then to a financial institution.
      <br/>
      Stored-value cards are either replenishable (value can be reloaded onto the card using a terminal) or non-replenishable (the card is decremented in value for each transaction and thrown away when all its value is gone).
    </p>
    <p num="3">
      Physically, a smart card often resembles a traditional "credit" card having one or more semiconductor devices attached to a module embedded in the card, providing contacts to the outside world.
      <br/>
      The card can interface with a point-of-sale terminal, an ATM, or a card reader integrated into a telephone, a computer, a vending machine, or any other appliance.
      <br/>
      A micro-controller semiconductor device embedded in a "processor" smart card allows the card to undertake a range of computational operations, protected storage, encryption and decision making.
      <br/>
      Such a micro-controller typically includes a microprocessor, memory, and other functional hardware elements.
      <br/>
      Various types of cards are described in "The Advanced Card Report: Smart Card Primer", Kenneth R. Ayer and Joseph F. Schuler, The Schuler Consultancy, 1993.
    </p>
    <p num="4">
      One example of a smart card implemented as a processor card is illustrated in FIG. 1.
      <br/>
      Of course, a smart card may be implemented in many ways, and need not necessarily include a microprocessor or other features.
      <br/>
      The smart card may be programmed with various types of functionality, including applications such as stored-value; credit/debit; loyalty programs, etc.
      <br/>
      For the purpose of this disclosure, card 5 is programmed with at least one application such as stored value application, and may be referred to as "stored-value" card 5.
    </p>
    <p num="5">
      Stored-value card 5 has an embedded micro-controller 10 that includes a microprocessor 12, random access memory (RAM) 14, read-only memory (ROM) 16, non-volatile memory 18, an encryption module 22, and a card reader interface 24.
      <br/>
      Other features of the micro-controller may be present but are not shown, such as a clock, a random number generator, interrupt control, control logic, a charge pump, power connections, and interface contacts that allow the card to communicate with the outside world.
    </p>
    <p num="6">
      Microprocessor 12 is any suitable central processing unit for executing commands and controlling the device.
      <br/>
      RAM 14 serves as storage for calculated results and as stack memory.
      <br/>
      ROM 16 stores the operating system, fixed data, standard routines, and look up tables.
      <br/>
      Non-volatile memory 18 (such as EPROM or EEPROM) serves to store information that must not be lost when the card is disconnected from a power source but that must also be alterable to accommodate data specific to individual cards or any changes possible over the card lifetime.
      <br/>
      This information might include a card identification number, a personal identification number, authorization levels, cash balances, credit limits, etc.
      <br/>
      Encryption module 22 is an optional hardware module used for performing a variety of encryption algorithms.
      <br/>
      Card reader interface 24 includes the software and hardware necessary for communication with the outside world.
      <br/>
      A wide variety of interfaces are possible.
      <br/>
      By way of example, interface 24 may provide a contact interface, a close-coupled interface, a remote-coupled interface, or a variety of other interfaces.
      <br/>
      With a contact interface, signals from the micro-controller are routed to a number of metal contacts on the outside of the card which come in physical contact with similar contacts of a card reader device.
    </p>
    <p num="7">
      A smart card can include multiple applications, including, for example, applications such as credit, debit, stored value, telephone, or loyalty.
      <br/>
      Given such a multi-application smart card, a problem could arise when the smart card is given to a service provider for a single transaction.
      <br/>
      For example, the owner of the smart card may give the smart card to a waiter in a restaurant for a credit transaction.
      <br/>
      However, without a means for locking the other applications, such as the stored value or telephone applications, the waiter has access to all of the applications, such that the waiter could possibly make phone calls or conduct stored value transactions with the smart card during the time it is in his possession.
    </p>
    <p num="8">
      A solution to this problem includes the use of a device, commonly referred to as an "electronic wallet", into which a smart card can be inserted and a particular application can be locked such that a particular application cannot be used until it is unlocked.
      <br/>
      Some smart card companies, such as Mondex International, currently utilize a wallet which can lock and unlock a smart card.
      <br/>
      The locking and unlocking mechanism utilizes a personal identification number (PIN) to ensure authenticity of the lock or unlock request.
      <br/>
      However, many people prefer not to use PINs.
      <br/>
      It is a nuisance to have to memorize a PIN, particularly if the person already has several PINs memorized.
      <br/>
      Additionally, a particular PIN can be forgotten or confused with another PIN.
      <br/>
      Further, the need for a PIN requires that the "electronic wallet" device has at least a numeric key pad to enter the PIN.
      <br/>
      This is undesirable for some users who do not want to carry a relatively bulky wallet with them.
    </p>
    <p num="9">
      What is needed is a system and method for automatically ensuring authenticity for locking and unlocking an application in a smart card which does not require the user to memorize a PIN.
      <br/>
      Preferably, the system and method may be implemented using a device which does not require the use of a bulky and expensive keypad.
      <br/>
      The present invention addresses such a need.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="10">
      The present invention provides a system and method for locking and unlocking an application in a smart card.
      <br/>
      The system and method according to the present invention allows for automatic determination of the authenticity of a lock or unlock command without the need for a personal identification number.
      <br/>
      The smart card can be locked and unlocked by utilizing a smart card device.
      <br/>
      The smart card can be inserted into the smart card device to lock at least one application of the smart card such that the locked application cannot be utilized until it is unlocked.
      <br/>
      During the locking process, the smart card sends identifying information, such as a password and card ID, to the smart card device to allow automatic authentication for unlocking of the card at a later time.
      <br/>
      A password is herein meant to include a combination of characters which can include letters, numbers, and various symbols.
    </p>
    <p num="11">
      To unlock an application in a smart card, the smart card device identifies the card and looks for the password corresponding to this particular card.
      <br/>
      If the password is found in the smart card device's cache memory, then the password and an "unlock" command are issued from the smart card device to the smart card.
      <br/>
      When the smart card device receives the password along with the unlock command, it is determined whether the received password matches the actual password for the smart card.
      <br/>
      If the passwords match, then the application is unlocked.
    </p>
    <p num="12">
      A system and method according to the present invention for locking and unlocking an application in a smart card uses a smart card device.
      <br/>
      The method for unlocking the application comprises the steps of automatically determining a first password; determining whether the first password matches a second password; and unlocking the application if the first password matches the second password.
      <br/>
      Further, the method according to the present invention for locking the application comprises the steps of sending a command to lock the application in the smart card; sending smart card identifying information to a smart card device; and locking the application in the smart card.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="13">
      The invention, together with further advantages thereof, may best be understood by reference to the following description taken in conjunction with the accompanying drawings in which:
      <br/>
      FIG. 1 is a block diagram of an example of a conventional smart card.
      <br/>
      FIG. 2 is a block diagram of a conventional wallet.
      <br/>
      FIG. 3 is a flow diagram of a conventional method for locking an application in a smart card.
      <br/>
      FIG. 4 is a flow diagram of a conventional method for unlocking an application in a smart card.
      <br/>
      FIGS. 5A and 5B show examples of a smart card device according to embodiments of the present invention.
      <br/>
      FIG. 6 is a block diagram of a smart card device according to an embodiment of the present invention.
      <br/>
      FIG. 7 is an example of a cache which may be used in conjunction with the smart card device shown in FIG. 6.
      <br/>
      FIG. 8 is a flow diagram of a method according to an embodiment of the present invention for locking an application in a smart card.
      <br/>
      FIG. 9 is a flow diagram of a step of storing information in a cache as described in the method shown in FIG. 8.
      <br/>
      FIGS. 10A-10C depict the International Standards Organization format for the command, response, and command header for information conveyed to and from the smart card.
      <br/>
      FIGS. 11A-11C are tables illustrating examples of the command, response, and return codes for the lock application command.
      <br/>
      FIG. 12 is a flow diagram of a method according to an embodiment of the present invention for unlocking an application in a smart card.
      <br/>
      FIGS. 13A-13B show tables describing the command and return codes for the unlock command.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="14">While this invention is described in terms of several preferred embodiments, it is contemplated that alternatives, modifications, permutations and equivalents thereof will become apparent to those skilled in the art upon a reading of the specification and study of the drawings.</p>
    <p num="15">
      FIG. 2 shows a block diagram of a conventional electronic wallet 210.
      <br/>
      This example of a conventional wallet includes a display 200, a microprocessor 202, a read only memory (ROM) 204, a card reader 206, and a numeric pad with special function buttons 208.
      <br/>
      Typically, a user can insert a smart card into a wallet such as that shown in FIG. 2 and information, such as the amount of value remaining in a stored value application of the card, can be displayed on the display 200.
      <br/>
      The numeric pad and special function buttons 208 can be used by the user to input a PIN in order to access the information.
      <br/>
      Numeric pad and special function buttons 208 may also include a "lock" button (not shown) for locking a card.
      <br/>
      A separate "unlock" button may also be included or it may be the same button as the "lock" button.
    </p>
    <p num="16">
      FIG. 3 shows a flow diagram of a conventional method for locking an application in a smart card.
      <br/>
      The smart card is inserted into a device such as an electronic wallet, an automated teller machine (ATM), or an input device to a computer system.
      <br/>
      In this example, a conventional electronic wallet 210 will be used.
      <br/>
      A lock button is pressed by the user (step 302) and wallet 210 sends a lock command to the smart card (step 304).
      <br/>
      The smart card, in response to the lock command, then locks an application in the smart card (step 306).
    </p>
    <p num="17">
      FIG. 4 shows a flow diagram of a conventional method for unlocking an application in a smart card.
      <br/>
      The smart card is inserted into an electronic wallet (e.g., wallet 210) (step 400), and an unlock button is then pressed (step 402).
      <br/>
      The wallet typically prompts the user to enter a PIN (step 404).
      <br/>
      The user then enters the PIN (step 406).
      <br/>
      The wallet sends an unlock command to the smart card wherein the PIN is included in the unlock command (step 408).
      <br/>
      The smart card then unlocks an application in step 410 if the PIN sent by the wallet is correct.
    </p>
    <p num="18">
      One of the problems with these conventional methods of locking and unlocking an application for a smart card as described in FIGS. 3 and 4, is that the user is required to memorize a personal identification number (PIN).
      <br/>
      Many people find having to memorize a PIN a nuisance.
      <br/>
      This nuisance can be further compounded by the need to keep track of a number of different PINs for, e.g., a bank account, a password at work, etc.
      <br/>
      The user may choose to have a different PIN for every different type of transaction which requires a PIN, or select a single PIN to apply to all transactions in his life.
      <br/>
      However, if the user is required to memorize numerous PINs for numerous activities, then the user also needs to remember which PIN applies to which transaction.
      <br/>
      If the user selects a single PIN for all of his transactions, then the user has a higher risk of exposing his PIN.
      <br/>
      This problem may become even greater if different applications on a single smart card require different PINs.
    </p>
    <p num="19">
      Accordingly, what is needed is a system and method for locking and unlocking an application in a smart card which does not require the user to memorize a PIN.
      <br/>
      Embodiments of the present invention address such a need.
    </p>
    <p num="20">
      The method and system according to embodiments of the present invention provides a lock/unlock feature of an application in a smart card wherein the transaction is automatically authenticated.
      <br/>
      Additionally, embodiments of the present invention provide the ability to lock/unlock an application, such as a stored value application (sometimes referred to as a "purse"), using one of a plurality of smart card devices which can lock/unlock a particular smart card.
      <br/>
      An application in a particular smart card may also be locked with a first one of a plurality of smart card devices and unlocked with a second one of the plurality of smart card devices.
      <br/>
      In one embodiment of the present invention, the issuer of the smart card can also unlock an application in a smart card if a smart card device is unable to do so.
      <br/>
      For example, in one embodiment, the smart card issuer can look up or regenerate the unique password assigned to the particular smart card and have it downloaded to a terminal device, such as the cardholder's personal computer system.
    </p>
    <p num="21">
      FIGS. 5A and 5B show examples of two embodiments of smart card devices 1200a and 1200b according to the present invention.
      <br/>
      Smart card device 1200a is shown to be approximately a little larger than the smart card 1208.
      <br/>
      Smart card device 1200a includes a display 1202a, at least one function button 1204, and a card slot 1206a.
      <br/>
      Display 1202a can be used to display card value amounts such as monetary value or credit value, or other information such as the last ten transactions performed by the smart card, or the like.
      <br/>
      Special function button 1204 can be a button dedicated for use in issuing a lock command or an unlock command.
      <br/>
      Alternatively, special function button 1204 can represent more than one function, for instance button 1204 can be pressed twice for unlock and once for lock.
      <br/>
      Smart card device 1200a also includes a slot 1206a into which smart card 1208 is inserted.
      <br/>
      Another possible example is to have smart card device 1200b attached to a key chain 1220.
      <br/>
      This type of smart card device would still include a display 1202b and an insert slot 1206b.
      <br/>
      Smart card 1208' can simply be partially inserted into smart card device 1200b and the pressure of the insertion of smart card 1208' against internal contacts (not shown) can initiate functions such as a lock or unlock command.
    </p>
    <p num="22">
      FIG. 6 is a block diagram of a smart card device according to an embodiment of the present invention.
      <br/>
      It shows a microprocessor 502 coupled with a display 500, a memory such as a ROM 504, function button(s) 510, a card reader 508, and a cache 506.
      <br/>
      Microprocessor 502 can accept input from both function button(s) 510 and card reader 508.
      <br/>
      It can then access information from ROM 504 and access data from cache 506.
      <br/>
      Various messages, such as "locked", "unlocked", available balance, and the last few transactions can be displayed on display 500.
    </p>
    <p num="23">
      FIG. 7 shows an example of cache 506.
      <br/>
      Cache 506 can be a non-volatile memory such as an EEPROM or a FLASH memory.
      <br/>
      Preferably, cache 506 can include several passwords associated with several smart cards.
      <br/>
      Although the cache can contain a single password associated with a single smart card, the retention of several passwords associated with several smart cards allows for the flexibility of utilizing the same smart card device with several different smart cards.
      <br/>
      Those skilled in the art will recognize that cache 506 may be used to store other information as well.
      <br/>
      A card identification number (CID) assigned to each smart card uniquely identifies each smart card.
      <br/>
      Cache 506 can include a list of smart cards used in the most recent transactions.
      <br/>
      For example, the last ten smart cards utilized with a particular smart card device can be listed under CID, preferably with the most recent transaction listed at the top with the oldest transaction listed at the bottom.
      <br/>
      Associated with the CID are the passwords (PWD) listed in the same order.
      <br/>
      Accordingly, the first card ID and its associated password would be listed at the top of the list while the card ID of the smart card which was used in the oldest transaction and its password would be listed at the bottom of the list.
      <br/>
      When the cache is full, then the card ID and its associated password which is listed at the bottom of the list, i.e., the card which was used in the oldest transaction, would be removed.
      <br/>
      Further details regarding the generation and use of the CID and PWD will be given below.
    </p>
    <p num="24">
      According to embodiments of the present invention, during personalization or initialization of smart card 1208, the card issuer generates a derived password based on the card number and a master key.
      <br/>
      This password could be given to the cardholder, but the cardholder will most likely not need to memorize it for normal operation.
      <br/>
      The password is stored in smart card 1208 and is preferably not retrievable externally without using smart card device 1200 which can lock or unlock an application in smart card 1208.
      <br/>
      Upon reading this disclosure, those skilled in the art will recognize that entities other than the "card issuer" may be responsible for generating the derived password for use in the present invention.
      <br/>
      For example, an agent of the card issuer may generate the password.
      <br/>
      For simplicity, however, this specification will continue to refer to the "card issuer" as the entity generating a password.
    </p>
    <p num="25">
      There are many ways to generate a password for smart card 1208.
      <br/>
      One example of a method which can be used by the card issuer for generating a password for a card includes the use of Data Encryption Standard (DES) algorithm.
      <br/>
      The issuer can generate a DES cryptogram using a DES algorithm and a secret key.
      <br/>
      The issuer can encipher a unique serial number or identification number of the card and provide a unique binary number for each card.
      <br/>
      The binary number can be converted to a decimal number and a predetermined number of digits, such as the last six digits, can be used to produce a unique password for the smart card 1208.
    </p>
    <p num="26">
      To lock an application, the cardholder can place smart card 1208 into smart card device 1200 and request a locking function, for example, by pressing special function lock button 1204.
      <br/>
      Once the application is locked, the card can be safely given to another person, such as a waiter in a restaurant.
      <br/>
      When the card is returned, the cardholder can put smart card 1208 back into smart card device 1200 and press the unlock button, e.g., item 1204, to unlock the application which was previously locked.
      <br/>
      The smart card device reads the card ID from the card and uses the card ID to find the matching card ID and associated password in the cache 506 of smart card device.
      <br/>
      Smart card device 1200 then sends the password to smart card 1208 in an unlock command to unlock the locked application.
    </p>
    <p num="27">
      If the card holder forgets to bring his own smart card device 1200, he can borrow one from a family member or another trusted party.
      <br/>
      Any smart card device implemented with features of the present invention can lock any application in any smart card which has also been implemented in accordance with the present invention.
      <br/>
      Additionally, any smart card device 1200 according to the present invention that has previously locked a specific application in a specific smart card 1208 can unlock that application (within the limit of the cache storage capacity of the smart card device).
      <br/>
      If a card holder borrows a smart card device 1200 from a friend to lock an application in his smart card, the application can be unlocked with the friend's smart card device or with the cardholder's smart card device.
      <br/>
      This system and method allows family members or close friends to share smart card devices 1200 if they wish.
    </p>
    <p num="28">
      Any smart card device 1200 implemented according to the present invention which has the appropriate password for unlocking a given smart card application can unlock the application by sending an unlock command to the card.
      <br/>
      Normally, this will be done by the same smart card device that was used to lock the application in the smart card.
      <br/>
      If that smart card device is not available, the application in the smart card can be unlocked via a bank terminal, a PC, a telephone, or virtually any device with the capability to read and write information to a smart card, so long as the device is provided with the functionality described herein (e.g., the ability to generate lock and unlock commands per the present invention).
    </p>
    <p num="29">
      If required, (after appropriate identification), the password can be obtained from the card issuer after being easily generated by numerous well-known methods, such as Data Encryption Standard (DES), given the card ID.
      <br/>
      For example, an ATM can be programmed to display "card unlocking" as an option to its list of services.
      <br/>
      A user can then select the "card unlocking" service and allow the ATM to read information, including card ID, from the card.
      <br/>
      If the ATM already has the required DES key stored in its memory, then the card's password can be generated by the ATM.
      <br/>
      More likely, however, the ATM will need to contact a host computer which has access to the appropriate DES secret key (e.g., based on the card number and issuer).
      <br/>
      The ATM can send the card ID to the host computer which can regenerate the card's password.
      <br/>
      Alternatively, the host computer can read the card's password from a database.
      <br/>
      The resulting password can be returned to the ATM which can send an unlock command to the card using the password.
      <br/>
      A similar unlocking transaction can occur using a bank terminal, a PC, a telephone, or virtually any device with the capability to read and write information to a smart card.
    </p>
    <p num="30">
      FIG. 8 shows a flow diagram of a method according to an embodiment of the present invention for locking an application in a smart card.
      <br/>
      Smart card 1208 is inserted into smart card device 1200 (step 700), and a card application is selected (step 701).
      <br/>
      Once a card application is selected, commands are directed toward the selected application thereafter.
      <br/>
      A lock request is indicated (step 702).
      <br/>
      A lock button or split function button 1204 can be pressed by the cardholder to indicate the lock request.
      <br/>
      Smart card device 1200 sends a lock command to the smart card (step 704).
      <br/>
      It is then determined if the application in smart card 1208 is already locked (step 706).
      <br/>
      If it is locked then smart card device 1200 displays a message such as "locked" (step 708).
      <br/>
      Preferably, smart card device 1200 does not relock an application that has already been locked.
      <br/>
      Avoiding relocking an application that has already been locked ensures that no unauthorized person can simply relock the application thereby storing the password into his smart card device, then unlocking the application using the password which has just been stored.
    </p>
    <p num="31">
      If the application is not already locked (step 706) then the application is locked (step 710).
      <br/>
      Smart card 1208 sends the card identification (CID) and password (PWD) to smart card device 1200 (step 712).
      <br/>
      Smart card device 1200 then displays a predetermined message such as "OK" (step 714) and then smart card device 1200 stores the CID and associated PWD in its cache 506 (step 716).
    </p>
    <p num="32">
      FIG. 9 is a flow diagram for a method for storing information in cache 506 of smart card device 1200 as recited in step 716 of FIG. 8.
      <br/>
      The CID of the particular smart card is searched for in cache 506 of smart card device 1200 (step 800).
      <br/>
      If smart card device 1200 finds that the particular CID is in the cache (step 802), then that particular CID can be brought to the top of the list of CIDs (step 804).
      <br/>
      The list refers to the CID list shown in FIG. 7.
    </p>
    <p num="33">
      If the CID is not found in cache 506 (step 802), then it is entered in cache 506, preferably at the top of the CID list (step 806).
      <br/>
      It is determined if the cache is full (step 808) and if it is not then the process is complete (step 810).
      <br/>
      If, however, the cache is full then the bottom item on the list is removed (step 812).
      <br/>
      In this manner, a relatively small cashe size can be used to store the most recently used CID information.
      <br/>
      Those skilled in the art will recognize that other list approaches may also be used.
    </p>
    <p num="34">
      FIGS. 10A-10C show the preferred format for the command response and command header used in locking and unlocking a smart card according to the present invention.
      <br/>
      The preferred format is described in detail by the International Standards Organization (ISO) which defines the specific format for the command.
      <br/>
      ISO standard 7816-4, "Information Technology--Identification Cards--Integrated Circuit Cards with Contact Part 4" is herein incorporated by reference.
    </p>
    <p num="35">
      FIG. 10A shows a currently preferred format for the command used to lock or unlock a card.
      <br/>
      The format includes a command header (HDR) 800, followed by a data field, followed by a trailer (Le).
      <br/>
      FIG. 10B shows a currently-preferred format for a response to the command which includes optional data followed by the status (SW1, SW2).
      <br/>
      FIG. 10C shows a currently preferred format of command header 800.
      <br/>
      The format for command header 800 includes a class byte (CLA) followed by the instruction code (INS).
      <br/>
      P1 and P2 are in the third and fourth byte positions with P1 and P2 varying depending on the specific instructions given.
      <br/>
      After P1 and P2, is a field indicating the length of command data (Lc).
    </p>
    <p num="36">
      FIGS. 11A-11C illustrate examples of the command, the response, and the return codes for performing a locking function according to an embodiment of the present invention.
      <br/>
      In this example, the preferred format from the above-described ISO standard is used.
      <br/>
      FIG. 11A shows an example of a lock command which will be issued by, e.g., a smart card device as shown in FIG. 5A or 5B. In this example of a lock command, the class field (CLA) has a content value of a hex number "80", which in this case indicates that it is not a standard ISO instruction.
      <br/>
      The instruction is identified as a lock command by a hex number, such as "FF", and P1 and P2 both have "00" which can indicate that no parameters are to be sent.
      <br/>
      For the response to a lock command shown in FIG. 11B, smart card 1208 will generate a message including the CID (5 bytes) and the password (3 bytes).
      <br/>
      The return codes shown in FIG. 11C which will be generated by the card will include status word one (SW1) and status word two (SW2) with values of "9000" or "9110". "9000" indicates a successful lock of the application, while "9110" indicates that the application is already locked.
    </p>
    <p num="37">
      FIG. 12 shows a flow diagram of a method according to the present invention for unlocking an application in a smart card 1208.
      <br/>
      Smart card 1208 is inserted into a smart card device 1200 in step 1000, and a card application is selected (step 1001).
      <br/>
      Once a card application is selected, commands are then directed to the selected application.
      <br/>
      An unlock button (or other means for initiating an unlock command) is then pressed (step 1002).
      <br/>
      The smart card device reads the CID in step 1004.
      <br/>
      Smart card device 1200 then determines whether the password associated with the CID is stored in the cache of the smart card device (step 1006).
      <br/>
      If the password is not stored in the cache then the smart card device is unable to unlock the smart card application and a message such as "unable to unlock" can be displayed (step 1008).
    </p>
    <p num="38">
      If, however, the password is found in the cache of smart card device 1200, then an "unlock" command is issued (step 1010).
      <br/>
      Smart card device 1200 then determines if the smart card application is already unlocked (step 1012).
      <br/>
      If the card application is already unlocked, then an error has occurred and an error message can be displayed to the card holder (step 1014).
      <br/>
      If, however, the smart card application has not already been unlocked, then device 1200 determines whether the password sent to the smart card through the "unlock" command matches the password associated with the smart card (step 1016).
      <br/>
      If it does not, then an error has occurred and the smart card application is not unlocked (step 1018).
      <br/>
      If, however, the password sent from the smart card device to the smart card matches the password associated with the smart card, then the application is unlocked (step 1020).
    </p>
    <p num="39">
      FIGS. 13A-13B illustrate an example of command and return codes for the unlock function.
      <br/>
      Again, it is preferable that the command formats set forth by the ISO standards be utilized.
      <br/>
      Accordingly, the example shown in FIG. 13A for the unlock command includes information related to the class, instruction, the parameters, and the length of data command.
      <br/>
      The example of the return codes shown in FIG. 13B include status word one (SW1) and status word two (SW2) including "9000" implying successful operation, "9111" implying that the application has already been unlocked, and "9112" implying that the application could not be unlocked because the smart card device either did not have the password or the password was incorrect.
    </p>
    <p num="40">
      A method and system for locking and unlocking an application in a smart card has been disclosed.
      <br/>
      Software written according to the present invention may be stored in some form of computer-readable medium, such as in computer memory, on a floppy or hard disk, or on a CD-ROM, transmitted over a network, and/or executed by a processor.
    </p>
    <p num="41">
      Although the present invention has been described in accordance with the embodiments shown, one of ordinary skill in the art will readily recognize that there could be variations to the embodiments and those variations would be within the spirit and scope of the present invention.
      <br/>
      Accordingly, many modifications may be made by one of ordinary skill in the art without departing from the spirit and scope of the appended claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A smart card system comprising:</claim-text>
      <claim-text>a smart card defining one or more applications;</claim-text>
      <claim-text>and a smart card device configured to selectively lock or unlock a selective one of the applications on the smart card, the smart card device including:</claim-text>
      <claim-text>- a card reader arranged to read from and to write to the smart card when inserted into the card reader; a memory coupled to the card reader, the memory including a card identification number corresponding to the smart card and a password corresponding to the card identification number; an input element configured to receive a lock or an unlock request to lock or unlock the selected application on the smart card when the smart card is inserted into the card reader;</claim-text>
      <claim-text>and a microprocessor coupled to the card reader and responsive to the input element, the microprocessor arranged to issue a lock command or an unlock command along with the password to lock or unlock the selected application on the smart card in response to the input device receiving the lock or unlock request and when the smart card provides identifying information matching the card identification number.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The system of claim 1, wherein the smart card device further comprises a display configured to display the status of the smart card when inserted into the card reader.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The system of claim 1, wherein the memory is a cache arranged to hold a plurality of card identification numbers and a corresponding plurality of passwords.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The system of claim 3, wherein the microprocessor is further configured to delete the oldest pair of the corresponding card identification number and password when the cache is full.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The system of claim 1, wherein the smart card device is a bank terminal, a personal computer, a telephone, or an automated teller machine.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A method of providing a smart card system comprising: providing a smart card defining one or more applications;</claim-text>
      <claim-text>and providing a smart card device configured to selectively lock or unlock a selective one of the applications on the smart card, the smart card device including: - a card reader arranged to read from and to write to the smart card when inserted into the card reader; a memory coupled to the card reader, the memory including a card identification number corresponding to the smart card and a password corresponding to the card identification number; an input element configured to receive a lock or an unlock request to lock or unlock a selected one of the applications on the smart card when the smart card is inserted into the smart card reader;</claim-text>
      <claim-text>and a microprocessor coupled to the card reader and responsive to the input element, the microprocessor arranged to issue a lock command or an unlock command along with the password to lock or unlock the selected application on the smart card in response to the input device receiving the lock or unlock request and when the smart card provides identifying information matching the card identification number.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 6, wherein the step of providing the smart card device further comprises the step of providing a display configured to display the status of the smart card when inserted into the card reader.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 7, wherein the step of providing the memory further comprises the step of providing a cache arranged to hold a plurality of card identification numbers and a corresponding plurality of passwords.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 8, wherein the step of providing the microprocessor further comprises the step of configuring the microprocessor to delete the oldest pair of the corresponding card identification number and password from the cache when the cache is full.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A smart card device configured to receive a smart card having one or more applications, the smart card device comprising: a card reader configured to receive the smart card; an application selection element configured to select one of the applications contained on the smart card when the smart card is inserted into the card reader; a lock and unlock element that enables the selective locking and unlocking of the selected application on the smart card when the smart card is inserted into the smart card reader;</claim-text>
      <claim-text>and a microprocessor coupled to the lock and unlock element, the microprocessor arranged to issue a lock command or an unlock command to the smart card when the lock and unlock element is activated and when the smart card has been identified by the smart card device.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The smart card device of claim 10, wherein the smart card device further comprises a input device configured to receive the lock or unlock request.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The smart card device of claim 10, wherein the smart card device further comprises a display configured to display the status of the smart card when inserted into the card reader.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The smart card device of claim 10, wherein the smart card device further comprises a memory arranged to hold a plurality of card identification numbers and a corresponding plurality of passwords associated with the smart cards inserted into the smart card device.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The smart card of claim 13, wherein the microprocessor is further configured to delete the oldest pair of the corresponding card identification number and password from the memory when the memory is full.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The smart card device of claim 10, wherein the smart card device is a bank terminal, a personal computer, a telephone, or an automated teller machine.</claim-text>
    </claim>
  </claims>
</questel-patent-document>