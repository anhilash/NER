<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181700B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181700</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181700</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="16201230" extended-family-id="14411731">
      <document-id>
        <country>US</country>
        <doc-number>08895242</doc-number>
        <kind>A</kind>
        <date>19970716</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08895242</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>14731008</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>18716396</doc-number>
        <kind>A</kind>
        <date>19960717</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1996JP-0187163</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04L   1/16        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>1</main-group>
        <subgroup>16</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04L  12/70        20130101ALI20150401RHJP</text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>70</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150401</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04L  12/951       20130101ALI20150401RHJP</text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>951</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150401</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>H04L  12/953       20130101ALI20150401RHJP</text>
        <ipc-version-indicator>
          <date>20130101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>953</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150401</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>H04L  29/08        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>29</main-group>
        <subgroup>08</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>H04Q  11/04        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>11</main-group>
        <subgroup>04</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>370395200</text>
        <class>370</class>
        <subclass>395200</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>370252000</text>
        <class>370</class>
        <subclass>252000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04Q-011/04S2</text>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>011</main-group>
        <subgroup>04S2</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04Q-011/0478</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>11</main-group>
        <subgroup>0478</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-2012/5616</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>2012</main-group>
        <subgroup>5616</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-2012/563</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>2012</main-group>
        <subgroup>563</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-2012/5636</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>2012</main-group>
        <subgroup>5636</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04L-012/56A7C</classification-symbol>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04L-012/56A16B</classification-symbol>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04L-012/56A16C4</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>5</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>6</number-of-drawing-sheets>
      <number-of-figures>9</number-of-figures>
      <image-key data-format="questel">US6181700</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Data transfer device having retransmission control function</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>KATAYAMA YASUNORI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5414619</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5414619</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>KANT KRISHNA</text>
          <document-id>
            <country>US</country>
            <doc-number>5563874</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5563874</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>YAMATO KATSUMI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5694390</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5694390</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>KUJOORY ALI MOHAMMAD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6021263</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6021263</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>BEN-NUN MICHAEL, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5483526</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5483526</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>K. Kant, "Flow Control Mechanisms for SAAL Links", Broadband Communications. Global Infrastructure for the Information Age, Proceedings of the International IFIP-IEEE Conference on Broadband Communications, Canada, 1996, Apr. 1, 1996, pp. 173-184.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>R. Cohen, "An Improved SSCOP-like Scheme for Avoiding Unnecessary Retransmissions and Achieving Ideal Throughput" Proceedings of IEEE Infocom 1996. Conference on Computer Communications, Fifteenth Annual Joint Conference of the IEEE Computer and Communications Societies. Networking the Next Generation San Francisco, Mar. 24-28, 1996, vol. 2, No. CONF. 15, Mar. 24, 1996, pp. 855-862.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>Ito et al., A Measurement of TCP Throughput Over High-Speed and Long-Delay Network in Technical Report of Ieice. IN95-9, The Institute of Electronics, Information and Communication Engineers (May 1995).</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Matsushita Electric Industrial Co., Ltd.</orgname>
            <address>
              <address-1>Osaka-fu, JP</address-1>
              <city>Osaka-fu</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>PANASONIC</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Doi, Kiyomi</name>
            <address>
              <address-1>Hirakata, JP</address-1>
              <city>Hirakata</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Wenderoth, Lind &amp; Ponack, L.L.P.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Vu, Huy D.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A protocol processing portion performs SSCOP processing while referring to protocol parameters stored in a parameter managing portion.
      <br/>
      The parameter managing portion includes a parameter changing portion and a parameter table.
      <br/>
      The protocol parameters required in performing the SSCOP processing in the protocol processing portion are stored in the parameter table.
      <br/>
      The parameter changing portion changes the value of a prescribed protocol parameter (MaxPD) in the parameter table depending on the number of data packets whose transfer is required at one time by a data transfer application.
      <br/>
      A connection setting portion sets a logical channel between the data transfer device and a data transfer device which is a destination of communication through an ATM network, to allow data transfer.
      <br/>
      The data transfer application sets a logical channel between the data transfer device and a device which is a destination of data transfer upon instructing the connection setting portion, then assembles data to be transferred into packets, and requires transmission of the packet data of the protocol processing portion.
      <br/>
      A communication control portion sends out to the ATM network control data for setting the logical channel given by the connection setting portion, or the packet data given by the protocol processing portion.
      <br/>
      Such construction makes it possible to send out a delivery confirmation packet (POLL) immediately after the data packets continuously sent out, and quickly confirm the delivery of the data.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="2">The present invention relates to a data transfer device, and more particularly, to a data transfer device on which a retransmission control protocol is packaged in order to prevent the loss of a data packet due to an error on a line in establishing communication through an ATM (Asynchronous Transfer Mode) communication network.</p>
    <p num="3">2. Description of the Background Art</p>
    <p num="4">
      On an ATM network, a data packet is transferred upon being partitioned into cells having a fixed length of 53 bytes.
      <br/>
      When a bit error on a line, congestion in an exchange, and the like are produced, the cells are discarded, so that data is lost.
      <br/>
      In order to transfer data high in real time properties such as video data, it is necessary to prevent the lost data, and provide sufficient throughput.
      <br/>
      In order to prevent the loss of data, a method to package a protocol having a retransmission control function on ATM has been conventionally employed.
      <br/>
      As the protocol having the retransmission control function, a system for packaging TCP/IP has been generally employed.
      <br/>
      However, sufficient throughput cannot be obtained (see an article entitled "A Measurement of TCP Throughput over High-Speed and Long-Delay Network" by Ito et al. in Technical Report of leice.
      <br/>
      IN95-9 issued by The Institute of Electronics, Information and Communication Engineers).
    </p>
    <p num="5">
      On the other hand, International Telecommunication Union-Telecommunication Sector (ITU-TS) recommends SSCOP (Service Specific Connection Oriented Protocol) as a retransmission control function of a signaling message in an ATM network.
      <br/>
      The SSCOP employs a selective retransmission system.
      <br/>
      Even when retransmission is produced, therefore, sufficient throughput can be maintained.
      <br/>
      Further, the arrival delay of a data packet for the retransmission can be reduced.
      <br/>
      However, the definition of the SSCOP in ITU-T Recommendation is unsuitable for transfer of a large amount of data because it premises the use for signaling.
    </p>
    <p num="6">
      The procedure for the data transfer using the SSCOP will be described using FIG. 8.
      <br/>
      In the SSCOP, a sequence number is added for each data packet whose transfer is required, to produce a protocol data unit called SD (hereinafter referred to as PDU), and the PDU is transmitted to a device which is a destination of connection.
    </p>
    <p num="7">
      When the data transfer is made using the SSCOP, a data link is first set.
      <br/>
      The data link is set by transferring PDU called BGN to the device which is a destination of connection.
      <br/>
      A device on the receiving side which received the BGN produces PDU called BGAK and sends out the PDU, to accept the setting of the data link.
      <br/>
      The first value (hereinafter referred to as NMR) of the sequence numbers of SDs which cannot be received by the device on the receiving side is added to the BGAK.
      <br/>
      When the number of SDs which can be received by the device on the receiving side is eight, for example, SD(0) to SD(7), the NMR takes a value representing SD(8), i.e., 8.
      <br/>
      A device on the transmission side can send out SDs in a range in which the number of the SDs does not exceed the NMR.
      <br/>
      Consequently, the NMR is also called a credit value.
    </p>
    <p num="8">
      When the setting of the data link is completed, it is possible to transfer the data packet.
      <br/>
      The device on the transmission side produces SD upon acceptance of a data transfer request, and sends out the SD to the line.
      <br/>
      When the sequence number at this time is taken as zero, SD(0) shown in FIG. 8 is sent out.
      <br/>
      A data region for the SD sent out is held by the device on the transmission side.
      <br/>
      Similarly, SD(1) to SD(5) are sent out.
      <br/>
      Thereafter, the device on the transmission side produces PDU called POLL (a delivery confirmation packet), and sends out the PDU.
      <br/>
      The sequence number (hereinafter referred to as NS) of SD to be subsequently transmitted, that is, 6 in this case is added to the POLL.
      <br/>
      The device on the receiving side produces PDU called STAT after confirming whether or not there is no omission in data to be received upon acceptance of the POLL.
      <br/>
      The sequence number of the SD which cannot be received, the sequence number (hereinafter referred to as NR) of SD succeeding the SDs continuously received and the NMR are added to the STAT.
      <br/>
      In this case, the device on the receiving side receives all the data to be received SD(0) to SD(5), thereby only the NR=6 and the NMR are added to the STAT.
      <br/>
      The NMR is 14 (=6+8) when the number of SDs which can be received by the device on the receiving side at this time point is eight.
      <br/>
      The difference between the NMR and the NR is a window size on the transmission side (a value representing the number of SDs which may be sent).
      <br/>
      The device on the transmission side retransmits the SD which cannot be received by the device on the receiving side upon receipt of the STAT, while releasing a data region for the SDs continuously received by the device on the receiving side.
      <br/>
      In this case, a data region for SD(0) to SD(5) is released.
    </p>
    <p num="9">
      The following are timings at which POLLs are sent out from the device on the transmission side.
      <br/>
      The first timing is timing after sending out a predetermined number of SDs.
      <br/>
      The number is defined as a protocol parameter, and is referred to as MaxPD.
      <br/>
      The second timing is the time when a time-out of a timer for monitoring a transmission interval of the POLLs occurs.
      <br/>
      This timer period is referred to as Timer_POLL, and a time-out value of the timer period is defined as a protocol parameter.
      <br/>
      At the time point of either one of the timings, the POLL is produced, and is sent out.
      <br/>
      At this time, a counter for counting the number of SDs continuously transferred which is to be compared with the MaxPD is cleared, and the Timer_POLL is also restarted.
    </p>
    <p num="10">
      FIG. 8 illustrates an example in a case where the MaxPD is six.
      <br/>
      When six or more SDs are continuously transmitted, the POLL is immediately sent out.
      <br/>
      If the SDs are sparsely transmitted, the POLL is not sent out until the time corresponding to the timer value of the Timer_POLL has elapsed.
      <br/>
      When the transmission of the POLL is delayed, the receiving of the STAT is also delayed.
      <br/>
      Therefore, the updating of the window size and the releasing of the data region held by the device on the transmission side are delayed.
    </p>
    <p num="11">
      As described in the foregoing, in the SSCOP, the data transfer performance is changed depending on the transfer interval of data packets and the values of the protocol parameters.
      <br/>
      In ITU-T Recommendation, however, the values of the protocol parameters are fixedly determined for signaling.
    </p>
    <p num="12">
      As described in the foregoing, if the SSCOP is used, the procedure for retransmission control is carried out on the ATM network, and a high performance can be obtained.
      <br/>
      When a large amount of data is transferred using the protocol parameters defined for signaling, however, a sufficient transfer capability cannot be obtained.
      <br/>
      Further, the protocol parameters are fixedly set, thereby various patterns for the data transfer cannot be coped with.
      <br/>
      In order to transfer various data using the SSCOP, therefore, it is necessary to consider construction suitable for the data transfer.
      <br/>
      Specifically, such construction that various protocol parameters required for SSCOP processing can be set to values suitable for the transfer of the data packets is necessary.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="13">An object of the present invention is to provide a data transfer device capable of always efficiently transferring data irrespective of the type of data when the data is transferred using protocol processing including the procedure for selective retransmission such as SSCOP.</p>
    <p num="14">In order to attain the above-mentioned object, the present invention has the following characteristics.</p>
    <p num="15">
      A first aspect of the present invention is directed to a data transfer device for establishing data communication through an ATM network.
      <br/>
      The data transfer device includes components characterized as follows.
    </p>
    <p num="16">
      A connection setting portion is operable to set a logical connection on the ATM network.
      <br/>
      A protocol processing portion is operable to preform protocol processing having the procedure for selective retransmission on the logical connection.
      <br/>
      A parameter table is operable to store a plurality of protocol parameters required for the protocol processing in the protocol processing portion.
      <br/>
      A parameter changing portion is operable to change the contents of setting of the protocol parameters stored in the parameter table depending on the communication state.
    </p>
    <p num="17">
      As described in the foregoing, according to the first aspect, the contents of setting of the protocol parameters are changed depending on the communication state, thereby the most suitable parameters can always be set in conformity to the change in a data transfer pattern.
      <br/>
      Consequently, it is possible to also exhibit a sufficient data transfer performance with respect to the transfer of data that is high in real time properties, such as video data.
    </p>
    <p num="18">A second aspect is characterized in that in the first aspect, the parameter table stores a parameter MaxPD for defining a transmission interval of delivery confirmation packets as one of the plurality of protocol parameters, and the parameter changing portion changes the parameter MaxPD.</p>
    <p num="19">As described in the foregoing, according to the second aspect, the parameter MaxPD for defining the transmission interval of the delivery confirmation packets out of the plurality of protocol parameters stored in the parameter table is changed, thereby the protocol parameter can be set to such a value that the delivery confirmation packet after the transmission of data packets can be sent out at suitable timing.</p>
    <p num="20">A third aspect is characterized in that in the second aspect, the parameter changing portion changes the parameter MaxPD in accordance with the number of data packets transferred at one time on the logical connection.</p>
    <p num="21">
      As described in the foregoing, according to the third aspect, the number of data packets transferred at one time on the logical connection is set as the value of MaxPD, thereby it is possible to send out the delivery confirmation packets are immediately after the data packets continuously sent out, and quickly confirm the delivery of the data.
      <br/>
      As a result, the data region held on the transmission side can be quickly released, and can be efficiently used.
      <br/>
      Further, a window size is updated immediately after the data transfer, thereby it is possible to avoid situations where the window size is not updated by the impossibility of the confirmation of the delivery.
    </p>
    <p num="22">A fourth aspect is characterized by further comprising, in the second aspect, a data transfer monitoring portion operable to monitor a transfer interval of the data packets transferred on the logical connection, and a parameter calculating portion operable to calculate an interval at which the delivery confirmation packets are to be transmitted on the basis of the transfer interval of the data packets, which is monitored by the data transfer monitoring portion, wherein the parameter changing portion changes the parameter MaxPD in accordance with the results of the calculation by the parameter calculating portion.</p>
    <p num="23">A fifth aspect is characterized in that in the fourth aspect the parameter table stores a timer period Timer_POLL for defining the maximum allowable transmission interval of the delivery confirmation packets as one of the plurality of protocol parameters, and the parameter calculating portion calculates the number of packets sent out in the timer period TimerPOLL from the transfer interval of the data packets, which is monitored by the data transfer monitoring portion, and determines a value smaller than the calculated number of packets as an interval at which the delivery confirmation packets are to be transmitted.</p>
    <p num="24">As described in the foregoing, according to the fifth aspect, the value of MaxPD is dynamically changed depending on the transfer interval of the data packets, thereby the delivery confirmation packets are sent out at an interval always shorter than an interval at which a time-out of the timer period Timer_POLL occurs.</p>
    <p num="25">A sixth aspect is characterized by further comprising, in the second aspect, a parameter calculating portion operable to calculate the interval at which the delivery confirmation packets are to be transmitted on the basis of a credit value NMR sent from the receiving side and a sequence number NR of a packet, whose delivery has been already confirmed, sent from the receiving side, wherein the parameter changing portion changes the parameter for defining the transmission interval in accordance with the results of the calculation by the parameter calculating portion.</p>
    <p num="26">A seventh aspect is characterized in that in the sixth aspect, the parameter calculating portion calculates the difference between the credit value NMR and the sequence number NR, and takes a value smaller than the calculated difference as an interval at which the delivery confirmation packets are to be transmitted.</p>
    <p num="27">
      As described in the foregoing, according to the seventh aspect, the window size is calculated on the basis of the NMR and the NR reported from the receiving side, and a value smaller than the calculated window size is set as the value of MaxPD.
      <br/>
      Even when the window size given from a device on the receiving side is small, the data can be transferred without stopping the transmission of the data packets due to the window size.
    </p>
    <p num="28">An eighth aspect is characterized in that in the first aspect, the protocol processing portion performs SSCOP processing as the procedure for selective retransmission.</p>
    <p num="29">A ninth aspect is characterized in that in the eighth aspect, the connection setting portion sets a plurality of logical connections on the ATM network, the protocol processing portion performs protocol processing on each of the logical connections,</p>
    <p num="30">The parameter table stores a plurality of protocol parameters required for the protocol processing in the protocol processing portion for each of the logical connections, and the parameter changing portion changes the contents of setting of the protocol parameters stored in the parameter table for each of the logical connections depending on the communication state in the logical connection.</p>
    <p num="31">
      As described in the foregoing, according to the ninth aspect, the protocol parameter is managed for each logical channel.
      <br/>
      When the plurality of transfer data exists mixedly, the most suitable data transfer can be made for each logical channel.
    </p>
    <p num="32">The foregoing and other objects, features, aspects and advantages of the present invention will become more apparent from the following detailed description of the present invention when taken in conjunction with the accompanying drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="33">
      FIG. 1 is a block diagram showing the construction of a data transfer device according to a first embodiment of the present invention;
      <br/>
      FIG. 2 is a block diagram showing the greater detailed construction of a parameter managing portion shown in FIG. 1;
      <br/>
      FIG. 3 is a diagram showing the construction of a parameter table used in first to third embodiments of the present invention;
      <br/>
      FIG. 4 is a sequence chart showing, in a communication system using the data transfer device according to the first embodiment of the present invention, a data transfer sequence between data transfer devices;
      <br/>
      FIG. 5 is a block diagram showing the construction of a data transfer device according to a second embodiment of the present invention;
      <br/>
      FIG. 6 is a block diagram showing the construction of a data transfer device according to a third embodiment of the present invention;
      <br/>
      FIGS. 7A and 7B are diagrams showing the construction of a parameter table used in a fourth embodiment of the present invention; and
      <br/>
      FIG. 8 is a sequence chart showing, in a communication system using a conventional data transfer device, a data transfer sequence between data transfer devices.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="34">Description is now made of embodiments of the present invention using drawings.</p>
    <p num="35">First Embodiment</p>
    <p num="36">
      FIG. 1 is a block diagram showing the construction of a data transfer device according to a first embodiment of the present invention.
      <br/>
      In FIG. 1, a data transfer device 16 according to the present embodiment comprises a protocol processing portion 11, a parameter managing portion 12, a connection setting portion 13, a data transfer application 14, and a communication control portion 15.
    </p>
    <p num="37">
      The protocol processing portion 11 performs SSCOP processing having a retransmission control function while referring to protocol parameters stored in the parameter managing portion 12.
      <br/>
      The parameter managing portion 12 includes a parameter changing portion 121, and a parameter table 122, as shown in FIG. 2.
      <br/>
      The protocol parameters required in performing the SSCOP processing in the protocol processing portion 11 are stored in the parameter table 122.
      <br/>
      The parameter changing portion 121 changes the setting of the protocol parameters in the parameter table, as required.
      <br/>
      The connection setting portion 13 sets a logical channel between the data transfer device and a data transfer device which is a destination of communication through an ATM network 17, to allow data transfer.
      <br/>
      The data transfer application 14 instructs the connection setting portion 13 to set a logical channel between the data transfer device and a device which is a destination of data transfer, then assembles data to be transferred into packets, and requires the transmission of the packet data of the protocol processing portion 11.
      <br/>
      The communication control portion 15 performs processing for sending out to the ATM network 17 control data for setting the logical channel given by the connection setting portion 13 or the packet data given by the protocol processing portion 11.
    </p>
    <p num="38">Operations performed by the data transfer device according to the first embodiment constructed as described above will be described using FIGS. 1 to 4.</p>
    <p num="39">
      FIG. 3 illustrates the construction of the parameter table 122 shown in FIG. 2.
      <br/>
      The parameter table 122 stores the protocol parameters required in SSCOP defined in ITU-T Recommendation, including MaxPD.
    </p>
    <p num="40">FIG. 4 is a sequence chart showing, in a communication system using the data transfer device shown in FIG. 1, a sequence in performing data transfer between data transfer devices through the ATM network 17.</p>
    <p num="41">
      In the first embodiment, consider a case where the data transfer application 14 collectively requires the transmission of a plurality of SDs.
      <br/>
      As such situations, cases such as a case where the size of data handled by the data transfer application 14 is large, so that the data is sent upon being partitioned into some packets at the time of transfer are considered.
      <br/>
      The number of partitions is the number of data packets whose transfer is required at one time from the data transfer application 14.
      <br/>
      The data transfer application 14 previously gives the number of partitions to the parameter changing portion 121.
      <br/>
      Correspondingly, the parameter changing portion 121 sets the given number of partitions in the parameter table 122 as MaxPD in FIG. 3.
      <br/>
      In the present embodiment, the number of partitions is taken as four as one example.
      <br/>
      Default values shall be set with respect to the other parameters in FIG. 3.
    </p>
    <p num="42">
      The data transfer application 14 then connects a logical connection between the data transfer device and a device to which the data packets are to be transmitted.
      <br/>
      Therefore, the data transfer application 14 requires the setting of a connection in which an address of a destination of connection is specified by the connection setting portion 13.
      <br/>
      Correspondingly, the connection setting portion 13 brings the data transfer device 16 into a state where communication with a destination of connection can be started by performing prescribed connection setting processing.
      <br/>
      As the connection setting processing at this time, when SVC (Switched Virtual Channel) is set, the connection setting portion 13 performs protocol processing between the data transfer device and an exchange using a signaling protocol, to set assigned logical channel ID and QoS (Quality of Service) in the communication control portion 15.
      <br/>
      Further, when PVC (Permanent Virtual Channel) is set, the logical channel ID and QoS which are assigned previously are set in the communication control portion 15.
      <br/>
      The details of a logical channel setting operation are not the prime object of the present invention and hence, the description thereof is omitted.
    </p>
    <p num="43">
      When the setting of the logical connection by the connection setting portion 13 is completed, the data transfer application 14 requires the setting of a data link with respect to a device which is a destination of connection.
      <br/>
      The data link is set in the conventional procedure in the protocol processing portion 11.
      <br/>
      The detailed procedure for data link processing is not the prime object of the present invention and hence, the description thereof is omitted.
      <br/>
      After the data link is set, the data packets are transferred.
      <br/>
      The data transfer application 14 produces four packets at one time, and issues a transfer request to the protocol processing portion 11 for each data packet.
      <br/>
      In the protocol processing portion 11, SD is produced from the required packet, and is sent out to the ATM network 17 through the communication control portion 15.
      <br/>
      Supposing the first SD is taken as SD(0), four PDUs, that is, SD(0), SD(1), SD(2) and SD(3) are sent out, as shown in FIG. 4.
      <br/>
      When SD(3) is sent out, the number of transmitted SDs is four, and is not less than the value of MaxPD stored in the parameter managing portion 12, thereby POLL in a case where NS=4 is produced, and is sent out.
      <br/>
      When the POLL is received by a device on the receiving side, STAT including NR=4 and NMR=NR+(the number of SDs which can be received) is produced, and is sent out to a device on the transmission side.
      <br/>
      The device on the transmission side releases a data region for SD(0) to SD(3) upon receiving the STAT.
    </p>
    <p num="44">
      As described in the foregoing, according to the first embodiment, the number of data packets whose transfer is required at one time by the data transfer application 14 is set as the value of MaxPD, so that the POLL can be sent out immediately after the SDs continuously sent out.
      <br/>
      Therefore, the delivery of the data can be quickly confirmed, and the data region held by the device on the transmission side can be quickly released.
      <br/>
      As a result, the data region can be efficiently used.
      <br/>
      Further, the window size is updated immediately after the data transfer, thereby it is possible to avoid situations where the window size is not updated by the impossibility of the confirmation of the delivery.
    </p>
    <p num="45">Second Embodiment</p>
    <p num="46">
      FIG. 5 is a block diagram showing the construction of a data transfer device according to a second embodiment of the present invention.
      <br/>
      In FIG. 5, a data transfer device 43 in the present embodiment comprises a protocol processing portion 11, a parameter managing portion 12, a connection setting portion 13, a data transfer application 14, a communication control portion 15, a data transfer monitoring portion 41, and a parameter calculating portion 42.
    </p>
    <p num="47">
      The data transfer monitoring portion 41 monitors a transfer interval of data packets transmitted through the communication control portion 15.
      <br/>
      The parameter calculating portion 42 calculates the value of MaxPD on the basis of the transfer interval of the data packets monitored by the data transfer monitoring portion 41 and protocol parameters managed by the parameter managing portion 12.
      <br/>
      The protocol processing portion 11, the parameter managing portion 12, the connection setting portion 13, the data transfer application 14, and the communication control portion 15 are constructed similarly to corresponding ones shown in FIG. 1.
    </p>
    <p num="48">Operations performed by the data transfer device according to the second embodiment constructed as described above will be described using FIGS. 2, 3 and 5.</p>
    <p num="49">
      Default values previously determined are initialized as the protocol parameters in a parameter table 122 shown in FIG. 3.
      <br/>
      MaxPD shown in FIG. 3 is set to a sufficiently small value in order that the transmission of SDs is not stopped due to a window size.
      <br/>
      The default value of MaxPD is taken as 1.
    </p>
    <p num="50">The data transfer application 14 connects a logical connection and sets a data link using the same procedure as that in the first embodiment, refers to the default values of the protocol parameters managed by the parameter managing portion 12, and transfers data.</p>
    <p num="51">
      The data transfer monitoring portion 41 monitors SDs given to the communication control portion 15 from the protocol processing portion 11, and calculates the average transfer interval of the SDs.
      <br/>
      The parameter calculating portion 42 calculates the number of SDs transferred within a timer period Timer_POLL shown in FIG. 3 managed by the parameter managing portion 12 on the basis of the average transfer interval calculated by the data transfer monitoring portion 41.
      <br/>
      When the average transfer interval is taken as 10 msec, and a timer value of the Timer_POLL is taken as 400 msec, for example, the number of SDs transferred within the timer period Timer_POLL is 40.
      <br/>
      The parameter calculating portion 42 outputs a value smaller than 40, for example, 20 (a value which is one-half of 40) as MaxPD to the parameter managing portion 12.
      <br/>
      Correspondingly, the parameter changing portion 121 in the parameter managing portion 12 rewrites the value of MaxPD in the parameter table 122 shown in FIG. 3 from 1 to 20.
    </p>
    <p num="52">
      Thereafter, the value of MaxPD referred to by the protocol processing portion 11 is changed to 20, thereby POLL is sent out every time 20 SDs are sent out.
      <br/>
      The other operations in the second embodiment are the same as those in the first embodiment.
    </p>
    <p num="53">
      Although in the second embodiment, the average transfer interval of SDs is monitored in the data transfer monitoring portion 41, the maximum transfer interval in a unit time may be monitored, so that the number of SDs transferred within the timer period Timer_POLL can also be calculated by the parameter calculating portion 42 on the basis of the maximum transfer interval.
      <br/>
      Although in the parameter calculating portion 42, the value which is one-half of the number of SDs transferred within the timer period Timer_POLL is taken as MaxPD, another value can be used, provided that it is not more than the number of SDs transferred within the timer period Timer_POLL.
    </p>
    <p num="54">
      As described in the foregoing, according to the second embodiment, the value of MaxPD is dynamically changed depending on the transfer interval of the SDs, the POLLs are sent out at an interval which is always shorter than an interval at which a time-out of the Timer_POLL occurs.
      <br/>
      Specifically, it is possible to select and set the best protocol parameters in a case where the efficiency of the data transfer is not reduced by monitoring the actual situations where the data is transmitted.
    </p>
    <p num="55">Third Embodiment</p>
    <p num="56">
      FIG. 6 is a block diagram showing the construction of a data transfer device according to a third embodiment of the present invention.
      <br/>
      In FIG. 6, a data transfer device 52 in the present embodiment comprises a protocol processing portion 11, a parameter managing portion 12, a connection setting portion 13, a data transfer application 14, a communication control portion 15, and a parameter calculating portion 51.
    </p>
    <p num="57">
      The parameter calculating portion 51 calculates the value of MaxPD on the basis of the value of NR and the value of NMR which are received by the protocol processing portion 11.
      <br/>
      The protocol processing portion 11, the parameter managing portion 12, the connection setting portion 13, the data transfer application 14, and the communication control portion 15 are constructed similarly to corresponding ones shown in FIG. 1.
    </p>
    <p num="58">Operations performed by the data transfer device according to the third embodiment constructed as described above will be described using FIGS. 3 and 6.</p>
    <p num="59">
      The data transfer application 14 connects a logical connection and sets a data link using the same procedure as that in the first embodiment.
      <br/>
      The protocol processing portion 11 reports the value of NMR received at this time to the parameter calculating portion 51.
      <br/>
      When the reported NMR is eight, for example, the parameter calculating portion 51 outputs a value smaller than eight, for example, four (a value which is one-half of eight) as MaxPD to the parameter managing portion 12.
      <br/>
      Correspondingly, the parameter changing portion 121 in the parameter managing portion 12 changes the value of MaxPD in the parameter table 122 shown in FIG. 3 to four.
      <br/>
      Thereafter, data transfer is made using the same procedure as that in the first embodiment.
    </p>
    <p num="60">
      During data transfer processing, the protocol processing portion 11 reports to the parameter calculating portion 51 the NR and the NMR reported from a device on the receiving side at the time of receiving STAT.
      <br/>
      When the NR and the NMR reported at this time are respectively taken as 6 and 14, the parameter calculating portion 51 calculates eight which is the difference between them as a window size, and outputs a value which is smaller than eight, for example, four (a value which is one-half of eight) as MaxPD to the parameter managing portion 12.
      <br/>
      Correspondingly, the parameter managing portion 12 sets four in the MaxPD shown in FIG. 3.
      <br/>
      The protocol processing portion 11 hereinafter makes the data transfer while referring to the value of MaxPD.
    </p>
    <p num="61">Although in the above-mentioned third embodiment, the parameter calculating portion 51 takes a value which is one-half of the window size as MaxPD, other values can be used, provided that it is not more than the window size.</p>
    <p num="62">
      As described in the foregoing, according to the third embodiment, the window size is calculated on the basis of the NR and the NMR reported from the device on the receiving side, and a value smaller than the calculated window size is set as MaxPD.
      <br/>
      Even when the window size given from the device on the receiving side is small, the data transfer can be made without stopping the transmission of SDs due to the window size.
    </p>
    <p num="63">Fourth Embodiment</p>
    <p num="64">A fourth embodiment of the present invention will be described using FIGS. 1 and 7.</p>
    <p num="65">
      FIG. 7 illustrates a parameter table used in the fourth embodiment.
      <br/>
      Protocol parameters for a first logical connection VC1 and protocol parameters for a second logical connection VC2 are respectively stored in a first parameter table 122a shown in FIG. 7(a) and a second parameter table 122b shown in FIG. 7(b).
    </p>
    <p num="66">
      In the fourth embodiment, consider a case where a plurality of logical connections are set, and different data are transferred with the respective logical connections.
      <br/>
      The two logical connections are taken as first and second logical connections VC1 and VC2, and a destination of connection of the first logical connection VC1 and a destination of connection of the second logical connection VC2 are respectively taken as a first device and a second device.
    </p>
    <p num="67">
      A data transfer application 14 gives the number of data packets whose transfer is required at one time to a parameter managing portion 12 for each logical channel, as in the first embodiment.
      <br/>
      Correspondingly, a parameter changing portion 121 in the parameter managing portion 12 previously sets the number of data packets transferred at one time by the first logical connection VC1 in MaxPD in the first parameter table 122a, and previously sets the number of data packets transferred at one time by the second logical connection VC2 in MaxPD in the second parameter table 122b.
      <br/>
      Default values shall be set with respect to the other parameters shown in FIG. 7.
    </p>
    <p num="68">The data transfer application 14 then requires setting of connections in which addresses of destinations of connection of the two logical connections VC1 and VC2 are specified by a connection setting portion 13 in order to connect the logical connections.</p>
    <p num="69">
      When the setting of the logical connections by the connection setting portion 13 is completed, the data transfer application 14 sets on the first logical connection VC1 a data link between the data transfer device and the first device.
      <br/>
      Similarly, the data transfer application 14 sets on the second logical connection VC2 a data link between the data transfer device and the second device.
      <br/>
      When the setting of the respective data links is completed, the data transfer application 14 starts the data transfer.
    </p>
    <p num="70">
      In SSCOP processing, protocol processing is separately performed for each logical connection.
      <br/>
      Consequently, different sequence numbers are assigned to the data packets for each logical connection.
    </p>
    <p num="71">
      A protocol processing portion 11 produces SD to which a sequence number for the first device is added upon acceptance of a data transmission request addressed to the first device from the data transfer application 14, and transmits the SD to the first device.
      <br/>
      At this time, the protocol processing portion 11 increments a count value of a counter for counting the number of continuously transferred SDs in the first logical connection VC1 (provided inside the protocol processing portion 11) by one, compares the count value with the value of MaxPD set in the first parameter table 122a, and sends out POLL if the count value is not less than the value of MaxPD.
      <br/>
      The protocol processing portion 11 then produces SD to which a sequence number for the second device is added upon acceptance of a data request addressed to the second device from the data transfer application 14, and transmits the SD to the second device.
      <br/>
      At this time, the protocol processing portion 11 increments a count value of a counter for counting the number of continuously transferred SDs in the second logical connection VC2 (provided inside the protocol processing portion 11) by one, compares the count value with the value of MaxPD set in the second parameter table 122b, and sends out POLL if the count value is not less than the value of MaxPD.
    </p>
    <p num="72">Although in the fourth embodiment, the number of logical channels to be multiplexed is taken as 2, three or more logical channels can be multiplexed by managing protocol parameters corresponding to the number of logical channels to be multiplexed by the parameter managing portion 12.</p>
    <p num="73">
      Although in the fourth embodiment, the number of data packets transferred at one time is previously set as the value of MaxPD, a method of setting the value of MaxPD on the basis of a transmission interval of SDs (a second embodiment) and a method of setting the value of MaxPD on the basis of NMR designated from a device on the receiving side (a third embodiment) may be employed.
      <br/>
      In this case, it is necessary to perform for each logical channel both monitoring processing in the data transfer monitoring portion and calculating processing in the parameter calculating portion.
    </p>
    <p num="74">As described in the foregoing, according to the fourth embodiment, when the data transfer is made using the plurality of logical channels, the protocol parameters are separately managed for each of the logical channels, thereby the data transfer can be made for each logical channel in the most suitable state.</p>
    <p num="75">Although the present invention has been described and illustrated in detail, it is clearly understood that the same is by way of illustration and example only and is not to be taken by way of limitation, the spirit and scope of the present invention being limited only by the terms of the appended claims.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A data transfer device for establishing data communication through an ATM network, comprising:</claim-text>
      <claim-text>a connection setting portion operable to set a logical connection on the ATM network; a protocol processing portion operable to perform protocol processing having a procedure for selective retransmission on said logical connection; a parameter table operable to store a plurality of protocol parameters required for the protocol processing in said protocol processing portion and a parameter MaxPD for defining a transmission interval of delivery confirmation packets as one of said plurality of protocol parameters; a parameter changing portion operable to chance the contents of settings of the protocol parameters stored in said parameter table depending on a communication state, and to change said parameter MaxPD; wherein said parameter changing portion is operable to change said parameter MaxPD in accordance with the number of data packets transferred at one time on said logical connection and to change said parameter MaxPD in accordance with a number of data packets, into which data to be transferred is divided or which are designated to be transferred at one time, so as to deliver a confirmation packet immediately after the last data packet is transferred.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A data transfer device for establishing data communication through an ATM network, comprising: a connection setting portion operable to set a logical connection on the ATM network; a protocol processing portion operable to perform protocol processing having a procedure for selective retransmission on said logical connection; a parameter table operable to store a plurality of protocol parameters required for the protocol processing in said protocol processing portion and a parameter MaxPD for defining a transmission interval of delivery confirmation packets as one of said plurality of protocol parameters; a parameter changing portion operable to change the contents of settings of the protocol parameters stored in said parameter table depending on a communication state, and to change said parameter MaxPD; a data transfer monitoring portion operable to monitor a transfer interval of the data packets transferred on said logical connection;</claim-text>
      <claim-text>and a parameter calculating portion operable to calculate an interval at which the delivery confirmation packets are to be transmitted based on the transfer interval of the data packets monitored by said data transfer monitoring portion; wherein said parameter changing portion is operable to change said parameter MaxPD in accordance with results of the calculation by said parameter calculating portion.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The data transfer device according to claim 2, wherein said parameter table is operable to store a timer period Timer POLL for defining the maximum allowable transmission interval of the delivery confirmation packets as one of said plurality of protocol parameters, and said parameter calculating portion is operable to calculate the number of packets sent out in said timer period Timer POLL from the transfer interval of the data packets monitored by said data transfer monitoring portion, and to determine a value smaller than the calculated number of packets as an interval at which the delivery confirmation packets are to be transmitted.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A data transfer device for establishing data communication through an ATM network, comprising: a connection setting portion operable to set a logical connection on the ATM network; a protocol processing portion operable to perform protocol processing having a procedure for selective retransmission on said logical connection; a parameter table operable to store a plurality of protocol parameters required for the protocol processing in said protocol processing portion and a parameter MaxPD for defining a transmission interval of delivery confirmation packets as one of said plurality of protocol parameters; a parameter changing portion operable to change the contents of settings of the protocol parameters stored in said parameter table depending on a communication state, and to change said parameter MaxPD; a parameter calculating portion operable to calculate the interval at which the delivery confirmation packets are to be transmitted based on a credit value NMR sent from the receiving side and a sequence number NR of a packet, whose delivery has been already confirmed, sent from the receiving side; wherein said parameter changing portion is operable to change said parameter for defining the transmission interval in accordance with the results of the calculation by said parameter calculating portion.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The data transfer device according to claim 4, wherein said parameter calculating portion is operable to calculate the difference between said credit value NMR and said sequence number NR, and to set a value smaller than the calculated difference as an interval at which the delivery confirmation packets are to be transmitted.</claim-text>
    </claim>
  </claims>
</questel-patent-document>