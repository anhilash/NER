<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185215B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185215</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185215</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="24943982" extended-family-id="42113211">
      <document-id>
        <country>US</country>
        <doc-number>08732552</doc-number>
        <kind>A</kind>
        <date>19961015</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1996US-08732552</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43171312</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>73255296</doc-number>
        <kind>A</kind>
        <date>19961015</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1996US-08732552</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04L  12/56        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>56</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04Q  11/04        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>11</main-group>
        <subgroup>04</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>370402000</text>
        <class>370</class>
        <subclass>402000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>370218000</text>
        <class>370</class>
        <subclass>218000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>370465000</text>
        <class>370</class>
        <subclass>465000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04L-012/56A</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>012</main-group>
        <subgroup>56A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04L-049/60A</text>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>049</main-group>
        <subgroup>60A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04Q-011/04S2</text>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>011</main-group>
        <subgroup>04S2</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04Q-011/0478</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>11</main-group>
        <subgroup>0478</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-012/5601</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>5601</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-049/251</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>49</main-group>
        <subgroup>251</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-049/351</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>49</main-group>
        <subgroup>351</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04L-049/602</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>49</main-group>
        <subgroup>602</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04L-049/25A</classification-symbol>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04L-049/35A</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>19</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>14</number-of-drawing-sheets>
      <number-of-figures>18</number-of-figures>
      <image-key data-format="questel">US6185215</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Combined router, ATM, WAN and/or LAN switch (CRAWLS) cut through and method of use</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>PERLMAN RADIA J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5500860</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5500860</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>GRIDLEY CURTIS D</text>
          <document-id>
            <country>US</country>
            <doc-number>5521913</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5521913</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>WILKINSON I C KEITH, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5452293</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5452293</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>SHIMIZU HIROSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5452296</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5452296</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>SCHIBLER ROSS M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5453979</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5453979</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>ATM Year 96, May 6-9, 1996, San Jose, CA, Session: IP/ATM Protocol Research, Speaker: Mr. Tom Lyon, Founder &amp; Chief Technical Officer, Ipsilon Networks, Inc., pp. 1-10.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>Data Communications, May 1996, "ATM's Soft Side", by Nick Lippis, Strategic Networks Consulting Inc., pp. 31-32.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>Spring 1996, Ipsilon Networks, Inc., vol. 1, No. 1.2, "Ipsilon Premieres First IP Switch", The IP Switching Advantage, pp. 1-4.</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>International Business Machines Corporation</orgname>
            <address>
              <address-1>Armonk, NY, US</address-1>
              <city>Armonk</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>IBM</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Aho, Michael E.</name>
            <address>
              <address-1>Rochester, MN, US</address-1>
              <city>Rochester</city>
              <state>MN</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Venglarik, Daniel E.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Dillon, Andrew J.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Horabik, Michael</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A cut through is provided in a combined router/switch in a data processing system network by having the router store and forward a first portion of a data flow from a source to a destination.
      <br/>
      The router determines whether the data flow is suitable for cut through.
      <br/>
      If found suitable, the router sends a redirect protocol to the source, directing the source to use a different destination address for all or part of the remainder of the data flow.
      <br/>
      The portion of the data flow having new destination address is then cut through the combined router/switch by the switch.
      <br/>
      If the cut through has a failure, responsibility for the data flow delivery returns to the router.
      <br/>
      If the destination of a cut through data flow is unavailable, the frames are stored by the switch and forwarded when the destination is available.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Technical Field
    </p>
    <p num="2">
      The present invention relates in general to combined routing and switching devices in computer networks and in particular to such devices in local area network and wide area network environments.
      <br/>
      Still more particularly, the present invention relates to improving performance of combined routing and switching devices used in local area networks and wide area networks by providing a cut-through.
    </p>
    <p num="3">2. Description of the Related Art</p>
    <p num="4">
      The past decade has seen an explosion in the use of computer networks in all sectors of society: business and industry, education and research, and even recreation.
      <br/>
      This growth in the use of computer networks has been accompanied by a proportional demand for improvement of the performance of such networks.
    </p>
    <p num="5">
      Computer networks are classified by their geographic scope.
      <br/>
      The most commonly used terms for classifying computer networks are local area network (LAN) and wide area network (WAN).
      <br/>
      LANs are generally limited to computers within a relatively small area, such as a building, office or campus.
      <br/>
      WANs, on the other hand, connect computers over larger geographic scopes, such as from one city to another.
      <br/>
      Less commonly used terms for classifying computer networks include metropolitan area network (MAN) and global area network (GAN), which have self-explanatory geographic scopes.
      <br/>
      Currently the Internet is the most prominent example of a global area network.
    </p>
    <p num="6">
      Various technologies have evolved for communications and/or data transmission in computer networks, including Ethernet, token ring, fiber distributed data interface (FDDI), and asynchronous transfer mode (ATM).
      <br/>
      Data transmission within and between networks using such technologies are governed by various protocols, such as frame relay (FR), X.25, integrated services digital network (ISDN), media access control address protocol, and transmission convergence protocol/internet protocol (TCP/IP).
    </p>
    <p num="7">
      As with other forms of digital communications, data in computer networks is commonly transmitted in packets or frames, i.e.--discrete bundles of data.
      <br/>
      Frames are comprised of various fields, such as header, address, data, and control fields.
      <br/>
      The arrangement or format of these fields within a frame is protocol-dependent.
      <br/>
      An explanation of some frame formats commonly used in computer networks may be found in Internet Engineering Task Force (IETF) Request for Comments (RFC) 1490, which is incorporated herein by reference.
      <br/>
      However, it will be understood by those skilled in the art that RFC 1490 is not exhaustive of all frame formats currently in use.
    </p>
    <p num="8">
      A given communications or data transmission process in a network often requires delivery of multiple packets or frames of data from a source to a destination within the network.
      <br/>
      For example, retrieval of a file using file transfer protocol (FTP) will generally be accomplished using a large number of frames.
      <br/>
      Although relating to the same process (i.e., FTP), different frames may be transmitted via different paths within the network.
      <br/>
      As used herein, a data flow refers to a sequence of related frames sent from a particular source to a particular destination within the network.
    </p>
    <p num="9">
      Various devices exist for transmitting packets or frames of data within a network or between networks.
      <br/>
      A bridge or gateway--the terms are often used interchangeably--passes frames of data from one network to another, the two networks typically being local area networks.
      <br/>
      FIG. 1 illustrates a bridge connecting two token ring LANs, while FIG. 2 depicts a bridge linking an Ethernet LAN to a token ring LAN.
      <br/>
      Bridges store and forward frames of data, looking only at the low-level addressing and not at the frame's internal data to determine where the frames are sent.
    </p>
    <p num="10">
      Routers are an evolution beyond bridges, usually routing frames of data at a higher level protocol than is handled by bridges.
      <br/>
      The oldest routers were internet protocol (IP) routers, but other protocols may be routed including InterPacketExchange (IPX) by Novell, Inc. and high performance routing (HPR) by International Business Machines Corporation of Armonk, N.Y. Like bridges, routers store and forward frames.
      <br/>
      However, a router, after storing a frame of data, looks into the internal data of the frame for higher protocol information regarding the ultimate destination of the frame.
      <br/>
      A router then consults an internal table of available paths to the ultimate destination and corresponding protocols supported by those paths, and makes a decision regarding how to route the frame to its ultimate destination.
    </p>
    <p num="11">
      If a router encounters a frame of data not fitting into the list of protocols which it routes, it bridges the frame.
      <br/>
      Routers will attempt to route first, then bridge.
      <br/>
      As shown in FIG. 3, which illustrates an example of a router, a router usually has more than two connections to disparate LANs or WANs.
      <br/>
      Routers may also be required to interface between multiple protocols.
    </p>
    <p num="12">
      A switch is a hardware device providing physical connection within or between different networks.
      <br/>
      Unlike bridges and routers, a switch typically forwards data without first storing the entire frame.
      <br/>
      The delays inherent in storing the entire frames before forwarding are thus eliminated.
      <br/>
      A switch transmits the data bits of the frame received from the source port directly to the destination port as soon as the destination is ascertained.
      <br/>
      Switches are often used as part of virtual circuits (VCs), or defined paths between a given source or destination.
      <br/>
      A virtual circuit may be either a switched virtual circuit (SVC) or a permanent virtual circuit (PVC).
      <br/>
      Switched virtual circuits are transient, set up for the benefit of a given process or data flow, and may result in different paths being used between the same source and destination for discrete processes.
      <br/>
      Permanent virtual circuits (PVCs) are defined paths between a source and destination using designated nodes in a predetermined sequence.
    </p>
    <p num="13">
      Switches were first used in telephone networks and other WANs.
      <br/>
      In WAN environments, for example, Frame Relay and ATM protocols are capable of using switches.
      <br/>
      FIG. 4 depicts an example of a WAN using Frame Relay switches to connect LANs.
      <br/>
      Routers within the LANs which connect the LAN to the WAN must have Frame Relay Access Devices (FRAD) attached.
    </p>
    <p num="14">
      Despite their origins in the WAN environment, switches are beginning to be used in LAN implementations.
      <br/>
      To improve high-demand, high-bandwidth data delivery, the network industry is attempting to overcome latency (delay) in routers by going to switching technologies.
      <br/>
      LAN technologies such as Ethernet and token ring have been adapted to use switches.
      <br/>
      ATM, which may operate through switches, works in either LAN or WAN environments.
      <br/>
      FIG. 5 illustrates an example of a switch in a network LAN environment.
      <br/>
      FIGS. 6 and 7 depict examples of Ethernet and token ring switches, respectively.
    </p>
    <p num="15">
      As switching is implemented in LAN environments, LAN connections have moved from shared access transport (SAT) sharing of media to connecting directly to switch ports.
      <br/>
      The LAN framing remains unchanged, but data flows attempt to pass or "cut through" the switch.
      <br/>
      Cut through avoids completely storing the frame before forwarding it, passing through the bits as soon as the destination port is known.
      <br/>
      Adaptive cut through is a variation which seeks to avoid wasting frames if the destination port is already busy by storing the frame in the switch until the destination is available.
    </p>
    <p num="16">
      The current trend in network implementation is to use both routing and switching together at a network node.
      <br/>
      Products are being developed which combine routers--especially IP routers--with switches.
      <br/>
      However, although physically combined in a single package for use at network nodes, functional combination of routers and switches has been limited.
      <br/>
      Generally routers in such combined packages communicate with the network through the switches, but routing and switching technologies are not being used synergistically in networks to take full advantage of both technologies.
      <br/>
      For example, a need exists for a method of using routing at the beginning of certain network data flows, then changing over to switching to improve data throughput by removing routing latency.
      <br/>
      This need exists in all LAN-to-LAN, LAN-to-WAN, and WAN-to-WAN connections.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="17">It is therefore one object of the present invention to provide an improved method of using combined routing and switching devices in computer networks.</p>
    <p num="18">It is another object of the present invention to provide an improved method of using combined routing and switching devices in both local area and wide area computer networks.</p>
    <p num="19">It is yet another object of the present invention to provide a method of cut-through in combined routing and switching devices used in local area and wide area computer networks to improve data throughput.</p>
    <p num="20">
      The foregoing objects are achieved as is now described.
      <br/>
      A cut through is provided in a combined router/switch in a data processing system network by having the router store and forward a first portion of a data flow from a source to a destination.
      <br/>
      The router determines whether the data flow is suitable for cut through.
      <br/>
      If found suitable, the router sends a redirect protocol to the source, directing the source to use a different destination address for all or part of the remainder of the data flow.
      <br/>
      The portion of the data flow having new destination address is then cut through the combined router/switch by the switch.
      <br/>
      If the cut through has a failure, responsibility for the data flow delivery returns to the router.
      <br/>
      If the destination of a cut through data flow is unavailable, the frames are stored by the switch and forwarded when the destination is available.
    </p>
    <p num="21">The above as well as additional objects, features, and advantages of the present invention will become apparent in the following detailed written description.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="22">
      The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself however, as well as a preferred mode of use, further objects and advantages thereof, will best be understood by reference to the following detailed description of an illustrative embodiment when read in conjunction with the accompanying drawings, wherein:
      <br/>
      FIG. 1 depicts a block diagram of a conventional bridge connecting two token ring LANs.
      <br/>
      FIG. 2 is a block diagram of a conventional bridge linking an Ethernet LAN to a token ring LAN.
      <br/>
      FIG. 3 depicts a block diagram of an example of a conventional router.
      <br/>
      FIG. 4 is a block diagram of an example of a WAN using conventional Frame Relay switches.
      <br/>
      FIG. 5 depicts a block diagram of an example of a conventional ATM switch in a network LAN environment.
      <br/>
      FIG. 6 is a block diagram of an example of a conventional Ethernet switch.
      <br/>
      FIG. 7 depicts a block diagram of an example of a conventional token ring switch.
      <br/>
      FIG. 8 is a block diagram of a simple example of combining router and switch technologies for use in a preferred embodiment of the present invention.
      <br/>
      FIG. 9 depicts a block diagram of a more sophisticated but more generally useful example of synergistically combining routing and switching technologies for use in a preferred embodiment of the present invention
      <br/>
      FIG. 10 is a block diagram of a portion of a LAN-to-LAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention.
      <br/>
      FIGS. 11 and 12 depict block diagrams of portions of LAN-to-WAN network connections containing a CRAWLS in accordance with a preferred embodiment of the present invention.
      <br/>
      FIGS. 13 and 14 are block diagrams of portions of WAN-to-LAN network connections containing a CRAWLS in accordance with a preferred embodiment of the present invention.
      <br/>
      FIG. 15 depicts a block diagram of a portion of a network containing a CRAWLS for ATM-to-ATM or frame-relay-to-frame-relay cut throughs in accordance with a preferred embodiment of the present invention.
      <br/>
      FIG. 16 is a block diagram of a network portion containing a CRAWLS for ATM-to-frame-relay cut through in accordance with a preferred embodiment of the present invention.
      <br/>
      FIG. 17 depicts a block diagram of a network portion containing a CRAWLS for frame-relay-to-ATM cut through in accordance with a preferred embodiment of the present invention.
      <br/>
      FIG. 18 is a high level flowchart for the operation of a CRAWLS such as that shown in FIG. 9 in accordance with a preferred embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="23">
      With reference now to the figures and in particular with reference to FIG. 8, a simple example of combining router and switch technologies for use in a preferred embodiment of the present invention is illustrated.
      <br/>
      The combination router/switch 100 includes an IP router 110 connected with an ATM switch 120 through an internal connection 130.
      <br/>
      Frame traffic from a source 140 or 142 to be routed by router 110 is received by switch 120.
      <br/>
      Internal connection 130, which has a ATM-type address, allows switch 120 to forward this frame traffic to router 110.
      <br/>
      Frames forwarded from router 110 to another network node 150 or 152 are passed through switch 120.
    </p>
    <p num="24">
      Referring to FIG. 9, a more sophisticated but more generally useful example of synergistically combining routing and switching technologies for use in a preferred embodiment of the present invention is depicted.
      <br/>
      The combined router/switch 200 includes a router 210 which may handle multiple routing protocols such as IP 211, IPX 212, and HPR 213.
      <br/>
      Also included are ATM, frame relay, and LAN switches 220, 230, and 240, which are linked to router 210 via internal connections 222, 232, and 242 respectively.
      <br/>
      Frame traffic to and from router 210 passes through one or more of the switches 220, 230 and 240 depending on whether the source-destination connection is LAN-to-LAN, LAN-to-WAN/WAN-to-LAN, or WAN-to-WAN.
      <br/>
      For example, suppose combined router/switch 200 is positioned as the interface between a LAN and the remainder of a WAN including the LAN.
      <br/>
      LAN-to-LAN traffic from a source 250 to a destination 252 will pass through LAN switch 220 both to and from router 210.
      <br/>
      LAN-to-WAN traffic from a source 250 to a destination 260 may pass through LAN switch 220 on the LAN side and through frame relay switch 240 on the WAN side.
      <br/>
      WAN-to-WAN traffic may pass, as appropriate, from a source 270 to a destination 272 only through ATM switch 230, or from a source 270 through ATM switch 230 to router 210 and from router 210 through frame relay switch 240 to destination 260.
      <br/>
      Those skilled in the art will understand that numerous variations of switching paths are possible.
    </p>
    <p num="25">
      Although shown as one entity in FIGS. 8 and 9, the combined router and switch(es) need not be physically combined in a single, discrete piece of hardware to be used in accordance with a preferred embodiment of the present invention.
      <br/>
      It will be understood by those of ordinary skill that other hardware implementations may be equally acceptable.
      <br/>
      For example, a network node having a switch and a router connected to the network through the switch may be used to the same effect.
      <br/>
      As used herein, the term "combined router and switch" refers generally to combinations of routers and switches, however achieved, and regardless of whether the combined router and switch is used in an ATM, WAN, or LAN environment or some other alternative network environment.
    </p>
    <p num="26">LAN-to-LAN</p>
    <p num="27">
      With reference now to FIG. 10, a portion of a LAN-to-LAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention is illustrated.
      <br/>
      The network portion of interest 500 includes a source 510 attempting to deliver a data flow to a destination (not shown).
      <br/>
      Use of a series of intermediate nodes N0, N1, . . . , Nm is required for source 510 to reach the destination required for the particular process being executed.
      <br/>
      Node N0 520 is a CRAWLS including a router 520a and a switch 520b.
      <br/>
      Addressing for this example is in media access control (MAC) format.
    </p>
    <p num="28">
      Frames from source 510 having source address A are routed by router 520a to the next node N1.
      <br/>
      Frames are received in the CRAWLS 520 from source 510 at internal MAC address B in router 520a.
      <br/>
      Router 520a routes the frames to the next node N1 530 from source address B to destination address C1.
      <br/>
      Router 520a determines if a data flow from source address A to destination address C1 is suitable for cut through.
      <br/>
      Processes which require substantial throughput, such as file transfers (including FTP), remote access (including Telnet), or hypertext transmission protocol (HTTP) transfers will result in data flows suitable for cut through.
      <br/>
      Processes requiring short lived frame traffic, such as e-mail or simple network management protocol (SNMP) queries, may be less suitable or even unsuitable for cut through.
      <br/>
      Cut through is unsuitable when establishing the cut through would increase latency of the total data flow.
    </p>
    <p num="29">
      In LAN-to-LAN connections, CRAWLS 520 may provide a simple cut through in which router 520a sends source 510 a redirect protocol frame.
      <br/>
      The redirect protocol directs source 510 to use destination address C1 for all or part of the remaining data flow related to the process being executed.
      <br/>
      If the redirect protocol is accepted, frame traffic from source 510 previously addressed to router 520a and routed to node N1 is now addressed by source 510 to destination address C1 of node N1.
      <br/>
      The remaining portion of the data flow for the process being executed, bearing the destination address C1, is then cut through CRAWLS 520 by switch 520b directly to node N1.
    </p>
    <p num="30">
      It is important to note that the present invention is not limited to a particular device--e.g., a combined router/switch--provided at a particular node within the network.
      <br/>
      The benefits of the present invention may best be achieved by using the methods disclosed at multiple nodes within the network.
      <br/>
      For example, source 510 must be capable of responding to a redirect protocol sent by router 520a by changing the destination address of frames within a given flow.
      <br/>
      Thus, for all or part of the routed frame traffic in network 500, nodes N1 530 through Nm 540 may also be CRAWLS, each sending redirect protocols upstream for simple cut through.
      <br/>
      Thus node Ni would cut through frame traffic from node Ni-1 to node Ni+1.
      <br/>
      Frame traffic from source 510 would then be switched through each of nodes N0, N1, . . . Nm directly through to the destination.
    </p>
    <p num="31">
      An alternative to simple cut through in LAN-to-LAN connections is using a MAC address proxy (MACAP) cut through.
      <br/>
      Rather than node N1 address C1, router 520a sends a redirect protocol frame to source 510 directing source 510 to use proxy MAC address G for all or part of the remaining data flow.
      <br/>
      Router 520a and switch 520b cooperate in generating proxy address G and registering this address within substitution tables in switch 520b.
      <br/>
      When switch 520b subsequently sees destination MAC address G, it substitutes address C1 and forwards the frame to node N1.
      <br/>
      If node N1 subsequently communicates a new destination MAC address--real or proxy--to router 520a in node N0 520, router 520a updates the substitution table in switch 520b.
      <br/>
      Thereafter, when switch 520b sees destination MAC address G, it substitutes destination address H and sends the frame to the same switch port as it did for address C1.
    </p>
    <p num="32">LAN-to-WAN/WAN-to-LAN</p>
    <p num="33">
      Referring to FIG. 11, a portion of a LAN-to-WAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention is depicted.
      <br/>
      The network portion of interest 600 includes a source 610 connected to a CRAWLS 620 and attempting to deliver a data flow to a destination (not shown).
      <br/>
      The example depicted assumes that a frame relay protocol is used for LAN-to-WAN access.
      <br/>
      CRAWLS 620 includes frame relay switch 620c as well as router 620a and LAN switch 620b.
      <br/>
      Internal address C in frame relay switch 620c maps to PVC 0630.
    </p>
    <p num="34">
      If the frame relay traffic in the LAN-to-WAN connection is bridged LAN traffic in accordance with RFC 1490, the procedures described above for LAN-to-LAN connections may also be applied to the LAN-to-WAN connection.
      <br/>
      However, another MACAP method specific to frame relay may be applied to LAN-to-WAN connections which are frame relay direct traffic in accordance with RFC 1490 (e.g., IP/FR, HPR/FR).
      <br/>
      Upon determining that a data flow is suitable for cut-through, router 620a cooperates with LAN switch 620b, and possibly with frame relay switch 620c, to generate a proxy MAC address K. The proxy MAC address K is registered in LAN switch 620b as mapping to PVC 0630.
      <br/>
      Router 620a then sends a redirect protocol to source 610 directing source 610 to use destination address K for all or part of the remainder of the data flow previously using internal MAC address B within the CRAWLS as a destination address.
      <br/>
      When LAN switch 620b detects destination address K in subsequent frames, the frames are sent directly down PVC 0630 through destination address F.
    </p>
    <p num="35">
      In an enhanced or adaptive version of this MACAP method for LAN-to-WAN connections, transmission of frames down PVC 0630 is begun before the entire frame arrives.
      <br/>
      That is, as soon as LAN switch 620b determines that destination address K maps to PVC 0630, LAN switch 620b informs frame relay switch 620c of the incoming frame traffic.
      <br/>
      If PVC 0630 is unavailable, frame relay switch 620c stores the frame for forwarding when PVC 0630 becomes available.
      <br/>
      Once PVC 0630 becomes available, frame relay switch 620c begins transmission of the frame--even if PVC 0630 became available before the entire frame was stored.
    </p>
    <p num="36">
      With reference now to FIG. 12, a portion of a LAN-to-WAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention is depicted for an example which assumes that an ATM protocol is used for LAN-to-WAN access.
      <br/>
      This is essentially the same as a CRAWLS where frame relay protocol is used for LAN-to-WAN access, except an ATM VC is used without regard to whether the VC is a PVC or an SVC.
      <br/>
      The network portion of interest 700 includes a source 710 connected to a CRAWLS 720 and attempting to deliver a data flow to a destination (not shown).
      <br/>
      CRAWLS 720 includes router 720a, LAN switch 720b, and ATM switch 720c.
      <br/>
      Internal address C in ATM switch 720c maps to VC 0730.
      <br/>
      Upon determining that a data flow is suitable for cut-through, router 720a cooperates with LAN switch 720b, and possibly with ATM switch 720c, to generate a proxy MAC address K. The proxy MAC address K is registered in LAN switch 720b as mapping to VC 0730.
      <br/>
      Router 720a then sends a redirect protocol to source 710 directing source 710 to use destination address K for all or part of the remainder of the data flow previously using internal MAC address B within the CRAWLS as a destination address.
      <br/>
      When LAN switch 720b detects destination address K in subsequent frames, the frames are sent directly to ATM switch 720c to be sent down VC 0730.
    </p>
    <p num="37">
      As with the LAN-to-WAN CRAWLS where frame relay protocol was used for LAN-to-WAN access, a LAN-to-WAN CRAWLS using ATM protocol may be enhanced for adaptive cut through.
      <br/>
      In this case, frames are segmented into cells as each frame is received by ATM switch 720c from LAN switch 720b.
      <br/>
      As soon as any cell(s) of an incoming frame are available, ATM switch 720c transmits the cell(s) on VC 0730 into the ATM network.
    </p>
    <p num="38">
      Those skilled in the art will recognize that the above described methods can be adapted for a LAN-to-WAN CRAWLS using any LAN-to-WAN access protocol, including ISDN, SDLC, and asynchronous protocols.
      <br/>
      The router portion of the CRAWLS cooperates with the LAN switch and WAN switch portions to generate a MAC address proxy for use in lieu of the router's internal address.
      <br/>
      The proxy address is registered with the LAN switch portion of the CRAWLS and a redirect protocol is sent to the source.
      <br/>
      As a result, frames sent to the LAN switch with the proxy address are passed directly to the WAN switch.
      <br/>
      If practical, the CRAWLS may be enhanced for cut through by causing the WAN switch to transmit the frames as soon as the port is available.
      <br/>
      However, cut through will not be practical if the WAN transmission speed is faster than the speed at which the WAN switch receives frames from the LAN switch.
    </p>
    <p num="39">
      With minor modifications, the methods described above may be applied to WAN-to-LAN traffic using various WAN-to-LAN access protocols.
      <br/>
      Referring to FIG. 13, a portion of a WAN-to-LAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention is illustrated.
      <br/>
      The portion of interest 800 of the WAN-to-LAN connection shows a source 810 within the WAN sending frames through WAN network 820 to target 840 in the LAN via CRAWLS 830.
      <br/>
      CRAWLS 830 includes router 830a, WAN switch 830b (which may be either a frame relay or ATM switch), and LAN switch 830c.
    </p>
    <p num="40">
      As with LAN-to-WAN traffic, if the frame relay traffic in the WAN-to-LAN connection is bridged LAN traffic in accordance with RFC 1490, the procedures described above for LAN-to-LAN connections may be applied to the WAN-to-LAN connection.
      <br/>
      Again, however, another MACAP method specific to frame relay may be applied to WAN-to-LAN connections which are frame relay direct traffic.
      <br/>
      Source 810 is sending frame traffic over PVC P 850 to router 830a via frame relay switch 830b.
      <br/>
      Router 830a sends a redirect protocol over the same PVC P 850 to source 810 providing the next MAC address to use in order to bypass router 830a.
      <br/>
      The redirect protocol notes which traffic is to be sent to MAC address A of target 840.
      <br/>
      Source 810 takes frames formerly being sent as direct frames to router 830a and forwards them as bridged LAN frames to destination MAC address A of target 840 using the same PVC P 850 as before.
      <br/>
      Frame relay switch 830b passes bridged LAN frames directly to LAN switch 830c, which uses LAN switch technology to forward the frames to target 840.
    </p>
    <p num="41">
      With reference now to FIG. 14, a portion of a WAN-to-LAN network connection containing a CRAWLS in accordance with a preferred embodiment of the present invention is illustrated for the instance where WAN-to-LAN access is in ATM protocol.
      <br/>
      The portion of interest 900 includes source 910 sending frame traffic down VC M 920 to router 930a within CRAWLS 930.
      <br/>
      Router 930a is accessed from the WAN by internal ATM router address A and forwards frame traffic to target 940 from internal router MAC address B. LAN switch 930c within CRAWLS 930 also has internal ATM address C for receiving frame traffic from ATM switch 930b.
      <br/>
      Source 910 sends frames to target 940 via router 930a by sending ATM (frame) cells along VC M 920 to internal ATM address A of router 930a within CRAWLS 930.
      <br/>
      Router 930a permits cut through by cooperating with ATM switch 930b and LAN switch 930c to reserve a virtual circuit identification--VPI/VCI (virtual path identifier/virtual circuit identifier--for a new VC M' which maps to the MAC address D of target 940.
      <br/>
      As described below in the context of WAN-to-WAN ATM cut through, the redirect protocol sent by router 930a to source 910 treats LAN switch 930c as the target ATM address, and router 930a cooperates with ATM switch 930b on the cut through.
      <br/>
      However, router 930a also registers the VPI/VCI-to-MAC address mapping in LAN switch 930c, mapping M' to D, the MAC address of target 940.
      <br/>
      Thus the methods of signaling/provisioning cut through described below in the context of ATM-to-ATM cut throughs are also applicable in the WAN-to-LAN, ATM protocol environment.
    </p>
    <p num="42">
      Although "virtual circuit" was used above, those skilled in the art will recognize that "virtual path" may be readily substituted.
      <br/>
      That is, "virtual circuit" and "virtual path" in ATM nomenclature are interchangeable for the purposes of this description.
    </p>
    <p num="43">
      If WAN switch 930b were a frame relay switch rather than an ATM switch, the methods described above may be readily adapted with little substantive difference.
      <br/>
      Frame relay protocol merely uses data link circuit identifiers (DLCIs) and entire frames rather than VPI/VCIs and cells like ATM.
      <br/>
      The signaling/provisioning cut through methods described below with respect to frame-relay-to-frame-relay cut throughs may also be applied in the WAN-to-LAN, frame relay environment.
    </p>
    <p num="44">WAN-to-WAN</p>
    <p num="45">
      The phrase "WAN-to-WAN" is a nonsequitur used herein to designate transmitting frames within a CRAWLS between "WAN" protocols (i.e., frame relay, ATM, etc.).
      <br/>
      Referring to FIG. 15, a portion of a network containing a CRAWLS for an ATM-to-ATM cut through in accordance with a preferred embodiment of the present invention is depicted.
      <br/>
      In the network portion of interest 1000, source 1010 sends ATM (frame) cells along VC M 1020 to internal ATM address A of router 1030a in CRAWLS 1030.
      <br/>
      Router 1030a routes frames out its ATM address B along VC L 1040 to target 1050.
      <br/>
      In order to effect cut through, router 1030a cooperates with ATM switch 1030b in CRAWLS 1030 to reserve a VPI/VCI mapping a new VC M' from source 1010 to VC L 1040, effectively creating a VC from source 1010 to target 1050.
      <br/>
      Router 1030a sends a redirect protocol informing source 1010 of the availability of new VC M' without using the signaling procedures normally required by ATM ("signaling cut through").
      <br/>
      The redirect protocol sent by router 1030a to source 1010 contains the VPI/VCI Vm' identifying the reserved VPI/VCI within CRAWLS 1030.
    </p>
    <p num="46">
      In ATM networks, signaling messages are conveyed by out-of-band signaling techniques in dedicated SVCs to establish, maintain, or release an ATM virtual circuit connection (VCC) and virtual path connection (VPC) for data transfer.
      <br/>
      The signaling between nodes conventionally required to establish a new VC is unnecessary in the cut through method described above.
      <br/>
      When cells from source 1010 are received in ATM switch 1030b within CRAWLS 1030, cells with VPI/VCI Vm' are automatically switched to VC L 1040 with the appropriate VPI/VCI VL, cutting through CRAWLS 1030 without further signaling by router 1030a or ATM switch 1030b.
    </p>
    <p num="47">
      The redirect protocol sent by router 1030a to source 1010 may also include signaling-type information other than the VPI/VCI Vm', including bandwidth and quality of service (QoS) parameters.
      <br/>
      Again, "virtual circuit" and "virtual path" are viewed as interchangeable herein.
      <br/>
      Furthermore, the additional circuits and/or paths created may be SVCs or PVCs, and will be identified by type in the redirect protocol.
      <br/>
      Since the bypass of signaling procedures for SVCs was termed "signaling cut through," the similar bypass of provisioning procedures for PVCs may be equivalently termed "provisioning cut through."
    </p>
    <p num="48">
      Source 1010 and target 1050 may also be CRAWLS.
      <br/>
      Target 1050 may therefore send a redirect protocol to router 1030a.
      <br/>
      If the traffic or data flow which is the subject of the redirect protocol from target 1050 is identical to redirected traffic already being cut through CRAWLS 1030 from source 1010, router 1030a cooperates with ATM switch 1030b to update the circuit mapping table contained in ATM switch 1030b.
      <br/>
      VC M' is mapped to new VC L' by linking Vm' to VL'. Switch 1030b completes the update to internal circuit mapping tables only when the last cell of the frame presently being switched is detected.
    </p>
    <p num="49">
      If the redirect protocol sent by target 1050 embraces frame traffic from multiple sources, then router 1030a cooperates with ATM switch 1030b to update the circuit mapping for each of those sources, resulting in a funneling of traffic from multiple sources into VC L'. If the redirect protocol from target 1050 splits frame traffic presently sent along VC M and/or M' to L and L', router 1030b may send another redirect protocol to source 1010 and cooperate with ATM switch 1030b to reapportion traffic appropriately.
      <br/>
      Source 1010 may be directed to send some portion of the traffic along VC M" instead.
      <br/>
      Switch 1030b may thus map M" to L and M' to L', where source 1010 reapportions traffic not addressed by the redirect protocol from target 1050 (as relayed by in the redirect protocol from router 1030a) onto M".
    </p>
    <p num="50">
      Referring back to FIG. 15, the same portion of a network containing a CRAWLS depicted may be used for a frame-relay-to-frame-relay cut through in accordance with a preferred embodiment of the present invention.
      <br/>
      Instead of an ATM switch, switch 1030b in a frame relay switch.
      <br/>
      The methods described above with respect to ATM-to-ATM cut through apply equally to frame-relay-to-frame-relay cut through, except DLCIs and entire frames are used in place of VPI/VCIs and cells.
      <br/>
      Although the frame relay protocol has classically used PVCs, some frame relay architectures use SVCs.
      <br/>
      Thus the benefits of both signaling and provisioning cut through may be obtained in the frame-relay-to-frame-relay context as well.
    </p>
    <p num="51">
      With reference now to FIG. 16, a network portion containing a CRAWLS for ATM-to-frame-relay cut through in accordance with a preferred embodiment of the present invention is illustrated.
      <br/>
      The portion of interest 1100 includes a source 1110, CRAWLS 1130, and target 1150.
      <br/>
      Router 1130a within CRAWLS 1130 communicates with ATM switch 1130b using internal address A and with frame relay switch 1130c using internal address B. Source 1110 sends frames to target 1150 via router 1130a by sending ATM (frame) cells along VC M 1120 to internal ATM address A of router 1130a within CRAWLS 1130.
      <br/>
      Router 1130a permits cut through by cooperating with ATM switch 1130b and frame relay switch 1130c to reserve a VPI/VCI Vm' for a new VC M' which maps to the internal ATM address C of frame relay switch 1130c.
      <br/>
      VPI/VCI Vm' maps to the DCLI of VC L 1140 in the circuit mapping tables of frame relay switch 1130c.
    </p>
    <p num="52">
      Referring to FIG. 17, a network portion containing a CRAWLS for frame-relay-to-ATM cut through in accordance with a preferred embodiment of the present invention is depicted.
      <br/>
      The portion of interest 1200 includes a source 1210, CRAWLS 1230, and target 1250.
      <br/>
      Router 1230a within CRAWLS 1230 communicates with frame relay switch 1230b using internal address A and with ATM switch 1230c using internal address B. Source 1210 sends frames to target 1250 via router 1230a by sending ATM (frame) cells along VC M 1220 to internal address A of router 1230a within CRAWLS 1230.
      <br/>
      For bridged LAN frame relay traffic in accordance with RFC 1490, the same methods used for LAN-to-WAN, ATM protocol connections described above may be applied, with the simple modification that source 1210 sends frame traffic to frame relay switch 1230b via a PVC rather than using a proxy MAC address.
      <br/>
      For frame relay direct traffic, a frame-relay-to-ATM cut through may be accomplished in the same manner described above with respect to frame relay direct, WAN-to-LAN connections to convert to bridge LAN traffic, using a MACAP format MAC address in the redirect protocol.
      <br/>
      Signaling/provisioning cut through may be achieved by registering a new VC L' in the circuit mapping tables of frame relay switch 1230b, where the DCLI of VC L 1240 will map to VPI/VCI VL'.
    </p>
    <p num="53">
      With reference now to FIG. 18, a high level flowchart for the operation of a CRAWLS such as that shown in FIG. 9 in accordance with a preferred embodiment of the present invention is illustrated.
      <br/>
      Those skilled in the art will recognize that a similar process may be employed in conjunction with other combined routers and switches, such as that of FIG. 8.
    </p>
    <p num="54">
      The process 1300 by which the CRAWLS initiates cut through begins at step 1310, which depicts receipt of a data flow by a router within the CRAWLS.
      <br/>
      The process then proceeds to step 1315 which illustrates a determination of whether the data flow is of a type appropriate for cut through as described earlier.
      <br/>
      If the data flow is not appropriate for cut through, the process passes to step 1316, which illustrates continued routing of the data flow.
    </p>
    <p num="55">
      Referring back to step 1316, if the data flow is found to be appropriate for cut through, the process passes next to step 1320, which illustrates a determination of the type of cut through which should be used.
      <br/>
      If simple cut through may be used, the process then passes to step 1330, which depicts selection of the appropriate switch within CRAWLS to be used for cut through.
      <br/>
      The process then proceeds to step 1332, which illustrates sending a redirect protocol to the source containing the selected switch address, and then to step 1334, which depicts the router standing by after the data flow is cut through in case a problem requires the data flow to be routed once again.
    </p>
    <p num="56">
      With reference again to step 1320, if MACAP cut through is required, the process passes instead to step 1340, which illustrates selection of the appropriate cut through switch within the CRAWLS.
      <br/>
      The process then proceeds to step 1342, which depicts the generation of a proxy address and the registration of the proxy address within the selected switch.
      <br/>
      The process then passes to step 1344, which illustrates sending a redirect protocol to the source containing the proxy address, and then to step 1346, which depicts the router standing by in case routing is again required.
    </p>
    <p num="57">
      Referring again to step 1320, if cut through requires the use of virtual circuits, the process passes to step 1350, which illustrates selection of the appropriate cut through switch within the CRAWLS for linking the desired virtual circuits.
      <br/>
      The process then proceeds to step 1352, which depicts reservation of the necessary circuit (e.g., VPI/VCI or DCLI) mapping by the CRAWLS, and then to step 1354, which illustrates updating the virtual circuit mapping table within the selected switch.
      <br/>
      The process next passes to step 1356, which depicts sending a redirect protocol to the source containing the address to the newly-created virtual circuit, and then to step 1358, which illustrates the router standing by in the unlikely event that the new virtual circuit fails.
    </p>
    <p num="58">While the invention has been particularly shown and described with reference to a preferred embodiment, it will be understood by those skilled in the art that various changes in form and detail may be made therein without departing from the spirit and scope of the invention.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>I claim:</claim-text>
      <claim-text>1. A method of providing a combined router and switch cut through for optimizing delivery of a data flow between a source and a destination in a data processing system network, comprising:</claim-text>
      <claim-text>storing and forwarding a first portion of the data flow from the source to the destination by a router within the combined router and switch; determining that the data flow is suitable for cut through; determining a cut through type needed for the data flow; sending a redirect protocol conforming to the cut through type needed for the data flow to the source;</claim-text>
      <claim-text>and receiving and passing through a second portion of the data flow by a switch within the combined router and switch.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1, further comprising: responsive to a failure of the switch to complete delivery of the data flow by passing through the second portion of the data flow, storing and forwarding a third portion of the data flow by the router.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 1, further comprising: responsive to an inability of the switch to pass through the data flow to the destination, storing and forwarding the second portion of the data flow by the router.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 1, further comprising: responsive to determining the cut through type needed for the data flow:</claim-text>
      <claim-text>- mapping a new connection within the combined router and switch between the source and the destination;</claim-text>
      <claim-text>and - sending a selected switch address, a proxy address, or a virtual circuit address for the new connection in the redirect protocol.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The method of claim 4, wherein the step of mapping a new connection comprises generating and registering a proxy address for the data flow.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 4, wherein the step of mapping a new connection comprises mapping a switched virtual circuit for the data flow.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 4, wherein the step of mapping a new connection comprises mapping a permanent virtual circuit for the data flow.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 4, wherein the step of mapping a new connection further comprises: mapping a switched virtual circuit within the switch from the source to a virtual circuit for the destination without employing a conventional signaling procedure with other switching devices used to create switched virtual circuits for a data transfer protocol being employed for the data flow.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 4, wherein the step of mapping a new connection further comprises: mapping a permanent virtual circuit within the switch without employing a conventional provisioning procedure with other switching devices used to create permanent virtual circuits for a data transfer protocol being employed for the data flow.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A method for efficiently transferring a plurality of data packets from a source node to a destination node, comprising: receiving a first data packet from the plurality of data packets from the source node at an intermediate node; sending the first data packet to the destination node along a path selected by utilizing the data within the first data packet; selecting a cut through type for a data transfer protocol employed for the plurality of data packets; sending a redirect packet from the intermediate node to the source node, wherein the redirect packet includes switching information for cut through transmission employing the selected cut through type of subsequent data packets within the plurality of data packets by the intermediate node;</claim-text>
      <claim-text>and sending data from a subsequent data packet from the plurality of data packets, as the data is received at the intermediate node, to the destination node.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The method of claim 10, further comprising: sending an identification of an alternate path to the source node if the alternate path differs from a path identified by routing information within the first data packet.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The method of claim 11, further comprising: after the sending of the identification, sending data from data packets from a remaining portion of the plurality of data packets, as the data is received at the intermediate node, to the destination node along the alternate path.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. A method of data transfer cut through failure recovery, comprising: receiving and temporarily storing a first data packet from a data transfer from a source node at an intermediate node; sending the first data packet to a destination node along a selected path selected by selected based upon routing data within the first data packet; sending a redirect packet containing switching information for cut through transmission at the intermediate node from the intermediate node to the source node; switching and immediately transmitting each subsequent data packet within the data transfer, as the data packets are received at the intermediate node, along an alternate path within the intermediate node to the destination node;</claim-text>
      <claim-text>and in response to a failure of the alternate path, sending data packets from the remaining portion of the data transfer to the destination node along the selected path.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. A method of data transfer cut through recovery, comprising: receiving and temporarily storing a first data packet from a data transfer from a source node at an intermediate node; sending the first data packet to a destination node along a selected path selected by selected based upon routing data within the first data packet; sending a redirect packet containing switching information for cut through transmission at the intermediate node from the intermediate node to the source node; switching and immediately transmitting each subsequent data packet within the data transfer, as the data packets are received at the intermediate node, along an alternate path within the intermediate node to the destination node;</claim-text>
      <claim-text>and in response to an inability to immediately send the data packets within a remaining portion of the data transfer as the data packets are received at the intermediate node to the destination node, sending the data packets from the remaining portion of the data transfer to the destination node when possible.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. A apparatus for efficiently transferring a plurality of data packets from a source node to a destination node in a distributed data processing system comprising: receiving means for receiving a first data packet from the plurality of data packets from the source node at an intermediate node; first sending means for sending the first data packet to the destination node along a path selected by utilizing the data within the first data packet; selection means for selecting a cut through type based upon a data transfer protocol being employed for the plurality of data packets; redirect means for sending a redirect packet from the intermediate node to the source node, wherein the redirect packet includes switching information for cut through transmission employing the selected cut through type of subsequent data packets within the plurality of data packets by the intermediate node;</claim-text>
      <claim-text>and second sending means for sending data from a subsequent data packet from the plurality of data packets, as the data is received at the intermediate node, to the destination node.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The apparatus of claim 15, further comprising: third sending means for sending an identification of an alternate path to the source node if the alternate path differs from a path identified by routing information within the first data packet.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The apparatus of claim 16, further comprising: third sending means for, after the sending of the identification, sending data from data packets from a remaining portion of the plurality of data packets, as the data is received at the intermediate node, to the destination node along the alternate path.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The apparatus of claim 17, further comprising: fourth sending means for, in response to a failure of the alternate path, sending data packets from the remaining portion of the plurality of data packets to the destination node along the selected path.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. The apparatus of claim 17, further comprising: fourth sending means for, in response to an inability to send the data from data packets from the remaining portion of the plurality of data packets, as the data is received at the intermediate node, to the destination node, sending the data packets from the remaining portion of the plurality of data packets to the destination node when possible.</claim-text>
    </claim>
  </claims>
</questel-patent-document>