<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181101B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181101</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181101</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="13347754" extended-family-id="21502005">
      <document-id>
        <country>US</country>
        <doc-number>09522167</doc-number>
        <kind>A</kind>
        <date>20000309</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>2000US-09522167</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>22054216</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>6753499</doc-number>
        <kind>A</kind>
        <date>19990312</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999JP-0067534</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01R  31/00        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>00</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01R  31/36        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>36</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>320104000</text>
        <class>320</class>
        <subclass>104000</subclass>
      </main-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01R-019/165G2B</text>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>019</main-group>
        <subgroup>165G2B</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G01R-031/36V1</text>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>031</main-group>
        <subgroup>36V1</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01R-019/16542</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>19</main-group>
        <subgroup>16542</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01R-031/006</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>006</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01R-031/3648</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>3648</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>S01R-031/00T2</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>6</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>8</number-of-drawing-sheets>
      <number-of-figures>9</number-of-figures>
      <image-key data-format="questel">US6181101</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Intelligent junction box</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>BERNER CHARLES A</text>
          <document-id>
            <country>US</country>
            <doc-number>4262209</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4262209</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>SCHWEITZER JR EDMUND O</text>
          <document-id>
            <country>US</country>
            <doc-number>5406195</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5406195</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>BABA AKIRA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5898557</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5898557</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <document-id>
            <country>JP</country>
            <doc-number>H05278535</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP05278535</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>HITACHI LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0698477</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP06098477</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>MITSUBISHI ELECTRIC CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H06255431</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP06255431</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Yazaki Corporation</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>YAZAKI</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Arai, Yoichi</name>
            <address>
              <address-1>Shizuoka-ken, JP</address-1>
              <city>Shizuoka-ken</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Satake, Syuji</name>
            <address>
              <address-1>Shizuoka-ken, JP</address-1>
              <city>Shizuoka-ken</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Finnegan, Henderson, Farabow, Garrett &amp; Dunner, L.L.P.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Tso, Edward H.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A junction box provided between a high voltage battery and a load supplies a high voltage to the load, generates a predetermined low voltage from that high voltage and supplies the low voltage to a low voltage battery and load.
      <br/>
      If over-current flows through the high voltage system circuit or low voltage system circuit, the junction box shuts off an input of the high voltage.
      <br/>
      The junction box is provided with an over-voltage countermeasure circuit which even if an over-voltage exceeding 36 V is supplied from the high voltage battery, suppresses it to a predetermined high voltage and outputs.
      <br/>
      Further, the junction box includes a controller for estimating a remaining capacity of each of the high voltage battery and low voltage battery by detecting respective voltages and currents of the high voltage system circuit and low voltage system circuit.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="2">The present invention relates to an intelligent junction box for converting and distributing a power voltage into plural voltages and supplying them to loads.</p>
    <p num="3">2. Description of the Related Art</p>
    <p num="4">
      In an ordinary vehicle, as shown in FIG. 1, a battery 2 is charged by an alternator 1.
      <br/>
      An electric power from this battery 2 is introduced to a junction box (J/B) 4 via a cable (harness) 3.
      <br/>
      The junction box 4 distributes an electric power to respective loads (lamp, meter).
    </p>
    <p num="5">
      In an electric vehicle also, the junction box 4 like the aforementioned one is used.
      <br/>
      The junction box 4 of the electric vehicle is provided with a control relay circuit or the like for feeding a large current.
    </p>
    <p num="6">That is, because the conventional junction box is used basically for distributing an electric power (voltage), a protective circuit for preventing an over-current due to a short-circuit or the like is absolutely necessary.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="7">Accordingly, the present invention has been achieved to solve the above problem, and therefore, it is an object of the present invention to provide an intelligent junction box capable of carrying out stabilized distribution of electric power without provision of any protective circuit or the like on a load side and having a function capable of measuring a remaining capacity of a power supply.</p>
    <p num="8">To achieve the above object, there is provided a junction box disposed between a high voltage battery and a load and on which a predetermined high voltage is impressed by the high voltage battery, the box comprising: a high voltage system circuit pattern which receives the predetermined high voltage and supplies it to the load; a high voltage system circuit shut-off relay for shutting off the high voltage system circuit; a high voltage system voltage/current detecting portion for detecting a voltage impressed on the high voltage system circuit pattern and a current flowing therein; a voltage converter which receives a voltage from a post stage of the high voltage system circuit shut-off relay of the high voltage system circuit pattern and generates and outputs at least one predetermined low voltage based on that voltage; a low voltage circuit pattern which receives the at least one predetermined low voltage and supplies it to a low voltage battery and the load; a low voltage system voltage/current detecting portion for detecting a voltage impressed on the low voltage circuit pattern and a current flowing therein; and a controller for, if a current flowing through the high voltage system circuit pattern detected by the high voltage system voltage/current detecting portion is over a first predetermined value or a current flowing through the low voltage system circuit pattern detected by the low voltage system voltage/current detecting portion is over a second predetermined value, controlling the high voltage system shut-off relay to shut off the high voltage system circuit pattern.</p>
    <p num="9">According to a preferred embodiment, the junction box of the present invention further comprises an over-voltage countermeasure circuit which is provided at a forefront stage of the high voltage system circuit pattern and even if a voltage over a third predetermined value is inputted, outputs the predetermined high voltage to a post stage.</p>
    <p num="10">According to a preferred embodiment, the junction box of the present invention further comprises an over-voltage countermeasure circuit which is provided at a forefront stage of the high voltage system circuit pattern and even if a voltage over a fourth predetermined value is inputted, outputs the at least one predetermined low voltage to a post stage.</p>
    <p num="11">According to a preferred embodiment of the present invention, the controller comprises: an estimating means for estimating a remaining capacity of the high voltage battery based on a voltage and a current detected by the high voltage system voltage/current detecting portion; and an estimating means for estimating a remaining capacity of the low voltage battery based on a voltage and a current detected by the low voltage system voltage/current detecting portion.</p>
    <p num="12">According to a preferred embodiment of the present invention, the controller, if a remaining capacity of the high voltage battery is estimated to be lower than a predetermined value, supplies a control signal for starting charging to an alternator, which supplies a charging voltage to the high voltage battery.</p>
    <p num="13">According to a preferred embodiment of the present invention, the voltage converter generates and outputs AC low voltage.</p>
    <p num="14">
      The nature, principle and utility of the invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings.
      <br/>
      BRIEF DESCRIPTION OF THE DRAWINGS
      <br/>
      In the accompanying drawings:
      <br/>
      FIG. 1 is an explanatory diagram for explaining a conventional junction box for use in a vehicle;
      <br/>
      FIG. 2 is a schematic structure diagram of a junction box according to a first embodiment;
      <br/>
      FIG. 3 is a schematic structure diagram of an over-voltage countermeasure circuit for a high voltage;
      <br/>
      FIG. 4 is an explanatory diagram for explaining an example of use of AC output in a DC--DC converter of this embodiment;
      <br/>
      FIG. 5 (5A &amp; 5B) is an explanatory diagram for explaining a method for estimating a remaining capacity of each of two battery systems:
      <br/>
      FIG. 6 is a schematic structure diagram of an over-current protective circuit which substitutes the over-voltage countermeasure circuit;
      <br/>
      FIG. 7 is a schematic structure diagram of a junction box according to a second embodiment; and
      <br/>
      FIG. 8 is a schematic structure diagram of the over-voltage countermeasure circuit for low current used in the second embodiment.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <heading>FIRST EMBODIMENT</heading>
    <p num="15">FIG. 2 is a schematic structure diagram of an intelligent junction box according to a first embodiment.</p>
    <p num="16">The intelligent junction box 10 (hereinafter refereed as junction box) shown in FIG. 2 is mounted on a high voltage using vehicle provided with a high voltage battery 11 for 36 V and a low voltage battery 13 for 12 V. That is, a relationship of both the batteries is 1:3.</p>
    <p num="17">
      This high voltage battery 11 is connected in parallel to the alternator 1 having a 42 V output connected to an engine 14 (ENG).
      <br/>
      The low voltage battery 13 is provided in a downstream of the junction box 10 and charged by an output (14 V) from this junction box 10.
    </p>
    <p num="18">That is, the low voltage battery 13 is connected to an output terminal of DC14 V of the junction box 10 via a cable 15 and a high voltage battery 11 is connected to an input terminal of the junction box 10 via a cable 16.</p>
    <p num="19">
      A high voltage pattern 18 (indicated by a bold line) for transmitting a high voltage of 36 V to the inside is provided on a substrate in the junction box 10.
      <br/>
      In this pattern 18 (high voltage system), a current sensor 20, an over-current countermeasure circuit 17 for a high voltage, a high voltage main relay 19 and a voltage sensor 21 (insulation type) are installed.
    </p>
    <p num="20">The over-current countermeasure circuit 17, pattern 18 and high voltage main relay 19 are totally called high voltage system portion.</p>
    <p num="21">Further, the junction box 10 is provided with a DC--DC converter 28 which receives a first voltage of high voltage outputted from the high voltage main relay 19 to obtain plural kinds of low voltages.</p>
    <p num="22">That is, this junction box 10 is used as a down converter for the low voltage battery 13.</p>
    <p num="23">System Configuration</p>
    <p num="24">
      As shown in FIG. 3 for example, the aforementioned over-voltage countermeasure circuit 17 for a high voltage is comprised of a Zener diode ZD1 and an electric capacitor C1 (although a resistor, other capacitor and the like are provided additionally, only main components are indicated in this example).
      <br/>
      Even if an over-voltage exceeding 36 V is produced due to abnormality of the alternator 1 or the like, 36 V is always maintained.
    </p>
    <p num="25">The DC-DC converter 28 comprises a transformer, diode, capacitor, switching element, output stabilization feedback circuit and the like as shown in FIG. 2 so as to obtain DC14 V (this is 12 V in a low voltage battery), DC7 V and AC14 V. The AC14 V is realized by not connecting a capacitor, diode and the like to a coil 28a.</p>
    <p num="26">
      This AC14 V is sent out via a pattern 24a connected to an output of the DC-DC converter 28.
      <br/>
      Further, the DC14 V is sent out to a low voltage battery 13 via a pattern 24b connected to the output of the DC-DC converter 28.
    </p>
    <p num="27">The DC7 V is sent out via a pattern 24c connected to the output of the DC-DC converter 28.</p>
    <p num="28">The DC-DC converter 28 and the patterns 24a, 24b, 24c are totally called low voltage system portion.</p>
    <p num="29">A battery controller 30 comprises a high voltage system battery status monitoring circuit 31, a relay timing control circuit 32, a DC/DC converter control circuit 33, a low current system battery status monitoring circuit 34, CPU and the like.</p>
    <p num="30">
      The high voltage system battery status monitoring circuit 31 reads a current of the current sensor 20 and a voltage of the voltage sensor 21 and determines whether or not the battery 11 for 36 V is fully charged.
      <br/>
      This determination is carried out by for example, setting a predetermined threshold value preliminarily and comparing an inputted voltage with that threshold value.
    </p>
    <p num="31">
      The relay timing control circuit 32 turns off the high voltage main relay 19 immediately when the CPU 35 recognizes an over-current (due to short-circuit, abnormal load or the like) from a current value from the high voltage pattern 18.
      <br/>
      Further, if the CPU 35 recognizes ignition ON, the relay timing control circuit 32 turns ON the high voltage main relay 19 in a predetermined interval.
    </p>
    <p num="32">The DC/DC converter control circuit 33 reads voltages at the 14 V output terminal and 7 V output terminal of the DC--DC converter 28 and controls the duty ratio of the switching control signal so that these voltage values approach a reference value (14 V, 7 V).</p>
    <p num="33">
      A voltage divider (not shown) is connected to the pattern 29 for low current system voltage sensing.
      <br/>
      The low current system battery status monitoring circuit 34 detects a voltage at this dividing point so as to detect a voltage impressed on the 12 V battery 13, and at the same time, reads a current in the low current system current sensor 26 so as to determine whether or not the 12 V battery 13 is fully charged.
    </p>
    <p num="34">Description of the Operation</p>
    <p num="35">An operation of the junction box 10 having such a structure will be described.</p>
    <p num="36">The role of the alternator 1 in the power supply system is to supply an electric power to be consumed in an electric load of a vehicle when the engine is running and keep the charging status of the battery in an excellent condition by charging the batteries 11, 13 (maintaining a sufficient electric potential for starting the engine next).</p>
    <p num="37">After the ignition ON, the CPU 35 of the battery controller 30 in the junction box 10 turns OFF the high voltage main relay 19 in a predetermined while using the relay timing control circuit 32 and then turns ON the high voltage main relay 19.</p>
    <p num="38">At the same time, an electric power from the 36 V battery 11 is supplied to a load (not shown) via the pattern 18 in the junction box 10, the current sensor 20, the over-voltage countermeasure circuit 17, the high voltage main relay 19 and the voltage sensor 18.</p>
    <p num="39">At the time, if any error occurs in the load or the alternator 1 so that a voltage several times 36 V is supplied, this over-voltage is suppressed by the Zener diode ZD1 of the over-voltage countermeasure circuit 17 and thus a stabilized high voltage of 36 V is supplied to the load side.</p>
    <p num="40">On the other hand, the DC-DC converter 28 inputs a first high voltage into the input terminal from the high voltage main relay 19 and consequently, AC14 V, DC14 V and DC7 V are obtained at the output terminals depending on the number of windings of the coil, capacitor, diode, switching element and the like.</p>
    <p num="41">This DC-DC converter 28 is controlled by the battery controller 30.</p>
    <p num="42">
      The aforementioned AC14 V is preferred to be used, for example, as shown in FIG. 4.
      <br/>
      FIG. 4 shows that AC power can be supplied easily without direct contact and the AC14 V generated in the junction box 10 of this embodiment is introduced to the load side via the cable 37.
      <br/>
      A magnetic coil unit 38 is connected to this cable 37.
      <br/>
      The magnetic coil unit 38 comprises a connector 39 and a magnetic body 40 and AC14 V copper wire is wound around a central protrusion of the magnetic body 40.
    </p>
    <p num="43">
      That is, magnetic flux 42 is generated by this winding as shown in FIG. 4.
      <br/>
      If a circuit (coil, iron core or the like) for detecting this magnetic flux 42 is provided within the electronic unit, the AC14 V can be received by the electronic unit easily.
    </p>
    <p num="44">The battery controller 30 obtains a duty ratio of a control signal for the switching element in the DC-DC converter 28 based on a detected voltage in order to supply the 14 V, 7 V outputs of the DC--DC converter 28 with stability and then turns ON/OFF the switching element.</p>
    <p num="45">
      Further, the battery controller 30 samples currents from the low current system current sensor 26 and high voltage system current sensor 20.
      <br/>
      If each of these current values exceeds a predetermined value in a predetermined while (for example, 100 micro seconds), it determines that a short-circuit occurs in a load or cable and maintains the high voltage main relay 19 in OFF condition while the switching element is maintained in OFF condition.
      <br/>
      That is, the supply of the fist voltage to outside and low voltage system systems from the high voltage battery 11 is stopped.
    </p>
    <p num="46">Further, the battery controller 30 measures a remaining capacity of each of the batteries from voltage and current from the high voltage system and low current system as shown in FIGS. 5A, 5B.</p>
    <p num="47">
      FIG. 5A shows a method for measuring the remaining capacity of the 36 V battery 11 and FIG. 5B shows a method for measuring the remaining capacity of the 12 V battery 13.
      <br/>
      These Figures indicate that two base systems carry out processing in parallel.
    </p>
    <p num="48">
      That is, the battery remaining capacity measuring function is comprised of high voltage battery remaining capacity measuring function and low voltage battery remaining capacity measuring function.
      <br/>
      Even if a low voltage battery and a high voltage battery coexist in a vehicle, the remaining capacities of both the batteries are estimated at the same time and depending on this estimated value, the high voltage battery 11 is charged by 42 V from the alternator 1 or the low voltage battery 13 is charged by 14 V from the junction box 10 as required.
    </p>
    <p num="49">
      According to the low current battery remaining capacity measuring function, a low current system current value detected by the current sensor 26 and a low current system voltage obtained through the pattern 29 for low current system sensing are sampled every 500 micro seconds, and when eight pieces of data are collected, they are averaged.
      <br/>
      Then, 100 pairs of the averaged current data and averaged voltage data are collected.
      <br/>
      That is, 100 pair data are dispersed such that they descend as they go to the right in coordinate system having current-voltage axes with a passage of time as shown in FIG. 5B.
    </p>
    <p num="50">Then, a linear expression (Y=a * X+b) is obtained based on data of 100 pairs of this averaged current data and averaged voltage data according to least squares method.</p>
    <p num="51">Next, an intersection between a predetermined virtual current value (-10 A) and the straight line (Y=a * X+b) is obtained and a voltage value at a point where the normal from this intersection to the voltage axis intersects the voltage axis is obtained as an estimated voltage (VSOC) corresponding to the remaining capacity of the current 12 V battery 13.</p>
    <p num="52">If this estimated voltage (VSOC) is low, the battery controller 30 transmits a charge control signal to the alternator 1 in order to maintain a stabilized 12 V during a next traveling of the vehicle, thereby charging the battery 13.</p>
    <p num="53">
      Further, according to the high voltage system battery remaining capacity measuring function, a high voltage system current value detected by the current sensor 20 and a voltage obtained by the insulation type voltage sensor 21 are sampled every 500 micro seconds and when eight pieces of data are collected, they are averaged.
      <br/>
      Then, 100 pairs of this averaged current data and averaged voltage data are collected.
      <br/>
      That is, 100 pair data are dispersed such that they descend as they go to the right in the coordinate system having current-voltage axes with a passage of time as shown in FIG. 5A.
    </p>
    <p num="54">Then the linear expression (Y=a * X+b) about the current and voltage is obtained based on data relating to the 100 pairs of the averaged current data and the averaged voltage data according to the least square method.</p>
    <p num="55">Next, an intersection between a predetermined virtual current value (-10 A) and the straight line (Y=a * X+b) is obtained and a voltage value at a point where the normal from this intersection to the voltage axis intersects the voltage axis is obtained as an estimated voltage (VSOC) corresponding to the remaining capacity of the current 36 V battery 11.</p>
    <p num="56">If this estimated voltage (VSOC) is low, the battery controller 30 transmits a charge control signal to the alternator 1 in order to maintain a stabilized 42 V during a next traveling of the vehicle, thereby charging the battery 11.</p>
    <p num="57">
      Therefore, the junction box 10 comprises control function of the high voltage main relay 19, control function of the DC-DC converter 28, control function of the alternator 1 and battery remaining capacity measuring function (two systems for high and low voltages).
      <br/>
      Therefore, any protective circuit for over-current does not have to be provided on the load side so that stabilized distribution of electric power to two systems is enabled.
    </p>
    <p num="58">
      Although according to the above described embodiment, the over-voltage countermeasure circuit is constructed as shown in FIG. 3, it is permissible to connect a thermal FET to FET in parallel as shown in FIG. 6, detect a difference of voltage between the sources thereby detecting a tendency of the over-current, and turn OFF the FETs when it is determined that there is a possibility that a short-circuit occurs.
      <br/>
      When such a short-circuit occurs, a large current flows through the thermal FET and a high heat is generated by this large current so that the thermal FET is turned OFF.
    </p>
    <heading>SECOND EMBODIMENT</heading>
    <p num="59">
      FIG. 7 is a schematic structure diagram of a junction box according to a second embodiment.
      <br/>
      The junction box 50 shown in the same FIG. 7 is provided with the over-voltage countermeasure circuit 27 for low current.
      <br/>
      As shown in FIG. 8 for example, the over-voltage countermeasure circuit 27 comprises diodes D1, D2, field capacitor C2, and Zener diode ZD2 (although a resistor, transistor and the like are provided, only main components are indicated in this example).
      <br/>
      Even if the DC 14 V voltage outputted from the DC-DC converter 28 becomes an over-voltage exceeding 14 V because of abnormality in the low voltage battery 13, 14 V is always maintained so as to protect the low voltage battery 13, load and DC-DC converter 28.
    </p>
    <p num="60">That is, even if the battery 13 or load side exceeds a predetermined voltage because of any abnormality, because the over-voltage countermeasure circuit 27 for low current system is constructed of a Zener diode and the like as shown in FIG. 8, such an over-voltage is suppressed.</p>
    <p num="61">This junction box 50 comprises the current sensor 20, the high-voltage countermeasure circuit 17 for high voltage, the high voltage main relay 19, the voltage sensor 21 (insulation type), the DC-DC converter 28 for obtaining plural kinds of low voltages by inputting a first high voltage outputted from the high voltage main relay 19 and the battery controller 30, which are all the same as the first embodiment.</p>
    <p num="62">Instead of the over-voltage countermeasure circuit according to the second embodiment, it is permissible to provide with a circuit for preventing an over-current as shown in FIG. 6.</p>
    <p num="63">
      According to the present invention, if the first voltage from the high voltage battery becomes an over-voltage due to abnormality in the load, alternator or the like in the junction box provided between the high voltage battery and load, that over-voltage component is removed, and low charged voltage based on the first voltage and plural kinds of low voltages different from that low charged voltage are generated.
      <br/>
      Then, the low charged voltage is impressed on a low voltage battery provided in the downstream.
    </p>
    <p num="64">If the first voltage is over a predetermined value at this time, the battery controller stops a supply of the first high voltage or stabilizes an output thereof based on the output voltage of the low voltage system.</p>
    <p num="65">Therefore, any protective circuit for an over-current does not have to be provided on the load side, and further, a stabilized electric power can be supplied to the load side.</p>
    <p num="66">
      Because the battery controller in the junction box obtains a remaining capacity of each of the high voltage battery and low voltage battery, even if a high voltage battery and a low voltage battery coexist in a vehicle, the remaining capacities of both the batteries can be estimated in the junction box nearby the batteries.
      <br/>
      Therefore, the remaining capacities of both the batteries can be known accurately and charging control by the alternator to the battery can be achieved effectively.
    </p>
    <p num="67">It should be understood that many modifications and adaptations of the invention will become apparent to those skilled in the art and it is intended to encompass such obvious modifications and changes in the scope of the claims appended hereto.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A junction box provided between a high voltage battery and a load and on which a predetermined high voltage is impressed by said high voltage battery, the box comprising:</claim-text>
      <claim-text>a high voltage system circuit pattern which receives said predetermined high voltage and supplies to said load; a high voltage system circuit shut-off relay for shutting off the high voltage system circuit; a high voltage system voltage/current detecting portion for detecting a voltage impressed on said high voltage system circuit pattern and a current flowing therein; a voltage converter which receives a voltage from a post stage of said high voltage system circuit shut-off relay of said high voltage system circuit pattern and generates and outputs at least one predetermined low voltage based on the received voltage; a low voltage circuit pattern which receives said at least one predetermined low voltage and supplies to a low voltage battery and said load; a low voltage system voltage/current detecting portion for detecting a voltage impressed on the low voltage circuit pattern and a current flowing therein;</claim-text>
      <claim-text>and a controller for if a current flowing through said high voltage system circuit pattern detected by said high voltage system voltage/current detecting portion is over a first predetermined value or a current flowing through said low voltage system circuit pattern detected by said low voltage system voltage/current detecting portion is over a second predetermined value, controlling said high voltage system shut-off relay to shut off said high voltage system circuit pattern.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A junction box according to claim 1 further comprising an over-voltage countermeasure circuit which is provided at a forefront stage of said high voltage system circuit pattern and even if a voltage over a third predetermined value is inputted, outputs said predetermined high voltage to a post stage.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A junction box according to claim 1 further comprising an over-voltage countermeasure circuit which is provided at a forefront stage of said high voltage system circuit pattern and even if a voltage over a fourth predetermined value is inputted, outputs said at least one predetermined low voltage to a post stage.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A junction box according to claim 1 wherein said controller comprises: an estimating means for estimating a remaining capacity of said high voltage battery based on a voltage and a current detected by said high voltage system voltage/current detecting portion;</claim-text>
      <claim-text>and an estimating means for estimating a remaining capacity of said low voltage battery based on a voltage and a current detected by said low voltage system voltage/current detecting portion.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A junction box according to claim 4 wherein said controller, if a remaining capacity of said high voltage battery is estimated to be lower than a predetermined value, supplies a control signal for starting charging to an alternator which supplies a charging voltage to said high voltage battery.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A junction box according to claim 1 wherein said voltage converter generates and outputs AC low voltage.</claim-text>
    </claim>
  </claims>
</questel-patent-document>