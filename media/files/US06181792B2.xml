<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181792B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181792</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181792</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="21759588" extended-family-id="42108470">
      <document-id>
        <country>US</country>
        <doc-number>09013363</doc-number>
        <kind>A</kind>
        <date>19980123</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09013363</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43164929</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>1336398</doc-number>
        <kind>A</kind>
        <date>19980123</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09013363</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04M   1/76        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>76</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>379398000</text>
        <class>379</class>
        <subclass>398000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>379394000</text>
        <class>379</class>
        <subclass>394000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04M-001/76</text>
        <section>H</section>
        <class>04</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>76</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04M-001/76</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>76</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>18</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>5</number-of-drawing-sheets>
      <number-of-figures>8</number-of-figures>
      <image-key data-format="questel">US6181792</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Communication interface having synthesized matching impedances for different frequency bands and a design method therefor</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>HERSHBARGER RUSSELL A</text>
          <document-id>
            <country>US</country>
            <doc-number>5602912</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5602912</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>TREIBER ROBERT</text>
          <document-id>
            <country>US</country>
            <doc-number>4351060</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4351060</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>APFEL RUSSELL J</text>
          <document-id>
            <country>US</country>
            <doc-number>4359609</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4359609</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>TREIBER ROBERT</text>
          <document-id>
            <country>US</country>
            <doc-number>4381561</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4381561</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>COOK JOHN W</text>
          <document-id>
            <country>US</country>
            <doc-number>4894864</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4894864</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>PATEL LALIT O</text>
          <document-id>
            <country>US</country>
            <doc-number>4961219</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4961219</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>HERSHBARGER RUSSELL A</text>
          <document-id>
            <country>US</country>
            <doc-number>5500894</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5500894</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>International Business Machines Corporation</orgname>
            <address>
              <address-1>Armonk, NY, US</address-1>
              <city>Armonk</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>IBM</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Derby, Jeffrey Haskell</name>
            <address>
              <address-1>Chapel Hill, NC, US</address-1>
              <city>Chapel Hill</city>
              <state>NC</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Thomas, David Ross</name>
            <address>
              <address-1>Apex, NC, US</address-1>
              <city>Apex</city>
              <state>NC</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>McConnell, Daniel E.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Chan, Wing F.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A communication interface and a design method therefor provide a synthesized terminating impedance matching different frequency bands on a communication circuit.
      <br/>
      In some cases, for example based on specified network requirements in a particular country, the terminating impedance presented by the interface must have different frequency characteristics for received signals in different bands of frequencies.
      <br/>
      A transconductance amplifier and feedback loop provide the terminating impedance for signals received from the communication circuit and serves as a source impedance for signals transmitted by the interface to the telephone line.
      <br/>
      Signals with different frequencies will generally be received from the telephone line.
      <br/>
      These different characteristics are realized using different filter networks in the feedback loop.
      <br/>
      Each network provides a matching terminating impedance to the communication circuit according to the frequency band applied to the circuit.
      <br/>
      The network shapes the synthesized impedance based upon the relation Z=1/GmH where Z=the terminating impedance; Gm is the transconductance of the amplifier and H is the transfer function of the feedback network.
      <br/>
      For multiple frequencies on the telephone line, multiple networks are included in the feedback loop.
      <br/>
      Each network is designed to match the impedance requirements of a frequency band without affecting the terminating impedance and frequency band of the other frequency bands.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>RELATED APPLICATION</heading>
    <p num="1">Co-pending application entitled "A Communication Interface Having Combined Shaping Of Receive Response And Synthesized Matching Impedances For Different Frequency Bands And A Design Method Therefor", and assigned to the same assignee as that of the present invention.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of Invention
    </p>
    <p num="3">
      This invention relates to communication interfaces and design methods therefor.
      <br/>
      More particularly, the invention relates to a reconfigurable telephone line interface having synthesized matching impedances for different frequency bands on connecting telephone lines and a design method therefor.
    </p>
    <p num="4">2. Description of Prior Art</p>
    <p num="5">
      Communication circuits, more particularly, telephone line interface circuits, are required to present a terminating impedance to voice or data signals on connecting cable pairs.
      <br/>
      The terminating impedance prevents, or at least minimizes, noise on the cable pairs in the form of reflections or echos due to mismatches between the terminating impedance of the interface circuit and the transmission impedance of the cable pair.
      <br/>
      In most countries, the terminating impedance for cable pair must meet requirements specified by a country's telephone administration.
      <br/>
      In some countries, the required terminating impedance is different in characteristic for adjacent frequency bands served by the interface circuit.
      <br/>
      Synthesis of a terminating impedance that facilitates matching the impedance requirements of different countries would simply implementations for the different countries and lead to a single circuit that could be programmed to meet the requirements of the different countries.
    </p>
    <p num="6">
      Recently, active filters using transconductance amplifiers with feedback have been used to synthesize a terminating impedance.
      <br/>
      Prior art related to terminating impedances for telephone interface circuits using a transconductance amplifier with feedback for matching the impedance requirement of a connecting telephone line or cable pair includes the following:
    </p>
    <p num="7">
      U.S. Pat. No. 5,500,894 issued Mar. 19, 1996 discloses a telephone line interface circuit with AC and DC transconductance loops for providing selectable impedances to a cable pair.
      <br/>
      The '894 patent discloses a transconductance loop with a filter network having a transfer function designed to provide a synthesized terminating impedance which may be programmed to meet the terminating impedance requirements of different telephone systems.
      <br/>
      However, '094 does not disclose a cascade of sub-filter networks to meet the terminating impedance requirements of different frequency bands on a cable pair for different countries while having little or no effect upon the other bands.
    </p>
    <p num="8">
      U.S. Pat. No. 4,894,864 issued Jan. 16, 1990 discloses a transconductance loop for synthesizing the terminating impedance of a cable pair.
      <br/>
      However, there is no partitioning the loop into programmable sub-filter networks providing different terminating impedances that may be required by different countries.
    </p>
    <p num="9">
      U.S. Pat. No. 4,381,561 issued Apr. 26, 1983 discloses impedance matching for an interface circuit using digital impedance synthesizing by a digital filter and D/A converter in a negative feedback loop to match a full duplex analog telephone line to a digital switching system.
      <br/>
      The '561 patent does not disclose a transconductance loop for synthesizing analog signals on a cable pair into matching impedances for different frequency bands.
    </p>
    <p num="10">
      U.S. Pat. No. 4, 359,609 issued Nov. 16, 1982 discloses an interface circuit having a feedback loop, either current or voltage controlled by which the circuit impedance can be easily set to match a telephone circuit.
      <br/>
      The '609 patent does not disclose partitioning a filter network in the loop to provide synthesized impedances matching different frequency bands on a cable pair.
    </p>
    <p num="11">
      U.S. Pat. No. 4,351,060 issued Sept. 21, 1982 discloses an automatic equalizing function implemented digitally using a recursive digital filter having programmable coefficients and a transconductance amplifier to provide an output impedance matching a telephone line.
      <br/>
      The '060 patent does not disclose matching a synthesized impedance to different frequency bands on a cable pair.
    </p>
    <p num="12">
      U.S. Pat. No. 4,961,219 issued Oct. 2, 1990 discloses synthesing an impedance across a telephone line by detecting a voltage difference across the telephone line and using an RC circuit to develop a pair of impedance output signals matching the impedance of the telephone line circuit.
      <br/>
      The '219 patent does not disclose synthesizing matching impedances to that of different telephone line circuits.
    </p>
    <p num="13">None of the prior art discloses or suggests an easily reconfigurable terminating impedance for a communication interface using a transconductance amplifier with feedback that provides different synthesized impedances for different frequency bands and, in particular, uses a notched response to separate one frequency band from another frequency band.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="14">An object of the invention is a communication interface and design method which provides a terminating impedance matching different frequency bands occurring on a connecting communication circuit.</p>
    <p num="15">Another object is a telephone line interface circuit and design method using active filters including feedback loops to provide terminating impedances matching different frequency bands occurring on a connecting telephone circuit.</p>
    <p num="16">Another object is a reconfigurable telephone line interface circuit and design method using a transconductance amplifier and feedback loop for providing terminating impedances matching different frequency bands occurring on different connecting telephone circuits.</p>
    <p num="17">Another object is a telephone line interface circuit and design method using a transconductance amplifier with feedback loops including multiple feedback networks which provide matching terminating impedances for different frequency bands occurring on different connecting telephone circuits.</p>
    <p num="18">Another object is a telephone line interface circuit and design method using a transconductance amplifier and feedback loop including cascaded filter networks which provide a notch response to separate different frequency bands on different connecting telephone line circuits.</p>
    <p num="19">Another object is a standard communication interface which may be reconfigured to provide different matching impedances for different connecting communication circuits having multiple frequency bands thereon.</p>
    <p num="20">
      These and other objects, features and advantages are achieved in a telephone line interface circuit and design method providing a synthesized terminating impedance matching different frequency characteristics for received signals in different frequency bands, as required in some countries.
      <br/>
      A transconductance amplifier and feedback loop provide the terminating impedance for signals received from the telephone line and a source impedance for signals transmitted by the interface to the telephone line.
      <br/>
      Signals with different frequencies requiring different transmission impedances will generally be received from the telephone line.
      <br/>
      These different impedance characteristics are matched using different filter networks in the feedback loop.
      <br/>
      Each network provides a matching terminating impedance to the telephone line according to the frequency band applied to the telephone line.
      <br/>
      The network shapes the synthesized impedance based upon the relation Z=1/Gm H where Z=the terminating impedance; Gm is the transconductance of the amplifier and H is the transfer function of the feedback network.
      <br/>
      For multiple frequencies on the telephone line requiring terminating impedances with different characteristics, multiple feedback networks are included in the feedback loop.
      <br/>
      Each feedback network is designed to match the impedance requirements of a frequency band without affecting the terminating impedance and frequency band of the other frequency bands.
      <br/>
      In some instances, a notch response is provided by the filter network required to separate the frequency bands.
    </p>
    <heading>DESCRIPTION OF DRAWING</heading>
    <p num="21">
      The invention will be further understood from a following detailed description of a preferred embodiment taken in conjunction with an appended drawing, in which:
      <br/>
      FIG. 1 is a circuit diagram of a prior art telephone line interface circuit using a transconductance amplifier and feedback loop to synthesize a terminating impedance for a connecting telephone circuit.
      <br/>
      FIG. 2A is a graph of Impedance in Ohms versus Frequency in Hertz as a terminating impedance requirement in a country for a telephone line interface circuit receiving different frequency bands on the same connected telephone line.
      <br/>
      FIG. 2B is a graph of Impedance in Ohms and Frequency in Hertz for a filter having a notch response for a country having different frequency bands on the same connected telephone line.
      <br/>
      FIG. 3A is a circuit diagram of a telephone line interface circuit using a transconductance amplifier and feedback loop having cascaded filter networks to provide matching terminating impedances for different frequency bands occurring on a connecting telephone circuit and incorporating the principles of the present invention.
      <br/>
      FIG. 3B is a graph of voice-band frequency response (amplitude vs. frequency) of a network H1 used to synthesize a complex termination impedance in the circuit of FIG. 3A.
      <br/>
      FIG. 3C is a graph of metering-tone frequency response (amplitude vs. frequency) including a notch for the telephone line interface circuit of FIG. 1.
      <br/>
      FIG. 4 is a circuit diagram of a programmable filter unit for the circuit of FIG. 3A.
      <br/>
      FIG. 5 is a flow diagram for a design method which provides synthesized terminating impedances for different frequency bands occurring on a connecting telephone line circuit.
    </p>
    <heading>DESCRIPTION OF PREFERRED EMBODIMENT</heading>
    <p num="22">
      In FIG. 1, a prior art transconductance driver with feedback 10 provides a terminating impedance Z, looking toward the driver for a telephone cable pair 12.
      <br/>
      The driver 10 includes a transconductance amplifier 14 and feedback loop 16 including a filter network 18 having a transfer characteristic H. The feedback loop is connected between an output node 20 and an input node 22.
      <br/>
      A signal source Vs is connected to node 22 which in conjunction with the feedback voltage provides Vi as an input to the transconductance amplifier 14.
      <br/>
      A transconductance amplifier is described in the text "Circuits and Filters Handbook", edited by W. Chin, published by CRC Press, Boca Raton, Fla., 1995, Section 11 (ISBN 0-8493-8341-2).
      <br/>
      Such amplifiers provide an output current I equal to Gm, the amplifier gain, x Vs the input voltage.
      <br/>
      The synthesized output impedance Z terminates the cable pair in the received direction.
      <br/>
      The impedance Z also serves as the source impedance in the transmit direction to the cable pair.
      <br/>
      The filter network 18 shapes the synthesized impedance.
      <br/>
      It can be shown that the synthesized impedance for such transconductance amplifier with feedback can be defined by Equation 1, as follows:
    </p>
    <p num="23">Z=1/Gm H (under the assumption that input transfer impedance H of the network 18 is much higher than the load or transmission impedance presented by the cable pair, and where:</p>
    <p num="24">
      - Gm is the Gain of the amplifier 14;
      <br/>
      - H is the LaPlace transform for filter network 18.
    </p>
    <p num="25">
      The summing node 22 allows a signal indicated by the voltage Vs to be summed with the feedback signal from the transfer network H to form the input voltage to the amplifier 14.
      <br/>
      The transfer function H must be designed such that the terminating impedance Z meets the different terminating impedance requirements of different countries.
    </p>
    <p num="26">
      In FIG. 2A, an example of terminating impedance requirements for one country are shown for different frequency bands.
      <br/>
      There is one terminating impedance requirement in the voice band (below 5 kHz.) and a second terminating impedance requirement for a metering-tone frequency between 11.8 kHz. and 12.2 kHz. Since a synthesized impedance Z is inversely proportional to the transfer function H (see Equation 1), the magnitude of H must increase with the frequency in voice band and then drop by at least a factor of 4 between 5 kHz. and 12 kHz.
      <br/>
      Designing a single transfer function and an associated feedback network to meet these requirements would be overly complicated and not easily reconfigurable to meet a different set of impedance requirements for other countries.
    </p>
    <p num="27">
      In FIG. 3A, the present invention solves the problem described in connection with FIGS. 1 and 2A. In FIG. 3A, a transconductance driver 30 terminates the cable pair 12.
      <br/>
      The driver includes a transconductance amplifier 32 and a feedback loop 34 including cascaded sub-filter networks 36 and 38 having transfer functions H1 and H2, respectively.
      <br/>
      The feedback loop is connected to a node 40 at the output of the amplifier 32 and to a node 42 at the input of the amplifier 32.
      <br/>
      The node 42 also receives a signal in the form of a voltage Vs which in conjunction with the feedback voltage provides a voltage Vi as an input to the amplifier 32.
      <br/>
      The sub-filter networks 36 and 38 are designed to meet one of the frequency band requirements described in connection with FIG. 2A. Each filter network can be optimized to one of the required frequency bands.
      <br/>
      For example, H1 is designed to match the required shape in the voice band while remaining flat in the metering-tone band as shown in FIG. 3B. Likewise, H2 is designed to meet the minimum impedance requirement in the metering-tone band while remaining flat in the voice band as shown in FIG. 3C.
    </p>
    <p num="28">As described in the European Telecommunications Standards Institute (ETSI), Section 4.1.2 (CH), March 1996 it can be shown using a first order lead-lag network that the voice band can be approximated by a LaPlace Transform H1 described by Equation 2, as follows:  (Equation image '1' not included in text)</p>
    <p num="29">
      where:
      <br/>
      H1 (s)=the LaPlace Transform H1 defining the terminating impedance for the voice frequency band;
      <br/>
      H10 =a constant scale factor of the transfer function;
      <br/>
      OMEGA p =pole frequency for the network; and
      <br/>
      OMEGA z =zero frequency for the filter network.
    </p>
    <p num="30">
      A terminating impedance to meet a metering tone requirement must have approximately constant magnitude and phase through the voice band and thereafter the magnitude decreases sharply between 5 kHz. and 12 kHz.
      <br/>
      This can be obtained with a notch response for the higher frequencies, as shown in FIG. 2B. As described in the text "Design Of Analog Filters" by Schaumann, Ghausi and Laker, published by Prentice-Hall, Englewood Cliffs, N.J., a notch response can be approximated by a LaPlace Transform H2 described by Equation 3, as follows:  (Equation image '2' not included in text)
    </p>
    <p num="31">
      where:
      <br/>
      H20 =a constant scale factor of the notch transfer function;
      <br/>
      OMEGA 0 =the center frequency of the notch response for the metering tone frequency;
      <br/>
      QU =unloaded Q of the notch, which is related to the ratio of the maximum energy stored to the energy lost in the filter H2 ; and
      <br/>
      QL =loaded Q of the notch, which is related to the ratio of the maximum energy stored to the energy lost in the filter H2.
    </p>
    <p num="32">Note: The depth of the notch (i.e., how much attentuation is provided at the notch frequency) is related to the ratio QL to QU.</p>
    <p num="33">The overall gain constant of H which is the product of H10 * H20 must be adjusted at the end of the process to take into account the transconductance Gm (assumed to be an independent frequency) in meeting the overall terminating impedance requirements for the different frequency bands.</p>
    <p num="34">
      The partitioning of the filter network H as a cascade of sub-networks, each network addressing the requirements of a particular frequency band, simplifies the process of ensuring that the feedback load loop is stable.
      <br/>
      Any modifications to the overall transfer function H resulting from the initial synthesis procedure, for example, the product of (H10 * H20) must be made to guarantee stability can be considered with respect to the individual subnetwork responses independently.
      <br/>
      Accordingly, tradeoffs can be made between meeting impedance requirements and guaranteeing stability in an efficient and intelligent manner.
    </p>
    <p num="35">
      The cascaded sub-filter networks 36 and 38 may be programmable by the inclusion of switches to add or delete capacitance and/or resistance to the filter.
      <br/>
      In FIG. 4, one implementation of a filter 60, programmable as an H2 notch filter, includes an input circuit 61 coupled through an RC circuit and switch 62 to a plus side 63 of an operational amplifier 64 and through a resistor to a plus side of an operational amplifier 65.
      <br/>
      The side 63 is also connected to a reference potential or ground through a resistor 66.
      <br/>
      The output of the amplifier 64 is connected to an output terminal 68 and to a feedback loop 67 including the operational amplifier 65.
      <br/>
      The loop 67 is connected through like resistors 69 to plus and minus sides of the amplifier 65, the output of which is provided to the plus and minus sides of the amplifier 64 through an RC circuit and switch 70.
    </p>
    <p num="36">
      The filter 60 can be programmed by simply switching two capacitors.
      <br/>
      With the switches in the RC circuits closed in the RC circuits 62 and 70, the filter 60 has a center frequency of 12 kHz; with the switches open, the filter has a center frequency of 16 kHz.
      <br/>
      The other characteristics of the notch filter (depth and width of the notch, and transmission away from the notch) are not affected by the switching of these capacitors.
      <br/>
      Additionally, the characteristics of the overall synthesized impedance and voiceband, which is determined by the network H2 * H1, is not affected by this programming.
      <br/>
      Of course, the switches in the RC circuits 62 and 70 can be implemented in a variety of devices.
      <br/>
      For example, they may be solid state and need not be physical switch contacts.
    </p>
    <p num="37">
      The filter 60 meets the impedance requirements for the metering-tone band in Switzerland.
      <br/>
      Such metering-tone band is centered at 12 kHz.
      <br/>
      In Germany, a metering-tone is used with its band is centered at 16 kHz.
      <br/>
      However, the impedance requirements of Germany in the voiceband (up to 4 kHz.) is essentially the same as that for Switzerland.
      <br/>
      With the transconductance feedback partitioned into two networks, one controlling the shaping of the synthesized impedance in the voiceband and the other controlling the shaping of the synthesized impedance in a metering-tone band, the latter can be programmed to a notch centered at either the Switzerland metering-tone frequency of 12 kHz. or the Germany metering-tone frequency of 16 kHz.
    </p>
    <p num="38">In FIG. 5, a design method for determining the terminating impedance requirements for different frequency bands comprises the following steps:</p>
    <p num="39">
      Step 1: Characterize and partition the impedance requirements vs. frequency using Equations 1, 2 and 3 described above.
      <br/>
      Step 1 identifies the frequency bands within which separate approximations will be carried out.
      <br/>
      In some cases, the identification is straight-forward given the requirement; the Switzerland impedance requirement used as an example falls in this category.
      <br/>
      In other cases, the identification may not be so obvious and an iterative, trial-and-error procedure may be needed (see Step 4 below).
    </p>
    <p num="40">
      Step 2: For each frequency band in the partition resulting from step 1, define an impedance characteristic that meets the specified impedance requirement within the given frequency band, and is constant vs. frequency outside the given frequency band.
      <br/>
      The overall impedance characteristic will be the product of these individual impedance characteristics, and so the constants are chosen such that the overall characteristic meets the specified impedance requirements across all the bands.
      <br/>
      Note: In the Switzerland example, there are two bands identified, with a relatively wide frequency range between them in which no requirement is specified.
      <br/>
      In addition, the "metering tone" band is very narrow and the requirement specified therein is for a minimum impedance level.
      <br/>
      It is known that a response can be created that has a peak exceeding some minimum value in a narrow frequency band while being approximately constant at unity outside this frequency band.
      <br/>
      Thus, for this example, the constant value of the "out of band" response of the metering-tone impedance characteristic can be taken to be unity, and the "out of band" constant response of the voiceband impedance characteristic can be taken to be equal to the value of the characteristic at the upper end of the voiceband (about 4 kHz).
    </p>
    <p num="41">
      Step 3: For each frequency band in the partition, a network is designed whose transfer function approximates the inverse of the impedance characteristic within the given band, and the appropriate constant outside the band.
      <br/>
      The networks are connected in cascade (in FIG. 3A, two networks H1 and H2, because have two bands of interest.
      <br/>
      However, in general, there may be more than two networks if there are more than two bands, and the overall synthesized impedance characteristic is computed as (1/Gm *H1 *H2 * . . . *HN) where N is the number of bands and thus of networks.
      <br/>
      The constant scale factors associated with each network (which are associated with the out-of-band constant value for the given network) may be adjusted, together with the constant transconductance value Gm of the transconductance amplifier.
    </p>
    <p num="42">
      Step 4: Compare the overall response of the synthesized impedance characteristic with the requirement.
      <br/>
      If the requirement is met, the design process is completed.
      <br/>
      If not, a different partition of the required characteristic vs. frequency is attempted and the process returns to step 2, or a different assignment of out-of-band constant values can be taken given the original partition and the process returns to step 3.
    </p>
    <p num="43">
      Step 5: Verify the stability of the transconductance feedback loop taking into account the open-loop behavior of the transconductance amplifier and any op amps employed in the filter networks H1, H2, etc.
      <br/>
      If the stability margin, as determined for example in terms of loop gain margin and phase margin, is inadequate, the transfer functions of one or more of the subnetworks is modified such that the impedance requirements are met and the stability margin is adequate.
      <br/>
      In the Switzerland example, it was this stability consideration that led to limiting the notch depth to 10% (ratio of "loaded Q" to "unloaded Q" of 0.1).
    </p>
    <p num="44">
      The process is independent of the technology used to implement the networks H1 and H2 (and additional filters, if appropriate).
      <br/>
      The notch filter implementation is a continuous-time analog active filter.
      <br/>
      Implementations in switched-capacitor technology are available, and may be preferable in some cases because they are easily programmed (the switches shown in the notch filter example would be inherently included in a switched-capacitor version).
      <br/>
      Implementations are also available in digital filter technology using the principles of the present invention.
    </p>
    <p num="45">While the invention has been shown and described in conjunction with a preferred embodiment, various changes may be made therein without departing from the spirit and scope of the invention as defined in the appended claims, in which:</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>We claim:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A reconfigurable communication interface providing synthesized impedances matching different frequency bands on different connecting communication circuits, comprising;</claim-text>
      <claim-text>a) a transconductance amplifier including an input terminal and an output terminal coupled to the communication circuit; b) a feedback loop coupling the output and the input terminals of the amplifier; c) a signal source connected to the input terminal;</claim-text>
      <claim-text>and d) a filter network in the feedback loop providing synthesized terminating impedances matching the impedance requirements of the different frequency bands on a connecting communication circuit.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The interface circuit of claim 1 wherein the frequency bands include voice signals and metering tones and the interface circuit further comprises: a) means in the filter network for matching the impedance requirement of the metering tones in a first frequency range while matching the impedance requirement of the voice signals in a second frequency range.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The interface circuit of claim 1 wherein the filter circuit is partitioned into sub-filter networks, each network matching the impedance requirement of a frequency band without affecting the impedance requirement of the other network.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The interface circuit of claim 1 wherein the filter provides a notch response for a frequency band.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The interface circuit of claim 1 wherein the filter has a synthesized terminating impedance and provides a source impedance for signals transmitted by the interface to the communication circuit.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The interface circuit of claim 1 further comprising; a) means for forming the filter network into a cascade of sub-filter networks, each sub-filter network having a transfer function matching a discrete frequency in the frequency bands on the communication circuit.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The interface circuit of claim 1 further comprising: a) means for optimizing the transfer function of each sub-filter network to match the requirements of a discrete frequency band while having an essentially flat response to the other discrete frequency bands.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The interface circuit of claim 3 further comprising: a) means for connecting the sub-filter networks wherein the transfer function for the feedback loop is the product of the transfer functions of the sub-filter networks.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The interface circuit of claim 1 further comprising; a) means for programming the filter network to provide terminating impedances matching the impedance requirements of the frequency bands.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. In a telephone system including a transconductance amplifier, a feedback loop including a filter network, and a connecting telephone line thereto having different frequency bands thereon, a method of synthesizing terminating impedances matching the different frequency bands on the connecting telephone line and serving as a source impedance for signals transmitted by the amplifier to the telephone line, comprising the steps of: a) partitioning the filter network into sub-filter networks in the feedback loop;</claim-text>
      <claim-text>and b) designing each filter network to have an impedance matching a different frequency band on the telephone line.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The method of claim 10 further comprising the step of: a) connecting the sub-filters in cascade.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The method of claim 10 further comprising the step of: a) reconfiguring the filter network to provide matching terminating impedances for different frequency bands on different telephone lines.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The method of claim 10 further comprising the step of: a) programming the filter network to provide matching terminating impedances for different frequency bands on different telephone lines.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The method of claim 1 further comprising the step of a) providing a notch response for the filter network.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The method of claim 1 wherein the filter network provides a synthesized terminating impedance which is the product of transfer functions for sub-filters.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The method of claim 11 wherein a sub-filter is defined by the following equation:</claim-text>
      <claim-text>where:  (Equation image '3' not included in text)  H1 (s)=the LaPlace Transform H1 defining the terminating impedance for the voice frequency band; H10 =a constant scale factor of the transfer function;  OMEGA p =pole frequency for the network;</claim-text>
      <claim-text>and OMEGA Z =zero frequency for the filter network.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The method of claim 11 wherein a sub-filter is defined by the following equation:  (Equation image '4' not included in text)</claim-text>
      <claim-text>where: H20 =a constant scale factor of the notch transfer function;  OMEGA 0 =the center frequency of the notch response for the metering tone frequency; QU =unloaded Q of the notch, which is related to the ratio of the maximum energy stored to the energy lost in the filter H2 ;</claim-text>
      <claim-text>and QL =loaded Q of the notch, which is related to the ratio of the maximum energy stored to the energy lost in the filter H2.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. A design method for a terminating impedance in a transconductance amplifier feedback loop, the terminating impedance matching different frequency bands on a telephone line, comprising the steps of: a) characterizing and partitioning the terminating impedance requirements for each frequency band on the telephone line: b) for each frequency band in the partition resulting from step 1, define an impedance characteristic that meets a specified impedance requirement within a given frequency band, and is constant vs. frequency outside the given frequency band; c) choosing the constants such that the overall impedance characteristic meets the specified impedance requirements across all the frequency bands; d) for each frequency band in the partition, design one or more sub-networks whose transfer function approximates the inverse of the impedance characteristic within the given band, and the appropriate constant outside the band; e) comparing the overall response of the synthesized impedance characteristic with the requirement, if the requirement is met, the design process is completed;</claim-text>
      <claim-text>otherwise steps 1-4 are repeated using a different partition of the required characteristic vs. frequency or a different assignment of out-of-band constant values are selected given the original partition of step 1, after which the process returns to step 3;</claim-text>
      <claim-text>and f) verifying the stability of the transconductance feedback loop taking into account the open-loop behavior of the transconductance amplifier;</claim-text>
      <claim-text>if the stability margin is inadequate, the transfer functions of one or more of the sub-networks is modified such that the impedance requirements are met and the stability margin is adequate.</claim-text>
    </claim>
  </claims>
</questel-patent-document>