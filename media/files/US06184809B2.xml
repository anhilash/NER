<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184809B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184809</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184809</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="22262595" extended-family-id="14434820">
      <document-id>
        <country>US</country>
        <doc-number>09241879</doc-number>
        <kind>A</kind>
        <date>19990201</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09241879</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>14756833</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>24187999</doc-number>
        <kind>A</kind>
        <date>19990201</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09241879</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>9727898</doc-number>
        <kind>P</kind>
        <date>19980819</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998US-60097278</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H03M   1/10        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>10</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H03M   1/06        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>06</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H03M   1/16        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>16</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>341120000</text>
        <class>341</class>
        <subclass>120000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>341155000</text>
        <class>341</class>
        <subclass>155000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H03M-001/10A</text>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>001</main-group>
        <subgroup>10A</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03M-001/1004</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>1004</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03M-001/0658</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>0658</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03M-001/168</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>168</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T03M-001/06M7T1</classification-symbol>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T03M-001/16S4S</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>31</number-of-claims>
    <exemplary-claim>23</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>11</number-of-drawing-sheets>
      <number-of-figures>23</number-of-figures>
      <image-key data-format="questel">US6184809</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">User transparent self-calibration technique for pipelined ADC architecture</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>KARANICOLAS ANDREW N, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5499027</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5499027</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>OPRIS ION E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5929796</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5929796</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>LEE HAE-SEUNG</text>
          <document-id>
            <country>US</country>
            <doc-number>5510789</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5510789</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Lin et al., "A 13-b 2.5-MHz Self-Calibrated Pipelined A/D Converter in 3-mum CMOS," IEEE Journal of Solid-State Circuits, vol. 26, No. 4, Apr. 1991, pp. 628-636.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>Lee, "A 12-b 600 ks/s Digitally Self-Calibrated Pipelined Algorithmic ADC," IEEE Journal of Solid-State Circuits, vol. 29, No. 4, Apr. 1994, pp. 509-515.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>Shu et al., "A 13-b 10-Msample/s ADC Digitally Calibrated with Oversampling Delta-Sigma Converter," IEEE Journal of Solid-State Circuits, vol. 30, No. 4, Apr. 1995, pp. 443-452.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="4">
          <text>Kwak et al., "A 15-b, 5-Msample/s Low-Spurious CMOS ADC," IEEE Journal of Solid-State Circuits, vol. 32, No. 12, Dec. 1997, pp. 1866-1875.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="5">
          <text>Ingino, Jr. et al., "A Continuously-Calibrated 10Msample/s," Digest of Technical Papers, Feb. 6, 1998, pp. 145-146, 427.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="6">
          <text>Hester et al., "Fully Differential ADC with Rail-to-Rail Common-Mode Range and Nonlinear Capacitor Compensation," IEEE Journal of Solid-State Circuits, vol. 25, No. 1, Feb. 1990, pp. 173-183.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="7">
          <text>de Wit et al., "A Low-Power 12-b Analog-to-Digital Converter with On-Chip Precision Trimming," IEEE Journal of Solid-State Circuits, vol. 28, No. 4, Apr. 1993, pp. 455-461.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="8">
          <text>Tan et al., "Error Correction Techniques for High-Performance Differential A/D Converters," IEEE Journal of Solid-State Circuits, vol. 25, No. 6, Dec. 1990, pp. 1318-1327.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="9">
          <text>Tan et al., "A 5V, 16b 10mus Differential CMOS ADC," 1990 IEEE International Solid-State Circuits Conference, Feb. 15, 1990.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <related-publication>
        <document-id>
          <country>US</country>
          <doc-number>60/097,278</doc-number>
          <date>19980819</date>
        </document-id>
        <document-id>
          <country>US</country>
          <doc-number>60/097278</doc-number>
          <date>19980819</date>
        </document-id>
      </related-publication>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Texas Instruments Incorporated</orgname>
            <address>
              <address-1>Dallas, TX, US</address-1>
              <city>Dallas</city>
              <state>TX</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>TEXAS INSTRUMENTS</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Yu, Paul C.</name>
            <address>
              <address-1>Irving, TX, US</address-1>
              <city>Irving</city>
              <state>TX</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Stewart, Alan K.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Brady, III, Wade James</name>
          </addressbook>
        </agent>
        <agent sequence="3" rep-type="agent">
          <addressbook lang="en">
            <name>Telecky, Jr., Frederick J.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Tokar, Michael</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A user transparent self-calibration technique for an analog to digital converter is described.
      <br/>
      The technique can correct for capacitor mismatch error with minimal additional power consumption.
      <br/>
      This is done by generating a calibration signal, one for each capacitor whose calibration is desired.
      <br/>
      The signal is interleaved with the input signal, and digitized by alternating with the input signal digitization using capacitor arrays.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This application claims priority under 35 USC .sctn. 119(e)(1) of provisional U.S. application number 60/097,278 filed Aug. 19, 1998.</p>
    <heading>BACKGROUND AND SUMMARY OF THE INVENTION</heading>
    <p num="2">The present invention relates to self-calibration of pipelined analog-to-digital converters.</p>
    <p num="3">Analog to Digital Conversion</p>
    <p num="4">
      Analog to digital conversion is the process of converting an analog data signal, which is most commonly represented as voltage, into a digital format.
      <br/>
      Determining a digital value which represents a particular analog input is known as "quantization".
      <br/>
      Serial, delta-sigma or oversampling, parallel, and pipelined are some of the many different analog to digital conversion architectures which exist.
      <br/>
      Different architectures are suited to different needs.
    </p>
    <p num="5">
      Serial analog to digital architecture offers the widest range of performance in analog to digital conversion, from low power and low resolution to quantizations with very high resolutions.
      <br/>
      Basic serial architecture quantizes analog data at the rate of one bit per cycle.
      <br/>
      Therefore, a digital sample having N bits of resolution will take N cycles to fully quantize.
      <br/>
      Delta-sigma analog to digital architecture is used in audio signal processing.
      <br/>
      The architecture is designed to translate high-speed, low-resolution samples into higher-resolution, lower-speed output.
      <br/>
      This process is also referred to as oversampling because more samples of the analog data are quantized than actually become output.
      <br/>
      Parallel analog to digital architecture provides the fastest quantization rate per analog signal.
      <br/>
      In the parallel architecture, a digital value per cycle is produced for each analog data sample, without regard to N, the number of bits of resolution.
      <br/>
      Parallel architecture requires that all quantization levels be simultaneously compared to the analog signal.
      <br/>
      This results in the use of 2N-1 comparators and 2N-1 resistors to achieve a digital value, with N bits of resolution, per cycle.
    </p>
    <p num="6">Pipelined Analog-to Digital Architecture</p>
    <p num="7">
      Pipelined analog to digital architecture is a method of quantizing an analog signal in stages.
      <br/>
      Algorithms exist for obtaining one or more bits of resolution per stage.
      <br/>
      For example, in a 1.5-bit per stage converter, the digital output of each stage is either 1, 0, or -1.
      <br/>
      One bit is resolved at each stage with the resulting analog residue passed along to the next stage for resolution of another bit.
      <br/>
      After a latency of N cycles, a single digital value for a single analog input is produced.
      <br/>
      Other methods are able to output more than 1 bit per stage, needing fewer latency cycles to produce a digital value with the same resolution.
      <br/>
      The use of pipelining permits a high degree of parallelism, so that one complete output per cycle can be produced after the pipeline fills up.
    </p>
    <p num="8">
      Pipelined analog to digital converters have many applications.
      <br/>
      They are particularly useful when low voltage, high speed, high resolution quantization is required.
      <br/>
      The pipelined analog to digital conversion architecture's ability to meet these demands makes it ideal for high volume telecommunications application such as various digital subscriber lines, digital signal processing at video rates, and for stand alone high speed analog to digital converters.
    </p>
    <p num="9">
      The advantage of pipelined analog to digital conversion is that each stage of resolution is separated.
      <br/>
      Once the analog signal is resolved at the first stage and the result passed to the second stage, a new signal can be processed by the first stage.
      <br/>
      The passing of result and signal from stage to stage continues to stage N at which point a digital value of N bits of resolution can be produced.
      <br/>
      Quantization of the first signal to N bits of resolution is achieved in N cycles of latency.
      <br/>
      However, because each stage resolves one bit and passes the result to the next stage, the former stage is free to resolve a bit of the next analog sample.
    </p>
    <p num="10">
      This pipeline design allows N analog samples to be in the process of quantization simultaneously.
      <br/>
      Once the first analog sample is quantized, after N cycles, each successive analog sample is quantized one cycle later.
      <br/>
      Thus, a high throughput of one sample per cycle is achieved.
    </p>
    <p num="11">Analog to Digital Conversion Error</p>
    <p num="12">
      Errors can be introduced into the conversion process at different stages by different components.
      <br/>
      The most common components in analog to digital conversion which can cause error are capacitors.
      <br/>
      Capacitors can introduce error because of a mismatch concerning the capacitance ratio of two or more capacitors used in sampling and amplifying an analog signal.
    </p>
    <p num="13">Capacitor Mismatch and Non-Linearity</p>
    <p num="14">
      A digital self-calibration technique for pipelined analog to digital converters which corrects for capacitor mismatch has been disclosed in Hae-Seung Lee, A 12-B 600 KS/S DIGITALLY SELF-CALIBRATED PIPELINED ALGORITHMIC ADC, IEEE Journal of Solid State Circuits, Vol 29, No. 4, Apr. 1994, at 509, which is incorporated herein by reference.
      <br/>
      This article demonstrates the necessary steps for determining the mismatch ratio of two nominally equal capacitors.
      <br/>
      The difference of the capacitance between two nominally equal capacitors, C1 and C2, can be represented as C1 =(1 + ALPHA i)C2 where  ALPHA i represents the mismatch ratio in capacitance between capacitors C1 and C2.
      <br/>
      Once  ALPHA i is known, the error due to capacitance mismatch can be canceled by adding a digital correction quantity:  (Equation image '1' not included in text)
    </p>
    <p num="15">to the digital output, where D(i) represents the digital output of the ith stage of a pipelined analog to digital converter.</p>
    <p num="16">
      In the Lee article, several assumptions are made concerning the need for digital self-calibration and the extent to which error should be corrected.
      <br/>
      The article assumed that the only linearity error present in a 1.5 bits per stage converter is caused by capacitor mismatch.
      <br/>
      This assumption was based on the presence of an operational amplifier at each stage of the pipeline with "high enough" gain to effectively eliminate the amplifier gain and non-linearity.
      <br/>
      In other words, the article assumes an amplifier with infinite gain.
    </p>
    <p num="17">Analog ti Digital Background Calibration Techniques</p>
    <p num="18">
      Various self-calibration techniques have been proposed to address the capacitor mismatch induced by the digital to analog subconverter (DASC) and interstage gain error.
      <br/>
      Most of these techniques require the normal operation of the converters to be interrupted in order to perform the calibration.
      <br/>
      This can impose a burden on the user who must decide when the converter can be interrupted and when the converter needs be re-calibrated due to temperature or other environmental changes.
      <br/>
      A superior method is to use a background calibration technique whose operation is transparent to the user.
      <br/>
      Three different background calibration techniques have recently been proposed.
    </p>
    <p num="19">Measuring Error with a  SIGMA - DELTA  Analog to Digital Converter (ADC)</p>
    <p num="20">
      An approach using a  SIGMA - DELTA  analog-to-digital converter (or "ADC") to measure the DASC error is given by Tzi-Hsiung Shu, A 13-B 10-MSAMPLE/S ADC DIGITALLY CALIBRATED WITH OVERSAMPLING DELTA-SIGMA CONVERTER, IEEE Journal of Solid State Circuits, Vol 30, No. 4, April 1995, at 443, which is incorporated herein by reference.
      <br/>
      In this approach, once the error is measured, it is subtracted out in the digital domain.
      <br/>
      The drawback of this technique is that it requires the DASC to be implemented as a resistor string which dissipates DC current.
      <br/>
      The reason for using a resistor string is that the DASC analog output levels are continuously available.
      <br/>
      This availability makes continuous calibration simple to implement at the expense of power consumption.
      <br/>
      Another drawback of this technique is that the added  SIGMA - DELTA  ADC consumes power and area.
      <br/>
      Furthermore, any interstage gain error present in the ADC is not calibrated.
      <br/>
      The use of a resistor string digital to analog converter (DAC) highlights the difficulty of user-transparent calibration with a capacitor DAC.
    </p>
    <p num="21">Measuring Error Using an Extra Clock Cycle</p>
    <p num="22">
      Another background calibration technique which allows the ADC to occasionally skip one clock cycle to permit the calibration to be performed is given by Sung-Ung Kwak, et al, A 15-B, 5-MSAMPLE/S LOW-SPURIOUS CMOS ADC, IEEE Journal of Solid State Circuits, Vol. 32, No. 12, Decmber 1997, at 1866, which is incorporated herein by reference.
      <br/>
      In this technique, digital interpolation circuitry is used to interpolate the missing sample.
      <br/>
      The drawback of this approach is that the added digital circuitry is complex and consumes significant amounts of power and area.
      <br/>
      A final problem with this method is that because samples are skipped, the ADC can no longer convert analog signals at a Nyquist rate (that is, a conversion rate of twice the highest frequency signal or noise component).
    </p>
    <p num="23">Measuring Error with an Extra Calibration Stage</p>
    <p num="24">
      A third technique, adding an extra stage to the pipeline, is given by J. Ingino and B. Wooley, A CONTINUOUSLY-CALIBRATED 10 MSAMPLE/S 12B 3.3V ADC, Digest Int'l Solid State Circuit Conference, February 1998, at 144, which is incorporated herein by reference.
      <br/>
      While the ADC is in normal operation, this extra stage is calibrated.
      <br/>
      One stage of the pipeline is then switched out for calibration while the extra calibrated stage is switched into the pipeline.
      <br/>
      The drawback with this approach is that in a well designed pipeline, the first few stages, which are the most critical, usually consume more power than later stages.
      <br/>
      Since the accuracy of the pipeline is determined by the accuracy of the first few stages, the extra stages added for calibration will consume significant amounts of power.
      <br/>
      In addition, this technique requires an additional successive approximation ADC to measure the error.
      <br/>
      Although the successive approximation ADC can be low power, it has to consume enough power to be fast enough to track temperature and other environmental changes.
    </p>
    <p num="25">Standard, Uncalibrated Pipeline Stage</p>
    <p num="26">
      In order to understand the proposed calibration technique, it is useful to examine the circuit implementation of a standard uncalibrated pipeline stage as shown in FIGS. 3A and 3B. In this example, four capacitors, C1 -C4 are used in an (approximately) 2.8-bits per stage implementation.
      <br/>
      The precise number of bits depends on the precise analog to digital sub-converter arrangement, as is commonly known in the art.
      <br/>
      The ADC uses a two phase non-overlapping clock to drive the process.
      <br/>
      The first phase is the sampling phase, the second is the D/A conversion, subtraction and amplification phase (hereafter referred to as the amplification phase).
    </p>
    <p num="27">
      During the sampling phase, depicted in FIG. 3A, the op-amp 302 is in a unity gain inverting configuration that drives the negative input node of the op-amp to a virtual ground.
      <br/>
      At the same time, the analog input to be converted is applied to the bottom plates of the four sampling capacitors, C1 -C4.
      <br/>
      After sampling, the input is stored on the four capacitors as charge.
      <br/>
      An analog to digital sub-converter (ADSC), is used, as is common in the art, for obtaining the coarse value.
    </p>
    <p num="28">
      During the amplification phase, depicted in FIG. 3B, C1 is selected as the feedback capacitor with its bottom plate connected to the output of the op-amp.
      <br/>
      At the same time, depending on the coarse decision from the ADSC, the bottom plates of C2 -C4 are connected to VREF, -VREF or GND.
      <br/>
      The resulting output, VRES, is the difference between the analog input and an analog representation of the coarse digital conversion of the input.
      <br/>
      VRES is passed on to the next stage.
    </p>
    <p num="29">
      One problem with using the above circuit implementation for user-transparent calibration is that it lacks a method by which a known signal can be injected into the circuit to produce a signal that is a function of the capacitor mismatch.
      <br/>
      Such a signal can be used to calibrate the ADC.
    </p>
    <p num="30">Self-calibration Technique for an ADC Architecture that is User Transparent</p>
    <p num="31">
      The present application discloses a self-calibration method for an analog to digital converter that is transparent to the user and corrects for capacitor mismatch errors.
      <br/>
      In the preferred embodiment the use of dedicated capacitors for calibration permits digitization of the input signal and a calibration signal to be carried out in an interleaved manner in a serial ADC.
      <br/>
      A calibration capacitor replaces each sampling capacitor one at a time during the sampling phase, while that sampling capacitor is being used to generate a calibration signal.
      <br/>
      This ensures that there is no significant loss of efficiency and no need to add any power hungry op-amps.
    </p>
    <p num="32">An advantage of the present disclosure is that the approach is a very simple architectural structure, which is less costly in terms of both power consumption and area, as compared with other methods.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="33">
      The disclosed inventions will be described with reference to the accompanying drawings, which show important sample embodiments of the invention and which are incorporated in the specification hereof by reference, wherein:
      <br/>
      FIGS. 1A-1O show one possible self-calibrating pipelined analog to digital converter circuit in various phases.
      <br/>
      FIG. 2 illustrates a conventional pipelined architecture.
      <br/>
      FIGS. 3A and 3B schematically depict a conventional circuit implementation of a pipelined stage for a 2.8 bit/stage converter.
      <br/>
      FIG. 4 illustrates how information is processed by the circuits of FIGS. 1A-1O.
      <br/>
      FIGS. 5A, 5B, 5C, and 5D depict one possible circuit implementation for processing the least significant bit stages used for digitizing VRES and VCAL.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="34">
      The numerous innovative teachings of the present application will be described with particular reference to the presently preferred embodiment.
      <br/>
      However, it should be understood that this class of embodiments provides only a few examples of the many advantageous uses of the innovative teachings herein.
      <br/>
      In general, statements made in the specification of the present application do not necessarily delimit any of the various claimed inventions.
      <br/>
      Moreover, some statements may apply to some inventive features but not to others.
    </p>
    <p num="35">A User Transparent Self-Calibration Technique</p>
    <p num="36">
      One way to make a self-calibration technique transparent to the user is to interleave the calibration with the sampling and digitization of the input signal.
      <br/>
      Interleaving these functions enables the ADC to generate calibration information without affecting throughput.
      <br/>
      That is, a pipelined ADC with a 20 kHz sample rate, for example, can take advantage of this technique, generating calibration information while maintaining a 20 kHz sample rate.
      <br/>
      In the preferred embodiment, user-transparent self-calibration is implemented by the addition of two capacitors to the most significant bit (MSB) stage of a serial ADC, and an extra array of capacitors to succeeding least significant bit (LSB) stages as desired.
      <br/>
      With this architecture, interleaving of analog sampling and calibration in the MSB stage occurs in the amplifying and the combined sampling and calibrating phases.
      <br/>
      In the LSB stage, the interleaving takes place between the digitization of the input signal, and the digitization of the calibration signal.
    </p>
    <p num="37">
      This interleaving technique may be used with a variety of AD converter architectures, including hybrid and recycling ADCs.
      <br/>
      This approach permits the calibration to take place while the input signal is being sampled without any loss of throughput.
    </p>
    <p num="38">
      FIGS. 1A-1O depict a sample embodiment of a user transparent self-calibration technique.
      <br/>
      An aid for following this explanation is given by FIG. 4, which outlines the sequence of steps for the phases of the method's operation in accordance with FIGS. 1A-1O. Although for convenience, a sequence of ten "phases" are shown in FIGS. 1 and 4, it is to be understood that only two phases per clock cycle are used in the presently preferred embodiment.
      <br/>
      Hence, phase 3, for example, refers to the first phase of the second clock cycle, phase 4 refers to the second phase of the second clock cycle, and so on.
      <br/>
      For the purpose of clarity, this disclosure uses a simple 2.8-bit (approximately) converter to illustrate the method.
      <br/>
      Ten phases of the MSB are used for all capacitors in the sample embodiment of FIG. 1A-1O to be used in calibration signal generation.
      <br/>
      FIG. 4 illustrates the propagation of the analog signal and the calibration signal through the MSB and two of the N-1 LSB stages of the ADC.
      <br/>
      Although ten phases are depicted, phase 11 is the same as phase 1 with respect to the capacitors which are used for sampling, phase 12 the same as phase 2, etc., as the ADC continues to digitize samples.
      <br/>
      For clarity, phases 1, 2, and 3 are also shown as phases (11), (12), and (13).
      <br/>
      For ease of understanding, FIGS. 1 and 4 show the sequence of clock phases the ADC goes through immediately after a power up, starting with phase 1.
      <br/>
      It is understood that during the initial power up during phase 1, the calibration signal, VcalO, for capacitor C0 shown in FIG. 1C, is not valid yet as it has not the chance to perform the required operation shown in FIG. 1O in the previous phase.
    </p>
    <p num="39">
      In this embodiment, 5 main capacitors, labeled C0 to C4, are used, along with a dedicated feedback capacitor, Cf.
      <br/>
      Because the method, as illustrated here, is being used in a pipelined converter, there is a "startup" period.
      <br/>
      After the startup, a cyclical series of steps repeats itself continuously.
      <br/>
      Thus, Phase 1 and Phase 11 are essentially similar once the pipe is full, and so are Phase 2 and Phase 12, etc.
      <br/>
      In this embodiment there are 2 phases per clock cycle, as is well known in the art, an odd phase and an even one.
      <br/>
      Sampling and calibration signal generation takes place during the odd phases and generating the residual signal, represented as voltage, occurs during the even phases.
    </p>
    <p num="40">
      FIG. 1B depicts a sampling phase, which is taken to be the one starting phase of the pipeline (or phase 1 of FIG. 4).
      <br/>
      Here the four capacitors C1 -C4 are used to sample the input signal, VIN.
      <br/>
      Since the offset of the op-amp 102, depicted in FIG. 1A, results in an overall offset of the ADC when digital error correction is used, the op-amp 102 is not used in the sampling phase.
      <br/>
      As mentioned, the 5th capacitor, C0, is not used in this phase.
    </p>
    <p num="41">
      In the next phase, amplification, (phase 2 of FIG. 4) the extra capacitor, C0, in the location labeled reset, is connected to GND as depicted in FIG. 1A. Three of the sampling capacitors C2 -C4 are connected with the dedicated feedback capacitor Cf and C1 to produce VRES.
      <br/>
      Since, during phase 2, the bottom plate of C1, is connected to GND, the charge proportional to VIN sampled on C1, during the previous phase is transferred to Cf, setting C1 up for calibration in phase 3.
    </p>
    <p num="42">During the next phase, phase 3 of FIG. 4, also shown by FIGS. 1D and 1E, sampling is done on capacitors C0, C2, C3, C4, while C1, is used in conjunction with the op-amp 102 to generate its own calibration information, Vcal1, which in turn is passed on to the next stage for digitization, described later.</p>
    <p num="43">
      In phase 4 in FIG. 1F, while C0, C3, and C4 serve as the DASC capacitor, the top plate of C1, is reset to GND so as not to corrupt the residue voltage by the charge proportional to VCAL stored during the previous phase.
      <br/>
      At the same time, the bottom plate of C2 is connected to GND.
      <br/>
      This allows charge proportional to VIN sampled on C2 during the previous phase to transfer to Cf setting C2 up for calibration in phase 5.
    </p>
    <p num="44">
      During successive conversions, illustrated by FIGS. 1G-1O, in the sampling phase, the input signal VIN is again sampled on four sampling capacitors, selected from C0 -C4, excepting the one currently being calibrated, which is in location CCAL.
      <br/>
      The group of sampling capacitors includes the previously calibrated CCAL.
      <br/>
      Simultaneously with the new sampling, a calibration signal for the capacitor currently being calibrated, CCAL, is generated.
      <br/>
      Once each capacitor, C0 -C4 has been calibrated, the process then repeats itself while analog input is to be digitized.
      <br/>
      Once the process repeats (phases 11 and following of FIG. 4), sampling is performed as described in FIG. 1B.
    </p>
    <p num="45">
      After each sampling phase, in the amplifying phase, three of the four sampling capacitors are used as DASC capacitors, based on the coarse decision of the A/D converter.
      <br/>
      The capacitor that was just calibrated previously is "reset" by grounding its top plate.
      <br/>
      This prevents calibration information from corrupting the residue voltage.
      <br/>
      The capacitor about to be calibrated is also part of the op-amp feedback loop, but with its bottom plate connected to ground.
    </p>
    <p num="46">It can be shown that the output voltage of the op-amp 102 in FIG. 1C is given by:  (Equation image '2' not included in text)</p>
    <p num="47">
      In this equation, a is the gain value of the op-amp 102, which would be infinity for an ideal op-amp.
      <br/>
      Cp represents the parasitic capacitance of the circuit, at the inverting input of the op-amp 102, normally a very small value, and ideally zero.
    </p>
    <p num="48">
      This equation shows that the op-amp 102 produces a voltage that is directly proportional to the ratio of Cf and CCAL.
      <br/>
      Since the voltage VRES is known from the ADC conversion in the previous clock phase, the mismatch between Cf and CCAL is the difference between the digital output of the following stages when the input changes from VRES to VCAL.
    </p>
    <p num="49">
      FIGS. 5A-5D depict the presently preferred architecture for the least significant bit (or LSB) pipeline stages.
      <br/>
      Since the LSB stages of the pipeline need to be able to digitize VRES and VCAL. during consecutive phases of ADC operation, an additional array of capacitors is added in these stages in a manner similar to a double-sampled pipeline.
      <br/>
      The four sampling capacitors C1B -C4B are used to sample VRES (on even phases), while the op-amp 502 and capacitors C1A -C4A are processing the previous VCAL for the remaining pipeline to digitize.
      <br/>
      During the next phase when the MSB stage outputs VCAL (odd phases), the four sampling capacitors C1A -C4A are used to sample VCAL, while the op-amp 502 together with C1B -C4B are processing VRES for the remaining pipeline to digitize.
      <br/>
      In this manner, the input signal and the calibration signal are altenatingly digitized by the pipeline without adding extra op-amps and increasing power dissipation.
      <br/>
      Thus, each of the capacitors from the MSB stage generates its own VCAL signal which is passed down the pipeline.
      <br/>
      Digitization of the residue signal,VRES, and the calibration signal, VCAL, is interleaved in the LSB stages.
    </p>
    <p num="50">
      The digitized capacitor mismatch signals may then be processed by a digital error cancellation logic unit (or digital correction logic).
      <br/>
      One simple approach to digital error cancellation would be to maintain a running average of total error or error for each capacitor, which could then be subtracted from the digitized signal value.
      <br/>
      In this embodiment other digital error correction technology, as is well known in the art, may also be used.
    </p>
    <p num="51">Modifications and Variations</p>
    <p num="52">As will be recognized by those skilled in the art, the innovative concepts described in the present application can be modified and varied over a tremendous range of applications, and accordingly the scope of patented subject matter is not limited by any of the specific exemplary teachings given, but is only defined by the issued claims.</p>
    <p num="53">
      It should also be noted that, over time, an increasing number of functions tend to be combined into a single chip.
      <br/>
      The disclosed inventions can still be advantageous even with different allocations of functions among chips, as long as the functional principles of operation described above are still observed.
    </p>
    <p num="54">
      For another example, mismatch between the two sets of capacitors in the LSB stages can limit the accuracy of digitizing the mismatch between Cf and CCAL.
      <br/>
      Therefore, the LSB stages can be calibrated in manner similar to FIGS. 1A-10. Since capacitor mismatch is measured with reference to Cf, the gain and offset errors can be calibrated out first before calibrating the MSB stages of the pipeline.
      <br/>
      Errors of any particular stage could be digitized and corrected for by following stages, which would cascade the error correction process.
    </p>
    <p num="55">For another example, error correction logic may require the inclusion of a memory unit and the necessary control structure to store, further process, and communicate the results of the calibration.</p>
    <p num="56">
      For another example, a 2.8 bit (approximately) MSB stage is illustrated.
      <br/>
      However, stages resolving a different number of bits, such as a 5-bit per stage converter can also make use of this self-calibration technique.
      <br/>
      For an m bit stage, 2m capacitors are needed, plus the addition of capacitors C0 and Cf.
      <br/>
      Again, the number of stages receiving extra capacitor arrays may be varied.
    </p>
    <p num="57">
      For another example, the number of LSB stages used for resolving VCAL may also vary, since the resolution required may not be as great for a reasonable calibration value as for resolving VRES.
      <br/>
      Similarly, the digital self-calibration technique described here can be used in combination with other self-calibration techniques.
    </p>
    <p num="58">Further details of the system context and of options for implementation and modifications may be found in Michael J. Demler, HIGH-SPEED ANALOG-TO-DIGITAL CONVERSION (1991); Analog Devices, Inc., ANALOG-DIGITAL CONVERSION HANDBOOK (1986); and Behzad Razavi, PRINCIPLES OF DATA CONVERSION SYSTEM DESIGN (1995); IEEE Journal of Solid-State Circuits April 1994, A 12-B 600 KS/S DIGITALLY SELF-CALIBRATED PIPELINED ALGORITHMIC ADC 509; IEEE Journal of Solid-State Circuits February 1990 FULLY DIFFERENTIAL ADC WITH RAIL-TO-RAIL COMMON-MODE RANGE AND NONLINEAR CAPACITOR COMPENSATION 173; IEEE Journal of Solid-State Circuits April 1993 A LOW-POWER 12-B ANALOG-TO DIGITAL CONVERTER WITH ON-CHIP PRECISION TRIMMING 455; IEEE Journal of Solid-State Circuits December 1990 ERROR CORRECTION TECHNIQUES FOR HIGH-PERFORMANCE DIFFERENTIAL A/D CONVERTERS 1318; IEEE Journal of Solid-State Circuits April 1991 A 13B 2.5 MHz SELF-CALIBRATED PIPELINED A/D CONVERTER IN 3UM CMOS 628; and U.S. Pat. No. 5,510,789 ALGORITHMIC A/D CONVERTER WITH DIGITALLY CALIBRATED OUTPUT; all of which are hereby incorporated by reference.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23.</claim-text>
      <claim-text>An analog-to-digital converter, comprising: a first stage of an analog-to-digital converter connected to receive and sample an analog input and produce a coarse digital representation of said analog input, a first residue signal, and a first calibration signal which represents the capacitor mismatch of a capacitor used to generate said residue signal;</claim-text>
      <claim-text>and one or more subsequent stages of said analog-to-digital converter, connected to receive a residue signal and a calibration signal from an immediately preceding stage and produce coarse digital representations of said residue signal and said calibration signal and successive residue and calibration signals; wherein said first stage production of said residue signal and said calibration signal is interleaved such that the throughput of said analog-to-digital converter is not decreased.</claim-text>
      <claim-text>1. A method for performing analog to digital conversion, comprising the steps of:</claim-text>
      <claim-text>in first stage of an analog-to-digital converter:</claim-text>
      <claim-text>- sampling an analog signal; - digitizing said analog signal to produce a digital output; - generating a residue signal relative to said digital output;</claim-text>
      <claim-text>and - generating a calibration signal relative to the capacitor mismatch of said first stage; wherein said generating steps are interleaved in a manner such that the throughput of said analog-to-digital converter is not decreased.</claim-text>
      <claim-text>2. The method of claim 1, wherein said analog-to-digital converter is a pipelined analog-to-digital converter.</claim-text>
      <claim-text>3. The method of claim 1, wherein said generating a calibration signal step and said sampling step are performed concurrently.</claim-text>
      <claim-text>4. The method of claim 1, wherein said first stage utilizes an additional capacitor such that said sampling step and said generating a calibration signal step are performed concurrently.</claim-text>
      <claim-text>5. The method of claim 1, wherein said generating a calibration signal step utilizes a capacitor which was utilized in an immediately preceding sampling step.</claim-text>
      <claim-text>6. The method of claim 1, wherein said generating steps utilize an additional capacitor as a feedback capacitor.</claim-text>
      <claim-text>7. The method of claim 1, further comprising the steps of: in successive stages 6f said analog-to-digital converter - digitizing said residue signal;</claim-text>
      <claim-text>and - digitizing said calibration signal; wherein said digitizing steps are interleaved in a manner such that throughput of said analog-to-digital converter is not decreased.</claim-text>
      <claim-text>8. The method of claim 1, further comprising the steps of: in successive stages of said analog-to-digital converter - digitizing said residue signal;</claim-text>
      <claim-text>and - digitizing said calibration signal; wherein said successive stages utilizes two capacitor arrays such that said digitizing steps are interleaved in a manner such that throughput of said analog-to-digital converter is not decreased.</claim-text>
      <claim-text>9. The method of claim 1, further comprising the step of calibrating the digital output of said analog-to-digital converter with digital correction logic.</claim-text>
      <claim-text>10. The method of claim 1, in which the capacitor mismatch of more than one stage is calibrated.</claim-text>
      <claim-text>11. The method of claim 1, wherein said capacitor mismatch is corrected only for said first stage.</claim-text>
      <claim-text>12. A method for performing analog-to-digital conversion, comprising the steps of: performing a first stage of analog-to-digital conversion on an analog input signal in an analog-to-digital converter; producing a residue signal; generating a calibration signal; in successive stages of said analog-to-digital converter: - digitizing said residue signal to obtain a coarse digital value;</claim-text>
      <claim-text>and - digitizing said calibration signal to obtain a coarse digital calibration value; using said coarse digital calibration values to correct said coarse digital values;</claim-text>
      <claim-text>and producing a calibrated digital output from said analog-to-digital converter; wherein said calibration signal represents the capacitor mismatch of a capacitor used to generate said residue signal and said residue producing step and said generating step are interleaved in a manner such that the throughput of said analog-to-digital converter is unchanged.</claim-text>
      <claim-text>13. The method of claim 12, wherein said generating step is performed while said analog input signal is sampled.</claim-text>
      <claim-text>14. The method of claim 12, wherein said first stage utilizes an additional capacitor such that said performing step and generating step are performed concurrently.</claim-text>
      <claim-text>15. The method of claim 12, wherein said generating step utilizes a capacitor utilized in an immediately preceding performing step.</claim-text>
      <claim-text>16. The method of claim 12, wherein said digitizing steps are interleaved in a manner such that throughput of said analog-to-digital converter is unchanged.</claim-text>
      <claim-text>17. The method of claim 12, wherein said successive stages use an additional capacitor array such that said digitizing steps are interleaved in a manner such that throughput of said analog-to-digital converter is unchanged.</claim-text>
      <claim-text>18. A method for converting analog signals to digital signals, in a converter, comprising the steps of: sampling an analog signal in an analog-to-digital converter to produce a sampled signal; alternately generating a residual signal from said sampled signal and a calibration signal in at least the most significant bit stage of said analog-to-digital converter; alternately digitizing said residual signal and said calibration signal to obtain digital values in successive stages of said analog-to-digital converter;</claim-text>
      <claim-text>and correcting the output of said digitized residual signal with said digital results; wherein during said sampling step, a substitute capacitor is switched in place of a capacitor generating said calibration signal and said calibration signal represents the capacitor mismatch of a capacitor used to generate said signals and digitization of said residual signal and said calibration signal is interleaved in a manner such that the sample rate of said analog-to-digital converter is maximized.</claim-text>
      <claim-text>19. The method of claim 18, wherein said digitizing step utilizes at least one additional array of capacitors for alternately digitizing said residue signal and said calibration signal.</claim-text>
      <claim-text>20. The method of claim 18, wherein said sampling step and said calibration signal generation are performed concurrently.</claim-text>
      <claim-text>21. The method of claim 18, wherein said first stage utilizes an additional capacitor such that said sampling step and said calibration signal generation are performed concurrently.</claim-text>
      <claim-text>22. The method of claim 18, wherein said digitizing step alternates such that the sample rate of said analog-to-digital converter is maximized.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. The converter of claim 23, wherein said converter is a pipelined analog-to-digital converter.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. The converter of claim 23, wherein said first calibration signal is produced while said first stage is sampling said input signal.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26. The converter of claim 23, wherein said first stage further comprises a substitute capacitor to facilitate calibration.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27. The converter of claim 23, wherein said first stage further comprises a dedicated feedback capacitor.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28. The converter of claim 23, wherein in said successive stages production of said coarse digital representations is such that throughput of said analog-to-digital converter is not decreased.</claim-text>
    </claim>
    <claim num="29">
      <claim-text>29. The converter of claim 23, wherein said successive stages further comprise an additional capacitor array to facilitate calibration without decreasing the throughput of said analog-to-digital converter.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30. The converter of claim 23, further comprising digital correction logic connected to receive said coarse digital representations and produce a digital output.</claim-text>
    </claim>
    <claim num="31">
      <claim-text>31. The converter of claim 23, wherein a capacitor used to generate said first residual signal is used to generate said first calibration signal while said first stage samples said analog input.</claim-text>
    </claim>
  </claims>
</questel-patent-document>