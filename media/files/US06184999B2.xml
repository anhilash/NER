<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184999B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184999</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184999</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="11981178" extended-family-id="21179497">
      <document-id>
        <country>US</country>
        <doc-number>08795188</doc-number>
        <kind>A</kind>
        <date>19970204</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08795188</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>21719965</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>1878196</doc-number>
        <kind>A</kind>
        <date>19960205</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1996JP-0018781</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04N   1/21        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>21</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04N   1/04        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>04</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04N   1/00        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>00</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>H04N   1/32        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>32</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>H04N   1/41        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>41</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>358001160</text>
        <class>358</class>
        <subclass>001160</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>358001600</text>
        <class>358</class>
        <subclass>001600</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04N-001/00V5</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>001</main-group>
        <subgroup>00V5</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04N-001/32F</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>001</main-group>
        <subgroup>32F</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04N-001/41</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>41</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/00933</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>00933</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/00204</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>00204</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/32358</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>32358</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/41</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>41</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-2201/0081</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>2201</main-group>
        <subgroup>0081</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-2201/0082</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>2201</main-group>
        <subgroup>0082</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-2201/0086</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>2201</main-group>
        <subgroup>0086</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04N-001/00C3</classification-symbol>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04N-201/00J2</classification-symbol>
      </patent-classification>
      <patent-classification sequence="10">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04N-201/00J3</classification-symbol>
      </patent-classification>
      <patent-classification sequence="11">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04N-201/00J5</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>20</number-of-claims>
    <exemplary-claim>8</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>12</number-of-drawing-sheets>
      <number-of-figures>13</number-of-figures>
      <image-key data-format="questel">US6184999</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Image processing apparatus</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>FURUKAWA SHIGEHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5337319</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5337319</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>FUKUSHIMA SHIGENOBU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5465172</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5465172</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SAITO HIROYUKI</text>
          <document-id>
            <country>US</country>
            <doc-number>5519499</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5519499</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>MELEN ROGER D</text>
          <document-id>
            <country>US</country>
            <doc-number>5619594</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5619594</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>TSUCHIYA SUGURU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5684602</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5684602</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>YAMAMOTO SUSUMU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5710638</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5710638</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>UBE INDUSTRIES</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0732459</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP07032459</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Minolta Company, Ltd.</orgname>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>KONICA MINOLTA</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Yoshida, Eiichi</name>
            <address>
              <address-1>Toyokawa, JP</address-1>
              <city>Toyokawa</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Kawasaki, Eiichiro</name>
            <address>
              <address-1>Toyokawa, JP</address-1>
              <city>Toyokawa</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Atsumi, Tomoyuki</name>
            <address>
              <address-1>Toyohashi, JP</address-1>
              <city>Toyohashi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Morikawa, Takeshi</name>
            <address>
              <address-1>Okazaki, JP</address-1>
              <city>Okazaki</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>McDermott, Will &amp; Emery</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Rogers, Scott</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An image processing apparatus of the present invention provides an image reader which reads image, an image memory which stores image data read by said image reader, a compressor which reads out image data previously stored in said image memory, and compresses image data reading out, and a controller which controls starting operation of said compressor so as not to complete compressing image data in said image memory before completion of storing image data into said image memory.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">The present invention relates to an image processing apparatus for compressing and processing image data output from an image reading means, and is suitable for use to improve the functionality of digital copying apparatuses, facsimile apparatuses and the like.</p>
    <p num="2">
      In digital copying apparatuses, for example, memory copy mode is known, wherein image data read from a document are temporarily stored in memory, and a copy image is printed based on said stored image data.
      <br/>
      Thus, a document is read once regardless of the number of copies to be made when making a plurality of copies in memory copy mode.
      <br/>
      When the document reading speed is slower than the printing speed, therefore, the copying time can be greatly reduced by using the memory copy mode.
      <br/>
      Electronic sorting is an example of a memory copy mode application.
      <br/>
      Electronic sorting is a copy mode wherein image data read from a plurality of original documents are stored in memory, and the image data of each document are repeatedly read out from said memory and copies of a plurality of documents are sequentially made one by one.
      <br/>
      Normally, compressed image data (hereinafter referred to as "compressed data") are stored in memory so as to allow the storage of as many documents as possible.
    </p>
    <p num="3">
      In conventional copying apparatuses, image data in pixel units obtained by scanning a document are stored in pixel array sequence in an image memory, a compression process starts after waiting for the image data of one page, i.e., image data corresponding to one document page, to be stored.
      <br/>
      That is, after one page of a document has been read, the process of compressing the obtained image data is started.
      <br/>
      Scanning of the next document page is accomplished after the compression processing of the previous one page is completed.
      <br/>
      In other words, after the compression processing of the image data of the read document completes, the reading of the next document begins.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="4">An object of the present invention is to reduce the time required from the start of reading a document to the completion of the compression process to allow faster image data processing.</p>
    <p num="5">The present invention provides in an image processing apparatus comprising an image reader which reads image, an image memory which stores image data read by said image reader, a compressor which reads out image data previously stored in said image memory, and compresses image data reading out, and a controller which controls starting operation of said compressor so as not to complete compressing image data in said image memory before completion of storing image data into said image memory.</p>
    <p num="6">Furthermore, the present invention provides in an image processing apparatus comprising an image reader which sequentially reads image data of a first and a second document, an image memory which stores image data read by said image reader, a compressor which reads out image data previously stored by said image memory, and compresses image data reading out, and a controller which controls starting operation of said image reader so as not to complete storing image data of said second document before completion of compressing image data of said first document.</p>
    <p num="7">Therefore, the required time from the time reading of a document starts until the compression process completes can be reduced, and the image data processing can be accomplished faster.</p>
    <p num="8">These and other objects and features of the present invention will be apparent from the following description thereof taken in conjunction with the accompanying drawings which illustrate specific embodiments of the invention.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="9">
      In the following description, like parts are designated by like reference numbers throughout the several drawings.
      <br/>
      FIG. 1 is a front section view showing the overall construction of the copying apparatus of the present invention;
      <br/>
      FIG. 2 is a block diagram showing the construction of the control unit of the copying apparatus;
      <br/>
      FIG. 3 is a block diagram showing the construction of the control unit of the copying apparatus;
      <br/>
      FIG. 4 is a block diagram showing the construction of the memory unit;
      <br/>
      FIG. 5A and FIG. 5B illustrate an example of the positional relationship between the image data input to the input image memory and the image data subjected to compression processing;
      <br/>
      FIG. 6 is a graph showing the range of compression speed;
      <br/>
      FIG. 7 illustrates the relationship between the document reading speed and the compression speed;
      <br/>
      FIG. 8 illustrates the relationship between the compression speed and the next document reading speed;
      <br/>
      FIG. 9 illustrates the relationship of the timings between document reading speed and compression speed;
      <br/>
      FIG. 10 is a flow chart showing the overall processing operation of the memory unit;
      <br/>
      FIG. 11 is a flow chart of the document reading process;
      <br/>
      FIG. 12 is a flow chart of the compression process.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="10">FIG. 1 is a front section view showing the overall construction of copying apparatus 1 of the present invention.</p>
    <p num="11">Copying apparatus 1 is a digital copying apparatus comprising an image reader IR and page printer PRT.</p>
    <p num="12">
      The body of image reader IR comprises a scanning unit 10 to read a document placed on a document platen 18 at pixel resolution, image signal processing unit 20 which executes quantization of photoelectric conversion signals output by said scanning unit 10 and executes signal processing in accordance with the various image forming modes, and memory unit 30 to store image data corresponding to said document.
      <br/>
      An automatic duplex document feeder (ADFR) 500 is provided at the top of the aforesaid body and is assembled so as to be openable by pivoting on the interior edge thereof to function as a document cover.
    </p>
    <p num="13">
      Scanning unit 10 is line scanning type image reading device comprising a scanner 19 having a document illumination lamp 11 and mirror 12, stationary mirrors 13a and 13b, condensing lens 14, an image sensor 16 comprising a charge-coupled device (CCD) array, and a scanning motor M2 to drive the scanner 19.
      <br/>
      Image signal processing unit 20 and memory unit 30 are described later.
    </p>
    <p num="14">
      ADFR 500 feeds documents stacked on a document stacker 510 onto document platen 18 via take-up roller 501, guide roller 502, guide pad 503, intermediate roller 504, registration roller 505, and transport belt 506, and after scanning ejects said document onto document discharge tray 511 via discharge roller 509.
      <br/>
      ADFR 500 is provided with a document sensor SE50 to detect the presence of a document, document size sensor SE51, and discharge sensor SE52.
    </p>
    <p num="15">
      When a plurality of documents are copied, for example, an operator stacks documents face upward.
      <br/>
      Each document stacked on document stacker 510 is pulled sheet by sheet from the bottommost sheet of the stack, and accurately sets said document face downward at the reading position on document platen 18.
      <br/>
      In the case of the simplex document mode, after scanning completes, the document is transported to the leftward in the drawing, and ejected face upward.
      <br/>
      In the case of the duplex document mode, a document transported in a leftward direction, after scanning of the front side completes, is inverted front-to-back by inverting roller 507, and returned to the scanning position on document platen 18, and is subsequently transported again in a leftward direction, after scanning of the back side completes, so as to be ejected.
    </p>
    <p num="16">
      The page printer PRT comprises a print processing unit 40 to output exposure control signals, print head 60 having a semiconductor laser 62 as a light source, photosensitive drum 71, and arranged around the periphery of said photosensitive drum 71 are developing and transfer unit 70A, fixing and discharge unit 70B having a pair of fixing rollers 84 and discharge rollers 85, and recirculation type sheet transport unit 70C including a refeeding unit 600, wherein copy images are printed by an electrophotographic process based on image data transmitted from the image reader IR.
      <br/>
      At the bottom of page printer PRT are provided two paper cassettes 80a and 80b, sheet size sensors SE11 and SE12, and feed rollers.
    </p>
    <p num="17">
      A laser beam emitted from semiconductor laser 62 is deflected in the scanning direction by a polygonal mirror 65, passes through main lens 69 and is directed by various mirrors 67a, 68, and 67c to an exposure position on photosensitive drum 71.
      <br/>
      The surface of photosensitive drum 71 is uniformly charged by charger 72.
      <br/>
      An electrostatic latent image formed by an optical exposure is developed as a toner image via developing device 73, and this toner image is transferred onto a sheet via transfer charger 74 at the transfer position (copy position).
      <br/>
      This sheet is then separated from the photosensitive drum 71 via a separation charger 75, and transported to the pair of fixing rollers 84 via transport belt 83, then ejected to discharge tray 621.
    </p>
    <p num="18">Refeeding unit 600 is attached to the side surface of page printer PRT as a peripheral device for automating duplex copies, and has the functions of temporarily storing sheets discharged from the page printer body by discharge roller 85, and refeeding sheets to the page printer body via switchable transport.</p>
    <p num="19">
      In simplex copy mode, a sheet passes through refeeding unit 600 and is ejected to discharge tray 621.
      <br/>
      Conversely, in duplex copy mode, the left end of a switching member 601 is moved upward by a solenoid not shown in the drawing, such that a sheet ejected from discharge roller 85 arrives at positive inverting roller 603 via transport roller 602.
      <br/>
      Thus, the sheet is returned to the page printer body.
      <br/>
      The returned sheet sequentially passes through horizontal rollers 86a, 86b, 86c to timing roller 82, where it stops temporarily.
      <br/>
      When a plurality of sheets are continuously fed, the sheets are sequentially transported with a predetermined spacing therebetween so as to avoid mutual overlapping of the sheets being transported to refeeding unit 600.
    </p>
    <p num="20">FIGS. 2 and 3 are block diagrams showing the construction of control unit 100 of copying apparatus 1.</p>
    <p num="21">
      Control unit 100 has a core of eight individual central processing units (CPU) 101 through 108.
      <br/>
      These CPUs 101 through 108 are respectively provided with read only memories (ROM) 111 through 118 to store programs, and random access memories (RAM) 121 through 128 as work areas for program execution.
      <br/>
      CPU 106 is provided within memory unit 30.
    </p>
    <p num="22">
      CPU 101 controls displays and signal input from each operation key on operation panel OP.
      <br/>
      CPU 102 controls various parts of image processing unit 20, and CPU 103 executes drive control of scanning unit 10.
      <br/>
      CPU 104 controls the overall page printer PRT including the print processing unit 40.
    </p>
    <p num="23">
      CPU 105 executes processes to adjust the general timing of the control unit 100, and set the operation mode.
      <br/>
      Thus, CPU 105 executes serial communication with the other CPUs, and sends and receives commands and reports required for the controls.
    </p>
    <p num="24">
      CPU 106 controls the storing and readout of image data.
      <br/>
      CPU 107 controls document transport by ADFR 500.
      <br/>
      CPU 108 controls the refeeding unit 600.
    </p>
    <p num="25">FIG. 4 is a block diagram showing the construction of memory unit 30.</p>
    <p num="26">
      Memory unit 30 is controlled by CPU 106 in accordance with the sequence of programs stored in ROM 116.
      <br/>
      Parameters and the like required for program execution are stored in RAM 126.
    </p>
    <p num="27">
      A serial interface I/F 146 is connected to CPU 106, to allow reception of commands and status reports by other control programs of CPU 101 and CPU 102 via serial interface I/F 146.
      <br/>
      A timer 136 is provided with two channels of timer 1 and timer 2, which are respectively used to measure time by operating at constant periods.
    </p>
    <p num="28">
      The image data of a document read by image reader IR is subjected to signal processing in accordance with the image forming mode via image signal processing unit 20, and outputs image data D2 for storage in input image memory 301.
      <br/>
      The image data D2 stored in input image memory 301 are subjected to compression processing by compressor 303 to obtain image data D2a, which are stored in compressed image memory 305.
    </p>
    <p num="29">
      The compressed data D2a stored in compressed image memory 305 are read out from compressed image memory 305 and subjected to an expansion processing by expander 304 to obtain image data D3 which are then stored in output image memory 302.
      <br/>
      The image data D3 stored in output image memory 302 are read out and transmitted to print processing unit 40 and subjected to print processing based on image data D3.
    </p>
    <p num="30">
      In the aforesaid series of processes, the start of the document reading process by image reader IR is accomplished by commands generated by CPU 102 and CPU 103 based on data DO transmitted from memory unit 30 via a bus shown in FIG. 2.
      <br/>
      Print processing is also accomplished by commands generated by CPU 104 and CPU 105 via data DO.
      <br/>
      Controls execute via the reception of these commands are identical to controls in conventional and well known printers and digital copiers.
    </p>
    <p num="31">In the copying apparatus 1 of the present embodiment, when a document is read by image reader IR, the first delay time TG1 required from the start of the reading of said document until the start of the compression process is determined based on the reading speed of image reader IR, compression speed of compressor 303, and document size SZ to prevent the compression processing of image data D2 of said document from completing before the reading of said document completes, such that the compression process is started after said first delay time TG1 has elapsed following the start of the document reading by image reader IR.</p>
    <p num="32">Furthermore, a second delay time TG2 required from the start of the compression processing of image data D2 of the document directly previous to the current document until the start of the reading of the current document is determined to prevent the reading of the current document from completing before the compression processing completes for the document directly previous to the current document being read, such that the reading of the current document starts after said second delay time TG2 has elapsed following the start of the compression processing of image data of the document directly previous to the current document being read.</p>
    <p num="33">
      That is, in copying apparatus 1, image data D2 read by image reader IR are stored in input image memory 301, and the compression processing of said image data D2 is started while said image data D2 are being read by image reader IR, as shown in FIG. 5.
      <br/>
      In this case, the compression process starts after the first delay time TG1 has elapsed following the start of the reading process.
    </p>
    <p num="34">
      Furthermore, the reading of the next document is started during the compression process.
      <br/>
      The reading of a next document is started after the second delay time TG2 has elapsed following the start of the compression process so as to avoid having the reading process surpass the compression process.
    </p>
    <p num="35">The method of calculating the first delay time TG1 and second delay time TG2 is described below.</p>
    <p num="36">
      Referring now to FIG. 4, the speed of the compression process of compressor 303 (i.e., compression speed) or compression time can be calculated based on clock timing of the operation of compressor 303, and the number of clock units required to compress image data of a single sheet document.
      <br/>
      Although the number of clock units required for the compression process depends on the compression algorithm, it is possible to calculate the number of clock units required to compress an image at the highest compression rate (best image compression), and the number of clock units required to compress an image at the lowest compression rate (worst image compression) via algorithm, such that the maximum value and minimum value of compression speed can be thus determined to know the compression speed range.
    </p>
    <p num="37">FIG. 6 is a graph showing the range of compression speeds.</p>
    <p num="38">
      In FIG. 6, when the compression speed of best image compression is designated B1, and the compression speed of worst image compression is designated B2, the values between the diagonal lines are the compression speed of compressor 303.
      <br/>
      Using this characteristic, the document size SZ can be detected beforehand by the document size sensor SE 51 shown in FIG. 1, and the minimum time T1 and maximum time T2 required for compressing the image of one page can be calculated from the detected document size SZ and the number of pixels of the image.
    </p>
    <p num="39">
      In FIG. 4, although the storage of image data D2 output from image sensor 16 of image reader IR in input image memory 301 has been described, conventionally, image data D2 stored in input image memory 301 is compressed, such that the completion of the storage of one sheet of document image data D2 in input image memory 301 must be awaited.
      <br/>
      As described in FIGS. 5 and 6, however, it is possible to subject image data D2 to compression processing while said image data D2 are being stored in input image memory 301, in which case the line being compressed may not surpass the line being read.
      <br/>
      Thus, the beginning of the compression process is can be faster than in conventional methods.
    </p>
    <p num="40">FIG. 7 illustrates the relationship between the document reading speed and the compression processing speed.</p>
    <p num="41">
      In FIG. 7, reference number B1 refers to the compression speed of the best compression rate shown in FIG. 6.
      <br/>
      The compression speed (B) will not surpass the reading speed (A) regardless of compression rate of the document image when the compression speed B1 is set so as to not surpass the reading speed (A) of the image reader IR.
      <br/>
      The reading speed (A) of image reader IR is dependent on the scanning speed of image reader IR and the operating speed of the bus transmitting image data D2, and thus can be calculated.
      <br/>
      That is, reading speed (A) may be considered the speed when executing a series of processes until image data D2 obtained from a read document image are stored in input image memory 301.
      <br/>
      The time Trd required to read a current document can be calculated from the aforesaid reading speed (A), and document size SZ detected by document size sensor SE51.
      <br/>
      Accordingly, avoidance of having the compression process overtake the reading performed by image reader IR can be assured by delaying the starting time of the compression process by a time TG1 after the start of the document reading.
      <br/>
      Time T1 is the minimum time TG1 required for the image compression process determined in FIG. 6.
      <br/>
      That is, the compression process can be started at time t0 delayed by time TG1 after the start of the document reading process by image reader IR.
      <br/>
      This time TG1 is the first delay time TG1, and can be calculated as TG1=Trd-T1.
    </p>
    <p num="42">The compression process can be started faster by the time T1 in the present embodiment compared to when the compression process is started after reading completes by the image reader IR because the compression process starts at time t1 in conventional methods.</p>
    <p num="43">FIG. 8 illustrates the relationship between the compression speed and the document reading speed.</p>
    <p num="44">
      In FIG. 8, reference number B2 refers to the compression speed of the worst compression rate shown in FIG. 6.
      <br/>
      The reading speed (A) will not surpass the compression speed (B) regardless of compression rate of the document image when the reading speed of the next document by image reader IR is set so as to not surpass the compression speed B2.
      <br/>
      Accordingly, avoidance of having the reading of the next document overtake the compression process can be assured by delaying the starting time of the reading process of the next document by a time TG2 after the start of the compression process.
      <br/>
      Time T2 is the maximum time TG2 required for the image compression process determined in FIG. 6.
      <br/>
      That is, the reading of the next document can be started at time t3 delayed by time TG2 after the start of the compression process.
      <br/>
      This time TG2 is the second delay time TG2, and can be calculated as TG2=T2-Trd.
    </p>
    <p num="45">The reading process can be started faster by the time Trd in the present embodiment compared to when the reading process of a next document is started after the compression process completes because the reading process of the next document starts at time t5.</p>
    <p num="46">FIG. 9 illustrates the relationship between the timing of document reading and compression.</p>
    <p num="47">
      In FIG. 9, first reading process A1 starts at time 0, and the compression process for the image data D2 of this document (first compression process) is started at time t0 after a first delay time TG1 has elapsed.
      <br/>
      The reading of the next document A2 (second reading) starts at time t2 after the second delay time TG2 has elapsed following the start of the first compression process.
      <br/>
      The compression process (second compression process) of image data D2 of the next document starts at time t4 after the first delay time TG1 has elapsed following the start of the second reading process A2.
      <br/>
      Thus, the document reading and image data compression processes are executed so as to have mutually overlapping portions.
    </p>
    <p num="48">
      The first delay time TG1 and the second delay time TG2 may be set for each document, or a value may be used which is calculated based on the first document in a series of documents (jobs) of a plurality of pages.
      <br/>
      When the compression process completes before the reading of a next document starts for reasons such as a high compression rate or the like, the reading of the next document may start at the moment the compression process completes without waiting for the elapse of the second delay time TG2.
      <br/>
      The starting time of document reading must actually be faster because the time required by the system cannot be reduced even when the time until the start of the reading of a next document is less than the minimum time required to read a document by the system.
    </p>
    <p num="49">
      The compression processing may be started only after the first delay time TG1 has elapsed following the start of document reading, and starting the reading of a next document after the compression process completes.
      <br/>
      Furthermore, the reading of a next document may be started only after the second delay time TG2 has elapsed following the start of the compression process, and starting the compression process of said next document after said reading process completes.
      <br/>
      When the capacity of input image memory 301 is a plurality of pages, reading may be executed until the capacity of input image memory 301 is filled regardless of the advancing state of the compression process.
    </p>
    <p num="50">The operation of memory unit 30 is briefly described hereinafter with reference to the flow charts.</p>
    <p num="51">
      FIG. 10 is a flow chart showing the general operation of memory unit 30.
      <br/>
      FIG. 11 is a flow chart of the document reading process of step -5 of FIG. 10, and FIG. 12 is a flow chart of the compression process of step -6 of FIG. 10.
    </p>
    <p num="52">
      In FIG. 10, when the power unit is turned ON, hardware initialization and initialization of parameters required to execute programs are executed (step -1).
      <br/>
      Timers 1 and 2 (timer 136) are initialized (step -2).
      <br/>
      Communications processes are executed to communicate with other CPUs (step -3).
      <br/>
      When a copy start request is transmitted from CPU 101 (step -4: YES), the document reading process (step -5), compression process (step -6), expansion process (step -7), and printing process (step -8) are executed for copy controls.
      <br/>
      These processes continue until the copy job is completed (step -9: YES).
    </p>
    <p num="53">
      In FIG. 11, when documents to be read are stacked in ADFR 500 (step -23: YES), a check is made to confirm a document is not currently being read (step -24).
      <br/>
      When a document is not set in ADFR 500 and a document is currently being read, document reading cannot be accomplished, and the routine returns (steps -23, -24: NO).
    </p>
    <p num="54">When a compression process is currently ongoing (step -25: YES), the timer 2 started by the beginning of the compression process is read (step -26), and the time (second delay time TG2) required to assure image data D2 stored in input image memory 301 by the previously described method is calculated (Step -27) to determine whether or not a time (second delay time TG2) has elapsed to prevent document reading to overtake the compression process.</p>
    <p num="55">When the assurance time is satisfied (i.e., when the second delay time TG2 has elapsed) (step -28: YES), the reading of the next document starts (step -29), and timer 1 is started to check the passage of time after reading starts (step -30).</p>
    <p num="56">When the compression process has completed (step -25: NO), the reading of the document starts immediately (step -29).</p>
    <p num="57">When reading is completed (step -21: YES), the timer 1 started in step -30 is stopped (step -22).</p>
    <p num="58">
      In FIG. 12, when image data D2 to be compressed is stored in input image memory 301 (step -43: YES), a check is made to confirm that a compression process is not currently ongoing (step -44).
      <br/>
      When a compression process is currently being executed, the routine returns because two compression processes cannot be executed simultaneously (step -44: NO).
    </p>
    <p num="59">When a document reading process is currently ongoing (step -45: YES), the timer 2 started by the beginning of the reading process is read (step -46), and the time (first delay time TG1) required to assure image data D2 stored in input image memory 301 by the previously described method is calculated (step -47) to determine whether or not a time (first delay time TG1) has elapsed to prevent the compression process to overtake the document reading process.</p>
    <p num="60">When the assurance time is satisfied (i.e., when the first delay time TG1 has elapsed) (step -48: YES), the compression process starts (step -49), and timer 2 is started to check the passage of time after the compression process starts (step -50).</p>
    <p num="61">When the reading process has completed (step -45: NO), the compression process starts immediately (step -49).</p>
    <p num="62">When the compression process is completed (step -41: YES), the timer 2 started in step -50 is stopped (step -42).</p>
    <p num="63">
      Consider in the above embodiments, methods of improving reading speed by dividing a document into a plurality of image areas, and subjecting image data D2 of each image area to compression processing upon being input.
      <br/>
      In this case also, the compression process may be started before the input process is completed by using the method described above because the compression process cannot be overtaken until the completion of the input process (reading process) for the image data D2 of the aforesaid image areas.
      <br/>
      Furthermore, in this circumstance, the compression process of second and subsequent image areas may be started immediately after a time corresponding to the first delay time TG1 has elapsed as shown in FIG. 7.
    </p>
    <p num="64">
      The present invention may be variously modified as to the general construction of copying apparatus 1 and memory unit 30 as well as the construction of the various components therein, as well as the contents and sequences of the processes and timing of operations insofar as such modifications do not depart from the scope of the invention.
      <br/>
      The present invention may be applied to facsimile systems for compressing and transmitting information obtained by scanning a document, as well as to other data processing apparatuses.
    </p>
    <p num="65">
      Although the present invention has been fully described by way of examples with reference to the accompanying drawings, it is to be noted that various changes and modifications will be apparent to those skilled in the art.
      <br/>
      Therefore, unless otherwise such changes and modifications depart from the scope of the present invention, they should be construed as being included therein.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An image processing apparatus comprising:</claim-text>
      <claim-text>an image reader which reads image data of an image; an image memory which stores the image data read by said image reader; a compressor which receives the image data from said image memory, and performs a compression process whereby it compresses the image data;</claim-text>
      <claim-text>and a controller which controls a start timing of the compression process such that said compressor begins compressing the image data while said image reader is reading the image data, but does not complete compression of the image data stored in said image memory before said image reader completes reading the image data and a last of the image data is stored into said image memory.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An image processing apparatus comprising: an image reader which sequentially reads first image data of a first document and a second image data of a second document; an image memory which stores the first and second image data read by said image reader; a compressor which sequentially receives the first and second image data from said image memory, and performs a compression process whereby it compresses the first and second image data;</claim-text>
      <claim-text>and a controller which controls a start timing of an operation of said image reader such that said image memory begins storing the second image data before said compressor completes compression of the first image data, but does not complete storing the second image data before said compressor completes compression of the first image data.</claim-text>
      <claim-text>2. The image processing apparatus according to claim 1, wherein said controller calculates a time period for delaying the compression process to prevent completing the compression of the image data stored in the image memory before the image reader completes reading the image and storing the image data in said image memory.</claim-text>
      <claim-text>3. The image processing apparatus according to claim 2, wherein said controller starts said compression process after said time period has elapsed from a time that the image reader starts reading the image, whereby storing the image data into said image memory and compressing the image data are simultaneously performed.</claim-text>
      <claim-text>4. The image processing apparatus according to claim 2, wherein said time period is determined based on a speed of storing the image data into said image memory, a speed of the compression process, and a size of said image.</claim-text>
      <claim-text>5. The image processing apparatus according to claim 4, wherein said speed of storing image data into said image memory is predetermined.</claim-text>
      <claim-text>6. The image processing apparatus according to claim 4, wherein said speed of the compression process corresponds to a minimum compression rate.</claim-text>
      <claim-text>7. The image processing apparatus according to claim 1, wherein said controller controls the start timing of the compression process based on a compression rate of the compressor.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The image processing apparatus according to claim 8, wherein said controller calculates a time period for delaying a process of storing the second image data into said image memory to prevent completing storage of the second image data in the image memory before the compressor completes compression of the first image data.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The image processing apparatus according to claim 9, wherein said controller controls said image reader to start reading said second image data when said time period has elapsed from a time that the compressor starts compressing the first image data, whereby storing the second image data into said image memory and compressing the first image data are simultaneously performed.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The image processing apparatus according to claim 9, wherein said time period is determined based on a speed of storing the first and second image data into said image memory, a speed of the compression process, and sizes of said first and second documents.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The image processing apparatus according to claim 11, wherein said speed of storing the first and second image data into said image memory is predetermined.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The image processing apparatus according to claim 11, wherein said speed of the compression process corresponds to a maximum compression rate.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The image processing apparatus according to claim 8, wherein said controller controls the start timing of the operation of the image reader based on a compression rate of the compressor.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. A method for processing an image comprising the steps of: (a) reading image data of the image by an image reader and storing the image data in an image memory; (b) reading the image data from the image memory and compressing the image data read from the image memory;</claim-text>
      <claim-text>and (c) controlling a start timing of compressing the image data so that compressing the image data begins while the image reader is reading the image data, but is not completed before the image reader completes reading the image data and a last of the image data is stored into the image memory, to prevent the process of compressing the image data from overtaking the process of storing image data.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The method according to claim 15, wherein the control in said step (c) is based on a compression rate in said step (b).</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. A method for processing first and second images comprising the steps of: (a) sequentially reading first image data of the first image and second image data of the second image and storing the first and second image data in an image memory; (b) sequentially reading the first and second image data from the image memory and compressing the first and second image data read from the image memory;</claim-text>
      <claim-text>and (c) controlling a start timing of steps (a) and (b) so that the image memory begins storing the second image data before completion of compressing the first image data, but storing the second image data is not completed before completion of compressing the first image data, to prevent the operation of storing the second image data from overtaking the compression of the first image data.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The method according to claim 17, wherein the control in said step (c) is based on a compression rate in said step (b).</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. An image processing apparatus comprising: an image memory that stores image data sent from an image inputting section; a compressor that receives the image data from the image memory, and performs a compression process on the image data, wherein a compression rate of the compressor varies depending on the image data;</claim-text>
      <claim-text>and a controller that controls a start timing of the compression process by the compressor such that the compression process on the image data begins while the image memory is storing the image data from the image inputting section, but is not completed before a last of the image data is sent from the image inputting section to the image memory for storing, irrespective of the compression rate.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. The image processing apparatus according to claim 19, wherein the controller controls the start timing of the compression process based on the compression rate of the compressor.</claim-text>
    </claim>
  </claims>
</questel-patent-document>