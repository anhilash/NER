<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06182096B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06182096</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6182096</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="22316096" extended-family-id="42108898">
      <document-id>
        <country>US</country>
        <doc-number>09107333</doc-number>
        <kind>A</kind>
        <date>19980630</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09107333</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43165484</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>10733398</doc-number>
        <kind>A</kind>
        <date>19980630</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09107333</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G06F  17/21        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>17</main-group>
        <subgroup>21</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>715251000</text>
        <class>715</class>
        <subclass>251000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>715255000</text>
        <class>715</class>
        <subclass>255000</subclass>
      </further-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06F-017/211</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>17</main-group>
        <subgroup>211</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130905</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06K-015/1811</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>K</subclass>
        <main-group>15</main-group>
        <subgroup>1811</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130611</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>30</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>4</number-of-drawing-sheets>
      <number-of-figures>4</number-of-figures>
      <image-key data-format="questel">US6182096</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method and apparatus of creating highly portable output files by combining pages from multiple input files</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>MOTOYAMA TETSURO</text>
          <document-id>
            <country>US</country>
            <doc-number>5319748</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5319748</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MOTOYAMA TETSURO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5438650</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5438650</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>BRINDLE EDWARD E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5493635</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5493635</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>SPENCER MARC DOUGLAS</text>
          <document-id>
            <country>US</country>
            <doc-number>5713032</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5713032</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>GERETY EUGENE P</text>
          <document-id>
            <country>US</country>
            <doc-number>5745658</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5745658</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>MANDEL BARRY P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5752697</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5752697</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>FILION JOSEPH L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5778183</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5778183</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>GASS JR AL C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5822503</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5822503</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>MAEDA YASUTOSHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6014765</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6014765</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>International Business Machines Corporation</orgname>
            <address>
              <address-1>Armonk, NY, US</address-1>
              <city>Armonk</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>IBM</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Mastie, Scott David</name>
            <address>
              <address-1>Longmont, CO, US</address-1>
              <city>Longmont</city>
              <state>CO</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Hirsch, Christopher Brian</name>
            <address>
              <address-1>Arvada, CO, US</address-1>
              <city>Arvada</city>
              <state>CO</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Victor, David W.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <orgname>Konrad Raynes &amp; Victor LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Hong, Stephen S.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A method and apparatus for creating a highly portable output file is described.
      <br/>
      For one embodiment of the present invention, the output file is PostScript file that includes DSC comments.
      <br/>
      Document comments are created in the output file to reflect the document framework.
      <br/>
      Page comments are created in the output file to reflect one or more pages within the document framework.
      <br/>
      Inappropriate comments are removed from one or more pages within the output file.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED COPENDING PATENT APPLICATIONS</heading>
    <p num="1">
      The following patent applications which are assigned to the assignee of the present invention cover subject matter related to the subject matter of the present invention: "Method and Pages, Apparatus to Facilitate Creation of Documents from Individual having application Ser.
      <br/>
      No. 09/109,990; and "Method and Apparatus for Improving Page Description Language (PDL) Efficiency by Recognition and Removal of Redundant Contracts", having application Ser.
      <br/>
      No. 09/107,543; all are assigned to International Business Machines Corporation by Scott Mastie, et al.
      <br/>
      And all are filed concurrently herewith.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">The present invention relates to a method and apparatus for processing output files, and more specifically, to creating an output file that is highly portable to other systems and devices.</p>
    <p num="4">2. Description of Related Art</p>
    <p num="5">
      Printing refers to the reproduction of words and pictures on a page or document.
      <br/>
      Today, the high volume production machines of the major printing processes are the presses, which use plates (or other types of image carriers) to transfer the ink onto the paper or substrate.
      <br/>
      These processes are often used to support markets such as commercial printing, magazines, newspapers, catalogs, books, business forms, greeting cards, maps, labels, packaging, and other printed products.
    </p>
    <p num="6">
      With the development of digital image processing, new vistas have opened up for plate making and film making processes used in conventional printing presses operations.
      <br/>
      Instead of being dependent on the prepress operations of film making, image carriers can be made directly from the same digital data without the need for films and assembling them into plate layouts.
      <br/>
      Photography is gradually being replaced by digital imaging systems.
      <br/>
      Dry processless films are often used today.
      <br/>
      Digital cameras and Photo CDS are decreasing the need for scanners.
      <br/>
      Prepress for many printing processes is migrating to device independent desktop publishing hardware and software.
    </p>
    <p num="7">
      Furthermore, with digital imaging, digital printing systems may be used to improve the productivity, quality, and efficiency of many printing operations.
      <br/>
      Many digital printing systems use a plateless printing process.
      <br/>
      Common plateless digital printing processes include electrophotography, ink-jet, and thermal transfer, etc.
      <br/>
      Digital printing systems are often desirable over printing press processes because (1) most of the equipment are suitable for an office environment (2) its capabilities of variable printing from impression-to-impression; and (3) requires less manual skills than printing on conventional plate presses.
    </p>
    <p num="8">As the printing industry transitions from conventional printing press operations to digital prepress operations and digital printing operations to take advantage of the technological advances made in digital imaging, it is possible to provide a more automated printing process.</p>
    <p num="9">
      It is particularly advantageous to provide a single output file that is compatible with various output devices such as a Postscript.RTM. file.
      <br/>
      PostScript is a registered trademark of Adobe Systems.
      <br/>
      PostScript is a page description language developed by Adobe Systems to describe an image for printing (i.e., both text and graphics).
      <br/>
      Today, PostScript is widely adopted by the printing industry, that is, virtually every application program running in every desktop computer outputs PostScript and virtually every printer of every type, including some sophisticated prepress and even press systems, accept PostScript-coded files.
      <br/>
      The primary advantage of PostScript is device independence (i.e., images are not defined according to the characteristics of a particular device but independently).
    </p>
    <p num="10">
      However, problems can arise, even with "working" PostScript files, if the file is transferred to another operating system or printed on another output device.
      <br/>
      One tool that Adobe provides to create a PostScript file that is highly portable between systems and devices and makes post-processing possible is referred to as the Document Structuring Conventions (DSC).
      <br/>
      DSC provides a convention for commentary and organization of PostScript files that make PostScript files highly portable.
      <br/>
      DSC comments are an extension to the actual PostScript page description language and have become an integral part of PostScript.
      <br/>
      Implementing these DSC conventions is often regarded as an important step towards creating "good" PostScript files.
      <br/>
      By providing a highly portable output file, the output file can be used by various applications for further processing (e.g., off-site vendor applications, pre-press applications, etc.).
    </p>
    <p num="11">
      Today, Adobe provides a tool referred to as the "Distiller" for converting a multiple-page PostScript file without DSC comments into a multiple-page PostScript file that is DSC compliant.
      <br/>
      However, the Distiller does not have the capability to add DSC comments while assembling a collection of input files into a single output file, or correcting for any erroneous comments (e.g., DSC comments or some other convention for creating highly portable files).
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="12">It is an object of the present invention to provide an output file that is highly portable between various systems and devices.</p>
    <p num="13">
      A method and apparatus for creating a highly portable output file is described.
      <br/>
      For one embodiment of the present invention, the output file is PostScript file that includes DSC comments.
      <br/>
      Document comments are created in the output file to reflect the document framework.
      <br/>
      Page comments are created in the output file to reflect one or more pages within the document framework.
      <br/>
      Inappropriate comments are removed from one or more pages within the output file.
    </p>
    <p num="14">One aspect of the present invention describes creating DSC-compliant comments at the beginning and/or end of the document.</p>
    <p num="15">Another aspect of the present invention describes creating DSC-compliant comments at the beginning and/or end of one or more pages within the output file.</p>
    <p num="16">An additional aspect of the present invention describes removing inappropriate comments by replacing them with modified DSC-comments.</p>
    <p num="17">A further aspect of the present invention describes selectively removing inappropriate comments and replacing them with modified DSC comments.</p>
    <p num="18">Another aspect of the present invention describes removing inappropriate comments (all or selected ones) and not replacing them with modified DSC comments.</p>
    <p num="19">Other objects, features, and advantages of the present invention will be apparent from the accompanying drawings and from the detailed description below.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="20">
      The present invention is illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements, and in which:
      <br/>
      FIG. 1 illustrates one embodiment of a computer system for implementing the present invention;
      <br/>
      FIG. 2 illustrates a flow chart describing the steps of creating a highly portable output file in accordance with one embodiment of the present invention;
      <br/>
      FIG. 3 illustrates a flow chart describing the steps of creating a DSC compliant PostScript document file while assembling PostScript document file from a collection of input files in accordance with one embodiment of the present invention; and
      <br/>
      FIG. 4 illustrates a flow chart describing the steps of adding DSC comments and correcting for inappropriate DSC comments to the PostScript document file while assembling PostScript document file from a collection of input files in accordance with one embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION</heading>
    <p num="21">
      The present invention provides a method and apparatus of creating an output file that is highly portable to various other systems and devices.
      <br/>
      The output file, which may contain the entire contents of the digital document, is then sent to a digital printing system (e.g., the IBM InfoPrint family of printers and various other PostScript printers) as a single print job for printing, sent to some other type of output device (e.g., plate making or film making equipment), or stored on a removable storage medium (e.g., cd-rom, floppy disk, etc.) which may then be sent to a vendor for additional pre-press operations and printing.
      <br/>
      Furthermore, for one embodiment of the present invention, the highly portable output file can be created while assembling the output file from a collection of input files.
    </p>
    <p num="22">
      For one embodiment of the present invention, the highly portable output file is a PostScript file that includes Document Structure Conventions (DSC) comments.
      <br/>
      PostScript is a page description language (PDL) developed by Adobe Systems, Inc. that can be used to specify the contents of a page that is to be printed.
      <br/>
      For alternative embodiments of the present invention, the highly portable output file may be another type of Page Description Language (PDL) file (e.g., a derivative of PostScript) that may be highly portable in it of itself, or may use a special type of convention, format, or structure to make it highly portable.
      <br/>
      Alternatively, the output file may not be a PDL file.
    </p>
    <p num="23">
      Today, many applications require that a PostScript output file be compliant with Adobe's Document Structuring Conventions (DSC).
      <br/>
      DSC provides a convention for commentary and organization of PostScript files to ensure that the PostScript file is highly portable to other applications (e.g., off-site vendor applications and pre-press applications).
      <br/>
      If the DSC compliant output file is created while assembling a collection of input files to form the DSC compliant output file, DSC comments which are inappropriate in the output file context may need to be corrected and new comments may need to added to the output file to reflect the document framework of the output file.
    </p>
    <p num="24">
      FIG. 1 illustrates a data processing system 100 for creating a highly portable output file in accordance with one embodiment of the present invention.
      <br/>
      It is within the scope of the present invention for data processing system 100 to consist of a workstation, server, personal computer system, set top box, or any other device that may create a highly portable output file.
    </p>
    <p num="25">
      A central processing unit (CPU) 110, such as one of the PC microprocessors available from International Business Machines Corp., is provided for processing data and executing instructions.
      <br/>
      The CPU 110 is interconnected to various other components by a system bus 112.
    </p>
    <p num="26">
      An operating system 141 runs on CPU 110, provides control and is used to coordinate the function of the various components shown in FIG. 1.
      <br/>
      Operating system 141 may be one of the commercially available operating systems.
      <br/>
      An application program 140, which includes a set of instructions 142 for creating a highly portable output file (to be subsequently described in detail), runs in conjunction with operation system 141 which implements the various functions to be performed by application program 140.
    </p>
    <p num="27">
      Also shown in FIG. 1, application program 140 includes a set of instructions 145 for creating a highly portable output file, according to one embodiment of the present invention, as is described in more detail below.
      <br/>
      In alternative embodiments, the set of instructions for creating a highly portable output file could be stored in memory exclusive of application program 140, or alternatively, could be implemented in hardware circuitry or firmware (e.g., read-only-memory).
    </p>
    <p num="28">
      Random access memory (RAM) 114 is coupled to system bus 112.
      <br/>
      The software components (e.g., operating system 141 and application 140) are loaded into RAM 114, which operates as the data processing system's main memory.
    </p>
    <p num="29">Also coupled to system bus 112 is an input device 130 for entering data into system 100, a monitor 135 for displaying data, a disk storage device 120 for storing data and instructions, and a read only memory (ROM) 150 for controlling the basic computer functions (e.g., basic input/output system (BIOS)).</p>
    <p num="30">
      FIG. 2 illustrates a flowchart for creating an output file that is highly portable with various systems and devices.
      <br/>
      For one embodiment of the present invention, the output file may be a PostScript file that includes DSC comments.
      <br/>
      However, it should noted that the output file of the present invention is not limited to DSC compliant PostScript files, and can be extended to other commercially available PDL files as well as non-PDL files that are highly portable in it of itself or when used in conjunction with some other tool.
      <br/>
      The highly portable output file may represent a single page file (e.g., one page within a document), a small multiple-page file (e.g., a small group of pages within a document), large multiple-page files (e.g., all pages within a chapter or section of a document), or document files (e.g., all pages within a document).
    </p>
    <p num="31">
      According to FIG. 2, the first step 210 is to create comments (e.g., DSC comments) at the beginning and the end of the output file to reflect the document framework.
      <br/>
      The next step, 220 is to create comments at the beginning and end of every page within the output file to reflect one or more pages within the document framework.
      <br/>
      The last step 230 is to remove all inappropriate comments from the page data.
      <br/>
      For one embodiment of the present invention, the comments may be removed by modifying the comment indicator for all or selective comments.
      <br/>
      For example, the comment indicator for DSC comments is "%%".
      <br/>
      Thus, "%%" may be modified to "%A" to reflect a modified DSC comment.
      <br/>
      For an alternative embodiment, the entire comment, including the comment indicator, may be removed.
    </p>
    <p num="32">
      FIG. 3 illustrates a flowchart for creating a DSC compliant document file while assembling the document file from a set of input PostScript files in accordance with one embodiment of the present invention.
      <br/>
      The PostScript document file (or output file) generally refers to a digital document (e.g., book, catalog, pamphlet, magazine, or any other publication) having multiple pages that need to be combined.
      <br/>
      The input PostScript files may represent a single page PostScript file (with or without DSC comments) or a multiple-page PostScript file (with or without DSC comments).
      <br/>
      Note that the multiple-page PostScript file may be large enough to represent chapters or sections in a digital document.
    </p>
    <p num="33">
      According to FIG. 3, the method of assembling the set of input files into the document file that is DSC compliant starts with receiving the set of input files to be assembled.
      <br/>
      As stated above, each of the PostScript input files may or may not be DSC compliant.
    </p>
    <p num="34">
      Once the set of input files is received, in the next step 320, the correct sequence of the pages within the multiple-page document file is determined.
      <br/>
      The correct sequence of pages can be determined by various methods.
      <br/>
      For example, the correct sequence can be determined by performing an alphanumeric sort of the file names of the input page files; by checking the contents of each input page file; or by the explicit enumeration of input page files provided as additional input.
    </p>
    <p num="35">
      Next, a document framework for the document file, which is capable of holding all the pages within the set of input files, is created in step 330.
      <br/>
      More specifically, DSC comments are added at the beginning and end of the document file to reflect the document framework.
    </p>
    <p num="36">
      For one embodiment of the present invention, a special marker at the front of the file is created to indicate the total page count once all pages are inserted into the document framework.
      <br/>
      The following example illustrates a DSC compliant document header added to the DSC compliant document framework.
      <br/>
      The total number of pages is calculated and then that number is inserted into the header by the DSC comment "%% Page: 2021".
      <br/>
      This can be accomplished by creating a special mark in the output file, and then correcting the mark after determining the accurate page count.
      <br/>
      For alternative embodiments, the special marker may be placed at the end of the document file, or at other locations within the document file.
    </p>
    <p num="37">
      In step 340, each input file is inserted into the document framework.
      <br/>
      Note that the page(s) within the input file needs to be modified to fit into the document framework.
      <br/>
      Step 340 may require adding DSC compliant comments at the beginning and end of each input file, and adding a page number to reflect the location of the page within the document framework.
      <br/>
      Step 340 may include the option of inserting blank pages into the document framework.
      <br/>
      Step 340 will be described in further detail in accordance with FIG. 4.
    </p>
    <p num="38">
      Once all the pages have been transferred into the document framework, the document file which represents the digital document, is stored as a PostScript output file that is DSC compliant.
      <br/>
      The output file, which generally contains the entire contents of the digital book, is then sent to a digital printing system (e.g., the IBM InfoPrint family of printers and various other PostScript printers) as a single print job for printing, sent to some other type of output device (e.g., plate making or film making equipment), or stored on a removable storage medium (e.g., cd-rom or floppy disk) which may then be sent to a vendor for additional pre-press operations and printing.
    </p>
    <p num="39">
      One advantage of storing the entire digital document as one output file is that the entire book or publication may be printed (as a single job) without the need to handle multiple print files (or jobs).
      <br/>
      The reproduction of multiple page documents using multiple print jobs often require manual collating or assembling.
      <br/>
      The present invention may be used to eliminate the manual labor involved in inserting blank pages, and to provide a cost effective solution for low volume reproductions of books and other publications.
      <br/>
      Furthermore, the fact that the PostScript document file is DSC compliant, makes it highly portable to various other applications.
      <br/>
      This allows, PREPPS, Download Mechanic, and other pre-press software to operate on the assembled DSC compliant multiple-page PostScript document file.
      <br/>
      In other words, the assembled document file can be sent to vendors, or re-purposed for a variety of nonprinting applications (e.g., direct to film, web, etc.).
    </p>
    <p num="40">
      FIG. 4 describes the steps for inserting input PostScript files (or portions of the input PostScript files) into the document framework in accordance with one embodiment of the present invention.
      <br/>
      The input files received may or may not be DSC compliant.
      <br/>
      Thus, the input files often need to be modified to fit into its new environment, that is, the document framework.
    </p>
    <p num="41">
      In step 410, a first input file is read or viewed.
      <br/>
      Next, in step 420, a determination is made whether a blank page is required.
      <br/>
      For one embodiment, this determination may be made by checking the even/odd parity of the pages.
      <br/>
      For example, if page 5 is followed by page 7, then a blank page needs to be inserted after page 5 and before page 7.
    </p>
    <p num="42">
      If a blank page is necessary, then the flowchart proceeds to step 425.
      <br/>
      If a blank page is not required, then the flowchart proceeds to step 430.
      <br/>
      Note that the term blank page may refer to a page that is blank because it does not contain any content, or page that is intentionally left blank but includes some content (e.g., the page may have the words "intentionally left blank" printed on it), or due to a page break between chapters or sections in the document.
      <br/>
      For alternative embodiments, the insertion of blank pages may not be required and therefore step 420 may be eliminated from the flowchart.
    </p>
    <p num="43">
      Step 430 determines whether or not the input file fits within the DSC compliant document framework.
      <br/>
      If it does, then the flowchart proceeds to step 450, otherwise, the flowchart proceeds to step 435.
    </p>
    <p num="44">
      At step 435, the input page is modified (i.e., by modifying the page data) to fit into the document framework.
      <br/>
      Note that the following discussion of step 435 is also generally applicable to step 480.
      <br/>
      In performing this step, the current page environment is typically saved such that each input page can only affect its own environment, and not the environment of the other pages, or other parts of the document.
      <br/>
      Page independence is preserved by "wrapping" each page in a shielded environment.
      <br/>
      Generally, when a page is wrapped, lines are inserted before and after the page body.
      <br/>
      Note that this is a characteristic of PostScript.
    </p>
    <p num="45">
      In addition, DSC comments are added at the beginning and the end of the input page.
      <br/>
      Furthermore, a page number may be added to reflect the location of the input page within the DSC compliant document framework.
    </p>
    <p num="46">
      The following example inserts a DSC-compliant comment before the beginning of a new page in the document.
      <br/>
      Note that the "pagesource" comment is a unique new addition, to provide information in the DSC-compliant file about another file that was the source of the PostScript for each particular page.
    </p>
    <p num="47">
      %%Page 37789 2
      <br/>
      %%Page Source: pg37789.ps
    </p>
    <p num="48">
      In step 440, the input page is further modified to fit into the DSC compliant document framework.
      <br/>
      In general, comments starting with "%%" are recognized by many applications (e.g., viewer, pre-press, etc.) to be DSC comments.
      <br/>
      As stated above, the input page files may include DSC comments.
      <br/>
      Once the input pages are inserted into the DSC compliant document framework, the DSC comments from the input page files are often not appropriate in the new document file context.
    </p>
    <p num="49">
      For one embodiment of the present invention, all such DSC comments identified by "%%" are modified to represent a quasi DSC comment.
      <br/>
      Quasi DSC comments start with "%A" where "A" represents any character other than "%".
      <br/>
      By modifying the DSC comments in this manner, applications searching for DSC comments will not recognize the quasi DSC comment as a DSC comment.
      <br/>
      Although the "%A" comment is hidden from DSC compliant applications, the actual comment may be preserved and recognized as a modified or quasi DSC comment.
      <br/>
      It should be noted that "%%" represents the PostScript comment indicator.
      <br/>
      For alternative embodiments, it is not required that the comment indicator be modified in the manner described above, particularly when the comment indicator for the file is different from "%%".
    </p>
    <p num="50">
      For an alternative embodiment, only selected DSC comments are modified in the manner described above.
      <br/>
      Alternatively, the entire comment, including the comment indicator, may be removed from all or a selected group within the output file.
    </p>
    <p num="51">
      The following is an example of a comment ("%%trailer") which was DSC-compliant in the input page file, but became incorrect when the page was assembled in the larger document and viewed in context with all the other pages of the document.
      <br/>
      After being modified, this comment does not cause DSC-compliance problems:
      <br/>
      %ATrailer
    </p>
    <p num="52">
      The following is an example of an "EOF" comment.
      <br/>
      For any given file, there can be only one end of file comment, yet this comment can appear multiple times in an assembled document, creating many inaccurate comments.
      <br/>
      These comments can be corrected by modifying inappropriate "EOF" comments to be "hidden." Furthermore, a new "EOF" comment is created to reflect the end of the document file.
    </p>
    <p num="53">
      The following is an example of DSC-compliant comments inserted at the end of the document.
      <br/>
      These comments are new comments which are accurately positioned given this page's context within a large document:
      <br/>
      %%Trailer
      <br/>
      %%EOF
    </p>
    <p num="54">After step 440, the input file is stored within the DSC compliant document framework as shown in step 350.</p>
    <p num="55">
      Next, in step 460, a determination is made as to whether all of the input pages have been inserted into the DSC compliant document framework.
      <br/>
      If not, the flowchart returns to step 410 to read or view the next input file.
      <br/>
      Once the last input has been inserted into the DSC compliant document framework, the document, which now represents the contents of the entire digital document in a single document file, is saved and stored as the output file as shown in Step 470.
      <br/>
      The output file may then be sent or provided to a printer to reproduce the entire book (or publication) as a single job or sent to some other output device for further processing.
    </p>
    <p num="56">Although FIGS. 3 and 4 describe creating the DSC compliant PostScript output file while assembling the collection of input files to create the DSC compliant output file, the DSC compliant document file may be created independent of the assembly process.</p>
    <p num="57">
      The present invention of creating a highly portable output file may be provided as a computer program product which may include a machine readable medium having stored thereon instructions which can be used to program a computer (or other electronic devices) to perform a process according to the present invention.
      <br/>
      The machine readable medium may include, but is not limited to, floppy disks, optical disks, cd-roms, magneto-optical disks, ROMs, RAMS, EPROMs, EEPROMs, magnetic or optical cards, or any type of media/machine readable medium suitable for storing electronic instructions.
    </p>
    <p num="58">While the preferred embodiments of the present invention have been illustrated in detail, it should be apparent that modifications and adaptations to those embodiments may occur to one skilled in the art without departing from the scope of the present invention as set forth in the following claims.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A computer implemented method of creating a highly portable output file, comprising:</claim-text>
      <claim-text>(a) creating document comments to reflect a document framework; (b) inserting pages from input files into the document framework; (c) creating page comments to reflect one or more pages within the document framework; (d) inserting the page comments into the pages inserted into the document framework; (e) determining comments in the inserted pages from the input files that are not relevant in a context of the inserted page in the document framework; (f) modifying comments in the inserted pages that are determined to not be relevant in the context of the document framework.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1, wherein step (a) includes the step of creating DSC-compliant document comments at the beginning or end of the output file.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 1, wherein step (c) includes the step of creating DSC-compliant page comments at the beginning or end of one or more pages within the output file.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 1, wherein step (c) includes the step of removing all of the determined comments from one or more pages within the output file.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The method of claim 1, further comprising: determining a correct sequence of the pages inserted into the document framework;</claim-text>
      <claim-text>and adding a page number as one page comment to each inserted page.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 1, wherein the created document comments indicate a total number of the pages inserted into the document framework.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 1, further comprising: determining whether a blank page is needed when inserting the pages from the input files into the document framework;</claim-text>
      <claim-text>and inserting a blank page at a location where the blank page is needed.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 1, wherein modifying the comments comprises adding information about the input file from where the page inserted into the document framework originated.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 1, wherein the comments are in a standard comment format and wherein modifying the comments in the standard comment format comprises modifying a comment identifier of the determined comments in order that the modified comment will not be recognized as in the standard comment format.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The method of claim 9, further comprising modifying only selected ones of the determined comments.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A system for creating a highly portable output file, including: a processor; an application program, on a computer useable medium, capable of causing the processor to perform:</claim-text>
      <claim-text>- (a) creating document comments to reflect a document framework; - (b) inserting pages from input files into the document framework; - (c) creating page comments to reflect one or more pages within the document framework; - (d) inserting the page comments into the pages inserted into the document framework; - (e) determining comments in the inserted pages from the input files that are not relevant in a context of the inserted page in the document framework; - (f) modifying comments in the inserted pages that are determined to not be relevant in the context of the document framework.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The system of claim 11, wherein the application program is further capable of causing the processor to perform creating DSC-compliant document comments at the beginning or end of the output file.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The system of claim 11, wherein the application program is further capable of causing the processor to perform creating DSC-compliant page comments at the beginning or end of one or more pages within the output file.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The system of claim 11, wherein the application program is further capable of causing the processor to perform removing all of the determined comments from one or more pages within the output file.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The system of claim 11, wherein the application program is further capable of causing the processor to perform: determining a correct sequence of the pages inserted into the document framework;</claim-text>
      <claim-text>and adding a page number as one page comment to each inserted page.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The system of claim 11, wherein the created document comments indicate a total number of the pages inserted into the document framework.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The system of claim 11, wherein the application program is further capable of causing the processor to perform: determining whether a blank page is needed when inserting the pages from the input files into the document framework;</claim-text>
      <claim-text>and inserting a blank page at a location where the blank page is needed.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The system of claim 11, wherein modifying the comments comprises adding information about the input file from where the page inserted into the document framework originated.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. The system of claim 11, wherein the comments are in a standard comment format and wherein modifying the comments in the standard comment format comprises modifying a comment identifier of the determined comments in order that the modified comment will not be recognized as in the standard comment format.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. The system of claim 19, wherein the application program is further capable of causing the processor to perform modifying only selected ones of the determined comments.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. A machine readable medium having stored thereon data representing a sequence of instructions for creating a highly portable output file, the sequence of instructions which, when executed by a processor, cause the processor to perform: (a) creating document comments to reflect a document framework; (b) inserting pages from input files into the document framework; (c) creating page comments to reflect one or more pages within the document framework; (d) inserting the page comments into the pages inserted into the document framework; (e) determining comments in the inserted pages from the input files that are not relevant in a context of the inserted page in the document framework; (f) modifying comments in the inserted pages that are determined to not be relevant in the context of the document framework.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. The machine readable medium of claim 21, wherein step (a) includes the step of creating DSC-compliant document comments at the beginning or end the output file.</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23. The machine readable medium of claim 21, wherein step (c) includes the step of creating DSC-compliant page comments at the beginning or end of one or more pages within the output file.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. The method of claim 1, wherein step (f) includes the step of removing all of the determined comments from one or more pages within the output file.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. The machine-readable medium of claim 21, wherein the instructions further cause the processor to perform: determining a correct sequence of the pages inserted into the document framework;</claim-text>
      <claim-text>and adding a page number as one page comment to each inserted page.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26. The machine-readable medium of claim 21, wherein the created document comments indicate a total number of the pages inserted into the document framework.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27. The machine-readable medium of claim 21, wherein the instructions further cause the processor to perform: determining whether a blank page is needed when inserting the pages from the input files into the document framework;</claim-text>
      <claim-text>and inserting a blank page at a location where the blank page is needed.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28. The machine-readable medium of claim 21, wherein modifying the comments comprises adding information about the input file from where the page inserted into the document framework originated.</claim-text>
    </claim>
    <claim num="29">
      <claim-text>29. The machine-readable medium of claim 21, wherein the comments are in a standard comment format and wherein modifying the comments in the standard comment format comprises modifying a comment identifier of the determined comments in order that the modified comment will not be recognized as in the standard comment format.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30. The machine-readable medium of claim 29, wherein the instructions further cause the processor to perform modifying only selected ones of the determined comments.</claim-text>
    </claim>
  </claims>
</questel-patent-document>