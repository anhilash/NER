<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181141B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181141</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181141</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="22884423" extended-family-id="1231633">
      <document-id>
        <country>US</country>
        <doc-number>09235176</doc-number>
        <kind>A</kind>
        <date>19990122</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09235176</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>1277675</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>23517699</doc-number>
        <kind>A</kind>
        <date>19990122</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09235176</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01R  27/08        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>27</main-group>
        <subgroup>08</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01R  31/28        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>28</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>324525000</text>
        <class>324</class>
        <subclass>525000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>324723000</text>
        <class>324</class>
        <subclass>723000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01R-027/08</text>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>27</main-group>
        <subgroup>08</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G01R-031/28E9</text>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>031</main-group>
        <subgroup>28E9</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01R-031/2829</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>31</main-group>
        <subgroup>2829</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01R-027/08</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>R</subclass>
        <main-group>27</main-group>
        <subgroup>08</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>14</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>6</number-of-drawing-sheets>
      <number-of-figures>6</number-of-figures>
      <image-key data-format="questel">US6181141</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Failsafe monitoring system for potentiometers and monitor interface</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>BOTHNER M</text>
          <document-id>
            <country>US</country>
            <doc-number>3852665</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US3852665</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>OFORI-TENKORANG JOHN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4987372</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4987372</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>CALABRESE JOSEPH S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5812411</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5812411</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>PATTON, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4866363</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4866363</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>PETER CORNELIUS, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5107427</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5107427</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>KOHR RAINER</text>
          <document-id>
            <country>US</country>
            <doc-number>5289134</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5289134</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Honeywell Inc.</orgname>
            <address>
              <address-1>Minneapolis, MN, US</address-1>
              <city>Minneapolis</city>
              <state>MN</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>HONEYWELL</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Juntunen, Robert Dean</name>
            <address>
              <address-1>Minnetonka, MN, US</address-1>
              <city>Minnetonka</city>
              <state>MN</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Bartels, James I.</name>
            <address>
              <address-1>Hudson, WI, US</address-1>
              <city>Hudson</city>
              <state>WI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Merchant &amp; Gould P.C.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Metjahic, Safet</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A controller, having a microprocessor, a control potentiometer and a monitor interface circuit connected between the microprocessor and the potentiometer, operates to monitor the control potentiometer and monitor interface circuit for failures.
      <br/>
      The potentiometer along with its wiring terminals and its wiper are monitored for faults.
      <br/>
      In addition the monitor interface circuit itself is tested so that either a fault in the potentiometer or a fault in the monitor interface circuit will be detected.
      <br/>
      The monitoring includes three tests performed from time to time.
      <br/>
      First, voltages across the full potentiometer are measured and compared to a voltage determined at initial installation or commissioning.
      <br/>
      The measured voltage is compared against limits to detect whether the measured voltage is inside or outside the limits.
      <br/>
      Second, the voltage across the wiper selected portion of the control potentiometer is measured and compared against a threshold to detect a fault.
      <br/>
      Third, testing of the monitor interface circuit is accomplished by inhibiting any voltage or current drive into the full potentiometer and the wiper selected portion of the potentiometer and then measuring voltages across the full potentiometer and the wiper selected portion.
      <br/>
      A fault in the monitor interface circuit is indicated if the measured voltages under these conditions are outside a predetermined tolerance range from ground.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="2">
      This invention relates to a method and apparatus for monitoring in a fail-safe manner potentiometers used in critical control operations.
      <br/>
      More particularly, the invention relates to monitoring in a fail safe manner the characteristics of potentiometers where the detected control value from a control potentiometer is a critical safety factor in a control system.
    </p>
    <p num="3">2. Description of Prior Art</p>
    <p num="4">
      Determining the absolute position of valves and/or dampers in combustion systems is a critical safety issue.
      <br/>
      A system such as a non-flow compensating fuel-air ratio control system controlling a large boiler and using potentiometer settings to control the position of valves and dampers is a system where monitoring of the control potentiometers is a critical life safety factor.
      <br/>
      Control of actuators for a valve and/or damper in such a combustion system in the past has been accomplished with a motor driven mechanical cam.
      <br/>
      Such a device has mechanical limits to provide for fail-safe control of the valves and dampers.
      <br/>
      Due to the mechanical linkages and the limits placed on the mechanical linkages, the fuel-air ratios were never permitted to enter a hazardous range of operation.
    </p>
    <p num="5">
      In today's environment with microprocessor control and electronic sensing of desired position and electronic feedback to control valves, an electronic failure of a control potentiometer can create a fuel-air ratio in a combustion system that is hazardous.
      <br/>
      Furthermore, because of the harsh operating environment and because of aging, a control potentiometer's resistance may vary.
      <br/>
      Also, the resistance at the potentiometer's connector terminals may vary, and the wiper resistance on the potentiometer may change.
      <br/>
      Any one of these changes or all these changes together can create a situation where an incorrect control signal is provided by the potentiometer monitoring circuit to a controlling microprocessor that controls critical elements such as fuel-air valves.
      <br/>
      What is needed is a fail-safe monitoring system for potentiometers.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="6">
      In accordance with this invention the above problems with monitoring control potentiometers have been solved by using a computer processor and a monitor interface circuit connected between the potentiometer and the processor, and then monitoring through the monitor interface circuit the potentiometer, its terminals and its wiper for faults.
      <br/>
      In addition the monitor interface circuit itself is tested so that a fault in the potentiometer or a fault in the monitor interface circuit is detected to prevent the control potentiometer and monitor interface circuit from producing an incorrect control signal.
    </p>
    <p num="7">
      In one feature of the invention the monitoring is accomplished by measuring changes in the fill potentiometer resistance from a predetermined value.
      <br/>
      The changes are compared against boundary limits to detect whether a change is inside or outside the boundary limits.
      <br/>
      A fault in the control potentiometer is indicated when a change is outside the boundary limits.
    </p>
    <p num="8">
      In another feature of the invention the monitoring also monitors wiper resistance of the potentiometer.
      <br/>
      The wiper resistance of the control potentiometer is measured, and the wiper resistance is compared against a fault threshold to detect if the wiper resistance has passed the fault threshold.
      <br/>
      A fault in the wiper of the control potentiometer is indicated when the wiper resistance has passed the threshold.
    </p>
    <p num="9">
      In another feature of the invention, the testing of the monitor interface circuit is accomplished by measuring idle signals applied to the full potentiometer and to the wiper when the monitor interface circuit is an idle state.
      <br/>
      The idle signals are compared against an expected signal to detect if the idle signals are within a predetermined tolerance range of the expected signal.
      <br/>
      A fault in the monitor interface circuit is indicated if the idle signals are outside the predetermined tolerance range.
    </p>
    <p num="10">Other features, utilities and advantages of the invention will be understood by those of ordinary skill in the art after referring to the complete written description of the preferred embodiments of the invention in conjunction with the following drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="11">
      FIG. 1 shows a preferred embodiment of the invention for monitoring a control potentiometer.
      <br/>
      FIG. 2 shows the logical operations performed by the apparatus in FIG. 1 during the fail-safe monitoring of the potentiometer.
      <br/>
      FIG. 3 shows the logical operations to implement the total resistance test module in FIG. 2.
      <br/>
      FIG. 4 shows the logical operations to implement the wiper resistance test module in FIG. 2.
      <br/>
      FIG. 5 shows the logical operations to implement the interface circuit test module of FIG. 2.
      <br/>
      FIG. 6 is a graph of a measurement voltage VAD2 during a wiper resistance test.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="12">
      In the preferred embodiment of the invention shown in FIG. 1, the control potentiometer 10 is located with the actuator 12 associated with the potentiometer.
      <br/>
      Adjustments of the wiper 14 produces a voltage across line AD2 to analog digital converters 16.
      <br/>
      The digital value of this voltage is input to the microprocessor 18 through the I/O controller 20.
      <br/>
      The microprocessor 18 contains the control program for controlling actuators, including actuator 12, by providing a control signal out through I/O controller 20 over a control line 22.
      <br/>
      During commissioning of the control system, the actuators are installed, the potentiometer is installed and the control system is initialized with initial values for the potentiometer 10.
    </p>
    <p num="13">
      After commissioning and during a normal operation of controlling actuator 12, microprocessor 18 controls switch drivers 24 to switch field effect transistor 26 "ON" and field effect transistor 28 "OFF." With transistor 26 ON, the current source 30 drives a current "i" through potentiometer 10.
      <br/>
      Depending on the position of the wiper 14, a voltage is fed back on line AD2 as a control voltage for the microprocessor 18.
      <br/>
      This constitutes the normal operation of the potentiometer 10 where the position of wiper 14 on the potentiometer results in a control signal used by microprocessor 18 to control actuator 12.
    </p>
    <p num="14">
      A problem arises in that over time the resistance of potentiometer 10 and the resistance of wiper 14 may change.
      <br/>
      Further, the wiring terminals in sets c1 a1, c2 a2 and c3 a3, connecting the potentiometer and its wiper to the monitor interface circuit 15 may corrode and add to the apparent resistance of the potentiometer.
      <br/>
      Also, the wiper contact with the potentiometer may corrode or wear and add resistance at the wiper.
      <br/>
      All of these changes and/or deterioration in the operating characteristic of the potentiometer can produce an incorrect potentiometer (pot) signal on line AD2 back to microprocessor 18.
      <br/>
      In addition, components in the monitor interface circuit 15 may fail and create an incorrect pot signal.
      <br/>
      With an incorrect pot signal feedback to microprocessor 18, the microprocessor will send an incorrect actuator control signal over the control line 22 to actuator 12.
      <br/>
      A bad actuator control signal could produce a dangerous adjustment of actuator 12.
      <br/>
      Accordingly, the microprocessor 18 also performs fail-safe monitoring operations to monitor failure of the potentiometer 10 or monitor interface circuit 15, and these logical operations are illustrated in FIG. 2.
    </p>
    <p num="15">
      The embodiments of the invention described herein include logical operations when monitoring the control potentiometer.
      <br/>
      The logical operations of the present invention may be implemented (1) as a sequence of computer-implemented steps running on a microprocessor in a controller, and (2) as interconnected logic modules within the controller.
      <br/>
      The implementation is a matter of choice, dependent on the performance requirements of the controller.
      <br/>
      Accordingly, the logical operations making up the embodiments of the invention described herein are referred to variously as operations, steps or modules.
      <br/>
      The logical operations shown in FIGS. 2-5 will be described in reference to these figures and also FIG. 1.
    </p>
    <p num="16">
      In FIG. 2, the monitoring operations consist of three modules--a total resistance test module 32, a wiper resistance test module 34, and an interface circuit test module 36.
      <br/>
      These test modules perform the monitoring operations whereby a faulty interface circuit or a faulty potentiometer is detected before a dangerous control adjustment is made to an actuator.
      <br/>
      The total resistance test module 32 is designed to monitor the total resistance across potentiometer 10.
      <br/>
      A total pot resistance value is initially determined for potentiometer 10 during commissioning.
      <br/>
      By monitoring changes in this total pot resistance against the boundary limits for an operative potentiometer, a faulty potentiometer or an increase in resistance of wiring terminals c1 a1 or c3 a3 may be detected.
    </p>
    <p num="17">
      The monitoring operations of FIG. 2 also perform a wiper resistance test in test module 34.
      <br/>
      Wiper resistance test module 34 is testing for changes in the wiper resistance which is the resistance through the wiper 14 to ground.
      <br/>
      While the wiper selected pot resistance Rp may change with age or environment, it is more likely that changes in wiper resistance will be due to changes in wiper contact resistance or changes in resistance across terminals c2 a2 and c3 a3.
      <br/>
      Wiper resistance in this embodiment is tested against a failure threshold which guarantees that wiper resistance will not cause an incorrect control value to be passed back to microprocessor.
      <br/>
      If the wiper resistance exceeds the fault threshold, then the potentiometer is indicated as having a faulty wiper resistance and the controller shuts down the system being controlled.
    </p>
    <p num="18">
      The monitoring operations also include the interface circuit test module 36.
      <br/>
      The interface circuit module 36 operates to test the components in the monitor interface circuit 15; i.e., the correct functioning of switches 26 and 28 as well as the transient protection diodes 38 and 42.
      <br/>
      A failure threshold for the monitor interface circuit is stored in memory 19 or provided as control data to microprocessor 18.
      <br/>
      If the monitor interface circuit detects signals outside of a tolerance threshold during idle mode when the potentiometer is not being driven by the circuit, the monitor interface circuit will be indicated as faulty.
    </p>
    <p num="19">By testing the potentiometer, its terminals and its wiper with a monitor interface circuit and further by testing the monitor interface circuit itself, the logical operations in FIG. 2 will prevent a fault in the potentiometer 10 or a fault in the interface circuitry to potentiometer 10 from creating a control signal that would drive actuator 12 to produce a dangerous condition.</p>
    <p num="20">
      FIG. 3 illustrates the logical operations performed by the total resistance test module 32 in FIG. 2.
      <br/>
      The total resistance test begins in logical operation 50 which provides a current drive through potentiometer 10.
      <br/>
      This is accomplished by microprocessor 18 acting through switch drivers 24 to turn ON transistor 26 and turn OFF transistor 28.
      <br/>
      With transistor 26 ON, the current source 30 provides a current "i" through potentiometer 10.
      <br/>
      With transistor 28 (switch 2) turned OFF, reference voltage applied through resistor 46 is blocked.
      <br/>
      Accordingly, the only voltage on line AD1 will be due to the current "i" creating a voltage drop across resistor 48, terminal c1 a1, potentiometer total resistance Rtot and the resistance cross c3 a3.
      <br/>
      Operation 52 in FIG. 3 measures the voltage at line AD1.
      <br/>
      Analog digital converter 16 converts this voltage into a digital value which is provided through the input/output control 20 to the microprocessor 18.
      <br/>
      The digital value at AD1 may then be used directly as a test value or the microprocessor 18 can divide the digital value by a known value for the current "i" from current source 30 to determine the resistance from node 47 to ground.
      <br/>
      With the resistance from node 47 to ground known, then the resistive value R2 of resistance 48 may be subtracted to determine the total resistance Rtot of the potentiometer 10 plus the resistance of terminals c1 a1 and c3 a3.
      <br/>
      During commissioning of the control system, the voltage on AD1 (VAD1) is sensed while SW1 is ON and SW2 is OFF.
      <br/>
      VAD1 is converted to a digital value by analog to digital converter 16.
      <br/>
      From the value for VAD1 and knowing a predetermined value for current "i" from current source 30, microprocessor 18 divides VAD1 by "i" to determine an AD1 resistance between node 47 and ground.
      <br/>
      During commissioning, this AD1 resistance should be Rtot plus R2 since resistance of terminals c1 a1 and c3 a3 should be negligibly small compared to Rtot.
      <br/>
      By subtracting R2 from the AD1 resistance, Rtot is determined.
      <br/>
      Rtot value is stored in memory as well as the initial value for VAD1 at commissioning.
    </p>
    <p num="21">
      After the voltage at VAD1 is measured, decision operation 54 detects whether the VAD1 is within limits.
      <br/>
      The limits are set based upon (1) an initial value for the total pot resistance Rtot, (2) expected temperature excursions creating resistance changes in the potentiometer 10 and (3) the tolerance of the components, resistor 48 and potentiometer 10.
      <br/>
      The initial value for Rtot is determined at commissioning as described above.
      <br/>
      If VAD1 is within limits, the test is completed and the logical operation is returned to the monitor main operation flow in FIG. 2.
      <br/>
      If VAD1 is out of limits, the operation flow branches NO from decision operation 54.
      <br/>
      Operation 56 indicates a potentiometer fault, and the operation flow returns to the monitor operation flow in FIG. 2.
    </p>
    <p num="22">
      FIG. 4 shows the logical operations performed by the wiper resistance test module 34 of FIG. 2.
      <br/>
      The wiper resistance test begins in logical operation 60.
      <br/>
      Logical operation 60 provides a voltage drive only through the wiper 14 and the resistance Rp of the portion of the potentiometer 10 between wiper 14 and ground.
      <br/>
      This is accomplished by the microprocessor 18 acting through switch driver 24 to turn OFF transistor 26 (switch 1) and to turn ON transistor 28 (switch 2).
      <br/>
      The reference voltage Vref is thus applied across resistor 46, resistor 49 and resistance Rp to ground.
      <br/>
      In addition, there will be some amount of small resistance due to terminals c2 a2 and c3 a3.
      <br/>
      Line AD2 connects node 45 back to analog digital converter 16.
      <br/>
      Accordingly, the voltage VAD2 at node 45 is a measure of the resistance between node 45 and ground.
      <br/>
      The resistive values for resistor 46 and 49 are known.
      <br/>
      Accordingly, the voltage dividing action between resistor R1 and the resistance across R3, terminal c2 a2, wiper contact resistance, resistance Rp and terminal c3 a3 define the voltage of VAD2.
      <br/>
      This voltage is converted by the analog digital converter 16 to a digital value applied to the microprocessor 18 for analysis.
    </p>
    <p num="23">
      The resistance Rp can be computed from the resistance Rtot based on the position of the wiper.
      <br/>
      For example if Rtot is 5 k ohms, and the wiper is positioned 2/5ths from the bottom potentiometer 10, then Rp is 2 k ohms.
      <br/>
      Changes in Rp can be monitored by computing a value for Rp based on the voltage drop across resistor 46 and resistor 49 plus Rp since the values R1 and R3 are known and assuming wiper contact resistance and resistance across terminals c2 a2 and c3 a3 are negligible.
      <br/>
      If the wiper contact resistance and the resistance across the terminals are not negligible, then the microprocessor can compute the combined resistance across terminals c2 a2 plus wiper contact resistance plus resistance Rp plus resistance across terminal c3 a3.
      <br/>
      In one embodiment a fault threshold for combined resistance is used by the computer to determine when this combined threshold is too high.
      <br/>
      In another embodiment it is assumed that changes in Rp and changes in the resistance across the terminals are small compared to changes in wiper contact resistance.
      <br/>
      Wiper contact resistance can be computed using the following expression:
      <br/>
      RCR =(Vref*(R3+Rp)-VAD2 *(R1+RON +R3+Rp))/(VAD2 -Vref)
    </p>
    <p num="24">where:</p>
    <p num="25">
      RCR is wiper contact resistance;
      <br/>
      VAD2 is the value of voltage on line AD2 with SW1 OFF and SW2 ON;
      <br/>
      Vref is value of reference voltage Vref;
      <br/>
      RON is the "ON" channel resistance of SW2;
      <br/>
      R1 is resistance or resistor 46;
      <br/>
      R3 is resistance of resistor 47;
      <br/>
      Rp is resistance of potentiometer as selected by wiper.
    </p>
    <p num="26">With RCR calculated and monitored, the value of RCR can be compared against a threshold to detect excessive wiper contact resistance.</p>
    <p num="27">
      However, more simply, in operation 62 of FIG. 4, the microprocessor measures the voltage VAD2 (voltage on line AD2).
      <br/>
      This voltage is converted to a digital value and the microprocessor in decision operation 64 compares VAD2 value against a voltage threshold value.
      <br/>
      Decision operation 64 is testing the voltage VAD2 against a predetermined fault threshold.
      <br/>
      The fault threshold is based upon observed changes in VAD2 due to changes in the wiper contact resistance and based upon different values of Rp.
      <br/>
      FIG. 6 is a graph of digital values for VAD2 as a function of wiper contact resistance for three different values of Rp.
      <br/>
      This graph indicates that as wiper contact resistance increases, it rapidly swamps out changes in VAD2 due to changes in Rp.
      <br/>
      Therefore in the example of FIG. 6 a fault threshold value of 2500 is a good choice.
      <br/>
      If the wiper contact resistance is such that VAD2 exceeds the fault threshold, the operation flow branches NO from decision operation 64 to operation 66.
      <br/>
      Operation 66 indicates a wiper fault and the logical operation returns to the main monitor program in FIG. 2.
      <br/>
      If the voltage VAD2 is less than the fault threshold, the wiper contact resistance is within an acceptable limit, and the operation flow branches YES from decision operation 64 to return to the main monitor operation flow in FIG. 2.
    </p>
    <p num="28">
      FIG. 5 illustrates the logical operations of the interface circuit test module 36 in FIG. 2.
      <br/>
      The interface circuit test begins at logical operation 70 in FIG. 5 which inhibits all current or voltage drive to the potentiometer 10 from the monitor interface circuit 15, i.e., the idle state.
      <br/>
      This is accomplished by the microprocessor 18 acting through the switch drivers 24 to turn OFF both transistor 26 (switch 1) and transistor 28 (switch 2).
      <br/>
      This isolates the current source 30 from the potentiometer and also isolates the voltage Vref from the potentiometer 10.
      <br/>
      In the idle state, the expectation then is that the voltage at node 47 and node 45 should be zero volts plus or minus a very minor tolerance.
      <br/>
      If there is a failure of transistor 26 so that some current flow from current source 30 is being passed, or if there is a failure of the diode 38 such that some voltage other than zero is being applied at node 47, then the VAD1 sensed by microprocessor 18 through analog digital converter 16 is out of tolerance.
      <br/>
      Operation 72 in FIG. 5 measures the voltage on line AD1.
      <br/>
      Operation 72 also measures the voltage VAD2 on line AD2 which is the voltage at node 45.
      <br/>
      This voltage should be near zero unless transistor 28 has failed to isolate Vref from the wiper or diode 42 has failed.
      <br/>
      The value for VAD2 should be at zero plus or minus a very minor tolerance value for leakage across the back-biased junctions of transistor 28 and diode 42.
      <br/>
      After operation 72 in FIG. 5 has measured the voltage at AD1 and the voltage at AD2, decision operation 74 tests each of these voltage values against zero volts, plus or minus, a fault tolerance.
      <br/>
      The fault tolerance is based on the accuracy of the converter 16 and the quality of transistor 26 and transistor 28 at the maximum operating temperature of circuit 15 in FIG. 1.
      <br/>
      If decision operation 74 detects that the voltage of both VAD1 and VAD2 are within the tolerance range of zero volts, then the logical operation branches YES and returns to the monitor operation flow in FIG. 2.
      <br/>
      If decision operation 74 detects that either the voltage at AD1 or AD2 depart from zero volts by more than the tolerance, then the logical operations branch NO from decision operation 74 to operation 76.
      <br/>
      Operation 76 then indicates a monitor interface circuit fault.
      <br/>
      The monitor interface circuit 15 may then be replaced or the entire controller including microprocessor can be replaced.
    </p>
    <p num="29">
      The interface circuit test does not detect a failure of diode 40 or diode 44 as these diodes are connected to ground.
      <br/>
      The diodes in the monitor interface circuit are provided for transient signal protection.
      <br/>
      The diodes prevent the voltage at nodes 45 and 47 from going above VCC or below ground.
      <br/>
      Diodes 40 and 44 could be removed with some risk to the circuit that it would be damaged by a negative transient.
      <br/>
      Alternatively, leakage through diodes 40 and 44 might be detected by the above described test for wiper contact resistance RCR.
      <br/>
      If RCR is tested and for multiple positions of the wiper and particularly where Rp is near zero, a change in the calculated value for RCR as Rp goes to zero will indicate a fault in diode 40 or diode 44.
    </p>
    <p num="30">
      While the embodiment shown in FIGS. 2 through 5 performs these tests in series, in another embodiment of the invention the tests are performed in parallel.
      <br/>
      In this alternative embodiment, the switch drivers 24 rapidly cycle through each of the switch positions, the voltages on sense lines AD1 and AD2 are converted to digital values and stored and the microprocessor multitasks the analysis of the digital values in parallel processing operations.
    </p>
    <p num="31">
      In another further embodiment, the test modules 32, 34 and 36 are rearranged so that a wiper resistance test is performed as a first test operation or so that the interface circuit test operation is performed as a first operation.
      <br/>
      The sequence of the tests is a matter of choice.
      <br/>
      Further, if there is a fault detected in a test, the monitor program in another embodiment terminates the test operations upon detection of first fault and returns the program flow to the main program controlling the combustion system.
    </p>
    <p num="32">
      To assure that the combustion system is controlled correctly from the potentiometer, the fail-safe monitoring would be performed frequently.
      <br/>
      Depending upon safety requirements, the monitor operations might be performed hourly or every minute.
      <br/>
      In a multitasking program operation, the operations could be performed in parallel with normal control operations.
    </p>
    <p num="33">
      It should be apparent to one skilled in the art that many other embodiments of the invention might be described herein with each embodiment built on equivalents in structure and function of the elements of the embodiments described above.
      <br/>
      It is not possible to describe all possible embodiments without writing an encyclopedia of potentiometer control systems.
      <br/>
      While the invention has been described with reference to preferred embodiments and several equivalents have been suggested for elements of the invention, as discussed above it will be apparent to one skilled in the art that there are other equivalents in structure and function available today or contemplated for future development that could be substituted for elements of this invention.
      <br/>
      With such substitution of equivalent elements in mind, we believe the following claims capture the spirit and scope of our invention.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>We claim:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>In a controller having a processor, a control potentiometer and a monitor interface circuit electrically connected between the control potentiometer and the processor, a method for fail-safe monitoring the control potentiometer and the monitor interface circuit, said method comprising the acts of:</claim-text>
      <claim-text>repetitively monitoring resistance of the potentiometer and wiring terminals, that are electrically connecting the control potentiometer to the monitor interface circuit, to detect changes in resistance from an initial resistance determined at time of commissioning the controller and thereby detect a fault in the potentiometer or wiring terminals;</claim-text>
      <claim-text>and repetitively testing the monitor interface circuit, when no voltage or current is driven into the potentiometer or wiring terminals, to detect a fault in the monitor interface circuit independent of the potentiometer and wiring terminals, whereby a fault in the potentiometer, wiring terminals or monitor interface circuit is detected.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method of claim 1 wherein the act of monitoring comprises: measuring a detected resistance across the potentiometer and wiring terminals; detecting if the detected resistance is within limits based on an initial potentiometer total resistance;</claim-text>
      <claim-text>and indicating a fault in the control potentiometer or wiring terminals when the detected resistance is outside the limits.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method of claim 2 wherein the act of measuring further comprises: driving a current through the potentiometer and wiring terminals; measuring a detected voltage across the potentiometer and wiring terminals;</claim-text>
      <claim-text>and computing the detected resistance by dividing the detected voltage by the current.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method of claim 2 wherein the act of monitoring further comprises: measuring resistance of a wiper selected portion of the control potentiometer and wiring terminals and wiper connecting the wiper selected portion of the control potentiometer to the monitor interface circuit and indicating a measured wiper resistance; comparing the measured wiper resistance against a fault threshold to detect if the measured wiper resistance has passed the fault threshold;</claim-text>
      <claim-text>and indicating a fault in the control potentiometer when said act of comparing detects the measured wiper resistance has passed the fault threshold.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The method of claim 4 wherein said act of testing comprises: measuring signals across the potentiometer and the wiper selected portion when the monitor interface circuit is an idle state; comparing the signals against an expected signal to detect if the signals are within a predetermined tolerance range of the expected signal;</claim-text>
      <claim-text>and indicating a fault in the monitor interface circuit if said act of comparing signals detects the signals across the potentiometer and the wiper selected portion are outside the predetermined tolerance range.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The method of claim 1 wherein the act of monitoring comprises: measuring resistance of a wiper selected portion of the control potentiometer and wiring terminals and wiper connecting the wiper selected portion of the control potentiometer to the monitor interface circuit and indicating a measured wiper resistance; comparing the measured wiper resistance against a fault threshold to detect if the measured wiper resistance has passed the fault threshold;</claim-text>
      <claim-text>and indicating a fault in the control potentiometer when said act of comparing detects the measured wiper resistance has passed the fault threshold.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The method of claim 6 wherein the act of measuring comprises: applying a voltage drive to the wiper selected portion of the potentiometer; measuring a voltage drop across the wiper selected portion of the control potentiometer and wiring terminals and wiper connecting the wiper selected portion of the control potentiometer to the monitor interface; converting the voltage drop to the measured wiper resistance.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The method of claim 7 wherein the act of measuring further comprises: computing a wiper contact resistance from the measured wiper resistance and providing the wiper contact resistance to said act of comparing as the measured wiper resistance.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The method of claim 1 wherein said act of testing comprises: measuring signals across the potentiometer and the wiper selected portion when the monitor interface circuit is an idle state; comparing the signals against an expected signal to detect if the signals are within a predetermined tolerance range of the expected signal;</claim-text>
      <claim-text>and indicating a fault in the monitor interface circuit if said act of comparing signals detects the signals across the potentiometer and the wiper selected portion are outside the predetermined tolerance range.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. In a controller having a processor, a control potentiometer and a monitor interface electrically connected between the control potentiometer and the processor, apparatus for fail-safe monitoring the control potentiometer and the monitor interface, said apparatus comprising: a first module periodically monitoring through the monitor interface the voltage across the potentiometer and wiring terminals electrically connecting the control potentiometer to the monitor interface to detect changes in resistance from an initial resistance determined at time of commissioning the controller and thereby detect one or more faults in the potentiometer and wiring terminals;</claim-text>
      <claim-text>and a second module periodically testing the monitor interface, while the potentiometer is not driven, to detect a fault in the monitor interface independent of the potentiometer and wiring terminals, whereby faults in the potentiometer and monitor interface are detected.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The apparatus of claim 10 wherein said first module comprises: a measure module measuring voltage across the potentiometer and wiring terminals and indicating a measured voltage; a detect module detecting if the measured voltage is within limits, the limits based on an initial voltage across the potentiometer and wiring terminals at time of commissioning, variations in voltage due to temperature variations and component tolerance; an indicate module indicating a fault in the control potentiometer when said detect module detects the measured voltage is outside the limits.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The apparatus of claim 11 wherein said first module further comprises: a second measure module measuring voltage across a wiper selected portion of the control potentiometer and wiring terminals and wiper connecting the wiper selected portion of the control potentiometer to the monitor interface and indicating a measured wiper voltage; a test module comparing the measured wiper voltage against a fault threshold to detect if the measured wiper voltage has exceeded the fault threshold;</claim-text>
      <claim-text>and second indicator module indicating a fault when said test module detects the measured wiper voltage has exceeded the fault threshold.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The method of claim 12 wherein said second module comprises: an inhibit module for inhibiting voltage or current drive to the control potentiometer; third measure module, while voltage or current drive to the control potentiometer is inhibited, measuring a first voltage across the control potentiometer and wiring terminals connected to full potentiometer and measuring a second voltage across the wiper selected portion of the control potentiometer and the wiring terminals connected to the wiper selected portion; a test module comparing the first and second voltages against an expected voltage, while voltage or current drive to the control potentiometer is inhibited, to detect if the first and second voltages are within a predetermined tolerance range of the expected voltage;</claim-text>
      <claim-text>and a third indicator module indicating a fault in the monitor interface circuit if said test module detects the first voltage or the second voltage is outside the predetermined tolerance range.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The method of claim 10 wherein said second module comprises: an inhibit module for inhibiting voltage or current drive to the control potentiometer; a measure module, while voltage or current drive to the control potentiometer is inhibited, measuring a first voltage across the control potentiometer and wiring terminals connected between full potentiometer and the monitor interface and measuring a second voltage across a wiper selected portion of the control potentiometer and the wiring terminals connected between the wiper selected portion and the monitor interface; a test module comparing the first and second voltages against an expected voltage, while voltage or current drive to the control potentiometer is inhibited, to detect if the first and second voltages are within a predetermined tolerance range of the expected voltage;</claim-text>
      <claim-text>and an indicator module indicating a fault in the monitor interface if said test module detects the first voltage or the second voltage is outside the predetermined tolerance range.</claim-text>
    </claim>
  </claims>
</questel-patent-document>