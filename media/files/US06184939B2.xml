<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184939B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184939</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184939</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="22771291" extended-family-id="42112860">
      <document-id>
        <country>US</country>
        <doc-number>09207615</doc-number>
        <kind>A</kind>
        <date>19981209</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09207615</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43170829</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>20761598</doc-number>
        <kind>A</kind>
        <date>19981209</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09207615</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04N   9/78        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>78</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04N   5/14        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>14</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04N   9/44        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>44</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>348625000</text>
        <class>348</class>
        <subclass>625000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>348537000</text>
        <class>348</class>
        <subclass>537000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>348665000</text>
        <class>348</class>
        <subclass>665000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>348E05062</text>
        <class>348</class>
        <subclass>E05062</subclass>
      </further-classification>
      <further-classification sequence="4">
        <text>348E09029</text>
        <class>348</class>
        <subclass>E09029</subclass>
      </further-classification>
      <further-classification sequence="5">
        <text>348E09036</text>
        <class>348</class>
        <subclass>E09036</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04N-005/14</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>14</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04N-009/44</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>44</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04N-009/78</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>78</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/14</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>14</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-009/44</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>44</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-009/78</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>78</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>15</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>13</number-of-drawing-sheets>
      <number-of-figures>15</number-of-figures>
      <image-key data-format="questel">US6184939</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Apparatus for processing video signals and employing phase-locked loop</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>LEWIS JR HENRY G</text>
          <document-id>
            <country>US</country>
            <doc-number>4415918</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4415918</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>LEWIS JR HENRY G</text>
          <document-id>
            <country>US</country>
            <doc-number>4506291</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4506291</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>WILLIS DONALD H</text>
          <document-id>
            <country>US</country>
            <doc-number>5175619</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5175619</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>MURRAY BRIAN P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5870153</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5870153</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>FUJITSU GENERAL LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H06261224</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP06261224</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Umax Data Systems Inc.</orgname>
            <address>
              <address-1>Hsinchu, TW</address-1>
              <city>Hsinchu</city>
              <country>TW</country>
            </address>
          </addressbook>
          <nationality>
            <country>TW</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>UMAX DATA SYSTEMS</orgname>
          </addressbook>
          <nationality>
            <country>TW</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Wang, Shin-Su</name>
            <address>
              <address-1>Taipei, TW</address-1>
              <city>Taipei</city>
              <country>TW</country>
            </address>
          </addressbook>
          <nationality>
            <country>TW</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Cheng, Wen-Chin</name>
            <address>
              <address-1>MiaoLi, TW</address-1>
              <city>MiaoLi</city>
              <country>TW</country>
            </address>
          </addressbook>
          <nationality>
            <country>TW</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Lin, Shih-Hsun</name>
            <address>
              <address-1>Tao Yuan, TW</address-1>
              <city>Tao Yuan</city>
              <country>TW</country>
            </address>
          </addressbook>
          <nationality>
            <country>TW</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Dougherty &amp; Troxell</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Hsia, Sherrie</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      Apparatus for processing video signals and which can be connected with a personal computer for further processing.
      <br/>
      An analog to digital converter samples and converts input NTSC composite video signal into digital signal for subsequent processing.
      <br/>
      A phase-locked loop provides sampling clock signal to the ADC, and also ensures accurate sample phase.
      <br/>
      Based on a theory that human eye is more sensitive to the luminance component of video signals, a double sampling circuit is included which double samples the luminance component of a video signal to improve the overall resolution of an image.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>FIELD OF THE INVENTION</heading>
    <p num="1">This invention relates to apparatus for processing video signals and and more particularly to an apparatus which employs phase-locked loop and analog to digital conversion to obtain high quality static image.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      Video signals processed by a conventional apparatus, when redisplay on a monitor connected to a computer system, suffer several problems, such as false color at the edge of an image.
      <br/>
      Additionally, too high hardware cost inevitably lower the competitiveness of the apparatus.
      <br/>
      Another drawback of a conventional video signal processing apparatus lies in its comb filter.
      <br/>
      Conventional comb filters process video signals which are sampled on two adjacent horizontal scanning lines, without considering the resolution of vertical direction.
      <br/>
      The resolution of processed images is thus scarified.
    </p>
    <p num="3">
      H. Hagino, etc. in U.S. Pat. No. 5,523,798 describe a circuit for adjusting signal separation in Y/C separation comb filter by hardware connecting a phase-locked loop to a burst gate pulse generation circuit and multipliers.
      <br/>
      This greatly increases hardware costs.
      <br/>
      In addition, in separating a luminance signal and a chrominance signal, the comb filter of U.S. Pat. No. 5,523,798 takes only two dimensions into consideration.
      <br/>
      As a result of such two dimensional processing, the image processed suffers from false color and low resolution.
      <br/>
      Stuart S. Perlnan in U.S. Pat. No. 4,961,108 describes a circuit for comb filtering PAL and NTSC video signals.
      <br/>
      The comb filter of U.S. Pat. No. 4,961,108 also takes only two dimensions into consideration in processing video signals.
      <br/>
      Therefore, the problems of false color and low resolution can not be avoided.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="4">It is therefore an object of the invention to provide an apparatus for processing video signals by means of employing phase-locked loop in combination of the technology of analog to digital conversion.</p>
    <p num="5">It is another object of the invention to provide an apparatus for processing video signals which can effectively increase the quality of captured static images without increasing costs.</p>
    <p num="6">It is yet another object of the present invention to provide an apparatus for processing video signals which can effectively lower hardware costs and increase competitiveness of the product.</p>
    <p num="7">It is still another object of the present invention to provide an apparatus for processing video signals and apparatus thereof, which double samples the captured static images and therefore increases the overall resolution of the captured images.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="8">
      FIG. 1 is a pictorial diagram represent a configuration of the present invention.
      <br/>
      FIG. 2 is a block diagram of an implementation of the invention.
      <br/>
      FIG. 3 is a block diagram showing the processing of video signal employing the circuit of the invention.
      <br/>
      FIG. 4 is the waveform of a color burst signal.
      <br/>
      FIG. 5 is a block diagram of a phase-locked loop embodying the invention.
      <br/>
      FIG. 6 is a block diagram of a phase comparator of the phase-locked loop shown in FIG. 5.
      <br/>
      FIG. 7 is a waveform for comparing the positive and negative phases of the sine wave of color burst signal.
      <br/>
      FIG. 8 is a phase error table embodying the invention.
      <br/>
      FIG. 9 is a block diagram showing the digital to analog conversion of the low pass filter of the phase-locked loop according to the invention.
      <br/>
      FIG. 10 is a waveform showing the 180 (degree)  phase shift of two adjacent even fields or two odd fields of the subcarrier of a color burst signal.
      <br/>
      FIG. 11 is a block diagram showing a comb filter embodying the invention.
      <br/>
      FIG. 12 is a pictorial diagram representing a portion of a field of video signal sampled on a horizontal line and stored in a frame buffer of a comb filter embodying the invention.
      <br/>
      FIG. 13 is a pictorial diagram representing a subcarrier with 180 (degree)  phase shift from the samples of FIG. 12.
      <br/>
      FIG. 14 is a block diagram showing an embodiment of achieving double resolution.
      <br/>
      FIG. 15 is a waveform showing the timing of sampling luminance signal.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="9">
      This invention describes an apparatus for processing video signals and which can be connected with a personal computer for further processing.
      <br/>
      Referring to FIG. 1 where the invention is coupled to a NTSC video camera 2, or a camcorder, etc., at the input end.
      <br/>
      The output end of the video signal processing apparatus 4 is connected to a personal computer 6 through a printer port interface.
      <br/>
      The video signal which is first processed by the invention can be further edited by the personal computer 6 using some other software, such as Photoshop, or can be transmitted to a remote host through a network.
    </p>
    <p num="10">
      FIG. 2 illustrates circuitry embodying the basic invention.
      <br/>
      Input NTSC composite video signal which may be sourced from an NTSC video camera 2 of FIG. 1 is applied to the analog input connection of an analog to digital converter (ADC) 10 for sampling and converting the video signal into an digital signal.
      <br/>
      The digital video signal is represented in an 8-bit binary form.
      <br/>
      ADC 10 samples the transmitted analog video signal at a specific frequency, which may be as high as 14.318 MHz, according to a sampling clock signal (SCLK).
      <br/>
      SCLK is provided by a phase-locked-loop (PLL) 50. PLL 50 develops the clock signal (SCLK) which has a frequency of four times the color burst subcarrier frequency fsc, and is in phase with the phase of the color burst signal.
      <br/>
      The digital signal supplied by ADC 10 is sequentially stored in a first-in-first-out buffer (FIFO) 20 first, before it is transmitted to a frame buffer 30.
      <br/>
      As the data rate of ADC 10 is higher than that of frame buffer 30, the output signal of ADC 10 is buffered in FIFO 20.
      <br/>
      Frame buffer 30 provides a compensating delay to the digital video signal generated by ADC 10, to accommodate for processing delay of frame buffer 30.
    </p>
    <p num="11">
      Frame buffer 30 is partitioned into multiple fields for temporarily storing the digital video signal provided by ADC 10.
      <br/>
      The memory size of frame buffer 30 can be predetermined by users according to its intended applications.
      <br/>
      The connection between FIFO 20 and frame buffer 30 is controlled by a control unit 40.
      <br/>
      Control unit 40, which comprises multiple control registers and multiple status registers (not shown in FIG. 2), also provides timing for the operations of FIFO 20 and frame buffer 30.
      <br/>
      In addition, control unit 40 also determines the phase of sampling clock signal (SCLK) which is outputted by PLL 50 and coupled to ADC 10.
      <br/>
      The output terminal of frame buffer 30 is connected to a printer port interface 60 of a personal computer 6 through which the video signal and control signal are transmitted to personal computer 6 for further processing.
    </p>
    <p num="12">
      The video signal processing flow of the circuit of the invention is illustrated in FIG. 3.
      <br/>
      After the image capture is activated, an analog NTSC composite video signal is converted to a digital NTSC composite video signal by analog to digital converter 10.
      <br/>
      The digital NTSC composite video signal is stored in frame buffer 30.
      <br/>
      Personal computer is supplied with the digital NTSC composite video signal for decoding through printer port interface 60.
    </p>
    <p num="13">
      The digital video signal provided by ADC 10 is fed to a YC separation circuit through printer port interface 60, for being separated into a luminance (Y) signal and a chrominance (C) signal by means of a comb filter 62.
      <br/>
      It is well known that a NTSC chrominance signal is the signal sampled in phase with one of the axes of the quadrature modulated color difference signal components U, V. By convention component U represents the (B-Y) color difference signal and component V represents the (R-Y) color difference signal.
      <br/>
      Chrominance signal (C) can be represented by the equation:
      <br/>
      C=Ucos(t)+Vsin(t)
    </p>
    <p num="14">
      where sin(t) and cos(t) are the color subcarriers which have a frequency of 3.58 MHz. Color difference signals U and V are obtained by means of demodulating chrominance signal through a demodulator 63.
      <br/>
      Demodulator 63 is connected to a low pass filter 64 for limiting the amplitude of color difference signal U and V to a predetermined range.
      <br/>
      Both the luminance signal and chrominance signal provided by low pass filter 64 are fed to a adjustment means 65 for brightness, contrast, and color saturation adjustment.
      <br/>
      As the monitor 67 of personal computer 6 processing video signal in terms of RGB signal which represent Red, Green, and Blue, the luminance signal as at 66 (Y) and chrominance signal (U and V) need to be converted to RGB signal before an image representing the video signal can be displayed on monitor 67.
      <br/>
      Comb filter 62 is an important element of this invention, and will be described in detail in FIG. 11.
    </p>
    <p num="15">
      It is well known to those skilled in the art of video signal processing that an NTSC composite video signal is interposed with a color burst signal having a subcarrier frequency of 3.58 MHz. FIG. 4 shows a sample waveform of a color burst signal samples in 9 periods.
      <br/>
      The color burst signal has the same frequency as that of chrominance signal (C), but has a different position along a horizontal scan line.
      <br/>
      It has been mentioned that chrominance signal (C) can be represented by the equation:
      <br/>
      C=Ucos(t)+Vsin(t)=U2 +L +V2
    </p>
    <p num="16">
      where U2 +L +V2 represents the amplitude of chrominance signal (C), and determines the color saturation.
      <br/>
      Cos(t) and sin(t) are the phase difference with respect to color burst signal, and determine the color hue.
      <br/>
      When t falls in 0 (degree) , 90 (degree) , 180 (degree) , and 270 (degree) , the values of C can be obtained as:
      <br/>
      t=0 (degree) , C=U
      <br/>
      t=90 (degree) , C=V
      <br/>
      t=180 (degree) ,C=-U
      <br/>
      t=270 (degree) ,C=-V
    </p>
    <p num="17">The obtained C, which can be either U or V, are the demodulation of color difference C. The phase-locked loop 50 of this invention can accurately generates a sampling frequency which is 4 times of 3.58 MHz, and the phases of samples are 0 (degree) , 90 (degree) , 180 (degree) , or 270 (degree) .</p>
    <p num="18">
      FIG. 5 shows a configuration of a phase-locked-loop (PLL) according to the present invention, and the connection to other elements of the present invention.
      <br/>
      PLL 51 includes a phase comparator 52 and a phase error table 54.
      <br/>
      The digital video signal supplied by ADC 10 is coupled to phase comparator 52.
      <br/>
      Phase comparator 52, which corresponds to the supply of the color burst signal, compares the phases of a sequence of video signals.
      <br/>
      The comparison result is supplied to phase error table 54 for determining probable occurrences of errors in the input signal and in turn generates an error signal.
      <br/>
      The output end of phase error table 54 is coupled to a low pass filter 56 for a smoothed signal.
      <br/>
      The output of low pass filter 56 is supplied to a cascaded connected voltage-controlled oscillator 58 and ADC 10 for analog to digital conversion.
    </p>
    <p num="19">
      FIG. 6 shows a block diagram of the phase comparator 52 of the present invention.
      <br/>
      Phase comparator 52 includes a 2nd register 522, a 1st register 521, and a 0th register 520 for storing a sequence of three video signals representing three samples transmitted from ADC 10.
      <br/>
      The outputs of 2nd register 522, 1st register 521, and 0th register 520 are designated as n2, n1 and n0 respectively.
      <br/>
      The minuend input terminal of a subtracter 527 is coupled to receive n2 signal from 2nd register 522, and subtrahend input terminal to receive n0 signal from 0th register 520.
      <br/>
      Subtracter 527 performs the arithmetic operation of subtraction by subtracting n0 from n2.
      <br/>
      An error signal (Error) representing the difference between the 1st signal and the 3rd signal of a sequence is generated by subtracter 527 and coupled to phase error table 54.
      <br/>
      Phase comparator 52 further includes a 1st comparator 524 for comparing the phases of n0 and n1, and a 2nd comparator 525 for comparing the phases of n1 and n2.
      <br/>
      The comparison results of 1st comparator 524 and 2nd comparator 525 are coupled to respective input terminals of an exclusive OR circuit (XOR) 526 which produces a enabling signal (EN).
      <br/>
      The enabling signal controls the output of error signal (Error).
    </p>
    <p num="20">
      FIG. 7 shows a waveform of a color burst signal with positive phase and negative phase, for the purpose of explaining the relationship between the result of phase comparison and sampling frequency.
      <br/>
      There exist two conditions in the phase comparison result and sampling frequency:
    </p>
    <p num="21">Condition I: (when n1&lt;n0 and n1&lt;n2, the waveform is in negative phase)</p>
    <p num="22">
      a.
      <br/>
      If n2&gt;n0, the phase of sampling clock signal lags, and the sampling frequency is to be increased.
    </p>
    <p num="23">b. If n2&lt;n0, the phase of sampling clock signal leads, and the sampling frequency is to be decreased.</p>
    <p num="24">Condition II: (when n1&gt;n0 and n1&gt;n2, the waveform is in positive phase)</p>
    <p num="25">
      a.
      <br/>
      If n2&gt;n0, the phase of sampling clock signal leads, and the sampling frequency is to be decreased.
    </p>
    <p num="26">b. If n2&lt;n0, the phase of sampling clock signal lags, and the sampling frequency is to be increased.</p>
    <p num="27">Under Condition I or Condition II exclusively, the output of exclusive OR circuit (XOR) 526, EN is set to high to enable the transfer of Error signal from subtracter 527 to phase error table 54.</p>
    <p num="28">
      In one embodiment of this invention, the error signal representing the phase difference of signals n0 and n2 is generated by subtracter 527 in 8 bits.
      <br/>
      The value of the phase difference ranges from 0 to 255 in decimal.
      <br/>
      However voltage-controlled oscillator 58 responds to a 3-bit signal.
      <br/>
      Phase error table 54 is established in between the phase comparator 52 and voltage-controlled oscillator 58 to transform the 8-bit signal of phase difference into corresponding 3-bit control signal.
      <br/>
      FIG. 8 shows an embodiment of phase error table 54 according to this invention.
      <br/>
      In FIG. 8, when the absolute value of n2-n0 (ABS(n2-n0)) is either 0 or 1, the output control value of voltage-controlled oscillator 58 is set to high impedance; in the case of 4 or 5, output control value "101," and in the case of -4 or -5, output control value "010."
    </p>
    <p num="29">
      Referring to FIG. 5, the output of phase error table 54 is coupled to low pass filter 56 for a smoothed signal.
      <br/>
      A digital to analog conversion according to FIG. 9 is first applied to the output signal of phase error table 54 before the signal can be accepted by low pass filter 56 for further processing.
      <br/>
      FIG. 9 shows the conversion of a 3-bit digital signal, ranging from "000" to "111," with central frequency of 14.318 MHz, to an analog signal ranging from 0 V to 5 V. The central frequency of 14.318 MHz corresponds to the high impedance of FIG. 8, with analog voltage signal around 2.2 V. According to FIG. 9, if the input voltage of voltage-controlled oscillator 58 is greater than 2.2 V of the 14.318 MHz central frequency, the output frequency of voltage-controlled oscillator 58 is higher than the central frequency, i.e. 14.318 MHz. Conversely, if the input voltage of voltage-controlled oscillator 58 is smaller than 2.2 V, the output frequency of voltage-controlled oscillator 58 will be lower than 14.318 MHz. For the purpose of digital to analog conversion, a digital to analog converter constructed with a resister matrix in a conventional way can be employed.
      <br/>
      In addition, low pass filter 56 of FIG. 5 integrates the input voltages to reduce the ripple component and generates an output voltage-controlled oscillator 58.
    </p>
    <p num="30">
      According to NTSC, a video frame is composed of an odd field and an even field.
      <br/>
      FIG. 10 shows a pictorial representation of a NTSC video frame signal.
      <br/>
      The two phases of the color sub-carriers of two adjacent odd fields or two adjacent even fields are opposite to each other; i.e. one phase is 180 degrees off another phase.
    </p>
    <p num="31">
      FIG. 10 illustrates a video frame A which is composed of field 1 and field 2, and a video frame B of field 3 and field 4.
      <br/>
      Field 1 and field 3 are designated as odd fields, and field 2 and field 4 as even fields.
      <br/>
      While in a displayed image the scanning lines of field 1 and field 3 are at the same location, the phases of color sub-carriers of field 1 and field 3 are 180 degrees off each other.
      <br/>
      For the purpose of processing video signal by a comb filter in a three-dimensional way, a time domain is added into the processing in addition to conventional X axis and Y axis of an image.
      <br/>
      A conventional comb filter samples the video signal of two adjacent scanning lines without considering the resolution of the vertical direction, and is therefore can not avoid the problem of false color at the edge of an image.
    </p>
    <p num="32">
      FIG. 11 shows the functional block of an embodiment of comb filter 62 according to the present invention, and its connection to peripheral elements.
      <br/>
      The detail operation of comb filter 62 is described as follows.
      <br/>
      A NTSC composite video signal, phase locked by PLL 50 and converted by ADC 10 to a digital signal, is supplied to a frame buffer 622.
      <br/>
      The samples of a composite video signal stored in frame buffer 622 are arranged in a matrix form, as shown in FIG. 12. FIG. 12 illustrates a matrix of video signal samples representing successive chrominance and luminance components from portions of successive horizontal lines of a NTSC video signal.
      <br/>
      By convention component Y represents the luminance contribution, and components U and V represent (B-Y) and (R-Y) color difference signals respectively.
      <br/>
      FIG. 13 shows the sample distribution of a static image resulting from sampling the video signal of adjacent frame at the same location.
      <br/>
      The data of FIG. 13 shows the characteristic of 180 degrees off the phases of chrominance components of FIG. 12.
    </p>
    <p num="33">
      The operation of separating a luminance signal and a chrominance signal from a video signal by means of comb filter 62 is described in reference to FIG. 11, FIG. 12, and FIG. 13. Every element of the matrix in FIG. 13 is subtracted by the element of the matrix of FIG. 12 located at the same location through a 1st subtracter 624.
      <br/>
      The resulting difference is multiplied by 1/2 by means of a multiplier 628.
      <br/>
      The output of multiplier 628 represents the color difference (U or V) of every pixel of the sampled video signal.
      <br/>
      The chrominance component, the C term, of each sampled data in FIG. 13 is eliminated through a 2nd subtracter 626.
      <br/>
      The output of the 2nd subtracter 626 is the luminance component, the Y term, of the video signal.
      <br/>
      To apply a composite video signal to comb filter 62 of FIG. 11 for Y/C separation, a pixel of the current video frame is defined as m, and that of the previous frame as n. The color signal C is obtained by plugging in m and n to the formula: (m -n) / 2=C.
      <br/>
      The luminance signal is obtained by applying the formula: n-C=Y.
      <br/>
      The Y/C separation is thus achieved by the circuit shown in FIG. 11 embodied the comb filter of this invention.
    </p>
    <p num="34">
      According to a study that human eyes are more sensitive to the luminance component of a video signal than to the chrominance component.
      <br/>
      It therefore to doubling the sampling of the luminance component of a video signal, the Y contribution, can greatly increase the resolution of a static image.
    </p>
    <p num="35">
      It is therefore an object of the present invention to employ the circuit of FIG. 14 to double the sampling of the luminance component of a video signal.
      <br/>
      Compared with the embodiment of this invention shown in FIG. 2, the embodiment of FIG. 14 further includes a double sampling circuit 55.
      <br/>
      Double sampling circuit 55 comprises a multiplexer 552 and an inverter 554.
      <br/>
      The clock signal generated by PLL 50 is coupled to multiplexer 552 and inverter 554 to concurrently provide sampling clock signal (SCLK).
      <br/>
      SCLK inverted by inverter 554 is connected to one input terminal of multiplexer 552.
      <br/>
      Another input terminal of multiplexer 552 is coupled to control unit 40 which conditions multiplexer 552 to output sampling clock signal of positive and negative phase to ADC 10 for video signal sampling with a sampling frequency of 14.318 MHz. Thus as the luminance component of a video signal is double sampled, the overall resolution of an image is increased.
    </p>
    <p num="36">
      FIG. 15 is a waveform showing the luminance component (Y) of a video signal sampled according to sampling clock signal provided by double sampling circuit 55 of FIG. 14. Control unit 40 conditions double sampling circuit 55 to output two sampling clock signals of opposite phases.
      <br/>
      ADC 10 samples signal at the rising edge of one sampling clock signal, as indicated by solid arrow, and then at the rising edge of another sampling clock signal, as indicated by the dashed arrow, alternately.
      <br/>
      Thus the sampling frequency is doubled.
    </p>
    <p num="37">
      While the description above refers to particular embodiments of the present invention, it will be understood that many modifications may be made without departing from the spirit thereof.
      <br/>
      The accompanying claims are intended to cover such modifications as would fall within the true scope and spirit of the present invention.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A video signal processing apparatus connectable to a personal computer for processing an analog NTSC composite video signal, said apparatus comprising:</claim-text>
      <claim-text>an analog to digital converter for converting said analog NTSC composite video signal into a digital signal represented in a binary form; a phase-locked loop connected to said analog to digital converter to form a feed back loop, said phase-locked loop generating a sampling clock signal having a frequency multiple-time of a color burst signal and in phase the color burst signal, and transmitting said sampling clock signal to said analog to digital converter; a first-in-first-out buffer coupled to said analog to digital converter for sequentially storing said digital signal converted by said analog to digital converter; a frame buffer with a predetermined capacity of multiple frames of digital video signal, connected to said first-in-first-out buffer; a control unit for providing said frame buffer and said first-in-first-out buffer timing signal, an output terminal of said control unit connected to the phase-locked loop for controlling the phase of the sampling clock signal;</claim-text>
      <claim-text>and a printer port interface connected to said frame buffer for transmission of said video signal and control signal from said video signal processing apparatus to said personal computer.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The video signal processing apparatus set forth in claim 1, wherein said phase-locked loop includes: a phase comparator for comparing the phases of two sampling video signals;</claim-text>
      <claim-text>and, a phase error table generating a phase error signal according to the comparison result of said phase comparator, by looking into a predefined table.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The video signal processing apparatus set forth in claim 2 further comprising: a low pass filter which generates a sampling clock signal by integrating the phase error signal supplied by said phase error table;</claim-text>
      <claim-text>and, a voltage-controlled oscillator generating a sampling clock signal by transforming voltage.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The video signal processing apparatus set forth in claim 3, further comprising: an inverter which inverts the phases generated by said phase-locked loop;</claim-text>
      <claim-text>and, a multiplexer which multiplexes the phases generated by said phase-locked loop and said inverter for a double sampling signal.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The video signal processing apparatus set forth in claim 2, wherein said phase comparator includes: a 2nd register whose output is designated as n2, said 2nd register storing the last sampling video signal of three sampling video signals in sequence; a 1st register whose output is designated as n1, said 1nd register storing the second sampling video signal of three sampling video signals in sequence; a 0th register whose output is designated as n0, said 0th register storing the first sampling video signal of three sampling video signals in sequence; a 1st comparator with input terminal connected to said 0th register and said 1st register, comparing said n0 and n1; a 2nd comparator with input terminal connected to said 1th register and said 2st register, comparing said n1 and n2; a XOR gate coupled to the outputs of said 1st comparator and said 2nd comparator, responsive to the comparison result exclusively, and generating a signal for controlling the output of said phase error signal; a subtractor which generates said phase error signal according to the result of n2-n0.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The video signal processing apparatus set forth in claim 5, wherein said phase comparator generates comparison result according to the following conditions: condition I: (when n1&lt;n0 and n1&lt;n2, the sine wave of color burst signal falling in negative phase) a. in case of n2&gt;n0, a condition indicating that the phase of sampling clock signal lags, and the sampling frequency required to be increased; b. in case of n2&lt;n0, a condition indicating that the phase of sampling clock signal leads, and the sampling frequency required to be decreased; condition II: (when n1&gt;n0 and n1&gt;n2, the sine wave of color burst signal falling in positive phase) c. in case of n2&gt;n0, a condition indicating that the phase of sampling clock signal leads, and the sampling frequency required to be decreased; d. in case of n2&lt;n0, a condition indicating that the phase of sampling clock signal lags, and the sampling frequency required to be increased.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The video signal processing apparatus set forth in claim 5, wherein said comb filter includes: a frame buffer for storing said NTSC composite video signal which includes a luminance component signal Y, and a chrominance component U and V representing a (B-Y) color difference signal and a (R-Y) color difference signal respectively; a 1st subtractor coupled to said frame buffer and said composite video signal, substracting a sampled signal of the same location; a multiplier which generates a color signal C by multiplying the output of said 1st subtractor by 1/2 to obtain the color difference U or V of each pixel;</claim-text>
      <claim-text>and, a 2nd subtractor which subtracts each sampled signal by color signal C to obtain luminance signal Y, and thus achieving the separation of Y and C.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The video signal processing apparatus set forth in claim 1 further comprising a comb filter for separating said digital video signal into a chrominance component signal and a luminance component signal.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The video signal processing apparatus set forth in claim 8, wherein said comb filter includes: a frame buffer for storing said NTSC composite video signal which includes a luminance component signal Y, and a chrominance component U and V representing a (B-Y) color difference signal and a (R-Y) color difference signal respectively; a 1st subtractor coupled to said frame buffer and said composite video signal, substracting a sampled signal of the same location; a multiplier which generates a color signal C by multiplying the output of said subtractor by 1/2 to obtain the color difference U or V of each pixel;</claim-text>
      <claim-text>and, a 2nd subtractor which generates said luminance component signal Y by subtracting each said NTSC composite video signal from said frame buffer by said color signal C.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A phase-locked loop which can be implemented in an apparatus for controlling the sampling phases of video signal and stabling output frequency, said phase-locked loop includes: a phase comparator for comparing the phases of two sampling video signals; a phase error table generating a phase error signal according to the comparison result of said phase comparator, by looking into a predefined table; a low pass filter connected to said phase error table in cascade, reduce the ripple component of said phase-error signal by integration; a voltage-controlled oscillator connected to said low pass filter in cascade, to generate a sampling clock signal by voltage change.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The phase-locked loop set forth in claim 10, wherein said phase comparator includes: a 1st register whose output is designated as n1, said 1nd register storing the second sampling video signal of three sampling video signals in sequence; a 0th register whose output is designated as n0, said 0th register storing the first sampling video signal of three sampling video signals in sequence; a 1st comparator with input terminal connected to said 0th register and said 1st register, comparing said n0 and n1; a 2nd comparator with input terminal connected to said 1th register and said 2st register, comparing said n1 and n2; a XOR gate coupled to the outputs of said 1st comparator and said 2nd comparator, responsive to the comparison result exclusively, and generating a signal for controlling the output of said phase error signal; a subtractor which generates said phase error signal according to the result of n2-n0.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The phase-locked loop set forth in claim 10, further comprising a comb filter which process video signals in a three-dimensional way, by including the time domain into the processing in addition to X axis and Y axis, to avoid false color at the edge of image.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The comb filter set forth in claim 12, including: a frame buffer for storing an NTSC composite video signal which includes a luminance component signal Y, and a chrominance component U and V representing a (B-Y) color difference signal and a (R-Y) color difference signal respectively; a 1st subtractor coupled to said frame buffer and said composite video signal, substracting a sampled signal of the same location; a multiplier which generates a color signal C by multiplying the output of said 1st subtractor by 1/2 to obtain the color difference U or V of each pixel;</claim-text>
      <claim-text>and, a 2nd subtractor which subtracts each sampled signal by color signal C to obtain luminance signal Y, and thus achieving the separation of Y and C.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The phase-locked loop set forth in claim 10, further including a double resolution circuit for providing a static image with double resolution, by double sampling the luminance component Y of a video signal, said double resolution circuit connected between a phase-locked loop and an analog to digital converter.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The double resolution circuit set forth in claim 14, comprising an inverter which inverts the phases generated by said phase-locked loop; a multiplexer which multiplexes the phases generated by said phase-locked loop and said inverter for a double sampling signal.</claim-text>
    </claim>
  </claims>
</questel-patent-document>