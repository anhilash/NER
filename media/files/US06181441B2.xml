<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181441B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181441</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181441</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="22873949" extended-family-id="42107922">
      <document-id>
        <country>US</country>
        <doc-number>09232639</doc-number>
        <kind>A</kind>
        <date>19990119</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09232639</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43164253</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>23263999</doc-number>
        <kind>A</kind>
        <date>19990119</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09232639</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04N   1/193       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>193</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>358474000</text>
        <class>358</class>
        <subclass>474000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>358408000</text>
        <class>358</class>
        <subclass>408000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04N-001/19A</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>001</main-group>
        <subgroup>19A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04N-001/193</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>193</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>H04N-001/193Q</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>001</main-group>
        <subgroup>193Q</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/1903</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>1903</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/193</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>193</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/1934</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>1934</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>18</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>5</number-of-drawing-sheets>
      <number-of-figures>8</number-of-figures>
      <image-key data-format="questel">US6181441</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Scanning system and method for stitching overlapped image data by varying stitch location</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>CREAN PETER A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4149091</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4149091</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>HASEGAWA SHIZUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4691114</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4691114</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>MURAKAMI SHIGEO</text>
          <document-id>
            <country>US</country>
            <doc-number>4712134</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4712134</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>SUZUKI SHIGERU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4774592</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4774592</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>HORNBAKER III CECIL V, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5144448</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5144448</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>GUSMANO DONALD J</text>
          <document-id>
            <country>US</country>
            <doc-number>5532845</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5532845</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>BURKHARDT NORMAN S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4631598</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4631598</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>BURKHARDT NORMAN S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4972273</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4972273</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Xerox Corporation</orgname>
            <address>
              <address-1>Stamford, CT, US</address-1>
              <city>Stamford</city>
              <state>CT</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>XEROX</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Walsh, John F.</name>
            <address>
              <address-1>Rochester, NY, US</address-1>
              <city>Rochester</city>
              <state>NY</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Oliff &amp; Berridge, PLC</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Grant, II, Jerome</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A multi-scanning system or image processing system includes a plurality of sensors, each of the sensors scanning a portion of the document to produce image data.
      <br/>
      Each of the sensors overlaps adjacent ones of the sensors so that the image data includes overlapped image data.
      <br/>
      The image data from the sensors is stitched together to form a complete image.
      <br/>
      The stitching may be performed by a weighted averaging of the data or by varying stitch location within the data.
      <br/>
      This stitching is useful in eliminating visible image defects created the misalignment of pixels between adjacent sensors.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of Invention
    </p>
    <p num="2">
      The present invention is directed to a scanning system and image processing system and methods thereof for stitching together overlapped image data.
      <br/>
      More specifically the present invention is directed to such systems and methods that produce such overlapped image data from a plurality of overlapped sensors and stitch the overlapped image data together.
    </p>
    <p num="3">2. Description of Related Art</p>
    <p num="4">
      Modem full-width scanning systems typically use a system where a document to be scanned is stationary and the scanning system moves.
      <br/>
      A single mobile carriage is typically utilized to scan the entire document.
      <br/>
      The carriage system, conventionally, includes a full-width sensor array system and a light source.
      <br/>
      The sensor array system may be a CCD array that receives light reflected from the document and converts the light into electrical signals representing the intensity of the received light.
      <br/>
      The electrical signals are then passed on to an electronic subsystem which typically includes a controller that performs the necessary image processing operations to prepare the image data either for display on display devices such as a CRT, for storage on a storage device, or for recording or printing on a medium such as a document, if the system is part of a copier.
    </p>
    <p num="5">
      Another example of a scanning system is a constant velocity transport (CVT) scanning system where the document moves and the scanning system is stationary.
      <br/>
      In the CVT scanning system, a single stationary scanning system is utilized to scan the entire document, wherein the document is moved past the scanning system.
      <br/>
      This type of scanning system, conventionally, includes a full-width CCD sensor array system and a light source.
      <br/>
      As in the full-width scanning system described above, a CVT scanning system has the full-width CCD sensor array receive light reflected from the document and it converts the light into electrical signals representing the intensity of the received light.
      <br/>
      Electrical signals are then passed on to an electronic subsystem controller which performs the necessary image processing operation so as to prepare the image data either for display, storage or recording as described above.
    </p>
    <p num="6">
      Conventional scanning systems may utilize multiple sensors, or sensor arrays, to create a full-width scanning system.
      <br/>
      Typically, such a scanning system may include a plurality of sensors that are overlapped with each other, to provide a full-width scan.
      <br/>
      These types of scanning systems have typically switched from one sensor to the next in the middle of the scanned line.
      <br/>
      However, because the individual pixels are very small, the pixels in the overlapping regions of the sensors are typically not precisely aligned from one sensor to the next.
      <br/>
      This pixel separation causes image defects, which are especially evident for halftone patterns in an original document that straddles the region where the sensors are overlapped and the system will switch from one sensor to another.
    </p>
    <p num="7">
      The conventional scanning systems have stitching circuits that typically simply switch from a first sensor (or channel) to a second sensor at some point in the overlapped region.
      <br/>
      For example, U.S. Pat. No. 5,532,845, assigned to the same assignee as the present application, and which is incorporated herein by reference in its entirety, discloses a digital scanner that includes a stitching circuit for putting two channels of image data together.
      <br/>
      This stitching circuit switches from the first channel to the second channel when it processes the overlapped scan lines using conventional stitching methods.
      <br/>
      This system does not account for a misalignment of pixels from one sensor to the next in the overlapped region.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="8">
      One aspect of the present invention is a multi-sensor scanning system or image processing system which includes a plurality of sensors each scanning a portion of a document to produce image data.
      <br/>
      Each of the sensors overlap adjacent sensors and the sensors thus produce overlapped image data.
      <br/>
      The image data is stitched together to form a complete image by performing a weighted averaging over the overlapped image data.
      <br/>
      The weighted averaging may be linear or non-linear.
    </p>
    <p num="9">
      Another aspect of the present invention is a scanning system or image processing system that includes a plurality of sensors, with each of the sensors scanning a portion of the document to produce image data.
      <br/>
      Each of the sensors overlap adjacent sensors so that the image data includes overlapped image data.
      <br/>
      The image data from the sensors is stitched together to form a compete image by varying a stitch location within the overlapped image data.
      <br/>
      A stitch location may be varied from scanline to scanline in the slowscan direction.
    </p>
    <p num="10">A more complete understanding of the present invention can be obtained by considering the following detailed description in conjunction with the accompanying drawings, wherein like index numerals indicate like parts.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="11">
      FIG. 1 is an illustration of overlapped sensors in a scanning or image processing system according to an embodiment of the present invention;
      <br/>
      FIG. 2 is an illustration of a scanning or image processing system according to an embodiment of the present invention;
      <br/>
      FIG. 3 is an illustration of a scanning system or and image processing system of a preferred embodiment of the present invention;
      <br/>
      FIG. 4 is an illustration of overlapped pixels in two sensors of a preferred embodiment of the present invention;
      <br/>
      FIG. 5 is an illustration of one scanline of image produced without the weighted averaging of the present invention;
      <br/>
      FIG. 6 is an illustration of one scanline of image produced with the weighted averaging of the invention;
      <br/>
      FIG. 7 is an illustration of an image produced without the weighted averaging or a varying of stitch location of the embodiments of the present invention; and
      <br/>
      FIG. 8 is an illustration of six scanlines of image data with the variation in stitch location of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
    <p num="12">
      FIG. 1 illustrates a scanning system or an image processing system of a preferred embodiment of the present invention.
      <br/>
      The scanning or image processing system may be part of a copier, scanner or other image processing system.
      <br/>
      The scanning system includes a platen support 18 which supports a platen glass 20 upon which a document 22 is placed.
      <br/>
      The document 22 is scanned by a single carriage assembly 10, which in the embodiment shown in the figure includes two sensors 12 and 14 each of which include a large number of pixels 16.
      <br/>
      Each sensor may include, for example, five thousand pixels, although other numbers of pixels per sensor may be used.
      <br/>
      As may be seen with reference to FIG. 1, the sensors 12 and 14 may be overlapped with a certain number of pixels overlapping pixels from the adjacent sensor.
    </p>
    <p num="13">
      Any number of overlapped sensors may be used in this manner.
      <br/>
      A preferred embodiment may use three overlapped sensors each having five thousand pixels.
      <br/>
      Such a three sensor scanner may be useful in an engineering scanner that may have a fast scan scanwidth of, for example, 36 inches.
      <br/>
      The system may use a certain number of pixels at the end of each sensor for registration purposes, although a system of the invention may dispense with these registration pixels.
      <br/>
      For example, a preferred embodiment of the system may use one hundred of the pixels at each end of the sensor for registration purposes.
      <br/>
      In addition, a certain number of non-registration pixels in each of the sensors 12 and 14 will overlap each other in the central area where the two sensors overlap.
      <br/>
      The system of the present invention takes image data from each of the overlapped non-registration pixels and stitches the image data together in the overlapped areas to form a complete image, as will be further described below.
    </p>
    <p num="14">
      FIG. 2 illustrates further details of the electronics used in the system of the present invention.
      <br/>
      As shown in FIG. 2, the sensors 14 and 16 are connected to a A/D converters 24, which receive analog image data from the sensors and convert it to digital image data.
      <br/>
      This digital image data is then fed to controller 26, which performs the necessary image processing to stitch the image data together in the area of the overlap.
      <br/>
      The controller 26 then outputs the complete image data, as further described below.
    </p>
    <p num="15">
      FIG. 4 illustrates twelve individual pixels from two overlapped image sensors.
      <br/>
      In particular, the pixels 30 may be from a first image sensor, such as sensor 14, and the pixels 32 may be from a second sensor, such as sensor 16.
      <br/>
      The arrows at the end of each of the pixels 30 and 32 indicate additional pixels would extend in the direction of the arrow for the corresponding sensor.
      <br/>
      As may be seen with reference to FIG. 4, these overlapped pixels are misaligned in a vertical direction.
      <br/>
      In conventional systems, a stitching circuit was employed that would switch from a first one of the image sensors to a second one of the image sensors at some point in the overlap region, selecting pixels from the first image sensor at this point and selecting pixels from the second image sensor after this point.
      <br/>
      For example, the pixels 30 from the first image sensor could be selected up until point 34 and the pixels 32 from the second image sensor could be selected starting at the point 36, which would yield pixels forming an image as shown in prior art FIG. 5.
      <br/>
      Because of the misalignment of the pixels, a gap of missing image data would be formed when switching from a first sensor to the second sensor due to this misalignment.
      <br/>
      This gap is illustrated in FIG. 5 as element 38.
      <br/>
      By repeatedly scanning with the overlapped sensors, individual scanlines would be formed, such as scanlines 40 shown in FIG. 7.
      <br/>
      A gap of missing image data similar to the gap 38 shown in FIG. 5 would be formed in each of the scanlines, resulting in a gap 42 formed in the image at a location corresponding to a position where a stitching circuit switches from a first overlapped sensor to a second overlapped sensor.
      <br/>
      This gap 42 of missing image data would be formed on the entire image, resulting in a visible image defect, especially if the gap of missing image data occurs at a point in the image where the brightness or gray level is changing quickly.
    </p>
    <p num="16">
      If more than two overlapped sensors were used, then more than one gap in image data would be formed in the image.
      <br/>
      For example, if three sensors are used, then two gaps would be formed, in the location corresponding to each of the positions where the sensors are overlapped where the system switches from image data from one sensor to image data from another sensor.
      <br/>
      These gaps result in undesirable image defects due to the quickly changing brightness levels.
    </p>
    <p num="17">
      The present invention includes embodiments utilizing several ways of eliminating these undesirable image defects.
      <br/>
      For example, a first embodiment of the present invention utilizes an apparatus and method that averages positions of corresponding pixels of the two overlapped sensors in the overlapped area, gradually shifting the image source from one sensor to the other, to spread out the above-described gap and residual defects created thereby.
      <br/>
      The positions and brightness of pixels from the sensors in the overlapped area are averaged.
      <br/>
      In particular, the system of this embodiment will spread out the stitch location to minimize the impact of the above-described defect.
      <br/>
      Pixels 44 shown in FIG. 6 are the resultant pixels that were produced by this embodiment of the invention, which have the gap 38 shown in FIG. 5 spread out to eliminate the visual defect.
      <br/>
      The following notations are now introduced for convenience.
      <br/>
      First, SP (sensor -, pixel -) describes the source pixel SP from the overlapped sensors that will produce the resultant pixel RP (pixel -) that will be used to produce an image.
      <br/>
      For example, in the prior art embodiment shown in FIG. 5, if each sensor has five thousand pixels, and one hundred pixels at the end of each sensor are used for registration, then the following could illustrate a three sensor system;
      <br/>
      RP(0)=SP(1,100)
      <br/>
      RP(1)=SP(1,101)
      <br/>
      RP(4799)=SP(1,4899)
      <br/>
      RP(4800)=SP(2,100)
      <br/>
      RP(4801)=SP(2,101)
      <br/>
      RP(9599)=SP(2,4899)
      <br/>
      RP(9600)=SP(3,100)
      <br/>
      RP(9601)=SP(3,101)
      <br/>
      RP(14399)=SP(3,4899)
    </p>
    <p num="18">
      The first line of this data shows that resultant pixel 0 would be the 100th pixel from the first sensor.
      <br/>
      Pixels 0 to 99 are used for registration purposes as described above.
      <br/>
      Resultant pixel 4799 would be the 4899th pixel from the first sensor.
      <br/>
      The 4800th resultant pixel would be the 100th pixel from the second sensor.
      <br/>
      Pixels 4900 to 4999 may also be used for registration.
      <br/>
      Before the 4800th resultant pixel would be the gap 38 illustrated in FIG. 5.
      <br/>
      If the sensors were perfectly aligned, this would not result in a gap in image data such as the gap 38 shown in FIG. 5.
      <br/>
      However, because this very precise alignment of pixels from one sensor to another is extremely difficult, the present invention uses the weighted averaging method set forth in the example described below to compensate for the misalignment of the sensors, as shown in FIG. 4.
      <br/>
      This example of weighted averaging is shown below.
    </p>
    <p num="19">
      RP(0)=SP(1,100)
      <br/>
      RP(1)=SP(1,101)
      <br/>
      RP(4795)=SP(1,4895)
      <br/>
      RP(4796)=SP(1,4896)*0.9+SP(2,96)*0.1
      <br/>
      RP(4797)=SP(1,4897)*0.8+SP(2,97)*0.2
      <br/>
      RP(4798)=SP(1,4898)*0.7+SP(2,98)*0.3
      <br/>
      RP(4799)=SP(1,4899)*0.6+SP(2,99)*0.4
      <br/>
      RP(4800)=SP(1,4900)*0.5+SP(2,100)*0.5
      <br/>
      RP(4801)=SP(1,4901)*0.4+SP(2,101)*0.6
      <br/>
      RP(4802)=SP(1,4902)*0.3+SP(2,102)*0.7
      <br/>
      RP(4803)=SP(1,4903)*0.2+SP(2,103)*0.8
      <br/>
      RP(4804)=SP(1,4904)*0.1+SP(2,104)*0.9
      <br/>
      RP(4805)=SP(2,105)
    </p>
    <p num="20">
      This example shows a stitch region from resultant pixel RP(4796) to resultant pixel RP(4804).
      <br/>
      In particular, resultant pixel (4795) is generated by taking the position and brightness from the source pixel 4895 from the first sensor.
      <br/>
      The next resultant pixel RP(4796) starts the weighted averaging by multiplying source pixel (position and brightness) 4896 from the first bar times 0.9 and adding that to source pixel SP 96 from the second bar times 0.1, as may be seen in the fourth line of the above example.
      <br/>
      Further lines of this example show a linear weighted average gradually shifting the results from the first sensor to the second sensor.
      <br/>
      This allows the gap 38 shown in FIG. 5 to be spread evenly between the overlapping pixels to eliminate the image defect.
      <br/>
      The procedure may be applied to any desired number of overlapping sensors to eliminate the above-described image defect.
      <br/>
      Additionally, the linear nature of this averaging may be extended to more or less than 10 pixels and/or into pixel weighting schemes that vary in the non-linear fashion.
    </p>
    <p num="21">
      The position and brightness for each pixel can be described as (position, brightness) or (X, Y), where X is position and Y is brightness (or gray level).
      <br/>
      The X direction will be defined as the direction of the right pointing arrow in FIG. 5.
      <br/>
      The X position can be measured from any reference point, such as from a left side of the leftmost pixel to a defined position on the pixel of interest, such as a center of the pixel of interest.
    </p>
    <p num="22">
      If there is a large gap between two of the X values, especially when switching from one sensor to another, there may be a large difference between the corresponding Y values.
      <br/>
      When the resultant image is printed, the two X pixels that were far apart will be printed right next to each other.
      <br/>
      The corresponding large Y difference will cause an image quality defect that may be noticeable and objectionable to observers of the image.
      <br/>
      The weighted averaging of the invention prevents these defects.
    </p>
    <p num="23">By averaging the Y values that correspond to two X values, we determine what the Y value would have been half way in between the two X values.</p>
    <p num="24">Consider the following example:</p>
    <p num="25">A pixel at position X1 senses a brightness Y1 :</p>
    <p num="26">
      X1 = 1.000 inches
      <br/>
      Y1 = 174 brightness units
    </p>
    <p num="27">
      A pixel at position X2 senses a brightness Y2 :
      <br/>
      X2 = 1.004 inches
      <br/>
      Y2 = 178 brightness units
    </p>
    <p num="28">
      Assume that we want to find the brightness of a pixel at position 1.002 inches (half way between X1 and X2) would be:
      <br/>
      XResult =(X1 +X2)/2
    </p>
    <p num="29">
      Therefore:
      <br/>
      YResult =(Y1 +Y2)/2
    </p>
    <p num="30">
      Another way to write these same equations is:
      <br/>
      XResult=X1 *0.5+X2 *0.5
    </p>
    <p num="31">
      Therefore:
      <br/>
      YResult =Y1 *0.5+Y2 *0.5
    </p>
    <p num="32">Plugging in the above values for Y1 and Y2 :  (Equation image '1' not included in text)</p>
    <p num="33">
      Therefore, assuming that we are in an image area of smooth brightness level transition, a pixel half way in between X1 and X2 would have a brightness value of approximately 176 brightness units. (The value is only approximate because we have specified only a smooth transition of brightness values, which is all that we can hope for in a real world image.
      <br/>
      The value would be exact if the brightness level transition were linear and if there were no quantization errors --errors caused by rounding in the analog to digital converter --involved in determining the known brightness values.)
    </p>
    <p num="34">If we want to determine what the pixel value would be at a position other than the position exactly in between two known pixels, we need to use weighted averaging.</p>
    <p num="35">Consider the following example:</p>
    <p num="36">
      Given the same values for X1, Y1, X2 and Y2 from the previous example, what would the gray level be at location 1.003 inches (three quarters of the way toward X2 from X1,)?
      <br/>
      XResult =X1 *0.25+X2 *0.75
    </p>
    <p num="37">
      Therefore:
      <br/>
      YResult =Y1 *0.25+Y2 *0.75
    </p>
    <p num="38">Plugging in the above values for Y1 and Y2 :  (Equation image '2' not included in text)</p>
    <p num="39">
      So, weighted averaging can be used to determine the brightness (Y) at any position (X) between two positions where the brightness is already known.
      <br/>
      This fact is used in this invention to determine the brightness level at a point between any two overlapping pixels, one from each bar.
    </p>
    <p num="40">
      Assume that the first bar has pixels located at 1.000 inches, 1.004 inches, 1.008 inches, 1.012 inches, and so on.
      <br/>
      Further assume that the second bar has pixels located at 1.002 inches, 1.006 inches, 1.010 inches, 1.014 inches, 1.018 inches, and so on.
    </p>
    <p num="41">
      We can use weighted averaging to determine the brightness level at positions 1.0045, 1.009, and 1.0135 inches, as follows:
      <br/>
      XResult =X1 *0.75+X2 *0.25
      <br/>
      (1.0045=1.004*0.75+1.006*0.25)
    </p>
    <p num="42">
      Therefore:
      <br/>
      YResult =Y1 *0.75+Y2 *0.25
      <br/>
      Yat 1.0045 =Yat 1.004 *0.75+Yat 1.006 *0.25
    </p>
    <p num="43">
      Similarly:
      <br/>
      XResult =X1 *0.5+X2 *0.5
      <br/>
      (1.009=1.008*0.5+1.010*0.5)
    </p>
    <p num="44">
      Therefore:
      <br/>
      YResult =Y1 0.5+Y2 * 0.5
      <br/>
      Yat 1.009 =Yat 1.008 *0.5+Yat 1.010 *0.5
    </p>
    <p num="45">
      Finally:
      <br/>
      XResult =X1 *0.25+X2 *0.75
      <br/>
      (1.0135=1.012*0.25+1.014*0.75)
    </p>
    <p num="46">
      Therefore:
      <br/>
      YResult =Y1 *0.25+Y2 *0.75
      <br/>
      Yat 1.0135 =Yat 1.012 *0.25+Yat 1.014 *0.75
    </p>
    <p num="47">
      The result is that we have four gaps that are .0005 inches wider than normal (0.0045 inches instead of 0.004 inches) as we transition between bars, instead of one gap that is 0.002 inches wider than normal (0.006 inches instead of 0.004 inches).
      <br/>
      As previously stated, the larger the gap is (relative to the gap between normal pixels), the larger the brightness level jump will be, relative to the brightness level jumps between normal pixels.
      <br/>
      A single large brightness jump would be much more noticeable to an image observer than several smaller jumps.
      <br/>
      The purpose of this invention is to produce an image with several small jumps instead of one large jump.
    </p>
    <p num="48">
      Finally, in these examples, a transition region of four pixels is used.
      <br/>
      Elsewhere in this application, ten pixel transition regions are used and other numbers may be used as desired.
      <br/>
      There are computational and image quality tradeoff's involved in the decision about how large the transition region should be.
    </p>
    <p num="49">
      A further embodiment of the invention uses a slightly different system and method to eliminate undesirable image defects caused by the gap 38 or gap 42 shown in FIGS. 5 and 7, respectively.
      <br/>
      This embodiment is illustrated in FIG. 3.
      <br/>
      This embodiment is similar to the embodiment illustrated in FIG. 2 except that instead of controller 26, it includes a counter 48 and controller 50.
      <br/>
      In this embodiment, the two sensors 14 and 16 feed their analog data to A/D converters 24, which convert the analog data into digital data and output it, in the same manner as the first described embodiment.
      <br/>
      However, in contrast to the first described embodiment, this preferred embodiment will vary the stitch location from scanline to scanline to produce a resultant image such as image 50 shown in FIG. 8.
      <br/>
      The image 50 is produced by varying the location of the gap 52 from scanline to scanline to minimize visible effects in the image produced therefrom.
      <br/>
      Like the first embodiment, the gap 52 is produced due to the misalignment of pixels between overlapped sensors.
      <br/>
      The gap is produced when the image data is shifted from a first sensor to a second sensor.
      <br/>
      By varying the location of the gap 52, the visible image defects produced therefrom may be reduced.
    </p>
    <p num="50">
      Referring again to FIG. 3, the controller 50 controls counter 48 to select one of the outputs from the two A/D converters 24 to vary the location and timing of switching from the first sensor to the second sensor (the stitch location).
      <br/>
      The counter then outputs the data which results in the image shown in FIG. 8.
    </p>
    <p num="51">
      Various modifications may be made to the embodiments disclosed and described above without departing from the spirit and scope of the invention set forth in the following claims.
      <br/>
      For example, in the embodiment shown in FIG. 3, instead of the counter 48 used to vary the timing of switching from the first sensor to the second sensor (the stitch location) one could use any electronic or software means that could vary the location of the gap 52 in the resultant image.
      <br/>
      For example, a random number generator could be used that could switch the location based on a random value generated therefrom.
      <br/>
      Additionally, the embodiments of FIG. 2 and FIG. 3 could be used together.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A multi-sensor scanning system for scanning a document, comprising:</claim-text>
      <claim-text>a plurality of sensors, each of the sensors scanning a portion of the document to produce image data, the image data having a plurality of scanlines, each of the sensors overlapping adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and a controller that stitches the overlapped image data together to form a complete image by varying a stitch location within the overlapped image data, such that the stitch location for at least one scanline is different from the stitch location for at least one other scanline.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The multi-sensor scanning system of claim 1, wherein the controller stitches the overlapped image data together by selecting first overlapped image data from a first one of the sensors and switching, at the stitch location, to second overlapped image data from a second one of the sensors, and stitching the first overlapped image data to the second overlapped image data.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The multi-sensor scanning system of claim 1, wherein the controller produces the complete image by compiling a number of scanlines in a slowscan direction, and the controller varies the stitch location from scanline to scanline.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The multi-sensor scanning system of claim 3, wherein pixels in a first one of the sensors overlap pixels in a second one of the sensors in a first direction and the pixels in the first one of the sensors are misaligned with the pixels in the second one of the sensors in a slowscan direction, the first direction being substantially perpendicular to the second direction.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An image processing system for processing image data produced from a document, comprising: a plurality of sensors, each of the sensors scanning a portion of the document to produce image data, the image data having a plurality of scanlines, each of the sensors overlapping adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and a controller that stitches the overlapped image data together to form a complete image by varying a stitch location within the overlapped image data, such that the stitch location for at least one scanline is different from the stitch location for at least one other scanline.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The image processing system of claim 5, wherein the controller stitches the overlapped image data together by selecting first overlapped image data from a first one of the sensors and switching, at the stitch location, to second overlapped image data from a second one of the sensors, and stitching the first overlapped image data to the second overlapped image data.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The image processing system of claim 5, wherein the controller produces the complete image by compiling a number of scanlines in a slowscan direction, and the controller varies the stitch location from scanline to scanline.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The image processing system of claim 7, wherein pixels in a first one of the sensors overlap pixels in a second one of the sensors in a first direction and the pixels in the first one of the sensors are misaligned with the pixels in the second one of the sensors in a slowscan direction, the first direction being substantially perpendicular to the second direction.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The image processing system of claim 5, wherein the image processing system is a digital scanner.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The image processing system of claim 5, wherein the image processing system is a copier.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. A method of scanning a document with a multi-sensor scanning system having a plurality of sensors, each of the sensors having a plurality of pixels, comprising: a plurality of sensors, each of the sensors scanning a portion of the document to produce image data, the image data having a plurality of scanlines, each of the sensors overlapping adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and scanning a portion of the document with each of the sensors to produce image data, a portion of the pixels of each of the sensors overlapping pixels of adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and receiving the image data from the plurality of sensors;</claim-text>
      <claim-text>and stitching the overlapped image data together to form a complete image by varying a stitch location within the overlapped image data, such that the stitch location for at least one scanline is different from the stitch location for at least one other scanline.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The method of scanning a document of claim 11, wherein stitching the overlapped image data together comprises: selecting first overlapped image data from a first one of the sensors and switching, at the stitch location, to second overlapped image data from a second one of the sensors;</claim-text>
      <claim-text>and stitching the first overlapped image data to the second overlapped image data.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The method of scanning a document of claim 11, wherein forming the complete image comprises compiling a number of scanlines in a slowscan direction, and varying the stitch location from scanline to scanline.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The method of scanning a document of claim 13, wherein pixels in a first one of the sensors overlap pixels in a second one of the sensors in a first direction and the pixels in the first one of the sensors are misaligned with the pixels in the second one of the sensors in a slowscan direction, the first direction being substantially perpendicular to the second direction.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. A method of processing image data produced from a document with an image processing system, comprising: a plurality of sensors, each of the sensors scanning a portion of the document to produce image data, the image data having a plurality of scanlines, each of the sensors overlapping adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and scanning a portion of the document with each of the sensors to produce image data, each of the sensors overlapping adjacent ones of the sensors so that the image data includes overlapped image data;</claim-text>
      <claim-text>and receiving the image data from the plurality of sensors;</claim-text>
      <claim-text>and stitching the overlapped image data together to form a complete image by varying a stitch location within the overlapped image data, such that the stitch location for at least one scanline is different from the stitch location for at least one other scanline.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The method of processing image data of claim 15, wherein stitching the overlapped image data together comprises: selecting first overlapped image data from a first one of the sensors and switching, at the stitch location, to second overlapped image data from a second one of the sensors;</claim-text>
      <claim-text>and stitching the first overlapped image data to the second overlapped image data.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The method of processing image data of claim 15, wherein forming the complete image comprises compiling a number of scanlines in a slowscan direction, and varying the stitch location from scanline to scanline.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The method of processing image data of claim 17, wherein pixels in a first one of the sensors overlap pixels in a second one of the sensors in a first direction and the pixels in the first one of the sensors are misaligned with the pixels in the second one of the sensors in a slowscan direction, the first direction being substantially perpendicular to the second direction.</claim-text>
    </claim>
  </claims>
</questel-patent-document>