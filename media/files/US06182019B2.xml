<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06182019B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06182019</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6182019</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="24000980" extended-family-id="2551424">
      <document-id>
        <country>US</country>
        <doc-number>08879396</doc-number>
        <kind>A</kind>
        <date>19970620</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08879396</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>2655076</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>87939697</doc-number>
        <kind>A</kind>
        <date>19970620</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997US-08879396</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>50316695</doc-number>
        <kind>A</kind>
        <date>19950717</date>
        <priority-linkage-type>B</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1995US-08503166</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01F   1/34        20060101ALI20060310RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>34</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20060310</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01F   1/00        20060101AFI20060310RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20060310</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G01F   1/36        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>36</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>G01F   1/50        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>50</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>G01F   1/88        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>88</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>G01F  15/02        20060101ALI20060310RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>15</main-group>
        <subgroup>02</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20060310</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>702100000</text>
        <class>702</class>
        <subclass>100000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>702138000</text>
        <class>702</class>
        <subclass>138000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01F-001/36A</text>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>001</main-group>
        <subgroup>36A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G01F-001/50</text>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>50</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G01F-001/88</text>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>88</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01F-001/50</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>50</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20131221</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01F-001/363</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>363</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20131221</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01F-001/88</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>1</main-group>
        <subgroup>88</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20131221</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01F-015/024</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>15</main-group>
        <subgroup>024</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20131219</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01F-015/063</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>F</subclass>
        <main-group>15</main-group>
        <subgroup>063</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20131219</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>38</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>9</number-of-drawing-sheets>
      <number-of-figures>13</number-of-figures>
      <image-key data-format="questel">US6182019</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Transmitter for providing a signal indicative of flow through a differential producer using a simplified process</invention-title>
    <references-cited>
      <citation srep-phase="applicant">
        <patcit num="1">
          <text>TIVY VINCENT V</text>
          <document-id>
            <country>US</country>
            <doc-number>4249164</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4249164</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>HALL KENNETH R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4562744</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4562744</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>GINN LEROY D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4796651</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4796651</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>MIMS CHARLES R</text>
          <document-id>
            <country>US</country>
            <doc-number>4799169</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4799169</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>BRODEN DAVID A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5495769</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5495769</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>LOUWAGIE BENNETT L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5606513</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5606513</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <nplcit num="1">
          <text>Numerical Recipes, Cambridge University Press, Press et al. 1992, 650-651 and 664-666.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>"Orifice Metering Of Natural Gas and Other Related Hydrocarbon Fluid", Part 1, General Equations and Uncertainty Guidelines, American Gas Association, Report No. 3, American Petroleum Institute, API 14.3, Gas Processors Association, GPA 8185-90, Third Edition, Oct. 1990, A.G.A. Catalog No. XQ9017.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>"Orifice Metering Of Natural Gas and Other Related Hydrocarbon Fluid", Part 2, Specification and Installation Requirements, American Gas Association, Report No. 3, American Petroleum Institute, API 14.3, Gas Processors Association, GPA 8185-90, Third Edition, Feb. 1991, A.G.A. Catalog No. XQ9104.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="4">
          <text>"Orifice Metering Of Natural Gas and Other Related Hydrocarbon Fluid", Part 3, Natural Gas Applications, American Gas Association, Report No. 3, American Petroleum Institute, API 14.3, Gas Processors Association, GPA 8185-92, Third Edition, Aug. 1992, A.G.A. Catalog No. XQ9210.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="5">
          <text>"Orifice Metering Of Natural Gas and Other Related Hydrocarbon Fluid", Part 4, Background, Development, Implementation Procedure, and Subroutine Documentation for Empirical Flange-Tapped Discharge Coefficient Equation, American Gas Association, Report No. 3, American Petroleum Institute, API 14.3, Gas Processors Association, GPA 8185-92, Third Edition, Oct. 1992, 2nd Printing Aug. 1995, A.G.A. Catalog No. XQ9211.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="6">
          <text>"Compressibility Factors of Natural Gas and Other Related Hydrocarbon Gases", AGA Transmission Measurement Committee Report No. 8, American Petroleum Institute MPMS Chapter 14.2, Gas Research Institute, Catalog No. XQ9212, Second Edition, Nov. 1992, 2nd Printing Jul. 1994.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="7">
          <text>"Digital Computers For Gas Measuring Systems", by Robert D. Goodenough, 8131 Advances in Instrumentation, vol. 31, No. 4 (1976), pp. 1-4.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="8">
          <text>"Signal Transmission Put On A Pedestal", Control and Instrumentation, Sep., 1976, vol. 6, No. 8, pp. 28-29.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>50316695</doc-number>
              <kind>A</kind>
              <date>19950717</date>
            </document-id>
            <parent-status>ABANDONED</parent-status>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Rosemount Inc.</orgname>
            <address>
              <address-1>Eden Prairie, MN, US</address-1>
              <city>Eden Prairie</city>
              <state>MN</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>ROSEMOUNT</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Wiklund, David E.</name>
            <address>
              <address-1>Eden Prairie, MN, US</address-1>
              <city>Eden Prairie</city>
              <state>MN</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Westman, Champlin &amp; Kelly, P.A.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Hoff, Marc S.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A transmitter provides an output signal indicative of mass flow rate of fluid through a conduit.
      <br/>
      The transmitter includes a temperature sensor providing a temperature signal indicative of fluid temperature.
      <br/>
      A static pressure sensor provides a static pressure signal indicative of static pressure in the conduit.
      <br/>
      A differential producer provides a differential pressure signal.
      <br/>
      The transmitter also includes a controller which provides the output signal indicative of mass flow of the fluid through the conduit.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This is a continuation of application Ser.
      <br/>
      No. 08/503,166, filed Jul. 17, 1995 now abandoned.
    </p>
    <heading>REFERENCE TO CO-PENDING APPLICATION</heading>
    <p num="2">
      Reference is made to co-pending U.S. patent application Ser.
      <br/>
      No. 08/258,262, filed Jun. 9, 1994 now U.S. Pat. No. 5,606,513 entitled DIFFERENTIAL PRESSURE MEASUREMENT ARRANGEMENT UTILIZING DUAL TRANSMITTERS, and assigned to the same assignee as the present application, and to the U.S. patent applications referenced therein.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      The present invention deals with a transmitter in the process control industry.
      <br/>
      More particularly, the present invention deals with a simplified process, used in a transmitter, for providing an output signal indicative of flow through a differential producer.
    </p>
    <p num="4">
      Transmitters which sense various characteristics of fluid flowing through a conduit are known.
      <br/>
      Such transmitters typically sense and measure differential pressure, line pressure (or static pressure) and temperature of the process fluid.
      <br/>
      Such transmitters are typically mounted in the field of a refinery, or other process control industry installation.
      <br/>
      The field mounted transmitters are subject to significant constraints on power consumption.
      <br/>
      Such transmitters commonly provide an output in the form of a current representative of the variable being sensed.
      <br/>
      The magnitude of the current varies between 4-20 mA as a function of the sensed process variable.
      <br/>
      Therefore, the current available to operate the transmitter is less than 4 mA.
    </p>
    <p num="5">
      One way in which flow computation is done in industries such as the process control industry and the petroleum industry is through the use of dedicated flow computers.
      <br/>
      Such devices either use separate pressure, differential pressure and temperature transmitters or have sensing mechanisms housed in large enclosures.
      <br/>
      These devices are generally large and consume more power than 4 mA.
      <br/>
      Additionally, they are often limited to use in specialized applications such as the monitoring of hydrocarbons for custody transfer or at wellheads to monitor the output of gas or oil wells.
    </p>
    <p num="6">
      Another way in which flow computation is done is through the use of local control systems, often called programmable loop controllers (PLC).
      <br/>
      PLC's typically receive inputs from separate pressure, differential pressure and temperature transmitters and compute the flow based on these inputs.
      <br/>
      Such devices are often performing additional local control tasks such as the calculation of other variables required in the control of the plant or the monitoring of process variables for alarm purposes.
      <br/>
      The calculation of flow in these devices requires programming by the user.
    </p>
    <p num="7">
      A third way in which flow computation is done is through the use of large computers which control entire plants, often called distributed control systems (DCS).
      <br/>
      DCS's typically perform a wide range of tasks ranging from receiving inputs from field-based transmitters to computing the intermediate process variables such as flow or level, to sending positioning signals to final control elements such as valves, to performing the monitoring and alarm functions within the plant.
      <br/>
      Because of the wide range of tasks required and the typically high cost of DCS input/output capability, memory and computational time, it is common to do a flow computation that is not compensated for all of the effects due to changing process conditions.
    </p>
    <p num="8">
      One common means of measuring flow rate in the process control industry is to measure the pressure drop across a fixed restriction in the pipe, often referred to as a differential producer or primary element.
      <br/>
      The general equation for calculating flow rate through a differential producer can be written as:
      <br/>
      Q=NCd EY1 d2 ph  Equation 1
    </p>
    <p num="9">where</p>
    <p num="10">
      Q=Mass flow rate (mass/unit time)
      <br/>
      N=Units conversion factor (units vary)
      <br/>
      Cd =Discharge coefficient (dimensionless)
      <br/>
      E=Velocity of approach factor (dimensionless)
      <br/>
      Y1 =Gas expansion factor (dimensionless)
      <br/>
      d=Bore of differential producer (length)
      <br/>
      RHO =Fluid density (mass/unit volume)
      <br/>
      h=Differential pressure (force/unit area)
    </p>
    <p num="11">
      Of the terms in this expression, only the units conversion factor, which is a constant, is simple to calculate.
      <br/>
      The other terms are expressed by equations that range from relatively simple to very complex.
      <br/>
      Some of the expressions contain many terms and require the raising of numbers to non-integer powers.
      <br/>
      This is a computationally intensive operation.
    </p>
    <p num="12">
      In addition, it is desirable to have the transmitter operate compatibly with as many types of differential producers as possible.
      <br/>
      Implementing all of the calculations and equations needed for the conventional flow equation in order to determine flow based on the output of one differential producer (much less a plurality of different types of differential producers) requires computations which can only be reasonably performed by a processor which has a high calculation speed and which is quite powerful.
      <br/>
      Operation of such a processor results in increased power consumption and memory requirements in the transmitter.
      <br/>
      This is highly undesirable given the 4 mA power constraint or conventional transmitters.
      <br/>
      Therefore, current transmitter-based microprocessors, given the above power and memory constraints, simply do not have the capability of performing the calculations in any reasonable time period.
    </p>
    <p num="13">
      There has been some work done in obtaining a simplified discharge coefficient equation.
      <br/>
      However, this is only one small part of the flow equation.
      <br/>
      Even assuming the discharge coefficient is extremely simplified, implementing the flow equation accurately is still very difficult given the constraints on current transmitter-based microprocessors.
    </p>
    <p num="14">
      Other attempts have been made to simplify the entire flow equation.
      <br/>
      However, in order to make the flow equation simple enough that it can be implemented in transmitter-based microprocessors, the simplified flow equations are simply not very accurate.
      <br/>
      For example, some such simplified flow equations do not account for the discharge coefficient.
      <br/>
      Others do not account for compressibility, or viscosity effects.
    </p>
    <p num="15">
      Therefore, common transmitter-based microprocessors which are powered by the 4-20 mA loop simply do not accurately calculate flow.
      <br/>
      Rather, they provide outputs indicative of differential pressure across the orifice plate, static line pressure, and temperature.
      <br/>
      These variables are provided to a flow computer in a control room as mentioned above, which, in turn, calculates flow.
      <br/>
      This is a significant processing burden on the flow computer.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="16">
      A transmitter provides an output signal indicative of mass flow rate of fluid through a conduit.
      <br/>
      The transmitter includes a temperature sensor providing a temperature signal indicative of fluid temperature.
      <br/>
      A static pressure sensor provides a static pressure signal indicative of static pressure in the conduit.
      <br/>
      A differential producer provides a differential pressure signal.
      <br/>
      The transmitter also includes a controller which provides the output signal indicative of mass flow of the fluid through the conduit based on a plurality of simplified equations.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="17">
      FIG. 1 shows a transmitter according to the present invention connected to a pipe which conducts fluid therethrough.
      <br/>
      FIG. 2 is a block diagram, in partial schematic form of the transmitter according to the present invention.
      <br/>
      FIGS. 3A-3C graphically illustrate curve fit accuracy for the discharge coefficient used by the system according to the present invention.
      <br/>
      FIGS. 4A and 4B graphically illustrate curve fit accuracy of viscosity used according to the present invention.
      <br/>
      FIG. 5 illustrates the curve fit accuracy of the term Ed2 used according to the present invention.
      <br/>
      FIG. 6 graphically illustrates the curve fit accuracy of the gas expansion factor used according to the present invention.
      <br/>
      FIGS. 7A and 7B graphically illustrate the curve fit accuracy of fluid density for liquid used according to the present invention.
      <br/>
      FIGS. 8A and 8B graphically illustrate curve fit accuracy of fluid density for gas used according to the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="18">
      FIG. 1 is an illustration of a transmitter 10 according to the present invention.
      <br/>
      Transmitter 10 is coupled to a pipe 12 through pipe fitting or flange 14.
      <br/>
      Pipe 12 conducts flow of a fluid, either a gas or a liquid, in the direction indicated by arrow 16.
    </p>
    <p num="19">
      Transmitter 10 includes transmitter electronics module 18 and sensor module 22 which collectively house a transmitter more fully illustrated in FIG. 2.
      <br/>
      Transmitter electronics module 18 also preferably includes a boss 20 for accepting an input from a resistive temperature device (RTD), preferably a 100 ohm RTD which is typically inserted directly into the pipe or into a thermowell which is inserted into the pipe to measure the fluid temperature.
      <br/>
      The wires from the RTD are connected to one side of a terminal block in a temperature sensor housing 24.
      <br/>
      To the other side of the terminal block are connected wires which run through an electrical conduit 26 and are coupled to boss 20.
    </p>
    <p num="20">
      Sensor module 22 includes a differential pressure sensor and an absolute pressure sensor.
      <br/>
      The differential pressure sensor and absolute pressure sensor provide pressure signals to conditioning and digitizing circuitry, and to a linearizing and compensating circuit.
      <br/>
      The compensated, linearized and digitized signals are provided to the electronics module 18.
      <br/>
      The electronics module 18 in transmitter 10 provides an output signal indicative of process conditions of the process fluid flowing through pipe 12 to a remote location, by a 4-20 mA two-wire loop preferably formed using twisted pair conductors, through flexible conduit 28.
      <br/>
      In the preferred embodiment, transmitter 10 provides signals which are indicative of the three process variables (temperature, static pressure, and differential pressure) according to the HART.RTM. or Fieldbus Standards.
      <br/>
      Further, in accordance with the present invention, transmitter 10 also provides an output signal indicative of flow.
      <br/>
      The method of determining flow according to the present invention is significantly simplified over prior methods allowing the microprocessor in the electronics module of transmitter 10 to calculate flow without exceeding the power constraints on the microprocessor, and at acceptably fast update times.
    </p>
    <p num="21">
      FIG. 2 is a more detailed block diagram of sensor module 22 and electronics module 18 of transmitter 10.
      <br/>
      Sensor module 22 includes a strain gauge pressure sensor 30, differential pressure sensor 32 and temperature sensor 34.
      <br/>
      Strain gauge sensor 30 senses the line pressure (or static pressure) of fluid flowing through conduit 12.
      <br/>
      Differential pressure sensor 32 is preferably formed as a metal cell capacitance-based differential pressure sensor which senses the differential pressure across an orifice in conduit 12.
      <br/>
      Temperature sensor 34, as discussed above, is preferably a 100 ohm RTD sensor which senses a process temperature of fluid in pipe 12.
      <br/>
      While, in FIG. 1, sensor 34 and sensor housing 24 are shown downstream of transmitter 10, this is but one preferred embodiment, and any suitable placement of temperature sensor 34 is contemplated.
    </p>
    <p num="22">
      Sensor module 22 also preferably includes an analog electronics portion 36, and a sensor processor electronics portion 38.
      <br/>
      Electronics module 18 includes output electronics portion 40.
      <br/>
      Analog electronics portion 36 in sensor module 22 includes signal conditioning and power supply filtering circuitry 42, analog-to-digital (A/D) circuitry 44, and PRT 46.
      <br/>
      The analog signals received from sensors 30, 32 and 34 are provided to analog signal conditioning and power supply filtering circuitry 42.
      <br/>
      The analog signals are conditioned (such as amplified) and the conditioned analog signals are provided to A/D converter circuitry 44.
    </p>
    <p num="23">
      In a preferred embodiment, A/D converter circuitry 44 includes a plurality of voltage-to-digital converters, or capacitance-to-digital converters, or both (as appropriate) which digitize the analog input signals.
      <br/>
      Such converters are preferably constructed according to the teachings of U.S. Pat. Nos. 4,878,012; 5,083,091; 5,119,033 and 5,155,455; assigned to the same assignee as the present invention, and hereby incorporated by reference.
      <br/>
      In the embodiment shown in FIG. 2, three voltage-to-digital converters 48, 50 and 52, and one capacitance-to-digital converter 54 are shown.
      <br/>
      The voltage-to-digital converters 48 and 50 are used to convert the signals from sensors 30 and 34 into digital signals.
      <br/>
      The capacitance-to-digital converter 54 is used to convert the signal from capacitive pressure sensor 32 to a digital signal.
    </p>
    <p num="24">
      PRT 46 is preferably formed as a low cost, silicon-based PRT positioned proximate pressure sensors 30 and 32.
      <br/>
      PRT 46 provides a temperature signal indicative of the temperature proximate sensors 30 and 32.
      <br/>
      This temperature signal is provided to voltage-to-digital converter 52 where it is digitized.
      <br/>
      This digitized signal is then used to compensate the differential and line pressure signals for temperature variations.
      <br/>
      Analog signal conditioning and power supply filtering circuitry 42, the A/D converters 44 and PRT 46 are all preferably physically located proximate to, or on, a single circuit board housed in transmitter 10.
    </p>
    <p num="25">Once the analog signals are digitized by A/D converters 44, the digitized signals are provided to sensor processor electronics portion 38 as four respective sixteen bit wide outputs on any suitable connection or bus 56.</p>
    <p num="26">
      Sensor processor electronics portion 38 preferably includes a microprocessor 58, clock circuitry 60 and memory (preferably electrically erasable programmable read only memory, EEPROM) 62.
      <br/>
      Microprocessor 58 compensates and linearizes the process variables received from analog electronics portion 36 for various sources of errors and non-linearity.
      <br/>
      For instance, during manufacture of transmitter 10, pressure sensors 30 and 32 are individually characterized over temperature and pressure ranges, and appropriate correction constants are determined.
      <br/>
      These correction constants are stored in EEPROM 62.
      <br/>
      During operation of transmitter 10, the constants in EEPROM 62 are retrieved by microprocessor 58 and are used by microprocessor 58 in calculating polynomials which are, in turn, used to compensate the digitized differential pressure and static pressure signals.
    </p>
    <p num="27">
      Clock circuitry 60 is provided in sensor processor electronics portion 38 and provides clock signals to microprocessor 58, A/D circuits 44 and to other electronics as appropriate, in order to accomplish the desired operations.
      <br/>
      It should also be noted that the functionality of portions 36 and 38 can be combined into a single integrated circuit chip through application specific integrated circuit (ASIC) technology.
    </p>
    <p num="28">
      After the analog signals from sensors 30, 32 and 34 are digitized, compensated and corrected, the process variable signals are provided over a serial peripheral interface (SPI) bus 64 to output electronics portion 40 in electronics module 18.
      <br/>
      SPI bus 64 preferably includes power signals, two hand shaking signals and the three signals necessary for typical SPI signaling.
    </p>
    <p num="29">
      Output electronics module 40 preferably includes microprocessor 66, non-volatile memory 68, voltage regulator 72, modulator circuit 74, HART.RTM. protocol receiver 76 and loop current controller 78.
      <br/>
      In addition, output electronics portion 40 may optionally be coupled to a battery back-up circuit which provides battery power to the output electronics in case of failure of the power provided over the two-wire loop.
    </p>
    <p num="30">
      Microprocessor 66 receives the digitized, compensated process variables over SPI bus 64.
      <br/>
      In response, and as will be described in greater detail later in this specification, microprocessor 66 calculates the mass flow of fluid flowing through pipe 12 based on the process variables received over bus 64.
      <br/>
      This information is stored in non-volatile memory 68 which, preferably, is suitable for storing up to 35 days worth of mass flow data.
    </p>
    <p num="31">
      When requested, microprocessor 66 configures output electronics 40 to provide the mass flow data stored in non-volatile memory 68 over two-wire loop 82.
      <br/>
      Therefore, output electronics 40 is coupled at positive and negative terminals 84 and 86 to loop 82 which includes controller 88 (modeled as a power supply and a resistor).
      <br/>
      In the preferred embodiment, output electronics 40 communicates over two-wire loop 82 according to a HART.RTM. communications protocol, wherein controller 88 is configured as a master and transmitter 10 is configured as a slave.
      <br/>
      Other communications protocols common to the process control industry may be used, with appropriate modifications to the code used with microprocessor 66 and to the encoding circuitry.
      <br/>
      Communication using the HART.RTM. protocol is accomplished by utilizing HART.RTM. receiver 76.
      <br/>
      HART.RTM. receiver 76 extracts digital signals received over loop 82 from controller 88 and provides the digital signals to circuit 74 which, in turn, demodulates the signals according to the HART.RTM. protocol and provides them to microprocessor 66.
    </p>
    <p num="32">
      Circuit 74 receives digital signals (which are to be sent over loop 82) from microprocessor 66.
      <br/>
      Circuit 74 converts the digital signals into analog signals, modulates them for transmission, and provides the modulated signals to circuit 76.
      <br/>
      Circuit 74 preferably includes a Bell 22 compatible modem.
      <br/>
      The loop current control circuit 78 receives an analog voltage signal from a D/A converter in circuit 74.
      <br/>
      In response, loop current control circuit 78 provides a 4-20 mA output representative of the particular information being transmitted by microprocessor 66 over loop 82 (such as one of the process variables, or the calculated flow).
    </p>
    <p num="33">Also, voltage regulator 72 preferably provides 3.5 volts and other suitable reference voltages to output electronics circuity 40, sensor processor electronics 38, and analog electronics 36.</p>
    <p num="34">
      In order to calculate flow through a differential producer (such as an orifice plate) information is required about three things.
      <br/>
      Information is required about the process conditions, about the geometry of the differential producer and about the physical properties of the fluid.
      <br/>
      Information about the process conditions is obtained from sensor signals, such as the signals from sensors 30, 32 and 34.
      <br/>
      Information regarding the geometry of the differential producer and the physical properties of the fluid are provided by the user.
    </p>
    <p num="35">
      Flow through a differential producer is conventionally calculated by utilizing the equation set out as Equation 1 above.
      <br/>
      Flow is typically calculated in mass units, but can be expressed in volumetric units if required.
      <br/>
      The choice of units determines the value of the units conversion factor, N.
    </p>
    <p num="36">
      The discharge coefficient, Cd, is a dimensionless, empirical factor which corrects theoretical flow for the influence of the velocity profile of the fluid in the pipe, the assumption of zero energy loss in the pipe, and the location of pressure taps.
      <br/>
      Cd is related to the geometry of the differential producer and can be expressed as a seemingly simple relationship in the following form:  (Equation image '1' not included in text)
    </p>
    <p num="37">where the Reynolds number  (Equation image '2' not included in text)</p>
    <p num="38">
      C28 =the discharge coefficient at infinite Reynolds number;
      <br/>
      b=a known Reynolds number correction term;
      <br/>
      n=a known exponent term; and
      <br/>
      MU =the fluid viscosity.
    </p>
    <p num="39">
      This relationship varies for different types of differential producers, the location of the pressure taps on such producers, and the beta ratio.
      <br/>
      Typical equations defining Cd and the other above terms have a wide range of complexity and are set out in Table 1.
      <br/>
      The calculation for Cd associated with an orifice plate-type differential producer is the most common in the industry.
    </p>
    <p num="40">
      The velocity of approach factor, E, is a geometrical term and relates the fluid velocity in the throat of the differential producer to that in the remainder of the pipe.
      <br/>
      The velocity of approach factor is a function of temperature as follows:  (Equation image '3' not included in text)
    </p>
    <p num="41">
      where, for an orifice meter,  (Equation image '4' not included in text)
      <br/>
      dr =orifice diameter at reference temperature Tr ;
      <br/>
      Dr =meter tube diameter at reference temperature Tr ;
      <br/>
      varies as 1 =thermal expansion coefficient of the orifice plate; and
      <br/>
      varies as 2 =thermal expansion coefficient of a meter tube.
    </p>
    <p num="42">
      The gas expansion factor Y1 is a dimensionless factor which is related to geometry, the physical properties of the fluid and the process conditions.
      <br/>
      The gas expansion factor accounts for density changes as the fluid passes through a differential producer.
      <br/>
      The gas expansion factor for primary elements with abrupt changes in diameter, such as orifice meters, is given by the following empirical relationship:  (Equation image '5' not included in text)
      <br/>
      where h=differential pressure in inches of water at 68 (degree)  F.;
      <br/>
      P=upstream pressure in psia; and
      <br/>
      K=isentropic exponent of the gas.
    </p>
    <p num="43">The adiabatic gas expansion factor for contoured elements is described as follows:  (Equation image '6' not included in text)</p>
    <p num="44">
      where  (Equation image '7' not included in text)
      <br/>
      K=isentropic exponent of the gas.
    </p>
    <p num="45">The value of Y1 is 1.0 for liquids.</p>
    <p num="46">
      The bore of the differential producer, d, is related to geometry and is a function of temperature as follows:
      <br/>
      d=dr �1+ ALPHA 1 (T-Tr)�  Equation 8
    </p>
    <p num="47">The differential pressure factor, h, is measured by a conventional differential pressure sensor.</p>
    <p num="48">
      The fluid density factor  RHO  is described in mass per unit volume and is a physical property of the fluid.
      <br/>
      For typical process control applications, the density of liquids is a function of temperature only.
      <br/>
      It can be described by expressions such as the PTB equation for the density of water:
      <br/>
      RHO =A+BT+CT2 +DT3 +ET4 +FT5  Equation 9
      <br/>
      where A-F are constants, or a generic expression given by the American Institute of Chemical Engineers (AIChE):  (Equation image '8' not included in text)
    </p>
    <p num="49">Where a-d are fluid dependent constants and M is the molecular weight.</p>
    <p num="50">
      Gas density is a function of absolute pressure and absolute temperature given by the real gas law:  (Equation image '9' not included in text)
      <br/>
      where Z the compressibility factor;
      <br/>
      Ro =universal gas constant; and
      <br/>
      n=number of moles.
    </p>
    <p num="51">
      Gas density and compressibility factors are calculated using equations of state.
      <br/>
      Some equations of state, such as AGA8, the ASME steam equation and MBWR, are useful for single fluids or a restricted number of fluids.
      <br/>
      Others, such as Redlich-Kwong or AIChE equations of state are generic in nature and can be used for a large number of fluids.
      <br/>
      The AIChE equation is as follows:  (Equation image '10' not included in text)
    </p>
    <p num="52">
      where  (Equation image '11' not included in text)
      <br/>
      where a-e are fluid dependent constants; and
      <br/>
      M=the molecular weight of the fluid.
    </p>
    <p num="53">
      Implementing the flow calculation using equations 1-13 set out above would yield a highly accurate result.
      <br/>
      However, the constraints of power consumption, calculation speed and memory requirements make the implementation of the full equations beyond the capability of currently available transmitter based microprocessors.
      <br/>
      Therefore, the transmitter of the present invention calculates flow based on a number of simplified equations, while retaining a high degree of accuracy in the flow calculation.
    </p>
    <p num="54">
      The dependencies related to the discharge coefficient are as follows:
      <br/>
      Cd ( BETA , ReD);
      <br/>
      ReD (Q,  MU ) where  MU  is the viscosity of the fluid; and
      <br/>
      MU  (T)
    </p>
    <p num="55">
      Using the AIChE equation for liquids:
      <br/>
      MU =exp (a+b/T+c Ln(T)+d Te);  Equation 14
    </p>
    <p num="56">and, using AIChE equation for gases:  (Equation image '12' not included in text)</p>
    <p num="57">
      According to the present invention, the discharge coefficient Cd equation is simplified by approximating  MU -1 by a polynomial in T or 1/T.
      <br/>
      Preferably, this approximation is done using a third degree polynomial equation.
      <br/>
      Also, Cd is approximated using a sixth degree polynomial equation in  (Equation image '13' not included in text)
    </p>
    <p num="58">or  (Equation image '14' not included in text)</p>
    <p num="59">It has been observed that better accuracy is obtained using the polynomial for Cd with the term  (Equation image '15' not included in text)</p>
    <p num="60">
      being the independent variable, but this also increases the calculation time.
      <br/>
      Therefore, this can be used, or the other polynomial can be used, depending upon the degree of accuracy desired.
    </p>
    <p num="61">
      FIGS. 3A, 3B and 3C are examples of curve fit accuracy of the discharge coefficient using the above equations.
      <br/>
      FIG. 3A is a graph of the discharge coefficient curve fit error versus the Reynolds number for an ASME flange tap orifice meter having a diameter in excess of 2.3 inches.
      <br/>
      This graph was obtained by doing a sixth degree fit in  (Equation image '16' not included in text)
    </p>
    <p num="62">as follows:  (Equation image '17' not included in text)</p>
    <p num="63">and using an approximation of viscosity as follows:  (Equation image '18' not included in text)</p>
    <p num="64">FIG. 3B graphically illustrates the discharge coefficient curve fit error plotted against Reynolds number for an ASME corner tap orifice meter using a sixth degree fit in  (Equation image '19' not included in text)</p>
    <p num="65">FIG. 3C graphically illustrates the discharge coefficient curve fit error against Reynolds number for an ASME long radius nozzle using the sixth degree fit in  (Equation image '20' not included in text)</p>
    <p num="66">FIGS. 3A-3C illustrate that the curve fit approach approximates the discharge coefficient Cd to better than +/-0.005%. Similar results are obtained for other differential producers.</p>
    <p num="67">
      FIGS. 4A and 4B are examples of curve fit accuracy obtained for viscosity.
      <br/>
      FIG. 4A graphically illustrates curve fit accuracy for viscosity versus temperature using a third degree polynomial fit in 1/T.
      <br/>
      FIG. 4B illustrates the curve fit accuracy for viscosity versus temperature using a third degree polynomial fit in 1/T.
      <br/>
      FIG. 4A is based on water and FIG. 4B is calculated for air.
      <br/>
      It is seen that the curve fit approach approximates the viscosity of air to better than +/-0.001% and the viscosity of water to better than +/-0.2%. A polynomial fit of a higher degree in 1/T, such as 4 or 5, would improve the accuracy of the fit for water.
      <br/>
      Because the discharge coefficient, Cd, is weakly dependent on Reynolds number and, thus, viscosity, the accuracy provided using a third degree polynomial fit in 1/T is acceptable and the added computational complexity of a higher degree polynomial approximation is not necessary.
      <br/>
      Similar results are obtained for other liquids and gases.
    </p>
    <p num="68">
      The dependencies related to the velocity of approach factor, E, and the bore of the differential producer, d, are as follows:
      <br/>
      E(T), and d2 (T)
    </p>
    <p num="69">
      The method of the present invention simplifies the Ed2 calculation by grouping E and d2 together and approximating the product of Ed2 by a polynomial in T or 1/T.
      <br/>
      This polynomial is preferably a second degree polynomial.
    </p>
    <p num="70">
      FIG. 5 is an example of the curve fit accuracy of the Ed2 term.
      <br/>
      FIG. 5 graphically illustrates the accuracy of this term plotted against temperature using a second degree polynomial in T as follows:  (Equation image '21' not included in text)
    </p>
    <p num="71">FIG. 5 illustrates that the curve fit approach approximates the Ed2 term to better than +/-0.00002%.</p>
    <p num="72">
      The dependencies of the gas expansion factor, Y1, are as follows:
      <br/>
      Y1 ( BETA ,K, h/P); and
      <br/>
      Y1 (T)
    </p>
    <p num="73">
      Simplifying the gas expansion factor calculation is accomplished by ignoring the dependency on T. The Y1 term is approximated using a polynomial equation in h/P where h is the differential pressure and P is the static pressure.
      <br/>
      Preferably, this polynomial is a second degree polynomial.
      <br/>
      For an orifice, a linear relationship exists between Y1, and h/P.
    </p>
    <p num="74">FIG. 6 is an example of curve fit accuracy of Y1 versus temperature using a second degree polynomial fit in h/P as follows:  (Equation image '22' not included in text)</p>
    <p num="75">
      The curve is illustrated for a contoured element differential producer.
      <br/>
      FIG. 6 illustrates that the term Y1 for contoured elements is accurate, using the system according to the present invention, to better than +/-0.002% for all beta ratios.
      <br/>
      Accuracy is better than +/-0.0005% for beta ratios less than 0.6. Similar results are obtained for the square edged orifice.
    </p>
    <p num="76">
      Dependencies related to the fluid density for liquid and gas are as follows:
      <br/>
      RHO Liq (T) ; and
    </p>
    <p num="77">(Equation image '23' not included in text)</p>
    <p num="78">
      The fluid density calculation for liquid is simplified according to the present invention by providing two levels of curve fit.
      <br/>
      The term  RHO liq is approximated by a polynomial in T or 1/T.
      <br/>
      Preferably, this is a third degree polynomial and is provided as a default equation for a lower accuracy fit as follows:  (Equation image '24' not included in text)
    </p>
    <p num="79">The same term is also preferably approximated by a polynomial in 1/T using a fifth degree polynomial as a higher accuracy fit for broader operating ranges of temperature.</p>
    <p num="80">
      Simplifying the calculation for fluid density for gas is accomplished by, again providing two levels of curve fit.
      <br/>
      Fitting a curve to 1/z and not  RHO GaS improves the curve fit accuracy, reduces calculation time, and improves the simplified flow equation accuracy.
      <br/>
      According to the present invention, the term 1/z is approximated by a polynomial in P and 1/T.
      <br/>
      In the preferred embodiment, the default polynomial is a 3 * 2 polynomial and is used for a lower accuracy fit.
      <br/>
      However, the term 1/z can also be approximated by a polynomial in P and 1/T using an 8 * 6 polynomial for higher accuracy fits, and for broader operating ranges of both P and T. The preferred simplified equation for fluid density for all gases is as follows:  (Equation image '25' not included in text)
    </p>
    <p num="81">
      FIG. 7A graphically illustrates an example of curve fit accuracy for  RHO liq for water versus temperature using the third degree polynomial fit in 1/T.
      <br/>
      FIG. 7B graphically illustrates curve fit accuracy density of acrylonitrile versus temperature.
      <br/>
      In both cases, the temperature range is 50 (degree)  F. to 110 (degree)  F. FIGS. 7A and 7B illustrate that the curve fit approach approximates  RHO liq to better than +/-0.0002% for these two liquids and the selected temperature range.
      <br/>
      Similar results are obtained for other liquids and other temperature ranges.
    </p>
    <p num="82">
      FIGS. 8A and 8B illustrate examples of curve fit accuracy for 1/z for two fluids and pressure temperature ranges.
      <br/>
      FIG. 8A illustrates the curve fit accuracy using the 3 * 2 polynomial fit for carbon dioxide gas.
      <br/>
      The pressure and temperature ranges are 15 psia to 115 psia and 60 (degree)  F. to 140 (degree)  F. The results show that the curve fit approach accurately approximates 1/z to better than +/-0.0015%. FIG. 8B illustrates the curve fit accuracy using the 3 * 2 polynomial fit for ethylene gas.
      <br/>
      The pressure and temperature ranges are 75 psia to 265 psia and 60 (degree)  F. to 140 (degree)  F. The results show that the curve fit approach accurately approximates 1/z to better then +/-0.005%. As these results indicate, the accuracy of the curve fit approximation varies, as the fluid is changed and as the operating ranges of pressure and/or temperature change.
      <br/>
      When the operating ranges of pressure and/or temperature result in unacceptable approximations by using a 3 * 2 polynomial, an 8 * 6 polynomial will improve the results to levels similar to those indicated in FIGS. 8A and 8B.
    </p>
    <p num="83">
      In sum, the classic flow calculation given by Equation 1 above, is simplified according to the present invention as follows:
      <br/>
      Q=N�Cd ��Ed2 ��Y1 �� RHO �h  Equation 22
    </p>
    <p num="84">For gases this equation can be rewritten as:  (Equation image '26' not included in text)</p>
    <p num="85">
      where  (Equation image '27' not included in text)
      <br/>
      M=molecular weight of the gas;
      <br/>
      R=gas constant; and
      <br/>
      P, h, T are in units of psia, inches of water and degrees Rankine, respectively.
      <br/>
      For liquids, the equation can be rewritten as:
      <br/>
      Q=N�Cd ��Ed2 ��Y1 �� RHO �h
    </p>
    <p num="86">
      where the bracketed terms are curve fit approximations.
      <br/>
      By simplifying the flow equation as set out above, the transmitter based microprocessor 66 is capable of updating the flow calculation each time it receives updated sensor information by bus 64.
      <br/>
      In the event that one or more of the curve fit approximations have not been completely calculated the previous value is used in the flow calculation.
    </p>
    <p num="87">
      The effect of variations in the process variables has a direct affect on the flow calculation by virtue of their appearance in the flow equation.
      <br/>
      They have a smaller effect on the curve fit terms.
      <br/>
      Thus, by using the newly updated process variable information and the most recently calculated curve fit approximations, the result is a flow calculation that is both fast and accurate.
      <br/>
      Having newly calculated flow terms at such an expedient update rate allows transmitter 10 to exploit fast digital communication protocols.
    </p>
    <p num="88">Also, by simplifying the flow calculation as set out above, microprocessor 66 performs the same calculations regardless of the type of differential producer used, regardless of the beta ratio used, and regardless of whether the user requires a simplified or fully compensated flow.</p>
    <p num="89">
      It should also be noted that the curve fit coefficients are easily calculable by the user using known techniques.
      <br/>
      These coefficients are simply stored in memory associated with microprocessor 66 and used in performing the desired calculations.
    </p>
    <p num="90">
      These simplifications allow transmitter 10 to actually calculate flow in a highly accurate manner.
      <br/>
      Rather than requiring the transmitter to simply transmit the process variables back to a control room, and have a flow computer in the control room or installation calculate flow, the transmitter according to the present invention is capable of not only providing the process variables, but also providing a flow calculation to the control room.
      <br/>
      This relieves the processing overhead on the flow computer or other processor in the control room, yet does not over burden the transmitter-based microprocessor, or require the transmitter-based microprocessor to use energy which exceeds that available to it.
    </p>
    <p num="91">Although the present invention has been described with reference to preferred embodiments, workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A loop powered transmitter for providing an output signal indicative of mass flow rate of fluid through a conduit, the transmitter comprising:</claim-text>
      <claim-text>a temperature receiving circuit configured to receive a temperature signal indicative of fluid temperature; a static pressure sensor providing a static pressure signal indicative of static pressure in the conduit; a differential pressure sensor providing a differential pressure signal; a microcomputing circuit, coupled to the temperature receiving circuit, the static pressure sensor, and the differential pressure sensor, to receive the temperature signal, the static pressure signal and the differential pressure signal, and providing an output signal indicative of flow of the fluid through the conduit; wherein the microcomputing circuit calculates flow, Q, according to an equation having multiplicands generally of the form:</claim-text>
      <claim-text>wherein the microcomputing circuit is configured such that at least two of the multiplicands are each approximated as a function of at least one of the temperature, the static pressure, and differential pressure.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The transmitter of claim 1 wherein the microcomputing circuit includes: a first microprocessor coupled to the temperature sensor, static pressure sensor and differential pressure sensor, and corrects the static pressure signal, differential pressure signal and temperature signal for non-linearities and provides corrected output signals;</claim-text>
      <claim-text>and a second microprocessor, coupled to the first microprocessor, for calculating flow based on the corrected output signals.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The transmitter of claim 1 and further comprising: a housing enclosing a portion of the transmitter, and a temperature sensor disposed substantially within the housing and coupled to the temperature receiving circuit, sensing the temperature of the fluid and providing the temperature signal.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The transmitter of claim 1 and further comprising: a housing enclosing a portion of the transmitter, and a temperature sensor disposed substantially outside the housing and coupled to the temperature receiving circuit, sensing the temperature of the fluid and providing the temperature signal.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The transmitter of claim 1 wherein the transmitter comprises a two wire transmitter.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A process control transmitter coupled to a conduit conducting a fluid therethrough, the transmitter comprising: a first pressure sensor sensing line pressure in the conduit and providing a line pressure signal indicative of the line pressure; a second pressure sensor sensing differential pressure across an orifice in the conduit and providing a differential pressure signal indicative of the differential pressure; a temperature receiving circuit configured to receive a temperature signal indicative of a temperature of the fluid; a microcomputing circuit, coupled to the first and second pressure sensors and the temperature receiving circuit and powered over a loop, calculating flow of the fluid through the conduit based on the line pressure signal, the differential pressure signal and the temperature signal and providing an output signal indicative of the flow; wherein the microcomputing circuit calculates flow, Q, according to an equation having multiplicands generally of the form:</claim-text>
      <claim-text>and wherein the microcomputing circuit is configured such that at least two of the multiplicands are each approximated as a function of at least one of the temperature, the static pressure, and the differential pressure.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The transmitter of claim 6 wherein the microcomputing circuit calculates flow based on an approximation of Cd according to a polynomial equation having the form:  (Equation image '28' not included in text)</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8.</claim-text>
      <claim-text>The transmitter of claim 7 wherein Cd is calculated as:  (Equation image '29' not included in text)</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9.</claim-text>
      <claim-text>The transmitter of claim 6 wherein the microcomputing circuit calculates flow based on an approximation of Ed2 according to a polynomial equation having the form:  (Equation image '30' not included in text)</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10.</claim-text>
      <claim-text>The transmitter of claim 9 where Ed2 is calculated as:  (Equation image '31' not included in text)</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11.</claim-text>
      <claim-text>The transmitter of claim 6 wherein the microcomputing circuit calculates flow based on an approximation of Y1 according to a polynomial equation having the form:  (Equation image '32' not included in text)</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12.</claim-text>
      <claim-text>The transmitter of claim 11 wherein Y1 is calculated as:  (Equation image '33' not included in text)</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13.</claim-text>
      <claim-text>The transmitter of claim 6 wherein the microcomputing circuit calculates flow based on an of  RHO  for liquid according to a polynomial equation having the form:  (Equation image '34' not included in text)</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14.</claim-text>
      <claim-text>The transmitter of claim 13 wherein  RHO  for liquid is calculated as:  (Equation image '35' not included in text)</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15.</claim-text>
      <claim-text>The transmitter of claim 6 wherein  RHO  for a gas is calculated substantially as:  (Equation image '36' not included in text)</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16.</claim-text>
      <claim-text>The transmitter of claim 15 wherein  RHO  for gas is calculated as:  (Equation image '37' not included in text)</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17.</claim-text>
      <claim-text>The transmitter of claim 16 wherein Cd is calculated as:  (Equation image '38' not included in text)</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18.</claim-text>
      <claim-text>The transmitter of claim 6 wherein Cd is calculated using an equation generally in the form:  (Equation image '39' not included in text)</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19.</claim-text>
      <claim-text>The transmitter of claim 6 wherein the term Ed2 Y1 is calculated using an equation substantially in the form:  (Equation image '40' not included in text)</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20.</claim-text>
      <claim-text>The transmitter of claim 6 wherein the microcomputing circuit is configured to calculate flow based on a plurality of polynomial equations using polynomial curve fits, each of the approximated multiplicands being approximated with a polynomial equation having at least one of the temperature, the static pressure and the differential pressure, Reynolds number as an independent variable.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. The transmitter of claim 6 wherein the loop comprises a two-wire loop.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. A method of providing an indication of flow of fluid through a conduit using a process control transmitter powered by a control loop, comprising: sensing static pressure and providing a static pressure signal indicative of the static pressure; sensing differential pressure and providing a differential pressure signal indicative of the differential pressure; receiving a temperature signal indicative of a temperature of the fluid; calculating flow of the fluid through the conduit based on the static pressure signal, the differential pressure signal and the temperature signal and providing an output signal indicative of the flow wherein calculating comprises calculating flow, Q, according to an equation having multiplicands generally of the form: wherein the microcomputing circuit is configured such that at least two of the multiplicands are each approximated as a function of at least one of the temperature, the static pressure and the differential pressure.</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23. The method of claim 22 wherein calculating comprises: calculating flow based on at least one polynomial equation using a polynomial curve fit with at least one of temperature, static pressure and differential pressure being an independent variable in the polynomial equation.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. The transmitter of claim 23 wherein calculating comprises: calculating flow based on a plurality of polynomial equations using polynomial curve fits to approximate a plurality of Cd, E, d2, Y1, and  RHO  with at least one of the temperature, the static pressure and the differential pressure being an independent variable in the polynomial equations.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. The method of claim 22 wherein calculating comprises: calculating flow based on an approximation of Cd according to a polynomial equation having the form:  (Equation image '41' not included in text)</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26.</claim-text>
      <claim-text>The transmitter of claim 25 wherein Cd is calculated substantially as:  (Equation image '42' not included in text)</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27.</claim-text>
      <claim-text>The method of claim 22 wherein calculating comprises: calculating flow based on an approximation of Ed2 according to a polynomial equation having the form:  (Equation image '43' not included in text)</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28.</claim-text>
      <claim-text>The transmitter of claim 27 where Ed2 is calculated substantially as:</claim-text>
    </claim>
    <claim num="29">
      <claim-text>29.</claim-text>
      <claim-text>The method of claim 22 wherein calculating comprises: calculating flow based on an approximation of Y1 according to a polynomial equation having the form:</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30.</claim-text>
      <claim-text>The transmitter of claim 29 wherein Y1 is calculated substantially as:  (Equation image '44' not included in text)</claim-text>
    </claim>
    <claim num="31">
      <claim-text>31.</claim-text>
      <claim-text>The method of claim 22 wherein calculating comprises: calculating flow based on an approximation of  RHO  for liquids according to a polynomial equation having the form:  (Equation image '45' not included in text)</claim-text>
    </claim>
    <claim num="32">
      <claim-text>32.</claim-text>
      <claim-text>The transmitter of claim 31 wherein  RHO  for liquid is calculated substantially as:  (Equation image '46' not included in text)</claim-text>
    </claim>
    <claim num="33">
      <claim-text>33.</claim-text>
      <claim-text>The transmitter of claim 31 wherein  RHO  for gas is calculated substantially as:  (Equation image '47' not included in text)</claim-text>
    </claim>
    <claim num="34">
      <claim-text>34.</claim-text>
      <claim-text>The method of claim 22 wherein calculating comprises: calculating flow based on an approximation of  RHO  for gases according to a polynomial equation having the form:  (Equation image '48' not included in text)</claim-text>
    </claim>
    <claim num="35">
      <claim-text>35.</claim-text>
      <claim-text>The method of claim 22 and further comprising: powering the process control transmitter over a 4-20 mA loop.</claim-text>
    </claim>
    <claim num="36">
      <claim-text>36. A method of providing an indication of flow of fluid through a conduit using a process control transmitter powered over a control loop, comprising: sensing static pressure and differential pressure and providing pressure signals indicative of the static and differential pressure; receiving a temperature signal indicative of a temperature of the fluid; calculating flow of the fluid through the conduit based on the pressure signals and the temperature signal and providing an output signal indicative of the flow; wherein calculating flow comprises calculating flow, Q, according to an equation having multiplicands generally of the form: wherein at least two of the multiplicands are each approximated as a function of at least one of the temperature, the static pressure, and the differential pressure.</claim-text>
    </claim>
    <claim num="37">
      <claim-text>37. The method of claim 36 wherein the multiplicands are each approximated using a polynomial equation having at least one of the temperature, the static pressure, Reynolds number and the differential pressure as an independent variable.</claim-text>
    </claim>
    <claim num="38">
      <claim-text>38. The method of claim 38 and further comprising: powering the process control transmitter over a 4-20 mA loop.</claim-text>
    </claim>
  </claims>
</questel-patent-document>