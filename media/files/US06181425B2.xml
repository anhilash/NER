<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181425B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181425</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181425</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="21883474" extended-family-id="3903006">
      <document-id>
        <country>US</country>
        <doc-number>09419586</doc-number>
        <kind>A</kind>
        <date>19991018</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09419586</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>4036745</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>41958699</doc-number>
        <kind>A</kind>
        <date>19991018</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09419586</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>3556498</doc-number>
        <kind>A</kind>
        <date>19980305</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998US-09035564</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01B  11/24        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>24</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01B  11/02        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>02</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G01B  11/25        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>25</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>G01N  21/95        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>N</subclass>
        <main-group>21</main-group>
        <subgroup>95</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>G02B  21/22        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>21</main-group>
        <subgroup>22</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>356603000</text>
        <class>356</class>
        <subclass>603000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>250559230</text>
        <class>250</class>
        <subclass>559230</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>250559310</text>
        <class>250</class>
        <subclass>559310</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>702159000</text>
        <class>702</class>
        <subclass>159000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01B-011/25T</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>25T</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G01B-011/02D</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>02D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>G01B-011/24</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>24</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>G01B-011/25F</text>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>011</main-group>
        <subgroup>25F</subgroup>
      </classification-ecla>
      <classification-ecla sequence="5">
        <text>G01N-021/95A</text>
        <section>G</section>
        <class>01</class>
        <subclass>N</subclass>
        <main-group>021</main-group>
        <subgroup>95A</subgroup>
      </classification-ecla>
      <classification-ecla sequence="6">
        <text>G02B-021/22</text>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>21</main-group>
        <subgroup>22</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/2545</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>2545</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/026</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>026</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/24</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>24</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01B-011/2518</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>B</subclass>
        <main-group>11</main-group>
        <subgroup>2518</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01N-021/9501</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>N</subclass>
        <main-group>21</main-group>
        <subgroup>9501</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G02B-021/22</classification-symbol>
        <section>G</section>
        <class>02</class>
        <subclass>B</subclass>
        <main-group>21</main-group>
        <subgroup>22</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>7</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>9</number-of-drawing-sheets>
      <number-of-figures>20</number-of-figures>
      <image-key data-format="questel">US6181425</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method and system for high speed measuring of microscopic targets</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>RAY RAJARSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5058178</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5058178</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>BIEGEN JAMES F</text>
          <document-id>
            <country>US</country>
            <doc-number>5390023</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5390023</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SVETKOFF DONALD J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5812269</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5812269</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>LIU KUO-CHING, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5859924</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5859924</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>MARVIN MINSKY</text>
          <document-id>
            <country>US</country>
            <doc-number>3013467</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US3013467</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>LINDOW JAMES T, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4689491</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4689491</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>GOLDSTEIN SETH R</text>
          <document-id>
            <country>US</country>
            <doc-number>4827125</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4827125</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>HOUPT PIETER M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4863226</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4863226</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>GROSSKOPF RUDOLF E</text>
          <document-id>
            <country>US</country>
            <doc-number>4873653</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4873653</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>HORIKAWA YOSHIAKI</text>
          <document-id>
            <country>US</country>
            <doc-number>4893008</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4893008</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>SVETKOFF DONALD J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5024529</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5024529</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>CHEN SULLIVAN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5118192</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5118192</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>ELLIS GORDON W</text>
          <document-id>
            <country>US</country>
            <doc-number>5153428</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5153428</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>DERNDINGER EBERHARD, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5239178</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5239178</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>KERSTENS PIETER J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5248876</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5248876</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>MORGAN COLIN G</text>
          <document-id>
            <country>US</country>
            <doc-number>5381236</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5381236</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>SCHICK ANTON, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5448359</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5448359</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>WORSTER BRUCE W, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5479252</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5479252</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>THOMPSON TIMOTHY V, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5483055</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5483055</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="20">
          <text>BATCHELDER DAVID N, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5510894</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5510894</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="21">
          <text>SVETKOFF RONALD J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5546189</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5546189</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="22">
          <text>LEE KEN K</text>
          <document-id>
            <country>US</country>
            <doc-number>5594235</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5594235</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="23">
          <text>SVETKOFF DONALD J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5617209</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5617209</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="24">
          <document-id>
            <country>RU</country>
            <doc-number>868341</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>RU-868341</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="25">
          <text>ROBOTIC VISION SYSTEMS</text>
          <document-id>
            <country>WO</country>
            <doc-number>9802716</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9802716</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Brochure NM-2654A Panasert IP-K-V, "The Rotating Mirror Scan System Inspects Large High-Density PC Boards Quickly and Precisely", Specifications.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>"Dynamic Focusing in the Confocal Scanning Microscope", T. Wilson and D.K. Hamilton, Journal of Microscopy, vol. 128, Pt. 2, Nov. 1992, pp. 139-143.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>"Digital Image Processing of Confocal Images", I. J. Cox and C.J.R. Sheppard, Image and Vision Computing, Vo. 1, No. 1, Feb. 1983, pp. 52-56.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="4">
          <text>"Three-Dimensional Surface Measurement Using the Confocal Scanning Microscope", D.K. Hamilton and T. Wilson, Appl. Phys. B 27.211-213 (1982).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="5">
          <text>"Scanning Optical Microscope Incorporating a Digital Framestore and Microcomputer", I.J. Cox and C.R. Sheppard. Applied Optics, vol. 22, No. 10, May 15, 1983, pp. 1474-1478.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="6">
          <text>"Depth of Field in the Scanning Microscope", C.J.R. Sheppard and T. Wilson, Optics Letters, Sep. 1978. vol. 3, No. 3, pp. 115-117.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="7">
          <text>"NLB Laser Inspector, NLB-7700M Specifications", Nagoya Electric Works Co., Ltd. Dec. 1994.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="8">
          <text>"Automatic Inspection of Component Boards Using 3D and Greyscale Vision", Donald J. Svetkoff, David N. Smith and Brian L. Doss, Proceedings of the 1986 International Symposium on Microelectronics, pp. 57-64.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>3556498</doc-number>
              <kind>A</kind>
              <date>19980305</date>
            </document-id>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>General Scanning, Inc.</orgname>
            <address>
              <address-1>Simi Valley, CA, US</address-1>
              <city>Simi Valley</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>GENERAL SCANNING</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Svetkoff, Donald J.</name>
            <address>
              <address-1>Ann Arbor, MI, US</address-1>
              <city>Ann Arbor</city>
              <state>MI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Kilgus, Donald B. T.</name>
            <address>
              <address-1>Brighton, MI, US</address-1>
              <city>Brighton</city>
              <state>MI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Lin, Warren</name>
            <address>
              <address-1>Simi Valley, CA, US</address-1>
              <city>Simi Valley</city>
              <state>CA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Ehrmann, Jonathan S.</name>
            <address>
              <address-1>Sudbury, MA, US</address-1>
              <city>Sudbury</city>
              <state>MA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Brooks &amp; Kushman P.C.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Pham, Hoa Q.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A system including confocal and triangulation-based scanners or subsystems provides data which is both acquired and processed under the control of a control algorithm to obtain information such as dimensional information about microscopic targets which may be "non-cooperative." The "non-cooperative" targets are illuminated with a scanning beam of electromagnetic radiation such as laser light incident from a first direction.
      <br/>
      A confocal detector of the electromagnetic radiation is placed at a first location for receiving reflected radiation which is substantially optically collinear with the incident beam of electromagnetic radiation.
      <br/>
      The system includes a spatial filter for attenuating background energy.
      <br/>
      The triangulation-based subsystem also includes a detector of electromagnetic radiation which is placed at a second location which is non-collinear with respect to the incident beam.
      <br/>
      This detector has a position sensitive axis.
      <br/>
      Digital data is derived from signals produced by the detectors.
      <br/>
      In this way, data from at least one triangulation-based channel is acquired in parallel or sequentially with at least one slice of confocal image data having substantially perfect temporal and spatial registration with the triangulation-based sensor data.
      <br/>
      This allows for fusion or further processing of the data for use with a predetermined measurement algorithm to thereby obtain information about the targets.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED APPLICATION</heading>
    <p num="1">
      This is a divisional of copending application Ser.
      <br/>
      No. 09/035,564 filed on Mar. 5, 1998.
    </p>
    <p num="2">This application is related to U.S. patent application entitled "Versatile Method and System for High Speed, 3D Imaging of Microscopic Targets" filed on the same day as this application.</p>
    <heading>TECHNICAL FIELD</heading>
    <p num="3">This invention relates to methods and systems for high speed measuring of targets and, in particular, to methods and systems for high speed measuring of microscopic targets which may be "non-cooperative."</p>
    <heading>BACKGROUND ART</heading>
    <p num="4">Recognition of Need</p>
    <p num="5">
      A class of three-dimensional imaging and measurement applications now requires unprecedented demonstration of capability to support new microelectronic and micromechanical fabrication technologies.
      <br/>
      For example, emerging semiconductor fabrication technologies are directed toward establishing a high density of interconnection between the chip and package.
      <br/>
      The "bumped wafer" and miniature ball grid array (" MU -BGA") markets are emerging, and large scale growth is predicted.
      <br/>
      For instance, NEMI (National Electronics Manufacturing Initiative) has clearly indicated that the miniature array technologies are to replace traditional wire bonding interconnects.
      <br/>
      Manufacturers are experimenting with new processes.
      <br/>
      Measurement tools to support their efforts will require versatility.
    </p>
    <p num="6">
      For example, "dummy wafers" are used for many experiments, which have a specular and featureless surface onto which interconnects are placed.
      <br/>
      The appearance is much different than patterned wafers seen in typical production environments.
      <br/>
      This imaging phenomena is of little concern to the process engineer.
      <br/>
      In fact, the most difficult imaging problems may coincide with the best choice of process.
      <br/>
      Industry process development engineers indicate that reflowed spherical solder bumps with a smooth surface finish, sometimes a nearly perfect mirror, may be the preferred technology for the chip interconnects.
      <br/>
      The surface reflectance will vary because of process engineers' choices of relative content of lead and tin.
      <br/>
      Such targets are often "uncooperative."
    </p>
    <p num="7">
      The chips onto which the balls are placed are subsequently attached to printed circuit boards where both flattened and spherical mating interconnects can be expected, with either a dull or smooth surface finish.
      <br/>
      All combinations are expected.
      <br/>
      Other geometric shapes (wire with flat top, cones) can be expected in the future which will pose measurement challenges, particularly when the surface is specular with spherical or cylindrical geometry, including concavities.
    </p>
    <p num="8">
      Such "non-cooperative" targets, (i.e. those which present challenges for measurement systems as a result of light reflection, scattering, and geometry), are and will continue to be growing in occurrence for semiconductor, micromachining, and mass storage imaging applications.
      <br/>
      A specific growing need is recognized for an imaging system capable of improving dimensional measurement of  MU -BGAs and bumped wafers (i.e. "spherical mirrors" on variable wafer backgrounds) and other such targets, which are "non-cooperative" with respect to traditional imaging systems.
      <br/>
      As inspection and measurement requirements for industries requiring microscopic measurement capabilities, for instance semiconductor and mass storage, become more demanding, extraordinary versatility will be needed for handling wide variation in scale, target geometry, and reflectivity.
      <br/>
      Similarly, inspection and measurement of circuit boards and the dielectric and conductive materials requires a versatile imaging system, particularly for fine geometries and densely populated component boards.
    </p>
    <p num="9">
      As mentioned previously, imaging requirements for the semiconductor packaging industry include defect detection as part of Package Visual Inspection (PVI), measurement of  MU -BGA height, coplanarity, diameter, and wafer defects.
      <br/>
      High resolution and image clarity obtained from reduction of image artifacts are both required for adequate process characterization.
      <br/>
      Problems similar to those in the semiconductor area are also present when measuring other miniature parts like micromachined (micromechanical) assemblies, like miniature gears and machines, and components utilized in the mass storage industry, including substrates, disk heads, and flexures.
    </p>
    <p num="10">
      For example, as illustrated in FIGS. 1 and 7, inspection of a very fine solder bump or ball 20 with a "pin" or tip 22 necking down to about 1-3  MU m in dimension mounted on a solder pad 24, poses a measurement problem.
      <br/>
      Manufacturers often examine the tip 22 with an electron microscope for initial evaluation, but such a tool is much too slow for detailed process characterization or real time control.
    </p>
    <p num="11">
      Also, detection of small "hairline" burrs on IC leads is often successful using gray or 3D data using only triangulation, but false alarms are common because background noise and reflection from a container, such as a tray wall 26, can appear similar to the defect such as a burr 27, as illustrated in FIG. 2.
      <br/>
      Conversely, IC leads 28 of an IC chip 30 may be indistinguishable from the background noise 32.
      <br/>
      These false alarms are unacceptable and lower yields, thereby decreasing the value of inspection equipment.
    </p>
    <p num="12">
      MU -BGA inspection can be roughly equivalent to measuring a tiny "spherical mirror" (solder ball) mounted on a plane "mirror" (wafer) background; yet, in other cases, where the wafer is patterned and the ball has a lower tin content, is a completely different imaging problem.
      <br/>
      Solutions to such measurement problems will require versatility for handling the geometric shape and reflectance variation.
    </p>
    <p num="13">
      Hence, with wafer scale and other sub-micron measurement tasks, the challenges with material properties will grow, not diminish.
      <br/>
      There is a need to measure substrates, conductors, and thickness of films, or the geometry of micromechanical assemblies such as miniature gears having deep, narrow dimensions and varying optical properties, including partially transparent layers.
    </p>
    <p num="14">Prior Art Technology</p>
    <p num="15">
      Early work on defect detection of features having specular components using camera-based inspection is described in U.S. Pat. No. 5,058,178 and the references cited therein.
      <br/>
      The method is primarily directed toward lighting and image processing methods for defect detection of bumped wafers.
      <br/>
      The lighting system included combinations of bright and dark field illumination.
      <br/>
      Measurement of the diameter can be done with a camera system and appropriate illumination, but accuracy is often limited by light scattering and limited depth of focus when high magnification is required.
      <br/>
      However, in addition to defect detection and bump presence, there is a need to measure the three dimensional geometry of the bumps for process characterization.
      <br/>
      The bumps must be coplanar to provide a proper connection, and the diameter within tolerance for a good connection with the bonding pads.
    </p>
    <p num="16">
      Triangulation is the most commonly used 3D imaging method and offers a good figure of merit for resolution and speed. U.S. Pat. Nos. 5,024,529 and 5,546,189 describe the use of triangulation-based systems for inspection of many industrial parts, including shiny surfaces like pins of a grid array. U.S. Pat. No. 5,617,209 shows an efficient scanning method for grid arrays which has additional benefits for improving accuracy.
      <br/>
      The method of using an angled beam of radiant energy can be used for triangulation, confocal or general line scan systems.
      <br/>
      Unfortunately, triangulation systems are not immune to fundamental limitations like occlusion and sensitivity to background reflection.
      <br/>
      Furthermore, at high magnification, the depth of focus can limit performance of systems, particularly edge location accuracy, when the object has substantial relief and a wide dynamic range (i.e. variation in surface reflectance).
      <br/>
      In some cases, camera-based systems have been combined with triangulation systems to enhance measurement capability as disclosed in the publication entitled "Automatic Inspection of Component Boards Using 3D and Grey Scale Vision" by D. Svetkoff et al., PROCEEDINGS INTERNATIONAL SYMPOSIUM ON MICROELECTRONICS, 1986.
    </p>
    <p num="17">
      Confocal imaging, as originally disclosed by Minsky in U.S. Pat. No. 3,013,467, and publications: (1) "Dynamic Focusing in the Confocal Scanning Microscope" by T. Wilson et al.; (2) "Digital Image Processing of Confocal Images" by I. J. Cox and C. J. R. Sheppard; (3) "Three-Dimensional Surface Measurement Using the Confocal Sensing Microscope" by D. K. Hamilton and T. Wilson; (4) "Scanning Optical Microscope Incorporating a Digital Framestore and Microcomputer" by I. J. Cox and C. J. R. Sheppard; and (5) "Depth of Field in the Scanning Microscope" by C. J. R. Sheppard and T. Wilson, is similar to computerized tomography where slices in depth are sequentially acquired and the data is used to "reconstruct" a light scattering volume.
      <br/>
      In principle, an image is always formed of an object at a focal plane as taught in elementary physics, but over a region of depth there are an infinite number of planes which are out of focus yet return energy.
      <br/>
      That is to say that the lens equation for image formation is based on an idealization of an "object plane" and "image plane".
    </p>
    <p num="18">
      In the case of conventional confocal imaging, the slices are determined from the in-focus plane, and out-of-focus light (in front and back of the focal plane) is strongly attenuated with a pinhole or slit.
      <br/>
      Typical confocal systems use fine increments for axial positioning for best discrimination between adjacent layers in depth, for example, semi-transparent biological samples.
      <br/>
      However, the method need not be restricted to the traditional transparent or translucent objects, but can be applied both as a depth measurement tool and image enhancement method using reflected light for contrast improvement through stray light rejection.
      <br/>
      As with any method, there are advantages and disadvantages.
    </p>
    <p num="19">
      Application of confocal imaging to semiconductor measurement is disclosed in U.S. Pat. Nos. 4,689,491, 5,479,252 and 5,248,876.
      <br/>
      Operation of several confocal systems is described in U.S. Pat. Nos. 4,827,125; 4,863,226; 4,893,008; 5,153,428; 5,381,236; 5,510,894; 5,594,235; and 5,483,055 and H 1,530.
      <br/>
      Much of the recent work is directed toward improvements, resulting in reduction of the image memory storage requirements (store maximum, not volume), improving the efficiency and fine positioning capability of autofocus systems (coarse/fine search), exposure control for improved dynamic range, and some image enhancement methods.
    </p>
    <p num="20">
      Similarly, variations in confocal acquisition methods are taught in the art to solve specific problems or optimize designs for specific applications as taught in U.S. Pat. Nos. 5,239,178 and 4,873,653.
      <br/>
      However, present confocal systems are constrained by sequential slicing of the volume, whereas triangulation systems detect the top surface of the volume (profile) directly resulting in much higher speed.
    </p>
    <p num="21">
      In U.S. Pat. No. 5,448,359 such speed limitations are partially circumvented by utilizing a plurality of detectors and spatial filters in the confocal receiver optical path.
      <br/>
      A circuit to locate the detector producing maximum intensity is disclosed.
    </p>
    <p num="22">
      Similarly, USSR patent document No. 868,341 discloses a plurality of detectors with apertures (confocal) and electronic circuitry to obtain focus (3D) information about objects.
      <br/>
      The intensity of each detector is compared and used to adjust the position of the imaging system along the optical axis so as to clear the mismatch.
      <br/>
      In each case, a tradeoff is determined between depth sensitivity, complexity, and measurement speed.
    </p>
    <p num="23">
      Other approaches to imaging of "non-cooperative" targets, many directed toward solder joint inspection, have been proposed to measure depth or fillet shape.
      <br/>
      These are described in the U.S. patent to Chen et al. 5,118,192 and a Nagoya solder joint inspection system described in "NLB Laser Inspector--NLB-7700M Specifications" by Nagoya Electric Works Co., Ltd. 1994. The system uses specularly reflected light to examine the shape of solder fillets, and to determine presence/absence of solder.
      <br/>
      FIG. E in Section 6 thereof shows a missing fillet and the signals received from a plurality of detectors.
      <br/>
      A detector 6 corresponds to an "on-axis" detector, and the information is useful for estimating the diameter of the solder bump.
      <br/>
      For instance, the detector 6 receives a large signal near the top of the ball, a weak signal from the curved edge, and typically a strong signal from the area adjacent to the bump.
      <br/>
      However, narrow angle multiple reflections from the edge of the ball can corrupt the measurement and result in ambiguous edge locations.
      <br/>
      Furthermore, the sensitivity of the system may not be adequate to determine the height of regions which do not have a substantial specular reflection component.
    </p>
    <p num="24">
      Similarly, a recent version of the IPK solder joint inspection system manufactured by Panasert includes a coaxial detector with a triangulation-based sensing system as illustrated in their brochure entitled "IPK-V" believed to be published in 1997.
      <br/>
      The  MU -BGA, bumped die, and numerous other problems range from scenarios where prior art technology is adequate, but in many cases unacceptable, and even inoperable conditions exist.
    </p>
    <p num="25">
      Wafer measurement and defect detection systems have utilized multiple detectors advantageously. U.S. Pat. No. 5,416,594 describes a system which uses both reflected and scattered light for detection of defects and thin film measurements.
      <br/>
      The reflected beam is received at an angle of reflection which is non-collinear with the transmitted beam and the scattered light is collected over a relatively large angle which excludes the reflected beam energy.
      <br/>
      The scattered light beam, representative of surface defects, may be collected at an angle which is widely separated (more than 30 deg.) from the incident beam.
      <br/>
      The off-axis illumination and the corresponding reflected beam are utilized for film thickness measurements, sometimes with multiple laser wavelengths.
      <br/>
      The scattered light signal is analyzed in conjunction with that representing the reflected light.
      <br/>
      Although the imaging geometry is well matched to the specific cited inspection requirements, there are several potential disadvantages encountered when attempting to simultaneously provide information about surface defects and say, the peak height of interconnects like solder bumps (which have substantial height) and the corresponding diameter and shape.
    </p>
    <p num="26">
      Commercial success has not been widespread, although many approaches have been proposed.
      <br/>
      Hence, there is a need for a system and method for three-dimensional imaging capable of performing with both "cooperative" and "non-cooperative" targets.
      <br/>
      To be useful, the method and system must be accurate, robust, and have high measurement speed, the latter being a traditional limit to the use of widespread confocal imaging.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="27">A method of the present invention overcomes the limitations of the prior art imaging of non-cooperative targets by illuminating a surface with a scanning beam, acquiring data from at least one triangulation-based channel, and acquiring in parallel or sequentially at least one slice of confocal image data having substantially perfect temporal and spatial registration with the triangulation-based sensor data, allowing for fusion or processing of the data for use with a pre-determined measurement algorithm.</p>
    <p num="28">The objects of a system of the present invention are met by utilizing a combination of confocal and triangulation-based data acquisition, with a control algorithm guiding the cooperative data acquisition and subsequent processing.</p>
    <p num="29">
      The invention is a method and system for developing three-dimensional information about an object by illuminating an object with a focused beam of electromagnetic radiation incident from a first direction.
      <br/>
      A detector of electromagnetic radiation is placed at a first location for receiving reflected radiation which is substantially optically collinear with the incident beam of electromagnetic radiation, and the detection system includes a spatial filter for attenuating background energy.
      <br/>
      Another detector of electromagnetic radiation is placed at a second location which is non-collinear with respect to the incident beam.
      <br/>
      The detector has a position sensitive axis.
      <br/>
      Digital data is derived from signals produced by said first and second detectors.
      <br/>
      The digital data is then processed to generate information about the object.
    </p>
    <p num="30">Specific objects of the invention include:</p>
    <p num="31">An object of the invention is to provide an integrated method and system for high speed measuring to obtain measurements for conductor traces (height .about.1-3  MU m) and/or interconnects (i.e. 10-300  MU m bumps) on semiconductor devices.</p>
    <p num="32">An object of the invention is to provide a method and system for high speed measuring which has diverse measurement and defect detection capability with a combination of a confocal sensor and triangulation allowing for measurement of miniature, complex geometry present in the microelectronics, micromechanical, and disk storage industries.</p>
    <p num="33">
      An object of the invention is to provide a method and system for high speed measuring to obtain information from either of two channels used to guide subsequent data acquisition operations in either or both channels.
      <br/>
      For example, sparse data may be acquired with a triangulation-based system at high speed, and the information used to guide the high speed selection of confocal slices, perhaps in windowed regions.
      <br/>
      FIG. 3 illustrates imaging geometry of a solder ball 29 (i.e. spherical mirror) of radius R (i.e. R&lt;150  MU m typically) formed on a pad 31.
    </p>
    <p num="34">
      An object of the invention is to provide a high speed method and system for measuring which can obtain reasonable height estimates of the bumps or "spherical mirrors" in a "pre-screening" operation and locate defective bumps or wafers at high speed.
      <br/>
      The results would define the range for additional slices (i.e. if needed) for precise verification of the geometry of regions passing the "pre-screening" test.
      <br/>
      Therefore, maintaining wafer inspection times will remain as minutes, not hours.
      <br/>
      For "sparse" patterns, "windowing" could increase the speed of measurement for localized regions.
      <br/>
      FIGS. 4a and 4b are top schematic images of specular solder balls 34 (indicated by phantom lines in FIG. 4a) using triangulation and confocal imaging, respectively, in accordance with the present invention.
      <br/>
      The balls 34 of FIG. 4b have specular ball tips 35 formed on pads 36 which, in turn, are located on a shiny "dummy" wafer 38.
      <br/>
      The 3D image of FIG. 4a (i.e. including specular reflections from regions 35' of the ball 34 adjacent the ball tips) is formed by a triangulation-based system having dual detectors to provide Z measurement, bump presence and defect information.
      <br/>
      The confocal slice image of FIG. 4b provides diameter, Z measurement and defect information.
      <br/>
      In both FIGS. 4a and 4b, a flat bump having diffuse reflection is indicated at 40, an empty pad (i.e. missing bump) is indicated at 42, and a smashed bump (i.e. defect) is indicated at 44.
    </p>
    <p num="35">
      Referring specifically to FIG. 5, an object of the invention is to provide a high speed method and system for measuring a miniature spherical mirror like a solder ball 46 or wafer, mounted on a plane mirror or pad 48 formed on a substrate 50 and producing a very high contrast bump-background image allowing for accurate measurement of diameter, devoid of occlusion and with minimal reflection noise for many pad backgrounds.
      <br/>
      FIG. 5 shows a spatial filter 52 through which an incident ray 54 passes and bounces off the ball surface to form reflected rays 56, multiple reflections 58, and specular reflection 60.
      <br/>
      The spatial filter 52 (i.e. confocal slit) provides the indicated filtering action.
    </p>
    <p num="36">An object of the invention is to provide a high speed method and system for measuring which have significant advantages over conventional camera and lighting systems, even with relatively few slices of spatially filtered data.</p>
    <p num="37">
      An object of the invention is to provide a high speed method and system for measuring to, in turn, provide gray scale contrast improvement of the image of FIG. 2 for possible detection of defects and reduction of false "accepts" and "rejects" (i.e. "error" region 33) in any number of applications through stray light rejection.
      <br/>
      One such classification of burrs 27 and similar defects, like those specified for electronic Package Visual Inspection (PVI), may be satisfied with this method and system and would otherwise be difficult.
      <br/>
      FIG. 6 is a confocal slice of the IC chip 30 of FIG. 2 located in the tray 26 of FIG. 2.
      <br/>
      FIG. 6 illustrates the effect of spatial filtering with best focus near the nominal pad and burr locations.
      <br/>
      With the present invention, the data of FIG. 6 is combined with 3D triangulation data for improved classification.
      <br/>
      Also, visualization and measurement of small bumps and pits could be improved.
      <br/>
      Furthermore, discrimination of edges which is difficult in the presence of multiple reflection is provided herein.
    </p>
    <p num="38">An object of the invention is to provide a high speed method and system for measuring to, in turn, overcome limits of triangulation-based imaging for "mirrored" wafer backgrounds, where triangulation often requires photon limited detection or nearly so, and to provide a focus-based depth measurement method and system which operates at high speed.</p>
    <p num="39">An object of the invention is to provide a method and system for measuring at high speed for measurement of ball bumps, and rigid wire interconnects within the semiconductor industry.</p>
    <p num="40">
      Referring again to FIGS. 1 and 7, an object of the invention is to provide a method and system for high speed measuring of objects having complex geometry, for instance "ball bumps" 20 and rigid wires 22, with the speed advantages of a triangulation/confocal combination while overcoming "enclosed energy" limitations and resulting corruption of the "signal" by optical noise from reflection of the sidelobe energy to the background (as illustrated in FIG. 7), producing false readings in triangulation-based systems.
      <br/>
      In this case, a confocal channel produces a higher optical signal-to-noise and background rejection, while a triangulation-based system rapidly measures the other features, albeit at least two passes might be required because of the pin height relative to the necessarily restricted depth of focus.
    </p>
    <p num="41">An object of the invention is to provide an integrated method and system for high speed measuring having substantially perfect temporal and spatial registration between two sensors or subsystems of the system which allows "fusion" of the data, with selection of the best sensor data based upon reflectance and contrast, perhaps on a pixel-by-pixel basis.</p>
    <p num="42">
      An object of the invention is to provide a versatile method and system for high speed measuring of targets on the wafer scale for inspection and measurement.
      <br/>
      At such higher magnification, material properties vary greatly, from translucent to opaque, and "mirror-like" to matte.
    </p>
    <p num="43">
      An object of the invention is to provide a method and system for high speed measuring to provide improved discrimination of metallic surfaces from the translucent backgrounds, and to measure materials such as conductive epoxy used for interconnects.
      <br/>
      Some applications in the optical storage industry may be best solved with this type of technology (flexure measurement) and at higher magnification (high contrast, disk head measurement).
    </p>
    <p num="44">
      An object of the invention is to provide a method and system for high speed measuring which introduces a feature of increased gray scale contrast and fidelity from the region of the beam waist, through at least rudimentary "depth-through-focus detection" capability.
      <br/>
      At very high magnification, a confocal channel either "competes" or "cooperates" with dual-detector triangulation for the best imaging mode.
    </p>
    <p num="45">An object of the invention is to provide an integrated method and system for high speed measuring which can include both high N.A. (numerical aperture) optics and lower N.A. for use with either confocal or triangulation channels realized with wavelength, time or spatial multiplexing methods, as illustrated in FIG. 8.</p>
    <p num="46">An object of the invention is to provide a method and system for high speed measuring which provides selectable lateral and depth resolution for confocal and triangulation-based imaging through the use of multiplexing and programmable or selectable height resolution.</p>
    <p num="47">
      An object of the invention is to provide a method and system for high speed measuring including high grey scale resolution and dynamic range (sufficient to avoid automatic gain or light control requirements) and processing with smoothing algorithms.
      <br/>
      The smoothing algorithms may be adapted to include known information regarding the physical characteristics of the object.
    </p>
    <p num="48">
      An object of the present invention is to provide a method and system for high speed measuring by obtaining confocal and/or triangulation data rapidly.
      <br/>
      Objects which are reflective, such as solder joints, substrates and wafers are substantially opaque in a homogeneous medium such as air, unlike several objects traditionally "sliced" with the confocal technique.
      <br/>
      As such, an object of the invention is to estimate the depth of reflective objects using estimation techniques and relatively few slices compared to traditional "peak detection" systems utilized for confocal imaging.
      <br/>
      The smoothing and estimation techniques could be utilized with a single confocal detector when data is acquired with axial translation, with multiple detectors involving no translation or a combination of the two.
    </p>
    <p num="49">A further object of the present invention is to provide a method and system for high speed measuring by adapting smoothing and/or estimation algorithms based upon a priori information regarding the physical characteristics of objects within a region of interest, thereby avoiding corruption of the measurements associated with peak search methods.</p>
    <p num="50">A further object of the invention is to provide measurement capability of both "featureless" and textured surfaces using an appropriate selection of information.</p>
    <p num="51">An object of the invention is to provide an improved method of measuring using confocal imaging, used alone or in combination with triangulation, where acquisition times are reduced with the use of a solid state beam deflector having retrace times on the order of 1-10 microseconds, whereby pixel rates well in excess of video rates are achievable.</p>
    <p num="52">A further object of the invention is to provide an improved method of measuring using confocal imaging where mechanical motion requirements for axial translation of the position of focus of the illumination beam is reduced or eliminated.</p>
    <p num="53">
      In carrying out the above objects and other objects of the present invention, a method is provided for developing dimensional information about an object on a specular background utilizing a scanning system having a sensor.
      <br/>
      The scanning system scans an illumination beam of electromagnetic energy.
      <br/>
      The method includes the step of determining reference data based on an illumination beam reflected from the specular background.
      <br/>
      The method further includes the step of positioning the sensor based on the reference data so that a waist of the illumination beam substantially coincides with an expected predetermined 3D location of the object so as to enhance contrast and obtain three-dimensional sensor data and/or confocal sensor data.
      <br/>
      The method finally includes the step of processing the sensor data to obtain the dimensional information.
    </p>
    <p num="54">
      Still further in carrying out the above objects and other objects of the present invention, a system is provided for developing dimensional information about an object.
      <br/>
      The confocal system includes at least one illuminator for illuminating the object with at least one beam of electromagnetic energy to obtain at least one reflected beam of electromagnetic energy, a confocal detector for detecting the at least one reflected beam of electromagnetic energy and producing at least one signal, a signal processor for processing the at least one signal to obtain confocal data and a data processor having digital data processing data smoothing and curve fitting algorithms for processing the confocal data with a priori knowledge about the object to obtain the dimensional information whereby the accuracy of the confocal data is improved (i.e., particularly with the use of fewer slices acquired at relatively coarse increments with respect to the attainable height resolution).
    </p>
    <p num="55">
      Further in carrying out the above objects and other objects of the present invention, a method is provided for inspecting bumps on a wafer.
      <br/>
      The method includes the steps of acquiring reference data based on 3D information obtained from either a confocal subsystem or a triangulation subsystem having a triangulation sensor.
      <br/>
      The method further includes the step of generating a scan based upon the reference data to obtain 3D data wherein the 3D data is obtained from the triangulation sensor.
      <br/>
      The method finally includes the step of determining height of the bumps based on the 3D data.
    </p>
    <p num="56">
      Yet still further in carrying out the above objects and other objects of the present invention, a method is provided for developing dimensional information about an array of objects, each of the objects including a surface.
      <br/>
      The method includes the steps of obtaining a first set of data representing maximum specular reflections from the surfaces of the objects, computing height estimate data for the array of objects utilizing the first set of data and analyzing the height estimate data to obtain an estimate of the height.
    </p>
    <p num="57">
      In further carrying out the above objects and other objects of the present invention, a method is provided for measuring at least one dimension of an interconnect on a specular wafer.
      <br/>
      The method includes the step of measuring the wafer at three or more non-colinear locations to obtain reference data.
      <br/>
      The method includes further includes forming a reference plane from the reference data.
      <br/>
      The method also includes the step of scanning the wafer to obtain scan data based on the reference plane.
      <br/>
      The method finally includes the step of determining the at least one dimension of the inter-connect based on the scan data.
    </p>
    <p num="58">The above objects and other objects, features, and advantages of the present invention are readily apparent from the following detailed description of the best mode for carrying out the invention when taken in connection with the accompanying drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="59">
      FIG. 1 is a schematic side view of a ball bump with an interconnecting wire;
      <br/>
      FIG. 2 is a top schematic view of a 3D image of leads and defects in a tray using only triangulation and illustrating an error caused by tray wall reflection;
      <br/>
      FIG. 3 is a side schematic view of a specular solder ball on a wafer and illustrating the ball's imaging geometry;
      <br/>
      FIG. 4a is a top schematic triangulation-based image of a number of solder balls on a shiny "dummy" wafer utilizing triangulation for obtaining Z measurement, bump presence information and defect information;
      <br/>
      FIG. 4b is a top schematic confocal slice image, similar to FIG. 4a, utilizing a confocal channel to obtain diameter information, Z measurement and defect information;
      <br/>
      FIG. 5 is a side schematic view of a solder ball on a pad mounted on a substrate and illustrating the filtering action of a spatial filter such as a confocal slit;
      <br/>
      FIG. 6 is a top schematic view similar to that of FIG. 2 after spatial filtering with best focus near the nominal lead and burr locations using the confocal channel;
      <br/>
      FIG. 7 is a side view of a ball bump on a pad illuminated from the top by laser light and illustrating side lobes outside the point of interest;
      <br/>
      FIG. 8 is a schematic view of a confocal subsystem constructed in accordance with the present invention including control logic to control low and high N.A. laser beams;
      <br/>
      FIG. 9 is a schematic view of a simplified combined triangulation and confocal system constructed in accordance with the present invention without optical elements;
      <br/>
      FIG. 10 is a schematic view of a combined triangulation and confocal system constructed in accordance with the present invention;
      <br/>
      FIG. 11 is a top schematic view of a semiconductor die enlarged from FIG. 12 with spherical mirror balls mounted thereon;
      <br/>
      FIG. 12 is a top schematic view of a wafer having a plurality of dies to be inspected;
      <br/>
      FIG. 13 is a schematic side view, partially broken away, of a spherical mirror (i.e. solder ball) formed on a solder pad and its corresponding confocal slice as viewed from the top of the mirror;
      <br/>
      FIG. 14 is a block diagram flow chart illustrating an exemplary method for measuring microscopic targets;
      <br/>
      FIG. 15 is a side schematic view of a solder ball on a wafer with a waist of a laser beam at the approximate midway point of the ball;
      <br/>
      FIG. 16a is a top view of an image of a solder ball obtained through triangulation and processed to obtain peak information to avoid crosstalk;
      <br/>
      FIG. 16b is a top view of an image of the solder ball obtained through the confocal channel and processed to obtain diameter (i.e. edge) information;
      <br/>
      FIG. 17 is a side view of a solder ball on a board illustrating expected tip and center locations as well as confocal slice locations; and
      <br/>
      FIG. 18 are graphs of normalized detector power versus height (i.e. beam waist at Z=0) with Gaussian propagation off spherical and flat mirrors with the innermost solid-line graph being of a diffuse surface and wherein the graphs are not necessarily symmetric about the origin and may have varying shapes resulting from the different physical properties of the surface.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="60">
      FIG. 9 is a simplified schematic view, without optical elements, of an integrated triangulation-confocal system, generally indicated at 10, constructed in accordance with the present invention.
      <br/>
      The system 10 includes a laser 11 (i.e. L1), a beam deflector 12 and a beam splitter assembly 13.
      <br/>
      The system 10 also includes a pair of spatial filters in the form of slits 14 and 15.
      <br/>
      The system 10 further includes first and second position sensitive detectors 16 and 17, respectively, and a photodiode detector 18.
      <br/>
      The detectors 16 and 17 provide triangulation analog signals to a triangulation signal processor 19 for triangulation signal processing and the detector 18 provides confocal analog signals to a confocal signal processor 21 for confocal signal processing.
      <br/>
      The resulting digital Z (i.e. height) and grey scale data from the processor 19 is combined with digital confocal slice data ( &gt;= 12 bits typical) from the processor 21 by a data processor 23 which provides multi-sensor data processing under the control of a computer controller 25 to obtain defect and dimensional data for the object being inspected by the system 10.
    </p>
    <p num="61">
      FIG. 10 shows a schematic representation, together with optical elements, of an integrated triangulation-confocal system, generally indicated at 110, constructed in accordance with the present invention.
      <br/>
      The system 110 generally includes a triangulation-based laser scanner 112.
      <br/>
      The triangulation-based laser scanner 112 has optical elements (i.e. pre-optics), a beam deflector, and a laser transmitter.
      <br/>
      The operation of triangulation-based laser scanners is taught in the art.
      <br/>
      For example, U.S. Pat. No. 5,024,529 shows a preferred method for high speed, triangulation-based imaging.
    </p>
    <p num="62">
      The system 110 also includes a transmitter beam expansion subsystem 114 and a transmitter focusing subsystem 115.
      <br/>
      The system 110 further includes a pair of receivers, each of which includes an optical subsystem 116 and a position sensitive detector 118 which are positioned at angles with respect to a laser beam incident on an object 120 which may have a spherical surface.
      <br/>
      Each optical subsystem 116 preferably includes an anamorphic optical assembly to delivery energy to its small area detector 118 whereby speed, field of view, and signal-to-noise ratio are maximized.
    </p>
    <p num="63">
      The multiple detectors 118 are preferably used to improve the accuracy of triangulation-based measurements by transforming height and intensity data based on confidence measures as taught in U.S. Pat. No. 5,546,189. Based upon specifications for inspection and knowledge of the object structure, either data channel can be used, or a knowledge-based algorithm can be used on a data processor 121 under control of a computer controller 123 to merge the resulting z and grey scale level data.
      <br/>
      Efficient scanning methods to exploit regular or repetitive patterns such as balls or bumps 200 formed on a die 202 as illustrated in FIG. 11 are known and taught in the art.
      <br/>
      For example, the symmetry of row/column arrangements can be exploited as taught in U.S. Pat. No. 5,617,209. Such regular arrangements are found in the semiconductor industry and others.
      <br/>
      Each ball 200 is typically 10-300  MU m in diameter.
      <br/>
      The die 200 is an enlarged part of a wafer 204 shown in FIG. 12. The wafer 204 is typically 6 inches in diameter.
    </p>
    <p num="64">
      Referring again to FIG. 10, a basic confocal subsystem is integrated with the above-described triangulation-based scanning subsystem to offer combined triangulation and confocal capability.
      <br/>
      A confocal channel is added with the addition of a beam splitter assembly 122, a collection and delivery optical subsystem 124, a photodiode detector/amplifier 126, and preferably an "on-board" high resolution analog-to-digital converter 128 (i.e., 12-16 bits).
    </p>
    <p num="65">
      A spatial filter having a relatively wide slit 130 reduces laser and optical system spatial noise and provides the dual function of a confocal slit to filter back-scattered light displaced from the plane of best focus and secondary reflections from outside the narrow instantaneous field of view.
      <br/>
      Preferably, a second spatial filter having a relatively narrow slit 132 is located between the subsystem 124 and the detector/amplifier 126.
      <br/>
      This allows for improvements or adjustments in sensitivity without the risk of introducing diffraction effects into the transmitted beam (i.e. the incident beam).
      <br/>
      The separate path is optionally provided by the narrow slit 132 if increased sensitivity is required.
      <br/>
      In addition, the use of additional slits and detectors (or multiple laser beams) provides an option for variable sensitivity to reduce possible tradeoffs in measurement time.
    </p>
    <p num="66">
      From a practical standpoint, it is desirable that the dimensions of the slits 14 (i.e. FIG. 9) and 130 be about 3-5 times a diffraction-limited spot diameter.
      <br/>
      Finer discrimination is possible with the addition of a tracking mechanism, perhaps with use of a piezoelectric controller to compensate for any drift with time or temperature.
      <br/>
      The use of a single slit is an option, but is not an essential element of the invention.
    </p>
    <p num="67">
      A narrow slit width is not always a crucial feature of the invention because a defocus function can often be sampled at coarser intervals of depth and interpolation or curve fitting methods used to estimate the height at the point of interest.
      <br/>
      If spatial filtering of the incident beam is not warranted and hence is not implemented, a single confocal slit 15 and 132 may be used in the separate beam path.
      <br/>
      In any case, if a very narrow slit is used, active stabilization may be needed to avoid an increase in intensity noise induced by drift, microphonics, or other external influences.
      <br/>
      The above embodiment allows for high definition confocal imaging without disturbing the triangulation image with undesirable diffraction effects.
    </p>
    <p num="68">
      The assembly 122 preferably includes a cube beam splitter which serves the dual purpose of providing optical isolation to prevent feedback light from entering the laser cavity, and a relay system to deliver light to the high speed detector 126.
      <br/>
      The best delivery system will be designed to uniformly fill the detector 126 so as to avoid errors associated with intensity variations along the detector surface.
    </p>
    <p num="69">
      Neutral density filters or LCDs can be used for static or dynamic exposure control.
      <br/>
      If an acousto-optic beam deflector is used, optical attenuation can be controlled with RF drive power.
      <br/>
      Fast modulation methods may also be implemented with either acousto-optic modulators or electro-optic modulators.
      <br/>
      The latter is preferably implemented in a waveguide structure for maximum speed, compactness, and minimal power dissipation.
      <br/>
      However, advancements in A-D converter technology have resulted in 14-16 bit converters which operate at video speeds or greater.
      <br/>
      These devices, along with advancements in memory speed and density, may often eliminate the requirement of exposure control.
      <br/>
      Such technology, along with wide dynamic range detectors, is preferred.
      <br/>
      However, the directional reflectance of many industrial objects spans about 4 decades, so exposure control may be required in some cases for sufficient noise margin.
    </p>
    <p num="70">
      Subsequent to A-D conversion by the converter 128, an interface is needed to acquire the multiple channels of data.
      <br/>
      For instance, a confocal PCI-based image acquisition scan buffer or commercially available frame grabber or a confocal image memory 134 is provided.
      <br/>
      The memory 134 is connected to the data processor 121 for processing its output with the Z and grey outputs of a signal processor 135 which processes the output of the detectors 118 as described below.
    </p>
    <p num="71">
      Continued advancements in high speed digital data transmission methods can be used to minimize the number of components.
      <br/>
      For example, commercially available A-D boards providing 12 bits at 30 MHz data rates are available presently, like the Compuscope Series from Gage Applied Sciences.
      <br/>
      Such advancements are advantageous because the triangulation (with single or dual detectors) data and the confocal image can be readily acquired and stored in parallel, resulting in perfect temporal and spatial registration for "fusion" operations in the processor 121.
      <br/>
      Other alternative methods are known to those skilled in the art including "fire-wire" technology for digital transmission to PC memory.
    </p>
    <p num="72">
      In any case, it is clear that future revisions of hardware will not be a stumbling block because memory is cheaper and will require less space, and processors will be able to handle multiple imaging modes.
      <br/>
      Indeed, it is possible to store several slices of confocal data for subsequent pointwise or volumetric filtering operations, increasing robustness and rejecting noise associated with peak detection (i.e. sorting) methods.
      <br/>
      Memory savings can result, for instance, by providing confocal data from regions of interest which may be a small fraction of the total image.
      <br/>
      For example, a ball grid array measurement system may use confocal imaging for localized peak detection over a region of 16 pixels * 16 pixels.
    </p>
    <p num="73">
      As illustrated in FIGS. 3, 4a, 4b, and 10, in a preferred embodiment where the numerical aperture (N.A.) of the triangulation and confocal subsystems are substantially matched, a single source of illumination is projected and scanned, preferably with a single high speed, solid state deflector, onto the object 120, which may be a solder ball 140 formed on a solder pad 142 which, in turn, is formed on a polished semiconductor wafer 144 as illustrated in FIG. 13. The resulting reflected light is then sampled by the detector system at the separate detectors 118 synchronously.
      <br/>
      Often, the incident beam will be substantially normal to the object's surface as illustrated in FIGS. 9 and 10.
    </p>
    <p num="74">
      Alternatively, separate imaging units may be used with sequential data acquisition and the data registered via software within the processor 121 with the disadvantage of extra processing time and additional calibration to compensate for temporal or spatial misregistration.
      <br/>
      This additional embodiment is not necessarily preferred, but may be acceptable if the system figure of merit is improved.
      <br/>
      In any case, a solid state deflector has an advantage of random access and high speed windowing and is recognized herein to be advantageous for the high speed confocal-based focusing system described herein.
    </p>
    <p num="75">
      Certain advantages may be achieved with the use of acousto-optic deflectors, particularly if the access time is fast, corresponding to tens of microseconds maximum.
      <br/>
      Alternatively, the use of electro-optic deflection technology, preferably in the form of a sequence of electrically activated gratings embedded in a thin film structure, offers potentially exceptional performance, with access times of a few nanoseconds and resolution of several hundred spots.
      <br/>
      The low delay of these deflectors will provide substantial improvements for inspection of objects in a predetermined or regular arrangement.
      <br/>
      An example of such a deflector is described in U.S. Pat. No. 4,902,088 (assigned to APA Optics).
      <br/>
      Micromirror technology may also be employed, provided that access times are fast enough to meet inspection requirements.
    </p>
    <p num="76">
      Alternatively, acousto-optic deflectors can be advantageous in certain applications with an appropriate compromise between resolution (time-bandwidth product), acoustic velocity (delay), and scan angle.
      <br/>
      Line rates well beyond video are achievable.
      <br/>
      For example, TeO2 (Tellurium Dioxide) deflectors operated in longitudinal mode may provide access time on the order of 1 microsecond or less, with 32 or more spots (resolution).
      <br/>
      The line rates achievable with such a device are extraordinary when applied to localized region-of-interest data acquisition.
      <br/>
      In certain line scan systems, the limit could become the motion of the translation mechanism used for the part or imaging unit.
      <br/>
      In some cases, two-dimensional deflection may be preferred to avoid bottlenecks, perhaps with a second acousto-optic device or low inertia mirror.
      <br/>
      In some cases, it may be advantageous to provide the fast scanning action with a second deflector and laser source confined to the confocal subsystem.
    </p>
    <p num="77">
      It is instructive to illustrate one of the many novel exemplary operational modes of the multi-sensor system 110 of the present invention.
      <br/>
      As illustrated in FIG. 11, a mirrored semiconductor die 202 with "spherical" mirror balls 200 mounted thereon, is scanned.
      <br/>
      In a first pass, for example, the triangulation-based system will acquire data from the wafer 202 and the balls 200 which partially represents the surface profile.
      <br/>
      The data is sufficient to rapidly identify defective regions, including missing or defective bumps (i.e. at 42 and 44, respectively, in FIG. 4a), or certain surface defects.
      <br/>
      For surfaces with diffuse reflection (as illustrated at 40 in FIG. 4a), the triangulation data may be sufficient for height and diameter measurement.
    </p>
    <p num="78">As shown in FIG. 3, the displacement of points corresponding to specular reflection on a perfect mirrored spherical surface measurable with triangulation from the peak of the ball 29 corresponds to only about a 1  MU m height offset for a typical ball with 150  MU m diameter with a triangulation angle 2A of 30 (degree) . If, for example, the initial height of the scanning device is chosen such that the surface intersects with the waist of the illumination beam, there is a possibility of rapid merging of the data for peak height and diameter measurement.</p>
    <p num="79">
      Referring to.
      <br/>
      FIG. 4b, simultaneously, data acquired along the confocal channel, can be used to obtain a high contrast image of a ball 34, from which the diameter is estimated.
      <br/>
      This estimation is superior to that of the triangulation system and camera-based systems; the data is devoid of background noise due to the arrangement illustrated in schematic form in FIG. 5.
      <br/>
      Often the ball 34 will be specular providing large signals for the confocal channel at the peak location.
      <br/>
      Furthermore, the high contrast image can be used to locate surface defects which may not be visible in the triangulation data because of occlusion or low signals limited by the diffuse reflection coefficient.
    </p>
    <p num="80">
      If, for instance, the imaging system 112 is positioned so that the beam waist is at the approximate 50% height level of the ball (nominally), edge definition is maximized, and the contrast will remain high.
      <br/>
      This favorable condition occurs because of the extreme range of object directional reflectance, spanning several decades.
      <br/>
      The wafer "mirror-like" return, although reduced well below a maximum, provides for good contrast.
      <br/>
      The simplified sketch of FIGS. 4b and 13 shows the type of image which is expected from a "spherical mirror" on a flat specular background using a single slice from the confocal channel, near best focus.
    </p>
    <p num="81">
      As previously mentioned, FIG. 1 shows a solder ball 20 formed on a solder pad 24.
      <br/>
      A tip 22 of the ball 20 necks down.
      <br/>
      Specific tradeoffs between depth of focus, object height and background reflectance will influence the contrast.
    </p>
    <p num="82">
      Similarly, FIGS. 2 and 6 show the resulting images from a single pass with leads near best focus.
      <br/>
      Likewise, defects on a wafer which correspond to defects in traces, extra material and missing material can be detected.
    </p>
    <p num="83">
      It has been determined that the standard deviation and absolute accuracy of triangulation-based height measurements is larger than desirable on curved, specular surfaces because of optical crosstalk inherent in triangulation systems necessarily having limited data, as illustrated in FIGS. 3, 7 and 16a.
      <br/>
      Optical crosstalk will be manifested in the triangulation channel by a localized "contrast reversal" (FIGS. 3, 7 and 16a).
      <br/>
      In the regions near the peaks shown in FIG. 16a, higher portions of the solder ball will appear lower and vice versa.
      <br/>
      Hence, the peak detection shown in FIG. 16a is important to the triangulation measurement on such surfaces.
    </p>
    <p num="84">
      Accuracy can be enhanced and further verification of the correct geometry can be done using the triangulation-based height estimate (the position sensitive measurement corresponding to FIG. 16a), diameter estimate (i.e. FIG. 16b), and lateral location of the intensity maximum to specify the subsequent confocal slices, perhaps in conjunction with high speed "windowing" or region of interest scanning for substantial improvements in speed.
      <br/>
      These slices may be obtained, for example, with rapid translation of optical elements in the scanner over a narrow range, allowing for high speed.
    </p>
    <p num="85">Referring now to FIG. 14, there is illustrated in block diagram, flow chart form an exemplary data collection and processing method of the present invention.</p>
    <p num="86">At block 300, reference data is acquired from a wafer 301 of FIG. 15 or a wafer 38 of FIGS. 4a and 4b. Typically, the confocal channel is used to generate this data if the wafer 301 or 38 is specular or unpatterned.</p>
    <p num="87">At block 302, the sensor is positioned at a nominal predetermined location, for example, so that the waist of a laser beam 303 is at the nominal expected center 305 of a solder ball 307 which is a spherical mirror.</p>
    <p num="88">
      At block 304, triangulation 3D data is acquired as well as a confocal slice in a first pass.
      <br/>
      Such image data is illustrated in FIGS. 4a and 4b for triangulation data and confocal data, respectively, for both specular spheres and for cylinders having diffuse reflection.
    </p>
    <p num="89">
      At block 306, the data is analyzed with the processor 121.
      <br/>
      For a specular object, the 3D triangulation height data is analyzed by isolating the peak information to avoid crosstalk, as illustrated in FIG. 16a. A height estimate is obtained.
      <br/>
      The confocal diameter and peak position is obtained by analyzing the data from the confocal slice as illustrated in FIG. 16b.
    </p>
    <p num="90">At block 308, both the height estimate and the diameter are compared with expected results and/or specifications including expected consistency between confocal and triangulation data as illustrated in FIG. 17 as well as sphericity (i.e. expected conformation to a sphere).</p>
    <p num="91">At block 310, additional data, such as confocal slices and/or triangulation data, is acquired for selected regions of interest of the object as also illustrated in FIG. 17.</p>
    <p num="92">
      It is instructive to compare and contrast conventional confocal microscopy with the preferred method utilized herein.
      <br/>
      Conventional methods use a narrow slit or pinhole, low f/- (high numerical aperture) optics, and small increments for z axis positioning of the object or sensor.
      <br/>
      Although these principles can be advantageous in carrying out the invention described herein, the requirements for measurement of many microscopic objects can be met with fewer slices at coarse increments.
      <br/>
      For example, when the system is utilized to measure the depth of reflective objects including solder balls, wafers, traces, conductive epoxy and copper, measured intensity changes continuously with depth, but the optical medium is homogeneous (i.e., air).
    </p>
    <p num="93">
      The data processing algorithms of the present invention may be implemented in special purpose hardware or in software within the processor 121 and can be applied to either "featureless" surfaces (i.e., a mirror) or rough objects.
      <br/>
      The slices may be acquired by translating the part or imaging head (conventional) or, alternatively, a plurality of detectors could be used each with a diaphragm (slit or pinhole) as shown in the above-noted USSR patent document and U.S. Pat. No. 5,448,359.
    </p>
    <p num="94">
      Experimental confocal data and simulations indicate that the variation in sensitivity (change in intensity per unit change in depth) is strongly dependent upon the object structure and reflectance characteristics.
      <br/>
      Profiles of curved specular objects having different radii, plane mirrors, diffuse opaque surfaces, and translucent objects show significant variation.
      <br/>
      The peak intensity, half width, and asymmetry are variable (see FIG. 18).
      <br/>
      The curved specular surfaces have focusing power dependent upon the curvature, and produce measurable changes in intensity for relatively small lateral displacements of the spot position on the surface.
    </p>
    <p num="95">
      The beam propagation characteristics, directional sensitivity, and increased intensity noise produce adverse conditions for measurement.
      <br/>
      This is in contrast to imaging a diffuse reflector which is "well behaved".
      <br/>
      The typical assumption of a least squares quadratic fit as taught in the prior art may often be oversimplified, and inadequate for a description of all types of signatures (profiles representing intensity changes with depth).
      <br/>
      As a result, generalized curve fitting or prediction methods may include "weights" or other adjustments based upon information about the surface.
    </p>
    <p num="96">
      Curve fitting and peak estimation methods based upon prior information are preferred to estimate the peak location for improved noise immunity.
      <br/>
      A preferred method of data processing utilizes non-linear and linear filtering for spike removal and smoothing, respectively.
      <br/>
      This approach, known from the art of image processing, tends to maximize the fidelity of the profile without excessive smoothing.
      <br/>
      Such a linear filtering algorithm may be implemented with a linear convolution kernel, but preferably will be an adaptive smoothing method.
      <br/>
      Such algorithms are now commonplace in data processing packages like MathCad 6 0 (slashed zero)
    </p>
    <p num="97">
      Yet another alternative for data acquisition is to use a combination of a predetermined range of translation with a known spacing of a plurality of sensors.
      <br/>
      The number of detectors and their spacing along the optical axis can be traded off with mechanical height adjustment for a specific measurement speed requirement.
      <br/>
      For example, a piezoelectric actuator could be used to provide rapid translation over a narrow axial range, or the relationship of optical elements in the transmitter system, including the slit(s) or pinhole(s) changed so as to vary the effective optical path length.
    </p>
    <p num="98">
      Those versed in the art of confocal imaging will recognize that tradeoffs between measurement speed, optical power, accuracy, cost, and sensor compactness can be analyzed to select an appropriate balance between a plurality of detectors and axial motion with position feedback.
      <br/>
      Because objects to be imaged with this invention typically produce wide dynamic range requirements, the preference is to maintain high optical efficiency with losses, which result from beam-splitting, minimized.
      <br/>
      For example, the peak of a solder ball can then be isolated and measured as previously described.
    </p>
    <p num="99">
      The method and system of the present invention preferably includes a confocal arrangement, but does not exclude the addition of an additional detector in the optically collinear path, which receives collinear light to produce an intensity image without an associated spatial filter.
      <br/>
      This second detector, which is not spatially filtered, may be used for gray scale measurements and for comparison of the relative intensity of attenuated light with the maximum return from the object 120.
      <br/>
      This information could be useful for gray scale based measurements, guiding the search process or normalizing the confocal image relative to an intensity maximum if curve fitting is done.
      <br/>
      This coaxial energy could be collected in any number of ways.
    </p>
    <p num="100">
      In another mode of operation, absolute height measurements of one of the solder balls 200 of FIG. 11, relative to the bare or patterned die 202 of the wafer 204 can be done using focusing methods taught in the art.
      <br/>
      When properly fixtured, the dies 202 do not exhibit much warpage.
      <br/>
      Measuring the die 202 at a few locations (i.e. as indicated by the "X"s in the four corner locations of FIG. 11) using planar surface prediction should be adequate.
      <br/>
      The four corner locations can be measured using such local fiducials if available, or the bare wafer surface can be measured using the confocal channel.
      <br/>
      Once again, the imaging head may be positioned along the Z axis to find the general location, and the integrated optical system translated rapidly.
    </p>
    <p num="101">
      If the scanner 112 includes an acousto-optic deflector or other solid state deflector, for example, an acquisition speed for a region can be minimized by limiting the scan FOV and, for instance, restricting the scan to the X axis only (no Y axis motion for focus measurements mode), quickly moving the Z axis, and recording the intensity.
      <br/>
      Alternatively, a "ramp" can be generated if the wafer 202 is assumed to be flat over a FOV.
      <br/>
      In either case, the Z axis location should be recorded as a function of time for best measurement capability.
    </p>
    <p num="102">
      Fully utilizing the high speed scanner windowing capability available with a beam deflector (say 64 pixels), and the use of a plurality of points for fitting the defocus function would improve reliability while maximizing speed.
      <br/>
      Speed is the limiting factor for most measurement systems and the method described here would minimize impact for measurement of "featureless" surfaces.
    </p>
    <p num="103">
      The axial motion may be divided into large range for coarse location of objects, and high speed narrow range operation for measurement.
      <br/>
      In the former case, the imaging head or part is translated.
      <br/>
      In the latter case, optical elements or groups may be translated using any of the methods known in the art provided that the proper relationships between the scene, objective lens, and confocal spatial filter are maintained.
      <br/>
      For example, inspection of microelectronic assemblies might require about 0.25" for coarse location, but an active measurement range of only 0.004" for a low f/- (high numerical aperture) transmitter beam, for instance in the range of f/2 to f/6.
      <br/>
      The latter motion could be induced with, for example, a piezoelectric translation stage or similar actuator.
      <br/>
      Fast motion could mandate an increase in the required deflection speed of the scanner 112, leading to an overall advancement for confocal imaging in general.
      <br/>
      If a deflector with nanosecond response time is available, then the speed will be limited by the axial motion mechanism.
    </p>
    <p num="104">
      Similarly, of great advantage would be a subsystem to translate the focus position along the optical axis which does not utilize moving parts, or at least only requires miniature, high speed dynamic assemblies.
      <br/>
      Acousto-optic deflectors, for instance, can change their effective focal length in the scan direction by applying a non-linear, variable frequency waveform.
      <br/>
      This electrical/acoustical effect is known as the cylindrical lens effect.
      <br/>
      The device also introduces deflection which, for instance, could be compensated with a high speed, small amplitude deflector, perhaps a micro-mirror.
      <br/>
      Future advancements in the micro-mechanical technology and integrated optics may lead to development of high speed focus translation methodologies.
    </p>
    <p num="105">
      Many additional modes of operation can be derived and will be understood by those skilled in the art.
      <br/>
      For instance, it may sometimes be desirable for the N.A. of the triangulation subsystem be relatively low, providing for good edge contrast over a large depth of field.
      <br/>
      On the other hand, the highest confocal resolution may be desired.
      <br/>
      The issue can be addressed by using time, spatial, or wavelength multiplexing and a pair of collinear beams of different wavelength or diameter (f/h).
      <br/>
      As illustrated in FIG. 8, such a pair of beams introduces dual lateral resolution operation for both confocal and triangulation subsystems.
    </p>
    <p num="106">
      As illustrated in FIG. 8, a confocal subsystem of an integrated triangulation confocal system is generally indicated at 210.
      <br/>
      The system 210 includes control logic 212 which controls, by multiplexing, a pair of laser sources 214 and 216.
      <br/>
      Expanders 218 and 220 expand the laser beams emitted by the laser sources 214 and 216, respectively.
      <br/>
      A mirror 222 reflects the expanded beams from the expander 218 to obtain a central ray which is combined at beam combiner 224 with the expanded beam from the expander 220.
    </p>
    <p num="107">
      The system 210 also includes a beam deflector 226 which deflects the combined low N.A. beam and the high N.A. beam to a beam splitter 228, a lens 230 and to an object 230.
      <br/>
      The resulting beams reflected from the object 230 then are passed through the lens 230, reflected by the beam splitter 228, spatially filtered by a single or multiple slit 234, focused by a lens 236 and detected by a detector 238.
      <br/>
      Alternatively, the laser sources 214 and 216 could have different wavelengths.
    </p>
    <p num="108">
      In yet another embodiment of the present invention, multiple slits with varying dimension could be used to provide variable sensitivity and depth of field.
      <br/>
      This option requires additional optical elements (including detectors) and can be readily implemented by those skilled in the art.
    </p>
    <p num="109">
      If a solid state deflector is used, either acousto-optics or electro-optics diffraction gratings, with wavelength multiplexing, then additional optics will be needed to expand the scan width according to the wavelength ratio.
      <br/>
      With wavelength multiplexing, spectral filters can be used to provide discrimination and eliminate crosstalk.
    </p>
    <p num="110">
      Time multiplexing would preferably be implemented with two lasers which are pulsed in sequence.
      <br/>
      Then, either the confocal or triangulation channels or both are read.
      <br/>
      The advantage is dual lateral resolution operation for both the confocal and triangulation modes.
    </p>
    <p num="111">
      Those skilled in the art will recognize the versatility of the invention, and extensions and operational principles which are within the spirit of the invention.
      <br/>
      The feature of multiple beams or slits in a multiplexed system, either beam being available for use in the triangulation and confocal channels, provides a choice of expanded or narrow depth of field, which can be advantageous for measurement of objects with an extended depth range.
      <br/>
      For example, the high N.A. channel may be used to locate defects in thin conductive, dielectric layers, or provide contrast improvement for surface inspection, while the wider range is useful for examining interconnects.
    </p>
    <p num="112">
      This foregoing description shows illustrative embodiments and principle of operation but should not be regarded as restrictive.
      <br/>
      The versatility of measurement methods and systems is a direct benefit of the invention which is limited only by the following claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A system for developing dimensional information about an object, the system comprising:</claim-text>
      <claim-text>at least one illuminator for illuminating an object with at least one beam of electromagnetic energy to obtain at least one reflected beam of electromagnetic energy; a confocal detector for detecting the at least one reflected beam of electromagnetic energy and producing at least one signal; a signal processor for processing the at least one signal to obtain confocal data;</claim-text>
      <claim-text>and a data processor having digital data processing data smoothing and curve fitting algorithms for processing the confocal data with a priori knowledge about the object to obtain the dimensional information whereby the accuracy of the confocal data is improved.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The system as claimed in claim 1 further comprising at least one triangulation-based detector for detecting the at least one beam of electromagnetic energy and producing at least one triangulation-based signal and a triangulation-based signal processor for processing the at least one triangulation-based signal and producing triangulation-based sensor data.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The system as claimed in claim 2 further comprising storage means for storing the triangulation-based sensor data and the confocal data in parallel.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The system as claimed in claim 2 further comprising a controller coupled to the data processor for controlling the system based on either the confocal image data or the triangulation-based sensor data.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The system as claimed in claim 2 wherein the confocal data and the triangulation-based sensor data are processed by the data processor in combination to produce the dimensional information.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The system as claimed in claim 1 wherein the dimensional information includes height information.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The system as claimed in claim 1 wherein the dimensional information includes gray scale information.</claim-text>
    </claim>
  </claims>
</questel-patent-document>