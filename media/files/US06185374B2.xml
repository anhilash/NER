<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185374B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185374</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185374</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="26538189" extended-family-id="30445468">
      <document-id>
        <country>US</country>
        <doc-number>09385904</doc-number>
        <kind>A</kind>
        <date>19990830</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09385904</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>31116106</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>24728598</doc-number>
        <kind>A</kind>
        <date>19980901</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998JP-0247285</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>JP</country>
        <doc-number>24730598</doc-number>
        <kind>A</kind>
        <date>19980901</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1998JP-0247305</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G03B  15/05        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>15</main-group>
        <subgroup>05</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G03B   7/16        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>7</main-group>
        <subgroup>16</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>396061000</text>
        <class>396</class>
        <subclass>061000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>396159000</text>
        <class>396</class>
        <subclass>159000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G03B-007/16</text>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>7</main-group>
        <subgroup>16</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G03B-015/05</text>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>15</main-group>
        <subgroup>05</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-015/05</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>15</main-group>
        <subgroup>05</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20151003</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-007/16</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>7</main-group>
        <subgroup>16</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20170624</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G03B-2215/05</classification-symbol>
        <section>G</section>
        <class>03</class>
        <subclass>B</subclass>
        <main-group>2215</main-group>
        <subgroup>05</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20151001</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>17</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>35</number-of-drawing-sheets>
      <number-of-figures>61</number-of-figures>
      <image-key data-format="questel">US6185374</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Mechanism for controlling flash light emission, camera with the mechanism, and its control method</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>IWASAKI HIROYUKI</text>
          <document-id>
            <country>US</country>
            <doc-number>5749002</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5749002</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>OKAMURA SATOSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>6035135</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6035135</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>OHMORI SHIGETO</text>
          <document-id>
            <country>US</country>
            <doc-number>5815743</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5815743</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>MITSUBISHI ELECTRIC CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H08178637</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP08178637</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Minolta Co., Ltd.</orgname>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>MINOLTA</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Yamaguchi, Motoshi</name>
            <address>
              <address-1>Sakai, JP</address-1>
              <city>Sakai</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Kawabe, Koutaro</name>
            <address>
              <address-1>Sakai, JP</address-1>
              <city>Sakai</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Seki, Reiji</name>
            <address>
              <address-1>Tondabayashi, JP</address-1>
              <city>Tondabayashi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Fujino, Akihiko</name>
            <address>
              <address-1>Sakai, JP</address-1>
              <city>Sakai</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Sidley &amp; Austin</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Perkey, W. B.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A mechanism, of a camera, to let a light adjustment operation for a flash light be performed with a higher precision in a shorter time.
      <br/>
      The mechanism includes: a first device for taking an image of a region to be photographed and for outputting image process information; a second device for detecting a main subject region and for detecting a background region on the basis of the image process information, in which the second device outputs main subject information upon the main subject region thus detected and outputs background information upon the background region thus detected; a third device for calculating a compensation value for light adjustment on the basis of the main subject information and on the basis of the background information; and a fourth device for controlling an amount of flash light emission at time of taking a photograph with an emission of the flash light on the basis of the compensation value for light adjustment.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This application is based upon application Nos. 10-247285 and 10-247305 filed in Japan, the contents of which are hereby incorporated by reference.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">
      The present invention generally relates to a camera, and particularly relates to a mechanism for controlling a flash light emission of the camera.
      <br/>
      The present invention also relates to a method for controlling the flash light emission.
    </p>
    <p num="4">2. Description of the Related Arts</p>
    <p num="5">
      Conventionally, there have been proposed a variety of cameras each of which is able to photograph a subject (i.e. an object to be photographed) while emitting a flash light from a flash gun of the camera under a condition in which there is set a predetermined contribution rate for each of a plurality of light adjustment fields (or regions) that are formed by dividing a photographing field (or region).
      <br/>
      According to such a camera, a light adjustment control (or a control of the emission of the flash light) is performed as follows.
    </p>
    <p num="6">
      That is, as shown in FIG. 3 for example, an OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2 detects a location of a main subject to be photographed, a distance up to the main subject, a state of the background, and so forth, on the basis of a photometric value which is optically measured by a MULTI-DIVISION PHOTOMETRIC DEVICE S6, and on the basis of a focusing value which is measured by a FOCUSING DEVICE S7, in order to execute the light adjustment control.
      <br/>
      A CALCULATOR FOR CALCULATING CONTRIBUTION RATE OF LIGHT ADJUSTMENT S3 calculates a contribution rate of light adjustment, for example, on the basis of information upon the main subject detected by the OUPTPUT DEVICE FOR INFORMATION UPON SUBJECT S2, and on the basis of a photometric value which is optically measured by preparatorily making the flash gun emit the flash light by a PREPARATORY LIGHT EMISSION MONITOR S8.
      <br/>
      A LIGHT ADJUSTMENT CONTROL DEVICE S4 controls a MULTI-DIVISION LIGHT ADJUSTMENT DEVICE S5 on the basis of the contribution rate of light adjustment which is calculated by the CALCULATOR FOR CALCULATING CONTRIBUTION RATE OF LIGHT ADJUSTMENT S3, so that the contribution rate is set for each light adjustment region or field.
    </p>
    <p num="7">According to the mechanism, the light adjustment control is executed by calculating the contribution rate of light adjustment in accordance with a specified algorithm on the basis of the results of photometry (or photometric measuring), focusing operation and preparatory light emission.</p>
    <p num="8">However, in order to improve the performance, or ability, of the flash exposure, there is need of increasing the number of light measuring points and/or increasing the number of focusing points and/or complicating the algorithm, so that the time of calculation or operation required for the light adjustment algorithm, and/or the time of control required for the light adjustment, become(s) longer.</p>
    <p num="9">
      On the other hand, conventionally, there have been proposed a variety of cameras in each of which it is possible to take a photograph while making a flash light emit from a flash gun with a state in which the amount of flash light is controlled in accordance with a photographing condition.
      <br/>
      Such a camera has a construction as follows.
    </p>
    <p num="10">
      That is, as shown in FIG. 39 for example, an OUTPUT DEVICE FOR INFORMATION UPON SUBJECT POSITION S25 of the camera detects a location of a main subject to be photographed, a distance up to the main subject, a state of the background, and so forth, on the basis of a photometric value which is optically measured by a MULTI-DIVISION PHOTOMETRIC DEVICE S6, and on the basis of a focusing value which is measured by a FOCUSING DEVICE S7.
      <br/>
      A CALCULATOR FOR CALCULATING COMPENSATION VALUE OF LIGHT ADJUSTMENT S30 detects a compensation value for light adjustment, on the basis of information, detected by the OUTPUT DEVICE FOR INFORMATION UPON SUBJECT POSITION S25, upon the subject to be photographed.
      <br/>
      A LIGHT ADJUSTMENT CONTROL DEVICE S4 controls an amount of flash light emission, on the basis of the compensation value for light adjustment which is calculated by the CALCULATOR FOR CALCULATING COMPENSATION VALUE OF LIGHT ADJUSTMENT S30.
    </p>
    <p num="11">According to the mechanism, the light adjustment control is executed by calculating the compensation value for light adjustment in accordance with a specified algorithm on the basis of the results of photometry (or photometric measuring) and focusing operation.</p>
    <p num="12">
      However, in order to improve the performance, or ability, of the flash exposure, there is need of increasing the number of light measuring points and/or increasing the number of focusing points and/or making preparatorily the flash light emit from the flash gun, so that the algorithm becomes complicated.
      <br/>
      Namely, accompanying the complication of the algorithm, the time of calculation or operation required for the light adjustment algorithm, and/or the time of control required for the light adjustment, become(s) longer.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="13">Accordingly, it is an object of the present invention to provide a camera with a mechanism for controlling a flash light emission in which it is possible to control a light adjustment with a high accuracy in a short time.</p>
    <p num="14">It is another object of the present invention to provide a method for controlling the light adjustment.</p>
    <p num="15">In order to achieve the above object, according to one aspect of the present invention, there is provided a camera, comprising: an image sensor for sensing, or detecting, an image of a subject to be photographed, and for outputting subject information by processing data of the image; a plurality of light adjustment sensors for receiving a light which reflects from the subject, wherein each of the light adjustment sensors has a light receiving region which corresponds to at least a part of the light, and wherein the light adjustment sensors receive the light when a flash light is emitted; a calculator for calculating a contribution rate of an output supplied from each of the light adjustment sensors, on a basis of the subject information output from the image sensor; and a controller for controlling an emission of the flash light, on a basis of the contribution rate calculated by the calculator.</p>
    <p num="16">In the mechanism, the flash light may be emitted by a flash gun, for example, of the camera.</p>
    <p num="17">
      According to the mechanism, it is possible to accurately detect a condition of the subject to be photographed, such as a location, or position, of a main subject, and a relative positional relation between the main subject and its background, on the basis of the data of the image which is processed in the image sensor.
      <br/>
      Therefore, it is possible to enhance a performance, or ability, to control the flash light emission by accurately calculating the contribution rate relative to the light receiving region of each light adjustment sensor, and/or it is possible to shorten the time which is required to control the light adjustment, for example, by omitting a control of a preliminary flash light emission.
    </p>
    <p num="18">Consequently, according to the mechanism, it is possible to control the light adjustment with a high accuracy in a short time.</p>
    <p num="19">The one aspect of the present invention, for example, can be embodied as follows.</p>
    <p num="20">
      That is, as shown in FIG. 1, the image sensor may comprise an IMAGE TAKING DEVICE S1 and an OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2.
      <br/>
      In this arrangement, for example, the IMAGE TAKING DEVICE S1 takes in, or senses, an image of the subject to be photographed and outputs the data of the image (for example, image information upon the subject to be photographed, contour detection information, vector detecting information, color information, etc) to the OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2.
      <br/>
      The OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2 outputs subject information on the basis of the data of the image output from the IMAGE TAKING DEVICE S1.
      <br/>
      The subject information is information upon the condition, or state, of the subject to be photographed, and the subject information includes, for example, information upon: a main subject region in which the main subject exists, where the main subject is a primary subject, or object, to be photographed; a distance up to the main subject; its background; and the like.
      <br/>
      The subject information is output from the OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2, on the basis of, for example, the brightness information, contour information, vector information, a combination of the contour information and color information, positional information (for example, central position or not), information upon bright mass (or lump) or upon dark mass (or lump) or upon large mass (or lump) or upon mass (or lump) which locates adjacent to a focussing photometric area or upon mass (or lump) which is moving, or upon the like.
      <br/>
      The calculator (i.e. CALCULATOR FOR CALCULATING CONTRIBUTION RATE OF LIGHT ADJUSTMENT S3) calculates the contribution rate with respect to the light adjustment region (or the light receiving region) of each of the plurality of light adjustment sensors (i.e. MULTI-DIVISION LIGHT ADJUSTMENT DEVICE S5), on the basis of the subject information which is output from the OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2.
      <br/>
      The controller (i.e. LIGHT ADJUSTMENT CONTROL DEVICE S4), for example, sets the contribution rate of the plurality of light adjustment sensors (i.e. MULTI-DIVISION LIGHT ADJUSTMENT DEVICE S5), on the basis of the contribution rate, calculated by the calculator (i.e. CALCULATOR FOR CALCULATING CONTRIBUTION RATE OF LIGHT ADJUSTMENT S3), with respect to the light adjustment region (or the light receiving region) of each of the plurality of light adjustment sensors (i.e. MULTI-DIVISION LIGHT ADJUSTMENT DEVICE S5).
      <br/>
      That is, the controller controls the flash light emission.
    </p>
    <p num="21">In the mechanism, there may be further provided a light measuring sensor (i.e. MULTI-DIVISION PHOTOMETRIC DEVICE S6) and/or a distance detecting sensor (i.e. FOCUSING DEVICE S7), as shown in FIG. 2.</p>
    <p num="22">
      According to the mechanism, when the condition or state of the subject to be photographed, including, for example, the position of the main subject, or the mutual positional relation between the main subject and the background, or the like, is detected with a high precision on the basis of the data of the image which is output from the IMAGE TAKING DEVICE S1, the photometric value which is output from the light measuring sensor (i.e. MULTI-DIVISION PHOTOMETRIC DEVICE S6) and/or the focussing information which is output from the distance detecting sensor (i.e. FOCUSING DEVICE S7), are/is also employed for the detection thereof.
      <br/>
      Therefore, the precision to detect the condition, or state, of the subject to be photographed is much higher; as a result, it is possible to calculate the contribution rate of the light adjustment region (or the light receiving region) of each of the plurality of light adjustment sensors (i.e. MULTI-DIVISION LIGHT ADJUSTMENT DEVICE S5), with much higher precision.
    </p>
    <p num="23">Therefore, with the mechanism, it is possible to more enhance a performance, or ability, to control the flash light emission by accurately calculating the contribution rate relative to the light receiving region of each light adjustment sensor, and/or it is possible to more shorten the time which is required to control the light adjustment, for example, by omitting a control of a preliminary flash light emission.</p>
    <p num="24">Consequently, according to the mechanism, it is possible to control the light adjustment with a higher accuracy in a shorter time.</p>
    <p num="25">In order to achieve the above object, according to another aspect of the present invention, there is provided a method for controlling an emission of flash light, by making use of an image sensor for sensing, or detecting, an image of a subject to be photographed and for outputting subject information by processing data of the image, comprising the steps of: receiving a light which reflects from the subject by a plurality of light adjustment sensors, wherein each of the light adjustment sensors has a light receiving region which corresponds to at least a part of the light, and wherein the light adjustment sensors receive the light when the flash light is emitted; calculating a contribution rate of an output supplied from each of the light adjustment sensors, on a basis of the subject information which is output from the image sensor; and controlling the emission of flash light, on a basis of the contribution rate thus calculated.</p>
    <p num="26">In order to achieve the above object, according to still another aspect of the present invention, there is provided a camera comprising: an image sensor for sensing an image of a subject to be photographed, and for outputting subject information by processing data of the image; a calculator for calculating a compensation value for light adjustment, on a basis of the subject information output from the image sensor; and a controller for controlling an emission of the flash light, on a basis of the compensation value for light adjustment calculated by the calculator.</p>
    <p num="27">According to the mechanism, the main subject region and the background region can be detected with a high accuracy, on the basis of the subject information which is output from the image sensor, and the compensation value for light adjustment can be calculated and determined on the basis of the information upon the main subject region and the information upon the background region, thus detected.</p>
    <p num="28">
      Therefore, with the mechanism, it is possible to enhance the performance, or ability, of flash exposure (i.e. exposure by making use of a flash light emitted, for example, from a flash gun) in a scene without background and/or in a scene with a background having a relatively higher reflection rate.
      <br/>
      It is to be noted that it has been conventionally difficult to perform the flash exposure, particularly in such scenes.
    </p>
    <p num="29">Also, with the mechanism, it is possible to shorten the time which is required to control the light adjustment, for example, by omitting a control of a preliminary flash light emission.</p>
    <p num="30">Consequently, according to the mechanism, it is possible to control the light adjustment with a high accuracy in a short time.</p>
    <p num="31">The still another aspect of the present invention, for example, can be embodied as follows.</p>
    <p num="32">
      That is, as shown in FIG. 37, the image sensor may comprise an IMAGE TAKING DEVICE S1 and an OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2.
      <br/>
      In this arrangement, for example, the IMAGE TAKING DEVICE S1 takes in, or senses, an image of the subject to be photographed and outputs the data of the image (for example, image information upon the subject to be photographed, contour detection information, vector detecting information, color information, etc) to the OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2.
      <br/>
      The OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2 outputs subject information on the basis of the data of the image output from the IMAGE TAKING DEVICE S1.
      <br/>
      The subject information is information upon the condition, or state, of the subject to be photographed, and the subject information includes, for example, information upon: a location of a main subject region in which the main subject exists, where the main subject is a primary subject, or object, to be photographed; a distance up to the main subject (or a distance between the main subject and the camera); a location of a background region in which a background exists; a main background occupation rate (or main background occupation ratio) which designates a rate, or ratio, between the main subject region and the background region; and the like.
      <br/>
      The calculator (i.e. CALCULATOR FOR CALCULATING COMPENSATION VALUE OF LIGHT ADJUSTMENT S30) outputs the compensation value of light adjustment, on the basis of the subject information which is output from the image sensor (or OUTPUT DEVICE FOR INFORMATION UPON SUBJECT S2).
      <br/>
      The controller (i.e. LIGHT ADJUSTMENT CONTROL DEVICE S4) sets an amount of flash light emission on the basis of the compensation value of light adjustment which is output from the calculator (i.e. CALCULATOR FOR CALCULATING COMPENSATION VALUE OF LIGHT ADJUSTMENT S30).
      <br/>
      That is, the controller controls the flash light emission.
    </p>
    <p num="33">In the mechanism, there may be further provided a light measuring sensor (i.e. MULTI-DIVISION PHOTOMETRIC DEVICE S6) and/or a distance detecting sensor (i.e. FOCUSING DEVICE S7), as shown in FIG. 38.</p>
    <p num="34">
      According to the mechanism, for example, when the main subject (or main subject region) and the background (or background region) are detected with a high precision on the basis of the data of the image which is output from the IMAGE TAKING DEVICE S1, the photometric value which is output from the light measuring sensor (i.e. MULTI-DIVISION PHOTOMETRIC DEVICE S6) and/or the focussing information which is output from the distance detecting sensor (i.e. FOCUSING DEVICE S7), are/is also employed for the detection thereof.
      <br/>
      Therefore, the precision to detect the information upon the main subject (or main subject region) and the information upon the background (or background region) becomes much higher; as a result, the calculator (i.e. CALCULATOR FOR CALCULATING COMPENSATION VALUE OF LIGHT ADJUSTMENT S30) can calculate the compensation value of light adjustment, with much higher precision.
      <br/>
      Namely, according to the mechanism, the compensation value for light adjustment is determined on the basis of the information upon the main subject (or main subject region) and the information upon the background (or background region), with the higher precision.
    </p>
    <p num="35">Therefore, with the mechanism, it is possible to more enhance the performance, or ability, of flash exposure in the scene in which the background is focussed and/or in the scene with the background having the relatively higher reflection rate.</p>
    <p num="36">Also, with the mechanism, it is possible to effectively shorten the time which is required to control the light adjustment, for example, by omitting a control of a preliminary flash light emission.</p>
    <p num="37">Consequently, according to the mechanism, it is possible to control the light adjustment with a higher accuracy in a shorter time.</p>
    <p num="38">In order to achieve the above object, according to still another aspect of the present invention, there is provided a method for controlling an emission of flash light, by making use of an image sensor for sensing, or detecting, an image of a subject to be photographed and for outputting subject information by processing data of the image, comprising the steps of: calculating a compensation value of light adjustment on a basis of the subject information which is output from the image sensor; and controlling the emission of flash light, on a basis of the compensation value of light adjustment thus calculated.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="39">
      These and other objects and features of the present invention will become clear from the following description taken in conjunction with a preferred embodiment thereof with reference to the accompanying drawings, in which:
      <br/>
      FIG. 1 is a schematic diagram of a camera with a mechanism for controlling a flash light emission according to a first aspect of the present invention;
      <br/>
      FIG. 2 is a schematic diagram of the camera with the mechanism for controlling the flash light emission according to an second aspect of the present invention;
      <br/>
      FIG. 3 is a schematic diagram of a camera with a mechanism for controlling a flash light emission according to a prior art;
      <br/>
      FIG. 4 is a schematic diagram showing a main part of the camera with the mechanism for controlling the flash light emission according to the preferred embodiment of the present invention;
      <br/>
      FIG. 5 is a schematic diagram showing a main part of the camera with the mechanism for controlling the flash light emission according to a first modification of the preferred embodiment thereof;
      <br/>
      FIG. 6 is a block diagram of the camera with the mechanism for controlling the flash light emission of FIG. 4;
      <br/>
      FIG. 7 is a schematic diagram showing a main part of the camera with the mechanism for controlling the flash light emission according to a second modification of the preferred embodiment thereof;
      <br/>
      FIG. 8 is a schematic diagram showing a main part of the camera with the mechanism for controlling the flash light emission according to a third modification of the preferred embodiment thereof;
      <br/>
      FIG. 9 is an explanatory view which shows an arrangement of a C-MOS image operation processing sensor, a multi-division photometric element and a multi-point focusing element, of the camera with the mechanism for controlling the flash light emission of FIG. 5;
      <br/>
      FIG. 10 is an explanatory view which shows an arrangement of the C-MOS image operation processing sensor, and the multi-point focusing element, of the camera with a mechanism for controlling a flash light emission of FIG. 5;
      <br/>
      FIG. 11 is an explanatory view which shows an arrangement of the C-MOS image operation processing sensor, a multi-division light adjusting element and the multi-point focusing element, of the camera with the mechanism for controlling the flash light emission of FIG. 5;
      <br/>
      FIG. 12 is an explanatory view which illustrates output information (image information) of the C-MOS image operation processing sensor;
      <br/>
      FIG. 13 is an explanatory view which illustrates output information (turning-over information) of the C-MOS image operation processing sensor;
      <br/>
      FIG. 14 is an explanatory view which illustrates output information (edge-detection information) of the C-MOS image operation processing sensor;
      <br/>
      FIG. 15 is an explanatory view which illustrates output information (color information) of the C-MOS image operation processing sensor;
      <br/>
      FIG. 16 is an explanatory view showing image processing information (information upon detection of a center of gravity) which is calculated from the output information of the C-MOS image operation processing sensor;
      <br/>
      FIG. 17 is an explanatory view showing image processing information (information upon detection of a vector) which is calculated from the output information of the C-MOS image operation processing sensor;
      <br/>
      FIG. 18 is an explanatory view showing image processing information (information upon a region of a subject to be photographed) which is calculated from the output information of the C-MOS image operation processing sensor;
      <br/>
      FIGS. 19(A) through 19(C) are an explanatory view showing a calculation of information upon a subject region;
      <br/>
      FIGS. 20(A) through 20(D) are an explanatory view showing a calculation of information upon a subject region if a photometric element (or a photometric sensor), which is mounted independently of the C-MOS image operation processing sensor, is employed;
      <br/>
      FIGS. 21(A) through 21(C) are an explanatory view showing a selection of photometric region, if the photometric element is not employed, and if an output from the C-MOS image operation processing sensor is used as an photometric value for performing an exposure operation;
      <br/>
      FIGS. 22(A) through 22(D) are an explanatory view showing a selection of photometric region, if the photometric element, which is mounted independently of the C-MOS image operation processing sensor, is employed, and if an output from the photometric element is used as an photometric value for performing an exposure operation;
      <br/>
      FIGS. 23(A) through 23(E) are an explanatory view for selecting a photometric region by also making use of information upon distance, if the photometric element is not employed, and if the output from the C-MOS image operation processing sensor is used as the photometric value for performing an exposure operation;
      <br/>
      FIGS. 24(A) through 24(D) are an explanatory view showing a selection of photometric region if there exist a plurality of subject regions;
      <br/>
      FIGS. 25(A) through 25(C) are an explanatory view showing a calculation of a main background occupation rate, if the photometric element is not employed, and if the output from the C-MOS image operation processing sensor is used as the photometric value for performing the exposure operation;
      <br/>
      FIGS. 26(A) through 26(D) are an explanatory view showing a calculation of the main background occupation rate, if the photometric element, which is mounted independently of the C-MOS image operation processing sensor, is employed, and if the output from the photometric element is used as the photometric value for performing an exposure operation;
      <br/>
      FIG. 27 is a fundamental flowchart showing a general operation of the camera with the mechanism for controlling the flash light emission according to the preferred embodiment of the present invention;
      <br/>
      FIG. 28 is a detailed flowchart of step -1018 of FIG. 27;
      <br/>
      FIG. 29 is a detailed flowchart of steps -1046 and -1048 of FIG. 28;
      <br/>
      FIG. 30 is a detailed flowchart of step -1050 of FIG. 28;
      <br/>
      FIG. 31 is a detailed flowchart of step -1052 of FIG. 28;
      <br/>
      FIG. 32 is a detailed flowchart of step -1054 of FIG. 28;
      <br/>
      FIG. 33 is a detailed flowchart of step -1060 of FIG. 28;
      <br/>
      FIG. 34 is a detailed flowchart of step -1062 of FIG. 28;
      <br/>
      FIG. 35 is a detailed flowchart of step -1064 of FIG. 34;
      <br/>
      FIG. 36 is a detailed flowchart of step -1066 of FIGS. 28 and 34;
      <br/>
      FIG. 37 is a schematic diagram of the camera with the mechanism for controlling the flash light emission according to a third aspect of the present invention;
      <br/>
      FIG. 38 is a schematic diagram of the camera with the mechanism for controlling the flash light emission according to a fourth aspect of the present invention; and
      <br/>
      FIG. 39 is a schematic diagram of a camera with a mechanism for controlling a flash light emission according to a prior art.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="40">Before a description of a preferred embodiment according to the present invention proceeds, it is to be noted that like or corresponding parts are designated by like reference numerals throughout the accompanying drawings.</p>
    <p num="41">The detailed description is made below upon a camera with a mechanism for controlling a flash light emission, and a method for controlling the flash light emission, according to the preferred embodiment of the present invention with reference to FIGS. 4 through 36.</p>
    <p num="42">FIG. 4 illustrates a main internal construction of the camera with the mechanism for controlling the flash light emission according to the preferred embodiment.</p>
    <p num="43">The camera with the mechanism for controlling the flash light emission has a camera main body 10 which is provided with an auxiliary light emitting section 32, a light adjustment module 34, a photometric module 36, a focusing module 38, a C-MOS image operation processing sensor 40, an AF encoder 42 and an AF actuator 44, each of which is connected to a control microcomputer 30.</p>
    <p num="44">
      The control microcomputer 30 includes a CPU and a memory and totally controls an operation of the camera with the mechanism for controlling the flash light emission.
      <br/>
      The auxiliary light emitting section 32 emits an auxiliary light.
      <br/>
      The light adjustment module 34 controls the light emission of the auxiliary light emitting section 32.
      <br/>
      The photometric module (photometric sensor) 36 measures a brightness of a subject (i.e. an object to be photographed).
      <br/>
      The focusing module (focusing sensor) 38 measures a distance between the camera and the subject.
    </p>
    <p num="45">
      The C-MOS image operation processing sensor 40 is arranged so as to take a finder image which is formed at an image-forming position (on a focusing screen locating below a penta-prism) in a finder optical system.
      <br/>
      More specifically, the C-MOS image operation processing sensor 40 operates so as to take in the image within a region to be photographed by the camera, so as to process the image at a high speed, and so as to output the image processing information upon a shape (or a contour) of the image, and/or upon a movement of the image (i.e. its direction and amount of movement) and so on, to the control microcomputer 30.
      <br/>
      The C-MOS image operation processing sensor 40 is constituted by a MOS type light-receiving cell able to read image at a higher speed than CCD, and an image calculation operation part for speedily processing the read data and for performing a feature extraction, in which the MOS type light-receiving cell and the image calculation operation part are integrated into one single element.
      <br/>
      The C-MOS image operation processing sensor 40 has an information compressing function and a parallel processing function, both of which the human retina has.
      <br/>
      The use of this C-MOS image operation processing sensor 40 enables the image information input device to be improved in function, to be reduced in size (i.e. to be miniaturized), to be increased in speed of operation, and to be reduced in consumption of power.
      <br/>
      The control microcomputer 30 can execute its control operation at high speed, because the control microcomputer 30 can only process, or manage, data with a small amount of information after the feature extraction.
    </p>
    <p num="46">
      The AF encoder 42 detects an amount of movement of the AF actuator 44.
      <br/>
      The AF actuator 44 drives a focus lens in an optical system 54 of an interchangeable lens 50 via a lens drive system of the interchangeable lens 50.
    </p>
    <p num="47">
      The interchangeable lens 50 is further provided with a lens microcomputer 52, in addition to the optical system 54.
      <br/>
      The lens microcomputer 52 is connected to the control microcomputer 30 of the camera main body 10, and it performs communication with the control microcomputer 30.
    </p>
    <p num="48">In more detail, the camera with the mechanism for controlling the flash light emission has a construction as shown in a block diagram of FIG. 6.</p>
    <p num="49">That is, the camera main body 10 is provided with a DC/DC (DC-to-DC) converter 24, the photometric sensor 36, a focusing sensor 38, the C-MOS image operation processing sensor 40, a pair of motor drivers 41 and 43, an aperture magnet 46, a shutter magnet 48, a body display device 16, an adjustment terminal 14, and various switches S1, S2, SMODE, SUP and SDOWN, each of which is connected to the control microcomputer 30.</p>
    <p num="50">
      The DC/DC converter 24 makes constant a voltage supplied from a battery 22 which is loaded inside the camera main body 10, and it constantly supplies its power to the control microcomputer 30.
      <br/>
      In the arrangement, when any one of the switches S1, S2, SMODE, SUP and SDOWN is operated, then the DC/DC converter 24 supplies the constant voltage to the various sensors 36, 38 and 40, the motor drivers 41 and 43, the aperture magnet 46, the shutter magnet 48, the body display 16, and the lens microcomputer 52 of the interchangeable lens 50, under the control of the control microcomputer 30.
    </p>
    <p num="51">
      The motor driver 41 drives the AF motor 44 for moving the focus lens in the interchangeable lens 50, and the motor driver 43 drives the film feeding motor 45 for feeding the film, respectively.
      <br/>
      The aperture magnet 46 controls, or drives, an aperture for executing the exposure operation.
      <br/>
      The shutter magnet 48 controls, or drives, the shutter.
    </p>
    <p num="52">
      The body display device 16 displays a state of the camera, photographing information, and so on.
      <br/>
      The adjustment terminal 14 is used for adjusting the sensors 36 and 40.
    </p>
    <p num="53">
      The switch S1 is a switch for executing the photometric measuring, focusing, calculation processing, and AF driving control of the interchangeable lens 50, in order to prepare photographing.
      <br/>
      The switch S1 is turned on when a shutter button is depressed (i.e. pressed down) halfway.
      <br/>
      The switch S2 is a switch for executing the exposure operation.
      <br/>
      The switch S2 is turned on when the shutter button is completely pressed down.
      <br/>
      The switch SUP and the switch SDOWN are switches for changing a setting value of the shutter speed, and value of the aperture.
      <br/>
      The switch SMODE is a switch for changing a setting of photographing condition.
    </p>
    <p num="54">The camera with the mechanism for controlling the flash light emission of the present invention is not limited to the construction shown in FIG. 4, and it can be embodied in a variety of forms.</p>
    <p num="55">For example, as shown in FIG. 5 which shows a first modification to the preferred embodiment, the camera with the mechanism for controlling the flash light emission may have a construction in which a driving control mechanism of an interchangeable lens 50a is provided inside the interchangeable lens 50a, where the driving control mechanism has an AF actuator 56 for driving the focus lens in the optical system 54, an AF encoder 57 for detecting the driving amount of the AF actuator 56, a PF encoder 58 for detecting a position of the focus lens, and a termination detecting switch 59 for detecting a limit of movement of the focus lens, and where the focus lens in the optical system 54 is driven by communication between a lens microcomputer 52 of the interchangeable lens 50a and the control microcomputer 30 of the camera main body 10.</p>
    <p num="56">Alternatively, as shown in FIG. 7 which shows a second modification to the preferred embodiment, and as shown in FIG. 8 which shows a third modification thereto, respectively, the photometric module (i.e. photometric sensor) 36 may be cancelled, and the C-MOS image operation processing sensor 40a may also have a function as a photometric.</p>
    <p num="57">In each of the aforementioned cameras with the mechanisms for controlling the flash light emissions, pixels of the C-MOS image operation processing sensor 40, the multi-division photometric element of the photometric sensor 36, and the multi-point focusing element of the focusing sensor 38, have, on a screen, a relative arrangement as shown in FIGS. 9 through 11.</p>
    <p num="58">
      That is, FIG. 9 shows an example, corresponding to FIGS. 4 and 5, in which the C-MOS image operation processing sensor 40, the multi-point focusing element 38, and the multi-division photometric element .36 are combined to each other; on the other hand, FIG. 11 shows an example, corresponding to FIGS. 4 and 5, in which the C-MOS image operation processing sensor 40, the multi-point focusing element 38, and the multi-division light adjusting element 34 are combined to each other.
      <br/>
      Meanwhile, FIG. 10 shows an example, corresponding to FIGS. 7 and 8, in which the multi-division photometric element of the photometric sensor 36 is eliminated, and an output of the C-MOS image operation processing sensor 40a is also used for photometric measuring.
      <br/>
      Namely, FIG. 10 shows the example in which the C-MOS image operation processing sensor 40a and the multi-point focusing element 38 are combined to each other.
    </p>
    <p num="59">In each of the aforementioned cameras, the C-MOS image operation processing sensor 40, 40a can process the image which has been taken, and it can output a variety of pieces of image processing information as shown in FIGS. 12 through 18.</p>
    <p num="60">That is, the C-MOS image operation processing sensor 40, 40a can output:</p>
    <p num="61">
      (A) image information (see FIG. 12);
      <br/>
      (B) turning-over information (see FIG. 13);
      <br/>
      (C) edge-detecting (contour detecting) information (see FIG. 14); and
      <br/>
      (D) color information (see FIG. 15).
    </p>
    <p num="62">
      As shown in FIG. 12, the image information is a direct output of the photoelectric output of each pixel.
      <br/>
      As shown in FIG. 13, the turning-over information is an inverted output of the photoelectric output of each pixel, where it outputs a reference voltage Vref at time of darkness, and the output comes closer to 0 V as brightness increases.
      <br/>
      As shown in FIG. 14, the edge-detecting information (contour detection information) is an output corresponding to a difference between adjacent pixels, where only the pixels with the difference which is more than a predetermined value can be detected as an edge.
      <br/>
      As shown in FIG. 15, the color information is the image information upon each component image of R, G and B which is derived from resolving the taken image through an R filter, a G filter and a B filter.
      <br/>
      Further, the C-MOS image operation processing sensor 40 can output (A) the image information, (B) the turning-over information, and (C) the edge-detecting information, per each component image R, G and B.
    </p>
    <p num="63">As shown in FIGS. 16 through 18, the C-MOS image operation processing sensor 40 can further calculate, and output, a variety of pieces of image processing information, such as gravity-center-detecting information (i.e. information upon detecting a center of gravity), vector detecting information, and information upon subject region, on the basis of the image information, turning-over information, edge-detecting information (contour information), and color information.</p>
    <p num="64">
      The gravity-center-detecting information is obtained on the basis of the coordinates (X1, Y1), (X2, Y2), . . . , (Xk, Yk) of all the pixels (where the total number is assumed to be k) detected as an edge as shown in (A-1), by calculating the coordinates (Gx, Gy) of the center of gravity G according to an equation (Gx, Gy)=((X1+X2+. . . +Xk)/k, (Y1+Y2+. . . +Yk)/k) as shown in (A-2).
      <br/>
      If there are a plurality of pieces of edge-detecting information, then it is possible to calculate the center of gravity for each of a series of edges.
    </p>
    <p num="65">
      Meanwhile, the vector detecting information is obtained on the basis of the center of gravity Gn-1 (GXn-1, GYn-1) of the (n-1)-th frame and on the basis of the center of gravity Gn (GXn, GYn) of the n-th frame as shown in (B-1), by calculating the movement vector V of the center of gravity as shown in (B-2).
      <br/>
      That is, vector starting point coordinates: Gn-1, (GXn-1, GYn-1), a direction component: D(GXn -GXn-1, GYn -GYn-1), and a velocity component: VG=+(GXn -GXn-1)2 +(GYn -GYn-1)2 }1/2 /(frame time), are calculated.
      <br/>
      If there are a plurality of edges, it is possible to divide the edges every region, to obtain the center of gravity every divided edge, to obtain the vector information for each divided edge, and to determine the edge having an identical vector direction and velocity as the edge of an identical subject to be photographed.
    </p>
    <p num="66">
      Meanwhile, the information upon subject region is obtained on the basis of the edge-detecting information and on the basis of the gravity-center-detecting information as shown in (C-1), by calculating the coordinates of the upper, lower, left-hand and right-hand edges, and by calculating the magnitudes in the X- and Y-directions as shown in (C-2).
      <br/>
      That is, the left-hand edge coordinates XL (HXL, Gy) which are located nearest to the center of gravity G and which are located on the left-hand side relative to the center of gravity G where the Y-coordinate of the left-hand edge coordinates XL is the same as Gy of the center of gravity G(Gx, Gy), the right-hand edge coordinates XR (HXR, Gy) which are located nearest to the center of gravity G and which are located on the right-hand side relative to the center of gravity G where the Y-coordinate of right-hand edge coordinates XR is the same as Gy of the center of gravity G (Gx, Gy), the upper edge coordinates YU (Gx, VYU) which are located nearest to the center of gravity G and which are located on the upper side relative to the center of gravity G where the X-coordinate of the upper edge coordinates Yu is the same as Gx of the center of gravity G (Gx, Gy), and the lower edge coordinates YD (GX, VYD) which are located nearest to the center of gravity G and which are located on the lower side relative to the center of gravity where the X-coordinate of the lower edge coordinates YD is the same as Gx of the center of gravity G(Gx, Gy), are calculated, respectively.
      <br/>
      On the other hand, the magnitude Lx in the X-direction is calculated by Lx=.vertline.HXR -HXL.vertline., and the magnitude Ly in the Y-direction is calculated by Ly=.vertline.VYD -VYU.vertline.. If there are a plurality of pieces of edge-detecting information and gravity-center-detecting information, then the information upon subject region may be calculated per each center of gravity.
    </p>
    <p num="67">Next, an algorithm for selecting the photometric region by making use of the information upon subject region, will be described below.</p>
    <p num="68">Firstly, an algorithm for selecting the photometric region with respect to a main subject region As, will be described.</p>
    <p num="69">
      For example, if the image data (photometric output) from the C-MOS image operation processing sensor 40a is directly used as the photometric value for the exposure operation as performed in the camera shown in FIG. 7 or FIG. 8, then a rectangular region surrounded by the left-hand edge coordinate XL, the right-hand edge coordinate XR, the upper edge coordinate YU, and the lower edge coordinate YD shown in FIG. 19(A), is selected as the main subject region As, as shown in FIG. 19(B).
      <br/>
      Then, the photometric output of the pixels included in the main subject region As, among the pixels of the C-MOS image operation processing sensor 40, is directly used as the photometric value for performing the exposure operation.
      <br/>
      In this case, the weight of the pixels located near the center of gravity G(Gx, Gy) of the subject region As may be increased, as shown in FIG. 19(C).
    </p>
    <p num="70">
      Meanwhile, for example, if the photometric value which is obtained by the photometric element of the photometric sensor 36 provided separately, or independently, from the C-MOS image operation processing sensor 40, is used as the photometric value for performing the exposure operation as performed in the camera shown in FIG. 4 or FIG. 5, then the main subject region As is sought, similarly to the aforementioned manner, from the information upon subject region, and the output from the photometric elements S2, S3 and S7 locating within the main subject region as is used as a photometric value for executing the exposure operation, as shown in FIGS. 20(A) through 20(D).
      <br/>
      In this case, it is possible to obtain the brightness of the main subject by simply averaging the photometric outputs of the selected photometric devices S2, S3 and S7, or to obtain the brightness of the main subject by weighting similarly to the arrangement shown in FIG. 19(C), for example.
    </p>
    <p num="71">Next, an algorithm for selecting the photometric region with respect to a background region Aa, will be described below.</p>
    <p num="72">
      For example, if the image data (photometric output) from the C-MOS image operation processing sensor 40a is directly used as the photometric value for the exposure operation as performed in the camera shown in FIG. 7 or FIG. 8, then a region outside a rectangular region (see FIG. 21(B) or FIG. 21(C)) that includes the edge coordinates XL, XR, YU and YD, is selected as a background region Aa by making use of the edge coordinates XL, XR, YU and YD of the subject region as shown in FIG. 21(A).
      <br/>
      In the arrangement, it is possible to treat all the pixels included in the background region Aa with the same weight as shown in FIG. 21(B), or to treat the pixels included therein with different weights in accordance with the positions of the pixels or with the outputs of pixels as shown in FIG. 21(C).
    </p>
    <p num="73">
      Meanwhile, for example, if the photometric value which is obtained by the photometric element of the photometric sensor 36 provided separately, or independently, from the C-MOS image operation processing sensor 40, is used as the photometric value for performing the exposure operation as performed in the camera shown in FIG. 4 or FIG. 5, then, photometric elements S0, S1, S4 through S6, and S8 through S13, locating within the region Aa that is outside a rectangular region, which includes a plurality of edge coordinates XL, XR, YU and YD and is surrounded by the plurality of edge coordinates XL, XR, YU and YD of the subject region, are selected as the photometric elements in the background region Aa, as shown in FIGS. 22(A) through 22(D).
      <br/>
      It is possible to determine the background brightness by processing the photometric output of the photometric element selected as the photometric region with the same weight, or to change the weight of each photometric element, similarly to the arrangement as shown in FIG. 21(C).
    </p>
    <p num="74">Next, an algorithm for selecting the photometric region by making use of focusing information, will be described below.</p>
    <p num="75">For example, if the image data (photometric output) from the C-MOS image operation processing sensor 40a is directly used as the photometric value for the exposure operation as performed in the camera shown in FIG. 7 or FIG. 8, then, a main subject region As is determined on the basis of a mutual positional relation between information upon a subject region and a focusing region (i.e. focal islands I1 through I3), as shown in FIGS. 23(A) through 23(C).</p>
    <p num="76">
      That is, a focal island that the focusing value is equal to the focal distance, or a subject region having a center of gravity which is closest to the nearest island with the smallest focusing value, is selected as the main subject region As.
      <br/>
      For example, assuming that the focal island I2 is the nearest island as shown in FIG. 23(D), then the edge region having a center of gravity G2 is determined as the main subject region As.
      <br/>
      Also, the main subject region As may be selected and determined by incorporating brightness information to this.
      <br/>
      For example, if a periphery of the center of gravity G2 has an excessively low or high brightness, then the edge region having the center of gravity G2 is not selected as the main subject region.
    </p>
    <p num="77">
      Further, as shown in FIG. 23(E), a region which includes the islands I1 and I3 except the nearest island I2 and which is located outside the main subject region as, is selected as a background photometric region Aa.
      <br/>
      Subsequently, the exposure operation is executed on the basis of the photometric output of the pixels which are included in the main subject photometric region As and in the background region Aa, similarly to the aforementioned procedure.
    </p>
    <p num="78">Meanwhile, for example, if the photometric value which is obtained by the photometric element of the photometric sensor 36 provided separately, or independently, from the C-MOS image operation processing sensor 40, is used as the photometric value for performing the exposure operation as performed in the camera shown in FIG. 4 or FIG. 5, the same procedure, or operation, is carried out.</p>
    <p num="79">An algorithm for calculating a main subject brightness, when a plurality of main subject regions exist, by setting a degree of priority to the regions, will be described below.</p>
    <p num="80">
      If the image data (photometric output) from the C-MOS image operation processing sensor 40a is directly used as the photometric value for the exposure operation as performed in the camera shown in FIG. 7 or FIG. 8, if the information upon subject regions of FIG. 24(A) and the focal islands I1 through I3 of FIG. 24(B) have a mutual relation as shown in FIG. 24(C), namely if there are a plurality of candidate regions one of which can be a main subject, then, photometric regions AS1, AS2 and AS3 of the candidate regions are set, as shown in FIG. 24(D), similarly to the above.
      <br/>
      Then, the degrees of priority P1, P2 and P3 of the photometric regions AS1, AS2 and AS3 are specifically set.
    </p>
    <p num="81">
      For example, the focal island, or the region having a center of gravity closest to the nearest island, is selected as the main subject region of the first priority as the highest priority.
      <br/>
      More specifically, for example, if the focal island I2 is the nearest island, the edge region having the center of gravity G2 is regarded as the main subject, and the degree of priority P2 of the photometric region AS2 is set to five, for example.
      <br/>
      Relative to the photometric regions AS1 and AS3 having the other centers of gravity G1 and G3 are set degrees of priority in the order of increasing distance up to the subject, on the basis of the focusing values of the islands I1 and I3.
      <br/>
      For example, if the distance up to the subject decreases in the order of the photometric regions AS2, AS3 and AS1, then the degree of priority P3 of the photometric region AS3 is set to three, and the degree of priority P1 of the photometric region AS1 is set to one.
      <br/>
      In this relation, the degree of priority P1 through P3 is assumed to have a higher order (i.e. a higher degree of priority) as the number of the degree of priority P1 through P3 increases.
    </p>
    <p num="82">
      Alternatively, the degree of priority may be determined according to another method of determination.
      <br/>
      For example, the degree of priority of each region may be set to be higher in the order of increasing the distance up to the nearest region AS2.
    </p>
    <p num="83">A brightness BVS of the main subject is calculated in accordance to the following equation on the basis of the photometric output of the pixels included in the photometric regions AS1 through AS3 and on the basis of the degrees of priority P1 through P3 of the photometric regions.  (Equation image '1' not included in text)</p>
    <p num="84">where</p>
    <p num="85">
      n1 is the number of pixels included in the region AS1,
      <br/>
      n2 is the number of pixels included in the region AS2,
      <br/>
      n3 is the number of pixels included in the region AS3,
      <br/>
      BVAS1 k is the photometric output of the k-th pixel in the region AS1,
      <br/>
      BVAS2 i is the photometric output of the i-th pixel in the region AS2, and
      <br/>
      BVAS3 j is the photometric output of the j-th pixel in the region AS3.
    </p>
    <p num="86">
      By the way, if the degrees of priority of all the subject regions are made equal to one another (for example, if P1=P2=P3=1), then the calculation is to be executed with the weights of the regions being equalized.
      <br/>
      Through this calculation, the operation is simplified.
    </p>
    <p num="87">Next, a case where the degrees of priority other than the highest degree of priority are determined by incorporating a variety of factors will be described below.</p>
    <p num="88">
      First of all, the photometric region about the subject region including a focused, focusing region, is determined as a highest-priority region ASM.
      <br/>
      In this case, the degree of priority PM of the highest-priority region ASM is set to five.
      <br/>
      Further, the focal distance of the highest-priority region ASM is assumed to be DVM, the coordinates of the center of gravity of the highest-priority region ASM are assumed to be GM (GxM, GyM) and the intra-regional average brightness of the highest-priority region ASM is assumed to be BVSM-- ave.
    </p>
    <p num="89">Next, in regard to a photometric region ASk other than the highest-priority region ASM, various priority ratios ED, EDL, EG, EDB, EB and ES are calculated by comparison with the highest-priority region ASM or the like, and the degree of priority Pk of the region ASk other than the highest-priority region ASM is sought for according to the following equation.</p>
    <p num="90">Pk=PM * (ED * EDL * EG * E DB * EB * ES)</p>
    <p num="91">
      The priority ratio ED is a distance priority ratio representing whether each region is near or far from the highest-priority region ASM in the direction of optical axis, and the priority ratio ED is sought for by comparing the focal distance DVSk of the region ASk with the focal distance DVM of the highest-priority region ASM.
      <br/>
      That is, the absolute value:  DELTA DVMK =.vertline.DVSk -DVM.vertline. of the focal distance between the region ASK and the highest-priority region ASM is first obtained, and the priority ratio ED is obtained from the following Table.
    </p>
    <p num="92">
      -- TABLE 1
      <br/>
      -- Distance Priority Ratio: ED Calculation Table
      <br/>
      --                                           Equal to
      <br/>
      --                                           Or        Focusing
      <br/>
      --  DELTA DVMK  Within    From 0.25   From 0.5    greater   region not
      <br/>
      -- (DV)    0.25      to 0.5      to 1.0      than 1.0  included
      <br/>
      -- ED  1.0       0.9         0.7         0.4       1.0
    </p>
    <p num="93">
      The priority ratio EDL is the gravity center position priority ratio representing whether each region is near or far from the highest-priority region ASM in the X- and Y-directions.
      <br/>
      A distance:  DELTA L =+(Gxk-GxM)2 +(Gyk-GyM)2 }1/2 between the center of gravity Gk (Gxk, Gyk) of the region ASk and the coordinates GM (GxM, GyM) of center of gravity of the highest-priority region ASM is first obtained, and then the gravity center position priority ratio EDL is sought for from the following Table.
    </p>
    <p num="94">
      -- TABLE 2
      <br/>
      -- Gravity Center Position Priority Ratio: EDL Calculation Table
      <br/>
      --                                                Equal to or
      <br/>
      --                                                greater
      <br/>
      --  DELTA L  Within 10 From 10 to 15  From 15 to 20 than 20
      <br/>
      -- EDL  1.0       0.9            0.7           0.2
    </p>
    <p num="95">
      The priority ratio EG is an absolute gravity center position ratio for reducing the degree of priority when the gravity center position of the region ASk is located at an extreme upper end position of the screen.
      <br/>
      On the basis of a relation of magnitude between a gravity center coordinates Gk (Gxk, Gyk) of the region ASk, an X-coordinate Xmin at a left-hand end of the screen, an X-coordinate Xmax at a right-hand end of the screen, a Y-coordinate Ymax at an upper end of the screen, and a Y-coordinate Ymin at a lower end of the screen, the absolute gravity center position priority ratio EG is obtained from the following Table.
    </p>
    <p num="96">
      -- TABLE 3
      <br/>
      -- Absolute Gravity Center Position Priority Ratio: EG Calculation Table
      <br/>
      --                                                    Other than
      <br/>
      --        Gxk &lt;  Gxk &gt;    Gyk &lt;  Gyk &gt;    conditions
      <br/>
      --  DELTA L Xmin + 5 Xmax - 5 Ymin + 5 Ymax - 5 on the Left
      <br/>
      -- EG  0.1       0.1         0.1       0.1         1.0
    </p>
    <p num="97">
      The priority ratio EDS is a brightness priority ratio representing whether a difference in brightness relative to the highest-priority region ASM is great or small.
      <br/>
      The absolute value:  DELTA BVMK =.vertline.BVsk_ave-BVSM-- ave.vertline. of a difference between intra-regional average brightness BVSK-- ave in the region ASk and the intra-regional average brightness BVSM-- ave in the highest-priority region ASM is calculated and obtained with reference to the following Table.
    </p>
    <p num="98">
      -- TABLE 4
      <br/>
      -- Brightness Priority Ratio: EDB Calculation Table
      <br/>
      --                                                 Equal to or
      <br/>
      --  DELTA BVMK              From 0.5 to   From 1.0 to   greater
      <br/>
      -- (BV)    Within 0.5  1.0           2.0           than 2.0
      <br/>
      -- EDB  1.0         0.9           0.8           0.6
    </p>
    <p num="99">The priority ratio EB is an absolute brightness priority ratio for reducing the degree of priority when the intra-regional average brightness BVSK-- ave in the region ASK has an excessively high brightness, and the priority ratio EB is sought for with reference to the following Table.</p>
    <p num="100">
      -- TABLE 5
      <br/>
      -- Absolute Brightness Priority Ratio: EB Calculation Table
      <br/>
      -- BVSK ave      BV10.5 or less BV10.5 or more
      <br/>
      -- EB            1.0           0.1
    </p>
    <p num="101">
      The priority ratio ES is a magnitude priority ratio for reducing the degree of priority when the magnitude of the region ASK is excessively small.
      <br/>
      From the magnitude information upon the region ASK, namely from the number SK of pixels (the number of pixels in the C-MOS image calculating operation sensor) included in the region, the magnitude priority ratio is sought for with reference to the following Table.
    </p>
    <p num="102">
      -- TABLE 6
      <br/>
      -- Magnitude Priority Ratio: ES Calculation Table
      <br/>
      --        SK  SK  &lt;=  6     6 &lt; SK  &lt;=  10 10 &lt; SK
      <br/>
      --        ES  0.2                0.6         1.0
    </p>
    <p num="103">
      By the way, PK can be equal to PM.
      <br/>
      If PK =PM, then all the subject regions are to be processed with the same weight, allowing the operation to be simplified.
    </p>
    <p num="104">Next, a calculation of a ratio (hereinafter, referred to as main background occupation rate) between the main subject region and the background region, relative to a photographing region, will be described below.</p>
    <p num="105">
      If the image data (photometric output) from the C-MOS image operation processing sensor 40a is directly used as the photometric value for the exposure operation as performed in the camera shown in FIG. 7 or FIG. 8, the main background occupation rate is calculated on a basis of selecting an inside of the rectangle including the edge coordinates XL, XR, YU and YD as the main subject region As as shown in FIG. 25(B), with reference to the information upon the main subject region shown in FIG. 25(A), namely with reference to the edge coordinates XL, XR, YU and YD, and on a basis of selecting an outside of the rectangle including the edge coordinates XL, XR, YU and YD as the background region Aa as shown in FIG. 25(C).
      <br/>
      Then, the number of pixels Ns of the main subject region as, and the number of pixels Na of the background region Aa, are sought for, and the main background occupation rate Osa is calculated in accordance to the equation: Osa=Ns/(Ns+Na) * 100(%).
      <br/>
      In the example shown in FIGS. 25(A) through 25(C), Ns=9 * 12=108, Na=16 * 24-9 * 12=276; therefore, Osa=108/(108+276) * 100=28.1 (%).
    </p>
    <p num="106">
      Meanwhile, for example, if the photometric value which is obtained by the photometric element of the photometric sensor 36 provided separately, or independently, from the C-MOS image operation processing sensor 40, is used as the photometric value for performing the exposure operation as performed in the camera shown in FIG. 4 or FIG. 5, the same procedure, or operation, is carried out.
      <br/>
      That is, as shown in FIGS. 26(A) through 26(D), an inside of the rectangle including the edge coordinates XL, XR, YU and YD in the subject region is selected as a main subject region As, and an outside of the rectangle is selected as a background region Aa.
      <br/>
      Then, the number of pixels Ns where the centers of gravity are included in the main subject region As, and the number of pixels Na where the centers of gravity are included in the background region Aa, are sought for, and the main background occupation rate Osa is calculated in accordance to the equation: Osa=Ns/(Ns+Na) * 100(%).
      <br/>
      In the example shown in FIGS. 26(A) through 26(D), Osa=3/(3+10) * 100=23 (%)
    </p>
    <p num="107">Next, a fundamental operation of the camera with the mechanism for controlling the flash light emission according to the preferred embodiment will be described below, with reference to the flowcharts of FIG. 27 through FIG. 36.</p>
    <p num="108">
      That is, first referring to FIG. 27, it is determined in step -1012 whether or not the switch S1 is turned on, in which the switch S1 is turned on when the shutter button is pressed down halfway.
      <br/>
      If the switch S1 is turned on, then a focusing operation is executed in step -1014, and a photometry (i.e. photometric measuring) is executed in step -1016.
      <br/>
      Each piece of data, output in each of steps -1014 and -1016, is stored into the memory.
    </p>
    <p num="109">
      Next, an AE operation (described in more detail, later) is executed in step -1018, in which an exposure condition (a presence or an absence of flash light, an aperture AV, a shutter speed TV), and so on, is determined.
      <br/>
      Next, the aforementioned steps -1012 through -1018 are repeated until the shutter button is completely depressed to turn on the switch S2.
    </p>
    <p num="110">If the switch S2 is turned on, then a release routine in steps -1022 through step -1038 is executed.</p>
    <p num="111">
      That is, in step -1024, a release preparatory operation, such as a mirror up, a shutter charge, and so on, is executed, and then in step -1026, a diaphragm (an aperture) is driven so as to achieve an aperture AV which has been determined in step -1018.
      <br/>
      Then, in step -1028, the shutter is opened, and the exposure is started.
      <br/>
      In this stage, a light is emitted from the flash gun if necessary, through steps -1030 and -1032.
    </p>
    <p num="112">
      Next, in step -1034, the shutter speed is counted, and in step -1036, the shutter is closed when the shutter speed TV reaches a speed which has been determined in step -1018, and then the exposure is terminated.
      <br/>
      Then, the program proceeds to step -1038 in which a next frame preparation processing, such as a mirror down, a film feeding by one frame, and so on, is executed.
    </p>
    <p num="113">The AE operation in step -1018 in FIG. 27 will be described below in more detail, with reference to a detailed flowchart of FIG. 28.</p>
    <p num="114">That is, in step -1042, the control microcomputer 30 reads the focusing data, which has been measured in step -1014, from the memory, and, in step -1044, the control microcomputer 30 reads the photometric data, which has been measured in step -1016, from the memory.</p>
    <p num="115">Next, in step -1046, the control microcomputer 30 receives an input of the image processing information from the image operation processing sensor 40, calculates the information upon subject region in step -1048 on the basis of the image processing information, and calculates the main subject brightness and the background brightness in step -1050.</p>
    <p num="116">
      Next, a process of scene determination 1 ("SCENE DETERMINATION 1") is executed in step -1052 as described in detail later, and it is determined in step -1054 whether or not light emission from the flash gun is necessary.
      <br/>
      Then, it is determined in step -1056 whether or not the flash light emission control is necessary.
    </p>
    <p num="117">
      If the flash light emission control is not executed, then a process of scene determination 2 ("SCENE DETERMINATION 2") is executed in step -1058 as described later.
      <br/>
      Next, the aperture AV for the stationary light control and the shutter speed TV are calculated in step -1060, and the process for performing the AE operation comes to an end.
    </p>
    <p num="118">
      On the other hand, if it is determined in step -1056 that the flash light emission control of the flash gun is performed, a flash emission demanding flag is set to one, and then the aperture AV for the flash light control and the shutter speed TV are calculated in step -1062.
      <br/>
      Next, as described in detail later, a light adjustment contribution rate is calculated in step -1064, a light adjustment compensation value is calculated in step -1066, and the process for performing the AE operation comes to an end.
    </p>
    <p num="119">The aforementioned steps -1046 and -1048 will be described in more detail below, with reference to a detailed flowchart of FIG. 29.</p>
    <p num="120">First, an image processing information input routine in step -1072 and its subsequent steps is executed.</p>
    <p num="121">
      That is, in step -1072, the control microcomputer 30 receives an input of the image processing information, such as the edge-detecting information, image information and color information, from the image operation processing sensor 40, and it stores the information into the memory.
      <br/>
      The control microcomputer 30 further receives, in step -1074, an input of a vector Vn which is obtained by calculating a difference between frames by the image operation processing sensor 40.
    </p>
    <p num="122">Next, the control microcomputer 30 executes a routine for calculating the information upon subject region, in step -1076 and its subsequent steps.</p>
    <p num="123">
      That is, in step -1078, centers of gravity G1, G2, . . . , Gk are obtained for each series of edges.
      <br/>
      Next, in step -1080, edge coordinates XLj, XRj, YUj and YDj in which the X-coordinate or the Y-coordinate is equal to that of the center of gravity Gj, are obtained for each series of edges (j=1, 2, . . . , k).
    </p>
    <p num="124">
      Next, the information upon subject region is calculated in step -1082.
      <br/>
      That is, each region surrounded by a series of edges is, respectively, set as the main subject region Asj (j=1, 2, . . . , k), and other regions are set as the background region Aa.
      <br/>
      Then, the average brightness within the region, size information and the degree of priority, are obtained per each region.
    </p>
    <p num="125">
      More specifically, the average brightness BVsj-- ave (j=1, 2, . . . , k) within the region of the main subject region Asj is the average value of photometric outputs BVAsj 1, BVAsj 2, . . . , BVAsj nj of the pixels located inside the main subject regions Asj (assuming that there are nj pixels in total).
      <br/>
      The average brightness BVa_ave within the region of the background region Aa is the average value of photometric outputs BVAa1, BVAa2, . . . , BVAam of the pixels in the region that is included in neither one of the main subject regions Asj (assuming that there are m pixels in total).
      <br/>
      Size information Sj of the main subject region Asj is the number of pixels nj (j=1, 2, . . . , k) included in the main subject region Asj.
    </p>
    <p num="126">
      BY the way, the size information Sj may be obtained from the sizes Lxj and Lyj in the X- and Y-directions of each main subject region Asj, according to the equation: Sj =Lxj * Lyj (j=1, 2, . . . , k).
      <br/>
      The degree of priority Pj of each main subject region Asj is sought, on a basis of information upon distance (information upon the most proximity), information upon size (number of pixels), a region located around the center, a region having the highest brightness (contra-rear light), a region having the lowest brightness (rear light), or the like.
      <br/>
      It is also acceptable to set all the degrees of priority equal to one another, with the arrangement of which an equivalent average photometric state is realized to allow the operation to be simplified.
    </p>
    <p num="127">
      Next, a main background occupation rate Osa is calculated in step -1084.
      <br/>
      The main background occupation rate Osa is calculated according to the equation: Osa=Nk/(Nk+m) * 100 (%) from the total Nk=n1 +n2 +. . . +nk of the number of pixels nj of each main subject region Asj and from the number of pixels m of the background region Aa.
    </p>
    <p num="128">By the way, in the aforementioned steps -1078 through -1084, a series of edges may be grouped, or classified, by using the color information (i.e. information upon color) and the vector information (information upon vector), and then it may be processed in the manner similar to the manner as aformentioned.</p>
    <p num="129">Next, the calculation of the brightness data in the aforementioned step -1050 of FIG. 28 will be described in more detail below, with reference to a detailed flowchart of FIG. 30.</p>
    <p num="130">
      That is, in step -1090, a weighted average of the intra-regional average brightness values BVsj-- ave (i.e. average brightness values BVsj-- ave within the region) of each main subject regions Asj is obtained by making use of the degree of priority Pj, and the main subject brightness reference data BVS is calculated.
      <br/>
      That is, the calculation is executed according to the equation: BVS=(P1 * n1 * BVs1-- ave+P2 * n2 * BVs2-- ave+. . . +Pk * nk * BVsk-- ave)/(P1 * n1 +P2 * n2 +. . . +Pk * nk).
    </p>
    <p num="131">Next, in step -1092, the intra-regional average brightness BVa_ave of the background region Aa obtained in step -1082 is set as the background brightness reference data BVA within the background region.</p>
    <p num="132">Next, the scene determination 1 in the aforementioned step -1052 of FIG. 28 will be described in more detail below, with reference to a detailed flowchart of FIG. 31.</p>
    <p num="133">First, a rear light scene determination routine in step -1102 and its subsequent steps is executed.</p>
    <p num="134">
      That is, a main background brightness difference  DELTA BAsa=BVS-BVA is calculated in step -1104.
      <br/>
      Next, in step -1106 a degree of rear light DBL is calculated using the following Table (TABLE 7) from the main background brightness difference  DELTA BAsa and the main background occupation rate Osa.
    </p>
    <p num="135">
      -- TABLE 7
      <br/>
      -- Degree of Rear Light: DBL Calculation Table
      <br/>
      --                DELTA Bvsa
      <br/>
      --                             from -3 to from -1.5 -0.5 or
      <br/>
      -- Osa           Less than -3 -1.5  to -0.5 more
      <br/>
      -- Less than     30            20          10           0
      <br/>
      -- 15%
      <br/>
      -- from 15 to    90            60          30          20
      <br/>
      -- 40%
      <br/>
      -- from 40 to    100      80          50          20
      <br/>
      -- 70%
      <br/>
      -- 70% or more   50            40          15           0
    </p>
    <p num="136">
      Next, a rear light flash flag BLFL_F is set in step -1108.
      <br/>
      Specifically, if there is a relation: BVA&gt;BV7.5 and DBL &gt;65, then an equation BLFL_F=1 is set; on the other hand, if there is not the above relation, then an equation BLFL_F=0 is set.
      <br/>
      Into this arrangement, may be incorporated image magnification information (i.e. information upon image magnification).
    </p>
    <p num="137">Next, a slow synchronization scene determination routine in step -1110 and its subsequent steps is executed.</p>
    <p num="138">
      First, in step -1112, edge-detecting information is inputted again.
      <br/>
      Next, light source information is detected in step -1114.
      <br/>
      Specifically, the information of which the edge brightness difference is not smaller than a specified value (BV8, for example) among the edge-detecting information is extracted.
      <br/>
      If the size information SK is used, then the number SK of pixels, satisfying a relation of SK &gt;10 pixels (provisional), out of the regions surrounded by the detected edges, is set as an indoor light source number: nin, and the number SK of pixels, satisfying a relation of SK &lt;= 10 pixels (provisional), is set as an outdoor light source number: nout.
    </p>
    <p num="139">If the color information is used, then the number SK of pixels, that satisfies a relation of SK &gt;10 pixels and that satisfies a condition in which the ratio of G is not smaller than a specified value (0.5, for example) in terms of the ratios of R, G and B (1.0 in total), out of the regions surrounded by the detected edges, is set as an indoor light source number: nin (corresponding to the number of detected fluorescent lamps), and the number of pixels other than the above number SK of pixels is set as an outdoor light source number: nout.</p>
    <p num="140">Next, in step -1116, a degree of outdoor photographing Dout is calculated from the indoor light source number nin and the outdoor light source number nout with reference to the following Table.</p>
    <p num="141">
      -- TABLE 8
      <br/>
      -- Degree of Outdoor Photographing: Dout Calculation Table
      <br/>
      --               nin
      <br/>
      -- n out         0       from 1 to 2   from 3 to 4   5 or More
      <br/>
      -- 0             50      20            10             0
      <br/>
      -- from 1 to 3   70      50            40            10
      <br/>
      -- from 4 to 6   90      60            50            30
      <br/>
      -- 7 or More     100  80            70            50
    </p>
    <p num="142">
      Next, in step -1118, an outdoor slow synchronization flag SLOWOUT_F and an indoor slow synchronization flag SLOWIN_F are set.
      <br/>
      It is assumed that SLOWOUT_F=1 if both BVA&lt;BV2 and Dout&gt;65 are satisfied; meawhile, it is assumed that SLOWOUT_F=0 if BVA&lt;BV2 and Dout&gt;65 are not satisfied.
      <br/>
      Also, it is assumed that SLOWIN_F=1 if both BV2&lt;BVA&lt;BV6 and Dout&gt;35 are satisfied; meawhile, it is assumed that SLOWIN_F=0 if BV2 &lt;= BVA&lt;BV6 and Dout&gt;35 are not satisfied.
    </p>
    <p num="143">Next, a determination of light emission/non-emission of flash gun in the aforementioned step -1054 of FIG. 28 will be described in more detail below, with reference to a detailed flowchart of FIG. 32.</p>
    <p num="144">First, it is determined in step -1122 whether or not the flash gun is off.</p>
    <p num="145">If the flash gun is off, then a stationary light control routine in step -1124 and its subsequent steps is executed.</p>
    <p num="146">
      That is, BVT is made to be the main subject brightness reference data BVS obtained in the aforementioned step -1090 of FIG. 30, and a flash emission demanding flag is set to zero in step -1128.
      <br/>
      Then, SV is added to BVT to gain EVT (i.e. EVT=BVT+SV) in step -1146, and the program is returned.
    </p>
    <p num="147">On the other hand, if it is determined in step -1122 that the flash gun is on, then the value of BVH is set to a manually caused blur limitation brightness in step -1130, and it is determined in step -1132 whether or not a rear light flashing condition is established.</p>
    <p num="148">If the rear light flashing condition is established, namely if BLFL_F=1, then a rear light flashing control routine in step -1158 and its subsequent steps is executed.</p>
    <p num="149">
      That is, in step -1160,  ALPHA  is added to the background brightness reference data BVA obtained in the aforementioned step -1092 of FIG. 30 to gain BVT (i.e. BVT=BVA+ ALPHA ), and the flash emission demanding flag is set to 1 in step -1144.
      <br/>
      Thereafter, the aforementioned step -1146 is executed, and the program is returned.
    </p>
    <p num="150">On the other hand, it is determined in step -1132 that the rear light flashing condition is not established, then the program proceeds to step -1134 in which it is determined whether or not the slow synchronization condition is established.</p>
    <p num="151">If the slow synchronization condition is established, namely if SLOWOUT_F=1 or SLOWIN_F=1, then a slow synchronization control routine in step -1154 and its subsequent steps is executed.</p>
    <p num="152">That is, in step -1156, BVT is made to be equal to BVA, the aforementioned steps -1144 and -1146 are executed, and then the program is returned.</p>
    <p num="153">On the other hand, if it is determined in step -1134 that the slow synchronization condition is not established, then the program proceeds to step -1136 in which it is determined whether or not BVS is smaller than BVH.</p>
    <p num="154">If BVS is smaller than BVH, then a routine of a light emission control in darkness in step -1150 and its subsequent steps is executed.</p>
    <p num="155">That is, BVT is made to be equal to BVH in step -1152, the aforementioned steps -1144 and -1146 are excuted, and then the program is returned.</p>
    <p num="156">
      On the other hand, if it is determined in step -1136 that BVS is not smaller than BVH, the program proceeds to step -1138 in which it is determined whether or not the flash gun is automatically operated.
      <br/>
      If the flash gun is automatic, then the stationary light control routine in the aforementioned step -1124 and its subsequent steps is executed.
    </p>
    <p num="157">
      On the other hand, if the flash gun is not automatic, then a compulsory light emission control routine in step -1140 and its subsequent steps is executed.
      <br/>
      That is,  GAMMA is added to BVS to make BVT in step -1142, the aforementioned steps -1144 and -1146 are performed, and then the program is returned.
    </p>
    <p num="158">Next, a calculation of the aperture AV and a calculation of the shutter speed TV, at time of the stationary light control as shown in step -1160 of FIG. 28, will be described in more detail below, with reference to a detailed flowchart of FIG. 33.</p>
    <p num="159">That is, in step -1202, a photographing mode process is executed and then a routine of a scene determination 2 ("SCENE DETERMINATION 2") in step -1204 and its subsequent steps is executed.</p>
    <p num="160">
      That is, an inclination  DELTA  is calculated in step -1206.
      <br/>
      The inclination  DELTA  can be any value which is equal to or more than zero (0) and which is equal to or less than one (1).
      <br/>
      When  DELTA  is greater, the aperture is made narrower, and the shutter speed is set to be slower (lower).
      <br/>
      Meanwhile, when  DELTA  is smaller, the aperture is made wider, and the shutter speed is set to be higher.
    </p>
    <p num="161">The inclination  DELTA  is obtained from a focal length f1 and the main background occupation rate Osa, according to the following  DELTA  calculation Table (TABLE 9).</p>
    <p num="162">
      -- TABLE 9
      <br/>
      --  DELTA  Calculation Table (Example 1) (If Focal Length (f1) Is Used)
      <br/>
      --               F1
      <br/>
      --               Less than 35 from 35 to  From 50 to  85 mm or
      <br/>
      -- Osa           mm          50 mm       85 mm       More
      <br/>
      -- Less than     1.0         0.9         0.7         0.6
      <br/>
      -- 15%
      <br/>
      -- from 15 to    0.9         0.8         0.6         0.5
      <br/>
      -- 35%
      <br/>
      -- from 35 to    0.6         0.6         0.3         0.2
      <br/>
      -- 60%
      <br/>
      -- from 60 to    0.4         0.3         0.2         0.1
      <br/>
      -- 80%
      <br/>
      -- 80% or More   0.6         0.5         0.6         0.7
    </p>
    <p num="163">Alternatively, the inclination  DELTA  may be obtained from an image magnification ratio  BETA  and the main background occupation rate Osa, according to the following  DELTA  calculation Table (TABLE 10).</p>
    <p num="164">
      -- TABLE 10
      <br/>
      --  DELTA  Calculation Table (Example 2)
      <br/>
      -- (If Image Magnification Ratio ( BETA ) Is Used)
      <br/>
      --                BETA
      <br/>
      --               1/10 or From 1/10 from 1/40 from 1/70 Less than
      <br/>
      -- Osa           More    to 1/40   to 1/70   to 1/100  1/100
      <br/>
      -- Less than     0.7     0.6       0.4       0.6       1.0
      <br/>
      -- 15%
      <br/>
      -- from 15 to    0.6     0.5       0.3       0.6       1.0
      <br/>
      -- 35%
      <br/>
      -- from 35 to    0.5     0.4       0.1       0.3       0.9
      <br/>
      -- 60%
      <br/>
      -- from 60 to    0.6     0.3       0.2       0.2       0.8
      <br/>
      -- 80%
      <br/>
      -- 80% or More   0.7     0.5       0.3       0.3       0.7
    </p>
    <p num="165">By the way, focal length information (information upon the focal distance) may be incorporated into this Table.</p>
    <p num="166">
      Next, in step -1208, the inclination  DELTA  is corrected, or compensated, on the basis of vector detecting information Vn.
      <br/>
      That is, if Vn&gt;Cv, then the value of  DELTA  is made to be one half.
      <br/>
      In this case, Cv is a constant, and Cv=1 mm/cm on the screen, for example.
      <br/>
      With this setting, if the vector detecting information Vn is higher than a specified value Cn, then it is assumed that the subject is a moving object or a sports scene, and  DELTA  is shifted to the high-speed side.
    </p>
    <p num="167">
      Next, it is determined in step -1210 whether or not EVT is greater than the sum of AVO and TVH.
      <br/>
      In this case, AVO is a reference aperture, and TVH is a manually caused blur limitation shutter speed.
    </p>
    <p num="168">
      If EVT is greater than the sum of AVO and TVH, then the aperture: AV=AVO+ DELTA  * (EVT-(AVO+TVH)) is calculated in step -1218.
      <br/>
      Then, in step -1220, AV is subtracted from EVT to set the shutter speed TV.
      <br/>
      Then, finally, a limitation process is executed in step -1222, and the program is returned.
    </p>
    <p num="169">
      On the other hand, if it is determined in step -1210 that EVT is not greater than the sum of AVO and TVH, then the program proceeds to step -1212 in which the reference aperture AVO is made to be equal to AV in step -1212, and then AV is subtracted from EVT to determine the shutter speed TV.
      <br/>
      Then, finally, a limitation process is executed in step -1216, and then the program is returned.
    </p>
    <p num="170">Next, a calculation of the aperture AV and a calculation of the shutter speed TV, at time of the flash light control as shown in the aforementioned step -1062 of FIG. 28, will be described below in more detail, with reference to a detailed flowchart of FIG. 34.</p>
    <p num="171">That is, in step -1302, a photographing mode process is executed, and it is determined in step -1304 whether or not EVT is greater than the sum of AVO and TVX (flash synchronization shutter speed).</p>
    <p num="172">If EVT is greater than the sum of AVO and TVX, then TVX is made to be equal to the shutter speed TV in step -1316, TV is subtracted from EVT to determine the aperture AV in step -1318, and a limitation process is executed in step -1320.</p>
    <p num="173">On the other hand, if it is determined in step -1304 that EVT is not greater than the sum of AVO and TVX, then the program proceeds to step -1306 in which the reference aperture AVO is made to be equal to the aperture AV, a value obtained by subtracting AV from EVT is set as the shutter speed TV in step -1308, and a limitation process is executed in step -1310.</p>
    <p num="174">After the limitation process in step -1310 or -1320 is performed, the light adjustment contribution rate is calculated in step -1064 as described above, and the light adjustment compensation value is calculated in step -1066.</p>
    <p num="175">Next, these steps -1064 and -1066 will be further described in more detail below.</p>
    <p num="176">First, a calculation of the light adjustment contribution rate in the aforementioned step -1064 of FIG. 34, will be described, with reference to a detailed flowchart of FIG. 35.</p>
    <p num="177">That is, in step -1402, a weight (contribution rate) wt (wt0, wt1, . . . , wtn) of each light adjustment cell C0, C1, . . . , Cn is set to zero as an initial value.</p>
    <p num="178">
      Next, in step -1404, the light adjustment contribution rate of each cell is calculated in step -1404.
      <br/>
      The information upon region (i.e. coordinates) of each light adjustment cell is of a predetermined value that is known beforehand.
      <br/>
      In this step, it is determined whether or not there exist(s) a center of gravity Gk of the main subject region ASK, and/or the number j of intra-regional coordinates XLK, XRK, YUK and YDK in the main subject region ASK, within the region per each light adjustment cell Cn.
      <br/>
      And, in this step, if there exist(s), each of the numbers is checked (or sought for).
      <br/>
      Further, if the center of gravity GK of the region ASK exists, then the information SK upon size of the region ASK, and the degree of priority Pk of the region ASK, are checked.
      <br/>
      Then, the contribution rate wtn" of each cell is sought for, in accordance with the following equation:
      <br/>
      wtn"=R1 * (Pk1 * SK 1+Pk2 * SK 2+. . . +Pki * SK i)+R2 * j
    </p>
    <p num="179">where R1 and R2 are constants (R1=R2=1, for example).</p>
    <p num="180">
      Next, a light adjustment contribution rate wtn' is standardized in step -1406, according to the following equation:
      <br/>
      wtn'=8 * wtn"/max (wt1", . . . , wtm")
    </p>
    <p num="181">With this standardization, the maximum contribution rate (weight) can be standardized as 8, and this contribution rate (weight) becomes the final control weight in the multi-division light adjustment.</p>
    <p num="182">Next, an average degree of light adjustment Dave is calculated in step -1408, from a distance D (unit: meter) up to the subject, and from the main background occupation rate Osa, on a basis of the following Table (TABLE 11).</p>
    <p num="183">
      -- TABLE 11
      <br/>
      -- Dave Calculation Table
      <br/>
      --                D (m)
      <br/>
      --                Smaller   from 1    from 2  from 4    8 m or
      <br/>
      -- Osa            than 1 m  to 2 m    to 4 m  to 8 m    More
      <br/>
      -- Less than 15%  80        90        90      100  100
      <br/>
      -- from 15 to 35% 50        60        80      90        100
      <br/>
      -- from 35 to 60% 30        20        10       0   10
      <br/>
      -- from 60 to 80% 50        10         0 10        20
      <br/>
      -- 80% or More    60        50        30      40        50
    </p>
    <p num="184">This average degree of light adjustment Dave is for the purpose of setting to an average contribution rate when the main background occupation rate Osa is low.</p>
    <p num="185">
      Next, in step -1410, the final light adjustment contribution rate wtn of each light adjustment cell Cn is calculated according to the following equation:
      <br/>
      wtn=(Dave * 8+(100-Dave) * wtn')/100.
    </p>
    <p num="186">The final light adjustment contribution rate wtn can be any value which is equal to or more than zero, and which is equal to or less than 8.</p>
    <p num="187">Next, a routine of a light adjustment compensation value calculation in the aforementioned step -1066 of FIG. 28 and FIG. 34, will be described in more detail below, with reference to a detailed flowchart of FIG. 36.</p>
    <p num="188">In step -1502, a light adjustment compensation value  DELTA EVFL is calculated from the distance D up to the subject and from the main background occupation rate Osa, in accordance with the following Table (TABLE 12).</p>
    <p num="189">
      -- TABLE 12
      <br/>
      --  DELTA EVFL Calculation Table (Unit: EV)
      <br/>
      --                D (m)
      <br/>
      --                Smaller   From 1    from 2  from 4    8 m or
      <br/>
      -- OSa            than 1 m  to 2 m    to 4 m  to 8 m    More
      <br/>
      -- Less than 15%  1.0       1.3       1.5     1.5       1.2
      <br/>
      -- from 15 to 35% 0.7       1.0       1.2     1.0       0.8
      <br/>
      -- from 35 to 60% 0.6       0.5       0.7     0.7       0.5
      <br/>
      -- from 60 to 80% 0.4       0.2       0.3     0.3       0.4
      <br/>
      -- 80% or More    0.5       0.0       0.0     0.1       0.2
    </p>
    <p num="190">
      Next, in step -1504, a color compensation  DELTA EVc is calculated from the ratios of R, G and B, in accordance with the following Table (TABLE 13).
      <br/>
      It is to be noted that  DELTA EVc is calculated, only when color information can be obtained.
    </p>
    <p num="191">
      -- TABLE 13
      <br/>
      --  DELTA EVc Calculation Table
      <br/>
      --               G/R
      <br/>
      --               Less than
      <br/>
      -- B/R           0.3       from 0.3 to 1 from 1 to 2 2 or More
      <br/>
      -- Less than 0.3 0         -0.2    0.5         0.7
      <br/>
      -- from 0.3 to 1 -0.2 -0.8    0.4         0.6
      <br/>
      -- from 1 to 2   0.5       0.4           0.2         0.5
      <br/>
      -- 2 or More     0.7       0.6           0.5         0.4
    </p>
    <p num="192">
      Next, in step -1506, a speed value SV of a setting film is calculated.
      <br/>
      Next, a control film speed value SVc is calculated in step -1508 in accordance with the following equation, and then the program is returned.
    </p>
    <p num="193">SVc=SV+(+/-)+(+/-)FL + DELTA EVFL + DELTA EVc</p>
    <p num="194">where (+/-) represents an exposure compensation value which is set by the user, and (+/-)FL represents a light adjustment compensation value which is set by the user.</p>
    <p num="195">
      Although the present invention has been fully described in connection with the preferred embodiment thereof with reference to the accompanying drawings, it is to be noted that various changes and modifications are apparent to those skilled in the art.
      <br/>
      Such changes and modifications are to be understood as included within the scope of the present invention as defined by the appended claims unless they depart therefrom.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A camera, comprising:</claim-text>
      <claim-text>an image sensor for sensing an image of a subject to be photographed, and for outputting subject information by processing data of the image; a plurality of light adjustment sensors for receiving a light which reflects from the subject, wherein each of the light adjustment sensors has a light receiving region which corresponds to at least a part of the light, and wherein the light adjustment sensors receive the light when a flash light is emitted; a calculator for calculating a contribution rate of an output supplied from each of the light adjustment sensors, on a basis of the subject information output from the image sensor;</claim-text>
      <claim-text>and a controller for controlling an emission of the flash light, on a basis of the contribution rate calculated by the calculator.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The camera as claimed in claim 1, which further comprises a distance detecting sensor for measuring a distance up to the subject, and for outputting focusing information, wherein the calculator calculates the contribution rate of the output on the basis of the subject information output from the image sensor and on a basis of the focusing information output from the distance detecting sensor.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The camera as claimed in claim 1, which further comprises a light measuring sensor for optically measuring a brightness of the subject, and for outputting a photometric value of the brightness thereof, wherein the calculator calculates the contribution rate on the basis of the subject information output from the image sensor and on a basis of the photometric value output from the light measuring sensor.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The camera as claimed in claim 1, which further comprises a discriminator for discriminating information upon a main subject region from the subject information, wherein the calculator calculates the contribution rate on a basis of the information upon the main subject region.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The camera as claimed in claim 4, wherein the calculator increases the contribution rate of the output supplied from at least one light adjustment sensor having the light receiving region which generally corresponds to the main subject region.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The camera as claimed in claim 5, wherein the calculator increases the contribution rate of the output supplied from at least one light adjustment sensor having the light receiving region, which generally corresponds to the main subject region and which generally corresponds to a region that is focussed.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The camera as claimed in claim 1, wherein the image sensor detects at least one of: (1) a contour of the subject; (2) a speed and a direction of movement of the subject;</claim-text>
      <claim-text>and (3) a color of the subject,</claim-text>
      <claim-text>wherein the image sensor outputs the subject information, on a basis of information upon the at least one thereof the image sensor detects.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The camera as claimed in claim 1, wherein the image sensor is constituted by a single element which comprises: a light receiving part;</claim-text>
      <claim-text>and an image processing part.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A method for controlling an emission of flash light, by making use of an image sensor for detecting an image-of a subject to be photographed and for outputting subject information by processing data of the image, comprising the steps of: receiving a light which reflects from the subject by a plurality of light adjustment sensors, wherein each of the light adjustment sensors has a light receiving region which corresponds to at least a part of the light, and wherein the light adjustment sensors receive the light when the flash light is emitted; calculating a contribution rate of an output supplied from each of the light adjustment sensors, on a basis of the subject information which is output from the image sensor;</claim-text>
      <claim-text>and controlling the emission of flash light, on a basis of the contribution rate thus calculated.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A camera, comprising: an image sensor for sensing an image of a subject to be photographed, and for outputting subject information by processing data of the image; a calculator for calculating a compensation value for light adjustment, on a basis of the subject information output from the image sensor;</claim-text>
      <claim-text>and a controller for controlling an emission of a flash light, on a basis of the compensation value for light adjustment calculated by the calculator.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The camera as claimed in claim 10, which further comprises a discriminator for discriminating information upon a main subject region from the subject information and for discriminating information upon a background region from the subject information, wherein the calculator calculates the compensation value for light adjustment on a basis of the information upon the main subject region and the information upon the background region.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The camera as claimed in claim 11, wherein the calculator calculates the compensation value for light adjustment in accordance with a proportion of the main subject region to the background region.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The camera as claimed in claim 10, which further comprises a distance detecting sensor for measuring a distance up to the subject, and for outputting focusing information, wherein the calculator calculates the compensation value for light adjustment, on the basis of the subject information output from the image sensor and on a basis of the focusing information output from the distance detecting sensor.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The camera as claimed in claim 10, which further comprises a light measuring sensor for optically measuring a brightness of the subject, and for outputting a photometric value of the brightness thereof, wherein the calculator calculates the compensation value for light adjustment, on the basis of the subject information output from the image sensor and on a basis of the photometric value output from the light measuring sensor.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The camera as claimed in claim 10, wherein the image sensor detects at least one of: (1) a contour of the subject; (2) a speed and a direction of movement of the subject;</claim-text>
      <claim-text>and (3) a color of the subject,</claim-text>
      <claim-text>wherein the image sensor outputs the subject information, on a basis of information upon the at least one thereof the image sensor detects.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The camera as claimed in claim 10, wherein the image sensor is constituted by a single element which comprises: a light receiving part;</claim-text>
      <claim-text>and an image processing part.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. A method for controlling an emission of flash light, by making use of an image sensor for detecting an image of a subject to be photographed and for outputting subject information by processing data of the image, comprising the steps of: calculating a compensation value for light adjustment on a basis of the subject information which is output from the image sensor;</claim-text>
      <claim-text>and controlling the emission of flash light, on a basis of the compensation value for light adjustment thus calculated.</claim-text>
    </claim>
  </claims>
</questel-patent-document>