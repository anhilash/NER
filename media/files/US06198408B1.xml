<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06198408B1.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as first publication">
      <document-id>
        <country>US</country>
        <doc-number>06198408</doc-number>
        <kind>B1</kind>
        <date>20010306</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6198408</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B1</original-publication-kind>
    <application-reference is-representative="YES" family-id="26322952" extended-family-id="18477772">
      <document-id>
        <country>US</country>
        <doc-number>09057810</doc-number>
        <kind>A</kind>
        <date>19980409</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09057810</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43166185</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>5781098</doc-number>
        <kind>A</kind>
        <date>19980409</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09057810</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>IL</country>
        <doc-number>11181994</doc-number>
        <kind>A</kind>
        <date>19941129</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1994IL-0111819</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>US</country>
        <doc-number>56308395</doc-number>
        <kind>A</kind>
        <date>19951127</date>
        <priority-linkage-type>C</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1995US-08563083</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010306</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G08C  19/28        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>08</class>
        <subclass>C</subclass>
        <main-group>19</main-group>
        <subgroup>28</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>340012290</text>
        <class>340</class>
        <subclass>012290</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>340012160</text>
        <class>340</class>
        <subclass>012160</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>398009000</text>
        <class>398</class>
        <subclass>009000</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>398106000</text>
        <class>398</class>
        <subclass>106000</subclass>
      </further-classification>
      <further-classification sequence="4">
        <text>398112000</text>
        <class>398</class>
        <subclass>112000</subclass>
      </further-classification>
      <further-classification sequence="5">
        <text>398115000</text>
        <class>398</class>
        <subclass>115000</subclass>
      </further-classification>
      <further-classification sequence="6">
        <text>455151400</text>
        <class>455</class>
        <subclass>151400</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G08C-019/28</text>
        <section>G</section>
        <class>08</class>
        <subclass>C</subclass>
        <main-group>19</main-group>
        <subgroup>28</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G08C-019/28</classification-symbol>
        <section>G</section>
        <class>08</class>
        <subclass>C</subclass>
        <main-group>19</main-group>
        <subgroup>28</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>6</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>16</number-of-drawing-sheets>
      <number-of-figures>15</number-of-figures>
      <image-key data-format="questel">US6198408</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method and apparatus for controlling electrical appliances by remote control transmitters</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>MOSELEY ROBIN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5099193</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5099193</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MOVSHOVICH ALEKSANDR</text>
          <document-id>
            <country>US</country>
            <doc-number>5386251</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5386251</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>MATSUZAWA KOUICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5608389</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5608389</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>FRIDLEY DUANE PATRICK, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6005486</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6005486</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>NISHIO MASAAKI</text>
          <document-id>
            <country>US</country>
            <doc-number>4905279</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4905279</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>GEIGER ERICH, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5081534</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5081534</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>LEON ALEXANDER, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9201968</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9201968</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <related-publication>
        <document-id>
          <country>US</country>
          <doc-number>56308395</doc-number>
          <kind>A</kind>
          <date>19951127</date>
        </document-id>
      </related-publication>
    </related-documents>
    <parties>
      <applicants>
        <applicant app-type="applicant" sequence="1">
          <addressbook lang="en">
            <name>COHEN ELIHAY</name>
          </addressbook>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Cohen, Elihay</name>
            <address>
              <address-1>Tel Aviv 63403, IL</address-1>
              <city>Tel Aviv 63403</city>
              <country>IL</country>
            </address>
          </addressbook>
          <nationality>
            <country>IL</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Norris, McLaughlin &amp; Marcus P.A.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Horabik, Michael</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A method and apparatus for controlling an electrical appliance by means of a command signal transmitted by a particular remote control transmitter, by means of a converter device which includes a receiver for receiving the command signal, a microprocessor for converting the command signal, according to a predetermined conversion process compatible with various types of command signals, to a code unique to that particular remote control transmitter, and a storage device for storing the unique code.
      <br/>
      The microprocessor may be programmed to operate in a Learn Mode to convert the command signal according to the predetermined conversion process to the unique code, and to store the unique code, and then to operate in an Operational Mode to convert any subsequently-received command signal to a code according to the predetermined conversioned process, to compare the two codes, and to effect the control of the electrical device when a match is found to be present.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>RELATED APPLICATION</heading>
    <p num="1">
      The present application is a continuation-in-part of application Ser.
      <br/>
      No. 08/563,083 filed Nov. 27, 1995, now abandoned.
    </p>
    <heading>FIELD AND BACKGROUND OF THE INVENTION</heading>
    <p num="2">The present invention relates to a method and apparatus for controlling an electrical appliance by means of a remote control transmitter.</p>
    <p num="3">
      Remote control of electrical appliances, such as television sets, light fixtures, fans, and the like, is well known in the art.
      <br/>
      Generally, each remote control transmitter is dedicated to control a particular appliance.
      <br/>
      This means that the user must be equipped with a large number of such remote control transmitters if a large number of appliances are to be remotely controlled.
      <br/>
      The need to have a remote control transmitter for each appliance to be remotely controlled increases the costs and decreases the convenience, in providing the advantages of remote control for the many types of appliances normally operated by a user.
    </p>
    <p num="4">Providing converter devices for remote control transmitters to adapt them for operating different types of appliances via a Learn Mode has also been proposed, as for example, described in U.S. Pat. Nos. 4,905,279, 5,081,534, but apparently, such converter devices have not found wide spread use.</p>
    <heading>OBJECTS AND SUMMARY OF THE PRESENT INVENTION</heading>
    <p num="5">An object of the present invention is to provide a novel method of controlling an electrical appliance by means of a remote control transmitter by using a converter device which can be programmed in a Learn Mode to Learn the command signal of the common types of remote control transmitters, and to produce a code unique to one particular remote control transmitter so that the same remote control transmitter, can be used for operating all electrical appliances equipped with such a converter device and programmed to learn the transmitter's command signal.</p>
    <p num="6">Another object of the present invention is to provide apparatus for use in the above method.</p>
    <p num="7">According to one aspect of the present invention, there is provided a method of controlling electrical appliances by means of a command signal transmitted by a particular remote control transmitter, comprising: providing a converter device which includes a receiver for receiving the command signal, a microprocessor for converting the command signal according to a predetermined conversion process compatible with various types of command signals, to a code unique to that particular remote control transmitter, and a storage device for storing the unique code; transmitting to the converter device a command signal from the particular remote control transmitter while the microprocessor is programmed in a Learn Mode to convert the command signal according to the predetermined conversion process to the unique code, and to store the unique code in the storage device; and subsequently transmitting to the converter device another command signal from the particular remote control transmitter, while the microprocessor is programmed in an Operational Mode, to convert the latter command signal to a code according to the predetermined conversion process, to compare the latter code with the code produced and stored during the Learn Mode, and to effect the control of the electrical device when a match is found to be present between the code produced and stored during the Learn Mode and the code produced during the Operational Mode.</p>
    <p num="8">
      According to further features in one described preferred embodiment, the microprocessor is programmed to effect a first control if the time duration of another subsequently-transmitted command signal, as received by said converter device, is below a predetermined time duration, and to effect a second control if the time duration of another subsequently-transmitted command signal is equal to or above the predetermined time duration.
      <br/>
      In the described preferred embodiment, the first control is an On/Off control, and the second control is a Power-Varying control, such as a Dimmer control for a light fixture.
    </p>
    <p num="9">
      According to another aspect of the invention, there is provided apparatus for controlling an electrical appliance by means of a command signal transmitted by a particular remote control transmitter, comprising: a converter device including a receiver for receiving the command signal, a microprocessor for converting the command signal, according to a predetermined conversion process compatible with various types of command signals, to a code unique to that particular remote control transmitter, and a storage device for storing the unique code.
      <br/>
      The microprocessor is programmed to execute a Learn Mode when receiving, during the Learn Mode, a first command signal transmitted by the particular remote control transmitter to convert the first command signal to the unique code according to the predetermined conversion process, and to store the unique code in the storage device.
      <br/>
      The microprocessor is also programmed to execute an Operational Mode when receiving, during the Operational Mode, a second command signal from a remote control transmitter, to convert the second command signal to a code according to the predetermined conversion process, to compare the latter code with the code produced and stored during the Learn Mode, and to effect the control of the electrical device when a match is found to be present between the code produced and stored during the Learn Mode and the code produced during the Operational Mode.
    </p>
    <p num="10">
      As will be described more particularly below, the method and apparatus of the present invention permit a wide variety of electrical appliances to be remotely controlled with a minimum of expense and inconvenience to the user.
      <br/>
      In addition, the remote control may be a mere On/Off control or may involve other controls, such as a Dimmer control for a lighting device.
    </p>
    <p num="11">Further features and advantages of the invention will be apparent from the description below.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="12">
      The invention is herein described, by way of example only, with reference to the accompanying drawings, wherein:
      <br/>
      FIG. 1A is a schematic illustration of a remote control switching system constructed in accordance with a preferred embodiment of the present invention, in which a converter device capable of being programmed to respond to a signal from a particular remote control unit is incorporated in an electrical appliance;
      <br/>
      FIG. 1B is a schematic illustration of a remote control switching system, constructed in accordance with another preferred embodiment of the present invention, in which the converter device is incorporated in the electrical supply network;
      <br/>
      FIG. 1C is a schematic illustration of a remote control switching system, constructed in accordance with yet another preferred embodiment of the present invention, in which the converter device is incorporated in an adapter to be plugged into a socket of an electrical supply network;
      <br/>
      FIG. 2 is a block diagram illustrating the main components in one form of apparatus constructed in accordance with the present invention;
      <br/>
      FIGS. 3A and 3B are flow charts illustrating the operation of the apparatus of FIG. 2 in two modes of operation;
      <br/>
      FIGS. 4A and 4B are three-dimensional views illustrating, from the opposite sides, one form of apparatus constructed in accordance with the present invention embodied in an adapter including a plug for plugging into the conventional electrical supply line, and a socket for receiving the line plug of the electrical appliance to be remotely controlled;
      <br/>
      FIG. 5 is a block diagram illustrating the electrical circuit in the device of FIGS. 4A and 4B;
      <br/>
      FIG. 6 is a flow chart illustrating the overall operation of the apparatus of FIG. 5;
      <br/>
      FIGS. 6A-6E are flow charts illustrating specific routines in the flow chart of FIG. 6; and
      <br/>
      FIG. 7 is a diagram helpful in explaining the operation of the apparatus according to the flow charts of FIGS. 6 and 6A-6D.
    </p>
    <heading>DESCRIPTION OF PREFERRED EMBODIMENTS</heading>
    <p num="13">The Embodiments Of FIGS. 1A-3B</p>
    <p num="14">
      Reference is now made to FIGS. 1A, 1B and 1C which are schematic illustrations of a remote control switching system which employs a device capable of receiving a signal from a remote control unit, constructed according to three preferred embodiments of the present invention.
      <br/>
      All these embodiments employ a device capable of receiving a signal from a remote control unit for switching an electrical current on and off.
    </p>
    <p num="15">
      The system of FIG. 1A, referenced generally 10, preferably comprises a remote control unit 12 which turns a fan 14 on and off via a switch 16.
      <br/>
      It will be appreciated that the system 10 may include any electrical appliance, such as a radio or an electrical radiator, and that the fan 14 is presented herein only for exemplary purposes.
    </p>
    <p num="16">
      Fan 14 preferably comprises a remotely controlled switch 16 which is incorporated in the fan and is programmed to switch on and off the fan in accordance with a signal transmitted from a remote control unit 12 by a user 18 (for simplicity only the hand of the user is shown).
      <br/>
      Switch 16 operates in two modes: a Learn Mode, and an Operational Mode as described in more detail below.
      <br/>
      In the Learn Mode, the switch receives a signal transmitted from remote control unit 12, converts it to a code unique for that unit, and stores it.
      <br/>
      At any subsequent time switch 16 receives a signal from the remote control unit 12, it compares the received signal with the stored signal, and switches fan 14 on or off if a match is found to exist.
    </p>
    <p num="17">
      It is a particular feature of the present invention that the switch 16 may be programmed to be responsive to signals from a particular remote control unit.
      <br/>
      Accordingly, the remote control unit 12 may be any suitable device, such as the television cable network remote control unit.
      <br/>
      Typically, the remote control unit is an Infra Red (IR) device.
    </p>
    <p num="18">
      The system of FIG. 1B, generally referenced 20, comprises a remote control unit 22 and a remotely controlled switch 26 which switches the light in the light bulb 24 on and off.
      <br/>
      The system 20 illustrates the implementation of the switch 26 in the electrical supply network, typically in a household electrical supply.
      <br/>
      Remote control unit 22 may be similar to remote control unit 12 of FIG. 1A, and switch 26 may be similar to switch 16.
    </p>
    <p num="19">
      It is a particular feature of the present invention that the device capable of receiving a signal from any remote control unit may be implemented in an existing electrical appliance or in an electrical network.
      <br/>
      Alternatively, it may be a stand alone device in the form of an adapter to connect an electrical appliance to the electrical supply network.
    </p>
    <p num="20">
      FIG. 1C illustrates such a system, generally referenced 30, comprising a remote control unit 32 and a switch 36 which switches a table lamp 34 on and off.
      <br/>
      Switch 26 is an independent unit incorporated into an adapter including a plug (not shown) for plugging the switch 36 into any suitable socket 38, and a socket 40 for receiving the plug 42 of an electrical appliance, such as the lamp 34.
    </p>
    <p num="21">
      Reference is now made to the block diagram of FIG. 2 schematically illustrating a remotely-controlled switch, such as switch 16 of FIG. 1A, switch 26 of FIG. 1B, or switch 36 of FIG. 1C. The switch of FIG. 2 is generally referenced 100 and preferably comprises a signal receiver 102 for receiving a signal from any suitable remote control unit, such as an IR remote control device; a microprocessor 104 for processing the signal received by the signal receiver 102 to convert it to a code unique for that particular remote control unit, and a memory 106 for storing the uniquely-coded signal.
      <br/>
      Switch 100 further includes a relay 108 which receives an instruction from the microprocessor 104 and switches on and off the AC current from the AC source 110.
      <br/>
      It will be appreciated that the current source may be a DC source as well.
    </p>
    <p num="22">
      Signal receiver 102 preferably comprises an IR signal receiver and amplifier, provided that the remote control is of the IR (infrared) type, such as the OTECO signal receiver and amplifier.
      <br/>
      Microprocessor 104 may be any suitable microprocessor, preferably a programmable one, such as the MOTOROLA XC68HC805C4CP microprocessor.
      <br/>
      Memory 106 may be any suitable memory, such as the ATMEL AT24C01; and relay 108 may be any suitable mechanical, electrical or electronic relay, such as the MOTOROLA MOC3043 with the R910 60738 optotriac.
    </p>
    <p num="23">
      Switch 100 preferably also comprises an On/Off 112 button for turning the switch itself on and off, and a light emitting diode (LED) display 114 for providing an indication of the state of the switch 100.
      <br/>
      Switch 100 preferably also includes a system clock 116, such as ASA 4.0 Mhz crystal which sets the operation frequency of the microprocessor, and a DC power supply 118.
    </p>
    <p num="24">Reference is now made to FIGS. 3A and 3B which are flow charts illustrating the operation of switch 100 in its two modes of operation: a Learn Mode (FIG. 3A); and an Operational (on/off) mode (FIG. 3B).</p>
    <p num="25">
      In the Learn Mode, switch 100 receives a signal from the remote control unit and stores it after processing to convert it to a unique code to be compared with any subsequent signal received from a remote control unit.
      <br/>
      To initiate the Learn Mode, the On/Off button 112 is pressed (block 120).
      <br/>
      In response, the LED display 114 turns on (block 122).
      <br/>
      The switch 100 is then ready to receive a signal from the remote control unit (block 124).
      <br/>
      Preferably, the user selects a function button in any available remote control unit which is not used for controlling the operation of another appliance in order to dedicate it to the operation of the switch 100.
      <br/>
      Alternatively, any function button can be selected.
    </p>
    <p num="26">
      The signal is examined by the microprocessor 104 which determines its characteristics as indicated by block 126.
      <br/>
      If the signal meets the characteristics of a typical IR remote command signal, it is processed by the microprocessor 104 (block 128) and converted to a unique code which is stored in the memory 106 (block 130).
      <br/>
      The LED display 114 turns off to indicate that the learning processes of the remote command signal has been successfully completed (block 132).
    </p>
    <p num="27">
      If the signal does not meet the characteristics of a typical remote command signal, the LED display 114 blinks (block 134).
      <br/>
      This indicates that the switch 100 failed to learn the remote command signal, and the learning process starts from its beginning as described above.
    </p>
    <p num="28">It will be appreciated that if the learning processes is successful, it will be repeated only if and when the user decides to operate the switch 100 with a different remote control unit, or with an alternative code of the same remote control unit.</p>
    <p num="29">
      In the On/Off Operational Mode, the user switches the appliance(e.g., a, the light, or any other suitable electrical appliance) on and off.
      <br/>
      The On/Off Operational Mode starts with a signal sent from the remote control unit by the user.
      <br/>
      The received signal (block 140) is examined (block 142) to determine whether it has the characteristics of a remote command signal similarly to step 126 of the Learn Mode.
      <br/>
      If the signal fails to meet these characteristics, the LED display blinks (block 144), and another signal has to be sent by the remote control unit.
    </p>
    <p num="30">
      If the signal meets the characteristics of a remote command signal, it is compared by the microprocessor 104 with the unique code generated and stored in the memory 106 during the Learn Mode, (block 146).
      <br/>
      If the two match, an indication to the relay 108 is provided, and the relay 108 turns off or on the electrical current passing through the switch 100 in accordance with the status of the switch (block 148).
      <br/>
      The LED display 114 of FIG. 2 turns off to indicate successful completion of the operation of the switch 100 (block 150).
      <br/>
      If the two signals do not match, the LED display 114 of FIG. 2 blinks (block 144) and the process starts from its beginning.
    </p>
    <p num="31">The Embodiment of FIGS. 4A-7</p>
    <p num="32">
      FIGS. 4a and 4b pictorally illustrate the opposite sides of a converter device also constructed in accordance with the present invention, to be used as an adapter, similar to the switch 36 illustrated in FIG. 1C. The adapter illustrated in FIGS. 4A and 4B, therein generally designate 200, includes a housing 201 formed with a plug 202 on one side for plugging into a socket of the household electrical supply, and a socket 203 at the opposite side for plugging in an electrical appliance, such as a fan or lamp as illustrated in FIGS. 1A and 1C, respectively.
      <br/>
      The side of housing 201 including the socket 203 is formed with an opening 204 centrally of a semi-circular depression 206 for exposing a photoreceiver 207 (FIG. 5), located within the housing, to the infrared signal to be sent by a remote control transmitter unit, such as unit 12, 22 or 32 in FIGS. 1A, 1B and 1C, respectively.
    </p>
    <p num="33">Adapter 200 further includes a red LED light indicator 208, a green LED light indicator 209, and a depressable Learn button 210 for conditioning the adapter for operation in the Learning mode.</p>
    <p num="34">
      FIG. 5 illustrates the electrical system within housing 201 of adapter 200.
      <br/>
      As shown, the electrical system includes, in addition to the photoreceiver 207, the LED light indicators 208, 209, and the Learn button 210, a microprocessor 211, a memory 212, and a power supply 213.
      <br/>
      Microprocessor 211 is programmed to operate according to the Learning Mode and the Operational Mode, as described below with respect to the flow chart of FIGS. 6 and 6A-6E, depending on whether or not the Learn button 210 is depressed; memory 212 is preferably an EEPROM for storing the unique code generated by the microprocessor from the signal received from the particular remote control transmitter unit operated during the Learning Mode; and power supply 213 may include circuitry for utilizing power from the household electrical network for operating the adapter, as well as for supplying the electricity to the electrical appliance.
    </p>
    <p num="35">The operation of the system is described in the overall flow chart of FIG. 6, and the specific routine of flow chart of FIGS. 6A-6E.</p>
    <p num="36">
      As shown in the overall flow chart of FIG. 6, the microprocessor 211 is programmed to execute a Learning Mode if the Learn button 210 is depressed, and if not, to execute an Operational mode.
      <br/>
      Briefly, when in the Learn Mode, the microprocessor 211 converts any signal received by the photoreceiver 207 from a remote control transmitter (e.g., 12, 22, 32) to a code which is unique to that particular remote control transmitter, and stores the code in EEPROM 212.
      <br/>
      When the microprocessor is in the Operational mode, any signal received by its photoreceiver 207 will be processed in the same manner to convert the signal to a code.
      <br/>
      The latter code is compared with that stored during the Learn mode, and if a match is found to be present, the system effects a predetermined control function with respect to the electrical appliance plugged into its socket 203.
    </p>
    <p num="37">
      An important feature of the present invention is that microprocessor 211 is programmed to convert the received command signal to a unique code according to a pretermined conversion process which is compatible with all the commonly-used types of remote control transmitters and is capable of producing a code unique to the particular remote control transmitter used during the Learn Mode.
      <br/>
      Another important feature is that more than one control function can be effected with respect to the electrical appliance; in the example described below, an On-Off control is effected if the transmitter command signal is below a pretermined time duration; and a Power-Varying control, such as a Dimmer control, is effected if the duration of the transmitted command signal is equal to or above a pretermined time duration.
    </p>
    <p num="38">
      The overall flow chart illustrated in FIG. 6, therein generally designated 300, includes a Start-up routine (block 310), more particularly illustrated in FIG. 6A. The purpose of this routine is to identify whether the device has already learned the unique code of a remote control transmitter unit.
      <br/>
      As shown in FIG. 6A, this is done by reading from memory 212 two codes (311), which are stored in memory 212 only as a result of successfully learning a code in the Learn Mode.
      <br/>
      Both codes must be found to be present (blocks 312, 313) to permit the device to operate according to the Operational mode (block 314); otherwise, it must operate according to the Learn Mode (block 315).
    </p>
    <p num="39">
      To operate the device according to the Learn Mode, the Learn button 210 must be first depressed, and then the remote control transmitter to be subsequently used for operating the device must be depressed three times to transmit its command signal three times.
      <br/>
      Upon receipt of the command signal produced by the first depression, the software executes the routine illustrated by block 320 in FIG. 6, and more particularly shown in the flow chart of FIG. 6B; upon receipt of the command signal produced by the second depression, the software executes the routine illustrated by block 330 in FIG. 6 and more particularly in FIG. 6C. Upon receipt of the command signal produced by the third depression, the software executes the routine illustrated by block 350 in FIG. 6, which is the same routine as in block 330, more particularly in FIG. 6C.
    </p>
    <p num="40">
      Remote control transmitters of this type generally transmit pulse-width-modulated command signals.
      <br/>
      Microprocessor 211 is programmed to convert the command signal received from any such transmitter to a code unique for the particular transmitter unit by a conversion process which is compatible with all the commonly-used transmitters, and then to store the unique code in its memory 212.
      <br/>
      In the preferred embodiment of the invention described below, memory 212 has a capacity of 128 bytes, each byte being composed of eight bits for storing a word.
      <br/>
      The conversion process, as described more particularly below, utilizes the changes in the rising points, the falling points, and the lengths of the pulses and spaces, in the command signal, to convert the command signal to the unique code stored in the memory.
    </p>
    <p num="41">As indicated earlier and as shown in the flow chart of FIG. 6, the conversion process is effected in three stages, each stage being initiated by the actuation of the remote control transmitter unit to transmit its command signal.</p>
    <p num="42">In the first stage, microprocessor 211 is programmed (via routine 320, shown in FIG. 6B) to detect the width of the pulses and spaces in the command signal transmitter in the first depression, and to classify them in up to four classes; this data is used for supplying up to nine bytes of the unique code stored in memory 212.</p>
    <p num="43">In the second stage, microprocessor 211 is programmed (via routine 330, shown in FIG. 6C) to detect each change in a pulse rising point and a pulse falling point in the command signal transmitter in the second depression, and to combine each such change with the class of the respective pulse as classified in the first stage; this data is used for supplying up to 58 bytes of the unique code stored in the memory.</p>
    <p num="44">
      In the third stage, the microprocessor is programmed (via routine 340, also shown in FIG. 6C) to process the command signal transmitted by the transmitter unit in the third depression in the same manner as it processed the command signal in the second stage, for supplying up to an additional 58 bytes of data to be stored in the memory.
      <br/>
      This third stage in the conversion process, effected by the third depression of the transmitter unit, is provided in order to make the conversion process compatible with transmitter units which require two actuations and transmit two different command signals.
    </p>
    <p num="45">The overall flow chart illustrated in FIG. 6 also includes the operation of the red light indicator 208 and the green light indicator 209, as follows: When both are "off", this indicates that system is receiving a signal; when both are "on", this indicates the system has successfully completed stages 1 and 2 of the Learn mode; when the green is "on", this indicates that the system had successfully completed stage 3 of the Learn Mode; when the red "blinks", this indicates the system is in an Error status; and when both blink, this indicates the system has not started the Learn Mode.</p>
    <p num="46">The operation of the embodiment of FIGS. 4A-7 will now be described with reference to the overall flow chart of FIG. 6, and the specific routines therein as illustrated in the flow charts of FIGS. 6A-6E:</p>
    <p num="47">
      When the power supply to the device is turned on (block 301), the software executes as "start-up" routine (block 310) to determine whether the system is in the Learn Mode to learn a command signal, or not.
      <br/>
      The start up routine 310, as more particularly illustrated in FIG. 6a and described above, determines that the learning process has been completed only if the two codes stored in the memory during the learning process are found to be present, in which case the system proceeds to the Operational mode.
      <br/>
      If, however, one of the two codes is not found to be present, the system will operate only according to the Learn Mode in order to learn the identity of the command signal to be effective for operating the system.
    </p>
    <p num="48">The Learn mode is executed by the depression of the Learn button 210 which clears the memory 212 of the two codes.</p>
    <p num="49">
      Assuming the system is in the Learn mode, it will execute the first stage of the learning process upon the first depression of the transmitter unit button, indicated by block 320 in FIG. 6.
      <br/>
      As described earlier and as more particularly illustrated in FIG. 6B, in this first stage, the system detects the width of the pulses and spaces in the command signal received upon the first depression of the transmitter unit button, and classifies them in up to four different classes.
      <br/>
      This is done by measuring two types of signals: "HIGH" and "LOW".
      <br/>
      The HIGH signal represents either no signal received from the remote transmitter, or a very short gap (no longer than 40  MU S) in the signal transmitted by the remote unit.
      <br/>
      Generally, in such pulse-width-modulated command signals, a signal frame includes a maximum of four sizes of pulses, and four sizes of spaces.
      <br/>
      A gap of more than 100 mS indicates the end of a command frame.
    </p>
    <p num="50">
      FIG. 7 illustrates an example of a command frame, including the HIGH's and LOW's defining the pulse widths and space widths of the command signal, and also including the 100 mS Pause indicating the end of the command frame.
      <br/>
      In this example, there are three sizes of High's (pulses) representing three classes of pulse lengths (10, 20, 30), and three sizes of Low's (spaces) representing three sizes of pulse spaces (10, 20, 40).
      <br/>
      Accordingly, the signal patterns will be as shown in the box in FIG. 7.
      <br/>
      Four bytes of the memory are used for recording the different lengths of pulses, and four additional bytes are used for recording the different lengths of the spaces in the command signal.
      <br/>
      When a command signal includes less than four different sizes of pulses or spaces, a "0" is recorded for that byte.
      <br/>
      The ninth byte is used for recording the "Pause" indicating the end of a command frame.
    </p>
    <p num="51">Thus, in the example of the command signal illustrated in FIG. 7, the nine bytes of the memory allocated for the first stage in the conversion process would appear as follows: bytes 1-4 for recording the "High's" would be 10, 20, 30, 0; bytes 5-8 for recording the "Low's" would be 20, 10, 40, 0; and the ninth byte would be for recording the "Pause".</p>
    <p num="52">
      Stage 2 in the Learn Mode is effected by the routine of block 330 in flow chart of FIG. 6, which is executed upon the second depression of the remote control transmitter unit button.
      <br/>
      This routine is more particularly illustrated in FIG. 6C. As briefly described earlier, during this routine, the software senses each change in a pulse rising point, and a pulse falling point, and combines this data with the class of the respective pulse or space as classified in the first stage by routine 310.
      <br/>
      The second stage produces up to 29 additional bytes of data recorded in the memory for identifying the command signal produced by the remote transmitter unit.
      <br/>
      The specific steps involved in performing this routine are more particularly illustrated by blocks 331-348 in FIG. 6C.
    </p>
    <p num="53">
      Briefly, as set forth in steps 331-348 in the routine flow chart of FIG. 6C, a frame of the command signal received by the unit is analyzed and each falling edge and each rising edge is detected and numbered.
      <br/>
      If there is a change in a length of the pulse or space in the command signal, from the previous signal in the frame, then the respective rising and falling edge is used for determining the content of one byte of the memory, as follows: The edge reference number where the change is detected is multiplied by "four" (arbitrary) and added to the class of the respective pulse or space as determined in stage 1.
      <br/>
      This method may be used for producing up to 29 bytes of data from the pulses, an and up to an additional 29 bytes of data from the spaces, which data is recorded in the 128 byte memory 212.
    </p>
    <p num="54">
      FIG. 7 more particularly illustrates the performance of this method upon the receipt of the second command signal produced by the second depression of the remote transmitter unit.
      <br/>
      Thus, a change in the rising edges would be detected with respect to rising edges RE0, RE1, and RE3 ; and a change in the falling edges would be detected with respect to FE0, FE1 and FE4.
      <br/>
      Rising edge RE0 includes a class 1 of pulse length, and therefore the calculation produced with respect to this rising edge would be (0 * 4)+1=1. Rising edge RE1 includes a class 2 pulse length, so that this edge would produce the number (1 * 4)+2=6. Rising edge RE3 includes a class 3 pulse length, so that this rising edge would produce the number (4 * 3)+3=15.
    </p>
    <p num="55">
      Accordingly, the first three bytes of data generated during routine 330 (FIG. 6), as more particularly shown by blocks 331-348 in FIG. 6C, for recording in memory 212, would be "1", "6", "15".
      <br/>
      This process would be repeated for all the pulses in the complete command signal, to generate in this manner up to 29 bytes of data.
    </p>
    <p num="56">
      The same process is repeated with respect to the changes in the falling edges of the command signal.
      <br/>
      Thus, in the signal illustrated in FIG. 7, the first three bytes of data generated from the spaces would be "1", "6", "19".
      <br/>
      The process is repeated for all the spaces to generate up to an additional 29 bytes of data for recording in the memory 212 as frame No. 1.
    </p>
    <p num="57">
      After the parameters obtained by the second depression of the remote transmitter unit have been written in the memory (block 349, FIG. 6), the remote transmitter unit button is depressed a third time to produce the third command signal, which is received and processed according to the routine indicated by block 350 in FIG. 6.
      <br/>
      This routine is exactly the same as routine 330 as illustrated in FIG. 6c, and produces up to and additional 58 bytes of data for recording in the memory 212 as Frame No. 2.
      <br/>
      As indicated earlier, the purpose of recording Frame No. 2 is to accommodate transmitter units which are intended to be depressed twice and to transmit two different command signals with the two depressions.
    </p>
    <p num="58">
      Upon recording the up to 29 bytes generated by routine 350 in FIG. 6 in the memory (block 351), the Learn Mode is completed.
      <br/>
      The 128 byte memory will contain the unique code, as follows:
    </p>
    <p num="59">
      2 bytes for Learn status (see START UP)
      <br/>
      4 bytes for LOW PATTERNS
      <br/>
      4 bytes for HIGH PATTERNS
      <br/>
      1 byte for PAUSE (end of frame gap length)
      <br/>
      1 byte for STATUS DIMMER (CONTROL SIGNAL)
      <br/>
      29 bytes for FRAME 1 PATTERN LOW
      <br/>
      29 bytes for FRAME 1 PATTERN HIGH
      <br/>
      29 bytes for FRAME 2 PATTERN LOW
      <br/>
      29 bytes for FRAME 2 PATTERN HIGH
    </p>
    <p num="60">
      After Learn Mode has been completed, the adapter may thereafter be used in the Operational mode to control the electrical device (e.g., fan, lights, or any other electrical appliances) whenever it receives a command signal matching that stored in its memory.
      <br/>
      For this purpose, the microprocessor 211 converts the received command signal to a code according to the same conversion process used in the Learn Mode, except that only one depression of the remote transmitter unit button is required, rather than three as in the Learn Mode.
      <br/>
      When the device determines a match is present between the unique code stored in its memory during the Learn Mode, and the code produced by the subsequently-received command signal, it effects the required control of the electrical device.
    </p>
    <p num="61">In the example illustrated by the flow diagrams of FIGS. 6 and 6A-6E, the microprocessor is programmed to produce a first control, namely an On-Off control, when the received command signal is detected for a time duration below a pretermined time, and a second control, such a Power-Varying or Dimmer control, when such a signal is detected for a duration equal to or above the predetermined time.</p>
    <p num="62">
      Thus, with respect to the flow chart of FIG. 6, upon receiving the command signal, the microprocessor performs the routine illustrated in block 360, which is the same routine as block 330 and 350 performed during the Learn Mode and more specifically described in the flow chart of FIG. 6C. This routine produces data corresponding to the 58 bytes produced in the routine of block 330 upon the second depression of the remote transmitter unit button.
      <br/>
      The 9 bytes of data produced during the Learn Mode upon the first depression of the remote transmitter unit is retained in the memory for use also during the Operational mode, so that the Operational mode does not require a separate depression of the remote transmitter unit for this purpose.
    </p>
    <p num="63">
      If the remote transmitter unit requires two successive button depressions for executing the command, a second depression of the remote transmitter unit would be made, and would generate additional 58 bytes of data in the routine of block 350 in FIG. 6.
      <br/>
      However, if a second depression of the transmitter unit is not required during the Operational mode, then the 58 bytes of data produced during the routine of block 350 in the Learn Mode would also be used during the Operational mode.
    </p>
    <p num="64">
      After the routine of block 360 in FIG. 6 has been completed, the microprocessor then proceeds to perform the routine of block 370 to determine whether the command signal during the Operational mode matches the unique coded signal stored during the Learn Mode.
      <br/>
      The manner is which this routine is performed is more particularly illustrated by blocks 371-374 in FIG. 6D.
    </p>
    <p num="65">
      When the received command signal is recognized as matching that stored in the memory, the software then proceeds to execute the command according to the routine shown by block 380 in FIG. 6, and more particularly illustrated by blocks 381-393 in FIG. 6E. Thus, the microprocessor first determines whether this command signal is greater than 1.5s (blocks 381-383).
      <br/>
      If not, the software executes merely an On-Off control function with respect to the electrical appliance (blocks 384-387); but if the command signal is greater than 1.5s, the software executes a Dimmer control with respect to the electrical appliance (blocks 388-393).
    </p>
    <p num="66">While the invention has been described with respect to several preferred embodiments, it will be appreciated that these are set forth merely for purposes of example, and that many other variations, modifications and applications of the invention may be made.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method of controlling an electrical appliance by means of a command signal transmitted by a particular remote control transmitter, comprising:</claim-text>
      <claim-text>providing a converter device which includes a receiver for receiving said command signal, a microprocessor for converting said command signal, according to a predetermined conversion process comparable with various types of command signals, to a code unique to that particular remote control transmitter, and a storage device for storing said unique code; transmitting to said converter device a command signal from said particular remote control transmitter while said microprocessor is programmed in a Learn Mode to convert said command signal according to said predetermined conversion process to said unique code, and to store said unique code in said storage device; and subsequently transmitting to said converter device another command signal from said particular remote control transmitter, while said microprocessor is programmed in an Operational Mode, to convert said latter command signal to a code according to said predetermined conversion process, to compare said latter code with the code produced and stored during said Learn Mode, and to effect said control of the electrical device when a match is found to be present between the code produced and stored during the Learn Mode and the code produced during the Operational Mode; wherein said command signal is a pulse-width-modulated signal, and said predetermined conversion process senses the rising points, the falling points, and the width of the pulse in said pulse-width-modulated signal to convert the command signal to said unique code; wherein said microprocessor is programmed to execute said Learn Mode in at least two stages, including a first stage in which it detects the widths of the pulses and spaces in the command signal, and a second stage in which it detects the rising points and the falling points of the pulses in the command signal; wherein said microprocessor is programmed to execute said Learn Mode in an additional third stage, said third stage being a repetition of said second stage but applicable to process a second command signal transmitted by a remote control transmitter immediately subsequently to the transmission of the command signal processed in said second stage.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method according to claim 1, wherein said predetermined conversion process utilizes the changes in the rising points, the falling points, and the length of the pulses in said pulse-width-modulated signal to convert the command signal to said unique code.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method according to claim 1, wherein said microprocessor is programmed to execute said Learn Mode in at least two stages, including a first stage in which it detects the widths of the pulses and spaces in the command signal, and a second stage in which it detects the rising points and the falling points of the pulses in the command signal.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. Apparatus for controlling an electrical appliance by means of a command signal transmitted by a particular remote control transmitter, comprising: a converter device including a receiver for receiving said command signal, a microprocessor for converting said command signal, according to a predetermined conversion process compatible with various types of command signals, to a code unique to that particular remote control transmitter and a storage device for storing said unique code; said microprocessor being programmed to execute a Learn Mode when receiving, during the Learn Mode, a first command signal transmitted by said particular remote control transmitter to convert said first command signal to said unique code according to said predetermined conversion process, and to store said unique code in said storage device; said microprocessor also being programmed to execute an Operational Mode when receives, during the Operational mode, a second command signal from a remote control transmitter, to convert said second command signal to a code according to said predetermined conversion process, to compare said latter code with the code produced and stored during said Learn Mode, and to effect said control of the electrical device when a match is found to be present between the code produced and stored during the Learn Mode and the code produced during the Operational Mode; wherein said command signal is a pulse-width-modulated signal, and said predetermined conversion process senses the rising points, the falling points, and the width of the pulse in said pulse-width-modulated signal to convert the command signal to said unique code; wherein said microprocessor is programmed to execute said Learn Mode in at least two stages, including a first stage in which it detects the widths of the pulses and spaces in the command signal, and a second stage in which it detects the rising points and the falling points of the pulses in the command signal; wherein in the first stage, the widths of the pulses and spaces in the command signal are classified in a plurality of different classes;</claim-text>
      <claim-text>and in the second stage, each change in a rising point and each change in a falling point of a pulse are combined with the class of the respective pulse as classified in the first stage.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. Apparatus for controlling an electrical appliance by means of a command signal transmitted by a particular remote control transmitter, comprising: a converter device including a receiver for receiving said command signal, a microprocessor for converting said command signal, according to a predetermined conversion process compatible with various types of command signals, to a code unique to that particular remote control transmitter and a storage device for storing said unique code; said microprocessor being programmed to execute a Learn Mode when receiving, during the Learn Mode, a first command signal transmitted by said particular remote control transmitter to convert said first command signal to said unique code according to said predetermined conversion process, and to store said unique code in said storage device; said microprocessor also being programmed to execute an Operational Mode when receives, during the Operational mode, a second command signal from a remote control transmitter, to convert said second command signal to a code according to said predetermined conversion process, to compare said latter code with the code produced and stored during said Learn Mode, and to effect said control of the electrical device when a match is found to be present between the code produced and stored during the Learn Mode and the code produced during the Operational Mode; wherein said command signal is a pulse-width-modulated signal, and said predetermined conversion process senses the rising points, the falling points, and the width of the pulse in said pulse-width-modulated signal to convert the command signal to said unique code; wherein said microprocessor is programmed to execute said Learn Mode in at least two stages, including a first stage in which it detects the widths of the pulses and spaces in the command signal, and a second stage in which it detects the rising points and the falling points of the pulses in the command signal; wherein said microprocessor is programmed to execute said Learn Mode in an additional third stage, said third stage being a repetition of said second stage but applicable to process a second command signal transmitted by a remote control transmitter immediately subsequently to the transmission of the command signal processed in said second stage.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The apparatus according to claim 4, wherein said predetermined conversion process utilizes the changes in the rising points, the falling points, and the length of the pulses in said pulse-width-modulated signal to convert the command signal to said unique code.</claim-text>
    </claim>
  </claims>
</questel-patent-document>