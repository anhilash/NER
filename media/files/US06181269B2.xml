<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181269B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181269</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181269</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="16733915" extended-family-id="30430039">
      <document-id>
        <country>US</country>
        <doc-number>09228645</doc-number>
        <kind>A</kind>
        <date>19990112</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09228645</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>31100248</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>21933998</doc-number>
        <kind>A</kind>
        <date>19980803</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998JP-0219339</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H03M   1/14        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>14</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H03M   1/38        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>38</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H03M   1/46        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>46</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>341164000</text>
        <class>341</class>
        <subclass>164000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>341155000</text>
        <class>341</class>
        <subclass>155000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H03M-001/46C</text>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>001</main-group>
        <subgroup>46C</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H03M-001/462</classification-symbol>
        <section>H</section>
        <class>03</class>
        <subclass>M</subclass>
        <main-group>1</main-group>
        <subgroup>462</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>6</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>33</number-of-drawing-sheets>
      <number-of-figures>41</number-of-figures>
      <image-key data-format="questel">US6181269</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method for controlling an analog/digital converter</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>INUKAI KEIZO</text>
          <document-id>
            <country>US</country>
            <doc-number>5260705</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5260705</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>MATSUI HIDEO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5877719</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5877719</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SHIMOMURA TAKEHIKO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5898396</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5898396</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Mitsubishi Electric Engineering Company Limited</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="original" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>Mitsubishi Denki Kabushiki Kaisha</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="3">
          <addressbook lang="en">
            <orgname>MITSUBISHI ELECTRIC ENGINEERING</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="4">
          <addressbook lang="en">
            <orgname>MITSUBISHI ELECTRIC</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Nishiuchi, Taiki</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Kitaguchi, Yuji</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Burns, Doane, Swecker &amp; Mathis, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>JeanPierre, Peguy</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A clock signal is frequency divide to generate a plurality of signals CK, CK' having different periods, and a plurality of the control signals C, TZS are generated from them.
      <br/>
      One of the control signals C, TZS is selected as control signal TZ1, depending on the comparison section T1-T4, so as to change the period of the control signal for each comparison section.
      <br/>
      The reference voltage and the input voltage are compared according to the control signal TZ1.
      <br/>
      The period of the control signal is made shorter at the comparison sections other than the section T2 which requires a longer comparison time for the stabilization of the reference voltage, due to the large difference of the former reference voltage and the present reference voltage.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="2">The present invention relates to a method for controlling an analog/digital converter (hereinafter called A/D converter), specifically, an A/D converter formed as a semiconductor integrated circuit on a semiconductor substrate.</p>
    <p num="3">2. Description of the Prior Art</p>
    <p num="4">FIG. 38 shows a block diagram of a successive approximation type A/D converter controlled by a conventional control method, which is disclosed, for example, in Japanese Patent Application JP A 1-321728.</p>
    <p num="5">
      The reference numeral 1 denotes a capacitor, 2 is an inverter.
      <br/>
      The capacitor 1 and the inverter 2 form a chopper type comparator. 3 is a successive approximation register for storing outputs of the comparator, the output of the comparator is called COMP hereinafter.
      <br/>
      Reference numeral 4 denotes ladder resistors connected in series. 5, 6 on both end of the ladder resistors are input terminals for imposing a standard voltage, which corresponds to the maximum input voltage that the A/D converter can convert.
      <br/>
      A switch group 7 selects a reference voltage VREF from the divided voltages by the ladder resistors 4, corresponding to the output data of the successive approximation register 3.
      <br/>
      The ladder resistors 4 and the switch group 7 form a digital/analog converter for converting the digital output of the successive approximation register 3 to an analog voltage signal.
      <br/>
      Reference numeral 8 denotes an input terminal for inputting an input voltage VIN.
    </p>
    <p num="6">
      Reference numerals 9, 10, 11 denote semiconductor switches, respectively.
      <br/>
      The reference voltage VREF output by the switch group 7 is imposed to the capacitor 1 through a semiconductor switch 9.
      <br/>
      The input voltage VIN inputted from the input terminal 8 is imposed to the capacitor 1 through a semiconductor switch 10.
      <br/>
      The input side and the output side of the inverter 2 are electrically connected or cut off by a semiconductor switch 11.
    </p>
    <p num="7">
      Reference numeral 12 is an A/D clock generating block, which generates timing clock signals (hereinafter called signals TZ) for controlling the timing of the turning-on and turning-off of the semiconductor switches 9-11, and the timing of the signal delivery from the successive approximation register 3 to the switch group 7.
      <br/>
      The A/D clock generating block is not explicitly referred in JP A 1-321728.
    </p>
    <p num="8">The control of the A/D converter is explained below.</p>
    <p num="9">
      FIG. 39 shows a timing chart of the signals in the A/D converter shown in FIG. 38, which is controlled by a conventional method for controlling an A/D converter.
      <br/>
      In this case, the input voltage VIN inputted from the input terminal 8 is 0.3125 times of the standard voltage, and is converted to a four bit digital signal.
      <br/>
      In the following explanation, the standard voltage is assumed to be one volt.
    </p>
    <p num="10">
      At first, a timing signal from the A/D clock generating block 12 makes the semiconductor switch 9 turn off.
      <br/>
      At the moment when the signal TZ sent from the A/D clock generating block 12 to the successive approximation register 3 changes to HIGH level (hereinafter simply referred "H" or "1"), the digital data stored in the successive approximation register 3 is sent to the switch group 7.
      <br/>
      The register 3 is designed so that the first output is always a hexadecimal "8h" signal.
      <br/>
      The output signal controls the switch group 7 to select a switch to output a half of the standard voltage V, because "8h" in the hexadecimal is a half of "16h".
      <br/>
      As a result, the switch group 7 outputs a reference voltage VREF of 0.5 volts.
    </p>
    <p num="11">
      Next, the A/D clock generating block 12 sends a signal to turn on the semiconductor switch 11, so that voltages of the input side and output side of the inverter 2 become equal.
      <br/>
      The value of the equal voltage is determined by the input and output characteristics of the inverter 2.
      <br/>
      Next, the semiconductor switch 10 is turned on so that the input voltage VIN charges the capacitor 1.
      <br/>
      After charging the capacitor, the semiconductor switches 10 and 11 are turned off successively.
      <br/>
      When the signal TZ becomes LOW level (hereinafter simply referred to as "L" or "0"), the semiconductor switch 9 is turned on.
      <br/>
      While the semiconductor switch 9 is on, the reference voltage VREF is imposed to the capacitor 1 through the switch group 7, and the reference voltage VREF and the input voltage VIN are compared to each other.
    </p>
    <p num="12">
      When the input voltage VIN is larger than the reference voltage VREF, the inverter 2 outputs "0", and when the input voltage VIN is smaller than the reference voltage VREF, the inverter 2 outputs "1".
      <br/>
      In this case the input voltage VIN is 0.3125V, and the reference voltage VREF is 1/2 V, thus the output signal COMP of the inverter 2 is "0", which is sent to the successive approximation register 3 and is stored in its register.
      <br/>
      Namely the value of the most upper bit is identified to be "0".
    </p>
    <p num="13">
      Then, the timing signal from the A/D clock generating block 12 controls the semiconductor switch 9 to turn off again.
      <br/>
      When the signal TZ becomes "H", the digital data stored in the successive approximation register 3 is sent to the switch group 7.
      <br/>
      As a result, since VIN&lt;0.5 Volts, the switch group 7 selects 1/4 volts, which is one fourth of the standard voltage, as a reference voltage VREF, from the outputs of the ladder resistors 7, corresponding to the digital signal.
      <br/>
      Next, the semiconductor switch 11 is controlled to turn on so that the input and output sides of the inverter 2 are electrically connected.
      <br/>
      Then the semiconductor switch 11 is made turn on to charge the capacitor 1.
    </p>
    <p num="14">
      After that, the semiconductor switch 9 is turned on and the reference voltage VREF is imposed from the switch group 7 to the capacitor 1.
      <br/>
      Then the reference voltage is compared with the input voltage VIN.
      <br/>
      In this case, the input voltage VIN is 0.3125 volt, and the reference voltage VREF is 1/4 volt, namely the input voltage VIN is larger than the reference voltage VREF, thus the output COMP of the inverter 1 is "1", which is sent to the successive approximation register 3 to be stored therein.
      <br/>
      The value of the second bit is determined to be "1"in this procedure.
    </p>
    <p num="15">
      The similar procedures are repeated for the identifying lower bits.
      <br/>
      The input voltage VIN (0.3125 volt) is successively compared with the reference voltage VREF, which is 3/8 (=0/2+1/4+1/8) volts in the third procedure and is 5/16 (=0/2+1/4+0/8+1/15) volts in the fourth procedure.
      <br/>
      The outputs COMP at the third and fourth procedures are "0" and "1", respectively, which are sent to the successive approximation register 3 and stored therein.
    </p>
    <p num="16">The signal TZ from the A/D clock generating block 12 is explained below.</p>
    <p num="17">
      FIG. 40 shows a block diagram of an A/D clock generating block 12.
      <br/>
      A clock signal CK, which is the source clock signal of the A/D converter, is frequency divided by a frequency divider 101 to supply a clock signal CK' to an A/D control signal generating circuit 102.
      <br/>
      The A/D control signal generating circuit 102, which is controlled by the signal CK', generates a control signal TZ to supply to the successive approximation register 3.
    </p>
    <p num="18">
      FIG. 32 shows an example the frequency dividing circuit 101.
      <br/>
      The ENABLE signal in the figure is a signal to actuate the A/D converter.
      <br/>
      When this signal becomes "H", the A/D converter begins its operation.
      <br/>
      The frequency dividing circuit 101 generates the control signal CK', by dividing the clock signal CK, and sends it to the A/D control signal generating circuit 102.
      <br/>
      The A/D control signal generating circuit 102 is provided with two sets of latch A 103 and latch C 104, as shown in FIG. 33.
    </p>
    <p num="19">
      FIG. 34 and FIG. 35 show an example of the circuit of the latch A 103 and the latch C 104, respectively, which generate the signal TZ.
      <br/>
      FIG. 41 is a timing chart of signals in the A/D clock generating block 12, showing how the signal TZ is generated.
    </p>
    <p num="20">
      While the ENABLE signal is "L", the A/D converter is not actuated.
      <br/>
      When the ENABLE signal turns to "H" in the time section T1 shown in FIG. 39, the A/D converter begins its procedure.
      <br/>
      According to the signal CK', signals at the points a,b,c,d,e in FIG. 33 are obtained.
      <br/>
      The timing clock signal TZ is the inverse of the signal at the point a. The A/D converter is controlled by this timing clock signal TZ, which has a constant period.
    </p>
    <p num="21">The successive approximation register 3 in FIG. 38 is explained below.</p>
    <p num="22">
      The successive approximation register 3 is controlled by the control signal TZ from the A/D clock generating block 12.
      <br/>
      FIG. 36 shows a block diagram of an example of the successive approximation register 3.
      <br/>
      The successive approximation register 3 comprises four shift registers, four latches 107 for storing the data of the COMP signal, and four output portions 108 for outputting the data in the latches 107 according to a read signal READ.
      <br/>
      The shift registers are comprised of a shift register 105 for the first bit, and three shift registers A 106 for the lower bits.
      <br/>
      The shift register 105 and the shift registers A 106 output control signals 1S-4S to the latches 107.
      <br/>
      The control signals 1S-4S determine a latch 107 in which the COMP signal shall be stored.
      <br/>
      The output portions 108 read out the data stored in the latch 107, according to the read signal READ, and provide them onto the data bus.
    </p>
    <p num="23">
      FIG. 37 shows a time chart of outputs of the shift registers 105 and 106.
      <br/>
      The bit latch control signals 1S-4S, which are outputs of the shift registers 105, 106, become "H" successively.
      <br/>
      Each latch 107 corresponds to one of the shift registers 105, 106.
      <br/>
      A shift register which is in the state "H" enables the corresponding latch to store and to latch a signal.
    </p>
    <p num="24">
      There are many other documents which disclose common methods for controlling a successive approximation type A/D converter.
      <br/>
      JP A 2-159814 discloses an idea to selectively adjust the TURN ON periods of the input switches in order to improve the preciseness of the A/D conversion.
      <br/>
      JP A8-288847 discloses an idea to set the initial charging time independently from the comparison period in order to improve the speed of A/D conversion.
      <br/>
      JP A 6-120828 discloses an idea to change the time constant of the charging of the capacitor in order to shorten the time for A/D conversion.
      <br/>
      JP A 9-321624 discloses an idea to previously charge the capacitor in order to speed up the A/D conversion.
      <br/>
      JP A 64-65928 and JP A 62-298230 disclose switching comparators.
    </p>
    <p num="25">
      The conventional method for controlling an A/D converter uses a clock signal TZ having a constant period for controlling the semiconductor switches 9-11 and the seccessive approximation register 3.
      <br/>
      The time required for the A/D conversion is mainly determined by the bit number multiplied by the sum of the longest charging time and the longest comparison time.
      <br/>
      In the charging of the capacitor by the input voltage VIN, the first charging is the longest charging time.
      <br/>
      On the other hand, when the difference between the former reference voltage and the present reference voltage increases, the time required for the stabilization of the reference voltage is longer.
      <br/>
      Thus the longest comparison period is a result of the larger difference of the reference voltages.
    </p>
    <p num="26">
      In the case that the reference voltage is generated using ladder resistors 4, for example, 10 bits 1:8 type A/D converter, the stabilization of the reference voltage requires a long time, when the reference voltage for higher bits is changed to that for lower bits.
      <br/>
      And for the other steps, long time is not required.
      <br/>
      However, in the common methods for controlling an A/D converter, the control signal for the semiconductor switches 9-11 and the control signal TZ for the successive approximation register 3 are clock signals with a constant period.
      <br/>
      As has been mentioned, in general, the A/D conversion time is determined by the longest charging time and the longest comparison time.
      <br/>
      Thus, in the common method for controlling an A/D converter, there is a lot of wasted time.
    </p>
    <p num="27">In order to shorten A/D conversion time, many ideas are proposed: for example, the speeding up of the response of the chopper amplifier, the use of a higher frequency for the source clock, the use of lower resistance ladder resistors, the use of a smaller capacitance for the capacitor, and the use of a plurality of comparators.</p>
    <p num="28">However each of the above entails the following drawbacks.</p>
    <p num="29">When the response speed of the chopper amplifier is made higher so as to shorten the conversion time, the size of the transistors must be large, this leads to a larger consumption of the electric power.</p>
    <p num="30">
      Also a chopper amplifier with higher response speed is sensitive, thus it has a tendency to be influenced by noises.
      <br/>
      In order to reduce the influence of the noises, the configuration of the layout pattern or the structure of the electric circuit shall be changed to use a larger area in the substrate.
      <br/>
      When a larger area is used, noises generated by the circuit become larger, and the consumption of the electric power also increases.
      <br/>
      Moreover the increase of the consumption of electric power requires an increase of the width of the lead lines, this leads to an increase in layout pattern area, in turn.
    </p>
    <p num="31">
      In a successive approximation type A/D converter, the frequency of the clock oscillation cannot be made higher than the frequency corresponding to the charging time.
      <br/>
      Thus there is a limit for increasing the frequency.
    </p>
    <p num="32">When the resistance of the ladder resistors 4 is made smaller for reducing the converting time, the current in the ladder resistors increases, this leads to an increase in consumption of the electric power.</p>
    <p num="33">There is a limit to miniaturization technology to reduce the capacitance of the capacitor (capacitor 1 in FIG. 38) in the chopper amplifier, and the influence of the stray capacitances cannot be neglected.</p>
    <p num="34">
      Use of a plurality of comparators for shortening the comparison time demands an increase in layout area and an increase in the consumption of electric power.
      <br/>
      Additionally, a matching between the comparators is required, and a complex controller for them is necessary.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="35">An object of the present invention is to eliminate these drawbacks.</p>
    <p num="36">Another object of the present invention is to propose a method for speeding up A/D conversion, using a technique which is entirely different from the conventional speeding up technique, and to propose a method for controlling an A/D converter so as to shorten the time for the successive comparison and so speed up the A/D conversion.</p>
    <p num="37">The object is attained by a method for controlling an A/D converter, in which the period of a control signal is changeable for each comparison section, and the comparison between the reference voltage and the input voltage for identifying the digital value of the corresponding bit is carried out under the control of the period changed control signal.</p>
    <p num="38">In an embodiment, a clock signal is frequency divided by a plurality of frequency dividers to generate a plurality of timing signals having different periods; and the period of the control signal is changed by selecting one of the timing signals for each comparison section.</p>
    <p num="39">In an embodiment, an external signal for each comparison section is generated outside the analog/digital converter; and the period of the control signal is changed by using the external signal.</p>
    <p num="40">In an embodiment, a clock signal is frequency divided by a plurality of frequency dividers to generate a plurality of timing signals having different periods; a software program sets a value in a control register for each comparison section; and the period of the control signal is changed by selecting one of the timing signals for each comparison section, according to the set value in the control register.</p>
    <p num="41">In an embodiment, a set of signals having a different duty ratio is generated; and the period of the control signal is changed by selecting a signal from them for each comparison section.</p>
    <p num="42">In an embodiment, a set of signals having a different duty ratio is generated; a software program sets a value in a control register for each comparison section; and the duty ratio of the control signal is changed by selecting one of the signals for each comparison section, according to the value in the control register.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWING</heading>
    <p num="43">
      FIG. 1 shows a block diagram of an A/D converter, in which the method for controlling a successive approximation type A/D converter according to the first embodiment is applied.
      <br/>
      FIG. 2 is a timing chart of the signals in the A/D converter of FIG. 1, which is controlled by the method according to the first embodiment of the present invention, having a sample-hold function.
      <br/>
      FIG. 3 shows a block diagram of an example of the A/D control signal generating block A in the first embodiment.
      <br/>
      FIG. 4 shows an electric circuit of the shift register used in the successive approximation register in the first embodiment.
      <br/>
      FIG. 5 shows an electric circuit of the shift register A used in the successive approximation register in the first embodiment.
      <br/>
      FIG. 6 is an electric circuit of the latch 107 used in the successive approximation register in the first embodiment.
      <br/>
      FIG. 7 shows a timing chart of signals in the latch circuit.
      <br/>
      FIG. 8 is a timing chart of the signals in the A/D control signal generating block A in the first embodiment.
      <br/>
      FIG. 9 shows a block diagram of an A/ID converter, in which the method for controlling a successive approximation type A/D converter according to the second embodiment of the present invention is applied.
      <br/>
      FIG. 10 shows a timing chart of the signals in the successive approximation type A/D converter in the second embodiment.
      <br/>
      FIG. 11 shows a block diagram of TTZ signal generating circuit.
      <br/>
      FIG. 12 shows an example of the function and the set value of the timers.
      <br/>
      FIG. 13 shows a timing chart of the signals in the TTZ signal generating circuit.
      <br/>
      FIG. 14 shows a block diagram of an A/D converter, in which the method for controlling a successive approximation type A/D converter according to the third embodiment of the present invention is applied.
      <br/>
      FIG. 15 shows a timing chart of the signals in the successive approximation type A/D converter according to the third embodiment of the present invention.
      <br/>
      FIG. 16 shows a timing chart of signals in the A/D control signal generating block C.
      <br/>
      FIG. 17 shows an electric circuit of the first A/D control signal generating block C.
      <br/>
      FIG. 18 shows an electric circuit of the second A/D control signal generating block C.
      <br/>
      FIG. 19 shows a timing chart of signals in the circuit of the second A/D control signal generating block.
      <br/>
      FIG. 20 shows a block diagram of an A/D converter applied the method according to the fourth embodiment of the present invention.
      <br/>
      FIG. 21 shows a block diagram of an A/D converter applied the method according to the fourth embodiment of the present invention.
      <br/>
      FIG. 22 shows a block diagram of the control signal setting register in the fourth embodiment.
      <br/>
      FIG. 23 shows an electric circuit of one bit registers in the control signal setting register.
      <br/>
      FIG. 24 shows a timing chart of signals in the successive approximation type A/D converter according to the fourth embodiment.
      <br/>
      FIG. 25 shows an example of data set in the one bit registers in the fourth embodiment.
      <br/>
      FIG. 26 shows a timing chart of signals in the control signal setting register of the fourth embodiment.
      <br/>
      FIG. 27 shows a timing chart of the signals in the A/D control signal generating block D in the fourth embodiment.
      <br/>
      FIG. 28 shows a block diagram of an A/D converter applied the method according to the fifth embodiment of the present invention.
      <br/>
      FIG. 29 shows a block diagram of the A/D control signal generating block D in the fifth embodiment.
      <br/>
      FIG. 30 shows a timing chart of the signals in the A/D converter according to the fifth embodiment of the present invention.
      <br/>
      FIG. 31 shows a timing chart of signals in the A/D control signal generating block D in the fifth embodiment.
      <br/>
      FIG. 32 shows an example of the frequency divider of the first embodiment as well as of the prior art.
      <br/>
      FIG. 33 shows an example of the A/D control signal generating circuit of the first and third embodiments as well as of the prior art.
      <br/>
      FIG. 34 shows an example of the latch A of the first embodiment as well as of the prior art.
      <br/>
      FIG. 35 shows an example of the latch C of the first embodiment as well as of the prior art.
      <br/>
      FIG. 36 shows a block diagram of the successive approximation register of the first embodiment and the prior art.
      <br/>
      FIG. 37 shows a timing chart of the signals in the shift register of the first embodiment and the prior art.
      <br/>
      FIG. 38 shows a block diagram of an A/D converter of the prior art.
      <br/>
      FIG. 39 shows a timing chart of the signals in the A/D conversion according to the method of the successive approximation of the prior art.
      <br/>
      FIG. 40 shows a block diagram of A/D clock generating block of the prior art.
      <br/>
      FIG. 41 shows a timing chart of the signals in the A/D clock generating block of the prior art.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="44">Embodiment 1</p>
    <p num="45">
      FIG. 1 shows a block diagram of an A/D converter, in which the method for controlling a successive approximation type A/D converter according to the present invention is applied.
      <br/>
      This example is a 4 bits A/D converter.
    </p>
    <p num="46">
      Reference numeral 1 denotes a capacitor forming a chopper type comparator for comparing the reference voltage VREF and the input voltage VIN.
      <br/>
      A terminal of the capacitor 1 is connected with the input terminal of an inverter 2, which forms the chopper type comparator together with the capacitor 1.
      <br/>
      The output COMP of the comparator is sent to a 4 bit successive approximation register 3.
      <br/>
      Four registers in the successive approximation registers are set or reset by the signal COMP.
    </p>
    <p num="47">
      Reference numeral 4 denotes a ladder resistor having a plurality of resistors connected in series.
      <br/>
      For example, a 4 bit A/D converter has ladder resistor having 16 resistors.
      <br/>
      A standard voltage V is given from the both end terminals 5,6 of the ladder resistors 4.
      <br/>
      The standard voltage is the maximum voltage that the A/D converter can convert to a digital signal.
      <br/>
      Each connecting point between the resistors is connected with a switch in the switch group 7.
      <br/>
      The number of the switches in the switch group 7 corresponds to the number of the connecting points.
      <br/>
      There are 15 switches in the switch group of 4 bits A/D converter.
      <br/>
      The switches in the switch group 7 are controlled by the output data of the successive approximation register 3 so that a switch in the switch group is selected to turn on, to output a divided voltage as reference voltage VREF.
      <br/>
      Namely, the switch group selects a divided voltage of the standard voltage.
      <br/>
      In other words, the ladder resistors 4 and the switch group 7 function as an D/A converter to convert a digital output of the successive approximation register 3 to an analog voltage signal VREF.
    </p>
    <p num="48">
      Reference numeral 8 denotes an input terminal for an input voltage VIN, which is to be converted to an analog signal.
      <br/>
      The reference voltage VREF is imposed to the capacitor 1 through a semiconductor switch 9.
      <br/>
      The input voltage is imposed to the capacitor 1 through a semiconductor switch 10.
      <br/>
      The input side and the output side of the inverter 2 can be electrically connected through a semiconductor switch 11 for preparing the charging of the capacitor 1.
      <br/>
      The switches 9,10,11 are transistor switches, for example, FET switches.
    </p>
    <p num="49">An A/D control signal generating block A 13 generates a timing signal for controlling the semiconductor switches 9,10,11 to turn on or to turn off them, and a control signal (hereinafter called TZ signal), which controls the timing of the data delivery from the successive approximation register 3 to the switch group 7.</p>
    <p num="50">The function of the A/D converter in FIG. 1 is explained below.</p>
    <p num="51">
      FIG. 2 is a timing chart of the signals in the A/D converter of FIG. 1, which is controlled by the method according to the first embodiment of the present invention.
      <br/>
      FIG. 2 is an example for the case that the standard voltage V is 1 volt, the input voltage VIN is 0.3125 times of the standard voltage, namely 0.3125 volt, and the input voltage is converted to a 4 bit digital signal.
    </p>
    <p num="52">
      At the beginning of the conversion procedure, the A/D control signal generating block A 13 generates a timing signal to turn off the semiconductor switch 9, in the same manner as the A/D clock generating block 12 in the common method in FIG. 38. Then the block A 13 sends a signal TZ1 to the successive approximation register 3 so that the register 3 delivers the digital data stored in it to the switch groups 7.
      <br/>
      In the time section T1, in which the first bit is identified, "8h" in hexadecimal is previously stored in the successive approximation register 3.
    </p>
    <p num="53">
      The standard voltage V is divided by 16 resistors to 16 equidistant voltages, and the switch group is controlled by the data "8h" from the successive approximation register 3 to select the eighth switch in the 15 switches so that only the eighth switch turn on.
      <br/>
      And, it outputs 1/2 volts as a reference voltage VREF, which is generated by the ladder resistors 4.
    </p>
    <p num="54">
      A/D control signal generating block A 13 sends another timing signal to the semiconductor switch 11 so that it turns on.
      <br/>
      When the semiconductor switch 11 turns on, the input side and the output side of the inverter are electrically connected, and they become an equal voltage V0, which is determined by the input and output characteristics of the inverter 2.
      <br/>
      An end of the capacitor 1 has the voltage V0.
      <br/>
      Next, the semiconductor switch 10 turns on, according to another signal from the block A 13.
      <br/>
      When the semiconductor switch 10 turns on, the input voltage VIN is imposed to the other end of the capacitor 1, as a result, the capacitor 1 is charged by the difference voltage between the input voltage VIN and the voltage V0.
      <br/>
      After charging up the capacitor 1, the semiconductor switch 10 turns off, according to another signal from the A/D control signal generating block A 13.
      <br/>
      Successively the semiconductor switch 11 turns off, according to another signal from the block A 13.
    </p>
    <p num="55">
      After that, the A/D control signal generating block A 13 sends the next timing signal to the semiconductor switch 9 to turn it on.
      <br/>
      The reference voltage VREF is imposed to the capacitor 1 through the semiconductor switch 9.
      <br/>
      And the reference voltage VREF and the input voltage VIN is compared by the capacitor 1 and the inverter 2, which form a comparator.
      <br/>
      In this case, the reference voltage is 1/2 volts and the input voltage VIN is 0.3125 volts, namely VIN&lt;VREF, thus the output of the inverter 2 is "0".
      <br/>
      This output, signal COMP, is sent to the successive approximation register 3.
      <br/>
      The successive approximation register 3 rewrite its storing data from "8h" to "4h" in hexadecimal, after receiving the signal COMP.
    </p>
    <p num="56">
      The A/D control signal generating block A 13 begins the procedure of identifying the second bit, and sends a new timing signal to the semiconductor switch 9 so that it turns off.
      <br/>
      Then the block A 13 sends a signal to the successive approximation register 3 so that it transfers its storing data to the switch group 7.
      <br/>
      The switch group 7 is controlled by the digital data from the block A 3 to select the voltage of 1/4 volts, which corresponds to "4h", from the divided voltages by the ladder registers 4, and outputs it as a reference voltage VREF.
    </p>
    <p num="57">
      After this procedure, the block A 13 sends a signal to the semiconductor switch 11 to turn on so that its input side and its output side have an equal voltage.
      <br/>
      Then the block A 13 sends another signal to the semiconductor switch 10 to turn on so that the capacitor 1 is charged by the input voltage VIN.
    </p>
    <p num="58">
      After turning off the semiconductor switch 10, the A/D control signal generating block A 13 sends a signal to the semiconductor switch 9 to turn on so that the reference voltage VREF is imposed to the capacitor 1.
      <br/>
      The reference voltage VREF and the input voltage VIN are compared by the comparator, which is comprised of the capacitor 1 and the inverter 2.
      <br/>
      In this case, the reference voltage is 1/4 volts, and the input voltage is 0.3125 volts, namely VIN&gt;1/4 volts, then the output COMP of the inverter 2 is "1".
      <br/>
      The signal COMP is sent to the successive approximation register 3, which rewrite its storing data from "4h" to "6h".
    </p>
    <p num="59">
      These steps are repeated in the procedures for identifying the third and fourth bits.
      <br/>
      In the procedure for identifying the third and fourth bits, the input voltage VIN is compared with the reference voltages VREF of 3/8 volts and 5/16 volts, and the signals COMP of "0" and "1", respectively, are sent to the successive approximation register 3.
      <br/>
      Finally the register 3 rewrites its storing data to "5h" and outputs it.
      <br/>
      This is the result of the A/D conversion.
    </p>
    <p num="60">
      In the steps for the A/D conversion, the charging time at the section T2, which corresponds the procedure for identifying the second bit, requires the longest time.
      <br/>
      The charging times at the sections T1, T3, T4 are shorter than that of the section T2.
      <br/>
      Thus the time for A/D conversion can be reduced by reducing the period at the sections T1, T3, T4.
      <br/>
      In this embodiment, the clock periods in these sections other than T2 is reduced by the below explained method for reducing the time for A/D conversion.
    </p>
    <p num="61">
      In this embodiment, the periods of the control signal in the sections other than T2 is made a half of the period in the section T2.
      <br/>
      However it shall be noted that it is not limited to this example, but it is only an example for the purpose of facilitating understanding.
      <br/>
      The important points are that the periods can be changed according to the time section, and how they can be changed according to the section.
      <br/>
      In each section, a procedure for identifying a bit value is carried out.
    </p>
    <p num="62">The signal TZ1, the output of the A/D control signal generating block A 13, is explained below.</p>
    <p num="63">
      FIG. 3 shows a block diagram of an example of the A/D control signal generating block A 13.
      <br/>
      The A/D control signal generating block A 13 is comprised of a frequency dividing circuit 101, a first and second A/D control signal generating circuits 102a, 102b and an A/D control signal controlling circuit 109.
    </p>
    <p num="64">
      An example of the frequency dividing circuit 101 is shown in FIG. 32. The signal ENABLE enables the A/D conversion procedure.
      <br/>
      When the signal ENABLE changes to "H", the A/D converter begins its operation.
      <br/>
      The frequency dividing circuit 101 divides the frequency of the source clock signal CK to generate another clock CK', which is sent to the A/D control signal generating circuit 102.
      <br/>
      The first A/D control signal generating circuit 102a generates a timing signal C from the clock signal CK' generated in the frequency dividing circuit 101.
      <br/>
      The signal C corresponds to the signal TZ in the conventional A/D converter in FIG. 38,
    </p>
    <p num="65">
      The first A/D control signal generating circuit 102a has two sets of latches A 103 and latches C 104, as shown in FIG. 33. Examples of the latch A and the latch C are shown in FIG. 34 and FIG. 35, respectively.
      <br/>
      The first A/D control signal generating circuit 102a generates the output signal C, using the latches A and the latches C.
    </p>
    <p num="66">
      The signal TZS is a timing signal generated directly from the clock signal CK by the second A/D control signal generating circuit 102b.
      <br/>
      The period of the signal TZS is shorter than the signal C, which corresponds to the signal TZ in the conventional method, because it is not frequency divided by the frequency divider 101.
      <br/>
      Namely the period is a half of the period of the signal C.
    </p>
    <p num="67">
      The A/D control signal controlling circuit 109 selects one of the signals C and TZS, as an output of the A/D control signal generating block A 13.
      <br/>
      The A/D control signal controlling circuit 109 selects a signal C or TZS, according to the output signal 2S from the shift register A 106 in the successive approximation register 3.
    </p>
    <p num="68">The successive approximation register 3 is explained below.</p>
    <p num="69">
      The successive approximation register 3 in the present invention is basically identical to that of conventional one shown in FIG. 38 which is referred by the same reference numerals.
      <br/>
      The successive approximation register 3 is controlled by the signal TZ1 from the A/D control signal generating block A 13.
      <br/>
      An example of the successive approximation register 3 is shown in FIG. 36. The shift register 105 and the shift register A 106 determine a data latch, in which the signal COMP shall be stored therein.
    </p>
    <p num="70">
      The shift register 105 controls the latch 107 for the first bit.
      <br/>
      The input of the shift register 105 is not an external signal, but is an internal signal.
      <br/>
      The shift register A 106 controls the latches 107 for the second to fourth bits.
      <br/>
      Their input is an external signal, which is the output of the upper shift register for the upper bit.
      <br/>
      The shift register 105 and the shift register A 106 are controlled by the clock signal TZ1 from the A/D control signal generating block A 13.
    </p>
    <p num="71">
      FIG. 37 shows a timing chart of the outputs of the shift register 105 and the shift registers A 106.
      <br/>
      When an output 1S-4S of the shift register 105 or the shift register A 106 is "H", the corresponding latch 107 is actuated to store and latch the signal COMP.
      <br/>
      Namely the outputs 1S-4S of the shift registers 105, 106 are the control signals of the latches 107.
    </p>
    <p num="72">
      Latches 107 store the result of the A/D conversion for each bit.
      <br/>
      An example of the circuit of the latch 107 is shown in FIG. 6, and the timing chart of signals in the circuit is shown in FIG. 7.
      <br/>
      When the signal TZ1 from the A/D signal control signal generating block 13 changes from "H" to "L", the output COMP of the inverter 2 is stored in a latch 107, which corresponds to the shift register 105, 106 that outputs "H".
      <br/>
      The outputs of the shift registers are denoted "output 1S-4S".
      <br/>
      The stored dated in the latches 107 can be read through a reading portion 108 and is delivered to the data bus, according to a reading signal READ.
    </p>
    <p num="73">
      The number of the shift registers 105 (including shift register A 106), latches 107, reading portion 108 corresponds to the number of bits of A/D conversion.
      <br/>
      For example, in the 4 bits A/D conversion, 4 shift registers, 4 latches and 4 reading portions are provided.
    </p>
    <p num="74">
      FIG. 8 is a timing chart of the signals in the A/D control signal generating block A 13, showing how the clock signals is exchanged.
      <br/>
      When the output signal 2S from the shift register A 106 in the successive approximation register 3 is "L", the signal TZS is selected as a clock signal TZ1.
      <br/>
      When the signal 2S is "H", the signal C generated from the signal CK', which is frequency divided, is selected as a clock signal TZ1.
      <br/>
      The period of the signal TZ1 when the output 2S is "L" is a half of the period when the output 2S is "H".
      <br/>
      The signal TZ1 generated in this way controls the A/D conversion as clock signal, and is sent to the successive approximation register 3.
    </p>
    <p num="75">The period at the section T2 which requires the longest charging time, is identical to the conventional method, however, the period at the other sections T1, T3, T4, which require rather shorter charging time, is reduced to a half of that at the section T2.</p>
    <p num="76">
      In summary, according to the first embodiment, the period of the control signal is reduced at the sections T1, T3, T4.
      <br/>
      The period of control signal at the section T2 which requires a longer time for stabilizing the reference voltage due to a rather larger difference voltage between the former and present reference voltages, is made longer than that at the other sections.
      <br/>
      Thus the sharing of the comparing times can be optimized, which leads to a speeding up of the A/D conversion.
    </p>
    <p num="77">
      The time for A/D conversion can be approximated by the following expression:
      <br/>
      Conversion Time=Section T1+Section T2+Section T3+Section T4
    </p>
    <p num="78">
      In the conventional method,
      <br/>
      Section T1=Section T2=Section T3=Section T4=T
      <br/>
      Conversion time=4T
    </p>
    <p num="79">
      According to the first embodiment,
      <br/>
      Section T1=Section T3=Section T4=T/2
      <br/>
      Section T2=T
    </p>
    <p num="80">Conversion time is=(5/2)T</p>
    <p num="81">Consequently, in the first embodiment, the reduction ratio of time for A/D conversion compared to the conventional method is 37.5%.</p>
    <p num="82">Embodiment 2</p>
    <p num="83">
      In the first embodiment, the signal TZ1 is obtained by selecting a signal from signals C and CK, the former is generated from the signal CK', which is obtained by dividing the clock signal CK, and the latter is a signal generated directly from the clock signal CK.
      <br/>
      By using the control signal TZ1, the period of the control signal is changed for each bit.
      <br/>
      However, the period of the control signal can be changed using an external clock circuit, for example, a timer.
    </p>
    <p num="84">
      FIG. 9 shows a block diagram of an A/D converter, in which the method for controlling a successive approximation type A/D converter according to the second embodiment of the present invention is applied.
      <br/>
      The elements in FIG. 9, which are identical or equivalent with elements in FIG. 1 are referred by the same reference numerals, and their explanation is omitted.
    </p>
    <p num="85">
      An A/D control signal generating block B 14 generates control signals for turning on or turning off the semiconductor switch 9, 10, and. 11, as well as a control signal (hereinafter called a signal TZ2) for determining the timing that the successive approximation register 3 delivers its data to the switch group 7.
      <br/>
      A TTZ signal generating circuit using a timer disposed outside the A/D converter generates a TTZ signal.
      <br/>
      The A/D control signal generating block B 14 generates the timing signal and the control signal TZ2, corresponding to the signal TTZ.
    </p>
    <p num="86">The function of the A/D converter is explained below.</p>
    <p num="87">
      FIG. 10 shows a timing chart of the signals in the A/D converter of FIG. 9.
      <br/>
      The substantial function is identical to that of the first embodiment.
      <br/>
      In this example, the input voltage VIN of 0.3125 volts is applied to the input terminal 8, and the input voltage is converted to a 4 bit digital signal.
    </p>
    <p num="88">
      External timers 111 generates output signals TS1-TS3.
      <br/>
      An exchanging circuit 110 selects one of them to supply to the A/D converter of FIG. 9 as a signal TTZ, as shown in FIG. 11. The signal TZ2 to control the A/D converter is generated from the signal TTZ.
    </p>
    <p num="89">
      FIG. 11 shows an example of the circuit for generating the TTZ signal.
      <br/>
      The timer 111 in the circuit is composed of a timer A 112 for generating a signal TS1, a timer B 113 for generating a signal TS2 and a timer C 114 for generating a signal TS3.
      <br/>
      The outputs TS1-TS3 of these timers A 112, B 113 and C 114 are sent to the exchanging circuit 110.
    </p>
    <p num="90">
      FIG. 12 shows the function and the set value of the timers A 112, B 113 and C 114.
      <br/>
      As shown in the figure, the set value of the timer A 112 is "2", and the timer A counts down from the set value repeatedly to output an underflow signal, when an underflow occurs.
      <br/>
      The set value of the timer B is "4", and the timer B counts down from the set value only one time to output an underflow signal, when an underflow occurs.
      <br/>
      The set value of the timer C 114 is "6", and the function of the timer C is identical to the timer A.
    </p>
    <p num="91">
      FIG. 13 shows a timing chart of the signals in the TTZ signal generating circuit.
      <br/>
      The timers A 112, B 113 and C 114 in the timer 111 counts down from their set value to output the underflow signals, as shown in FIG. 12. The timers A 112, B 113 and C 114 output the signal TS1, TS2 and TS3, respectively, and send them to the exchanging circuit 110.
      <br/>
      When the signal ENABLE is "H", the exchanging circuit 110 generates a signal TS12 by calculating the EXCLUSIVE OR of the signals TS1 and TS2.
      <br/>
      Then, the circuit 110 generates the signal TTZ to supply to the A/D converter, by calculating the EXCLUSIVE OR of the signal TS12 and the signal TS3.
      <br/>
      As a result, the period of the signal TTZ is not constant but depends on each pulse, as shown in FIG. 13. The first, third and fourth pulses have a period T, and the second pulse has a period 2T.
    </p>
    <p num="92">
      The signal TTZ is supplied to the A/D control signal generating block B 14 in the A/D converter.
      <br/>
      The A/D control signal generating block B 14 generates the control signal TZ2 for controlling the successive approximation register 3 as well as the signals to control the turning on and off of the semiconductor switches 9-11, which are shown in FIG. 10. The signal TZ2 may be identical with the signal TTZ received from the TTA signal generating circuit.
    </p>
    <p num="93">
      As explained, the second embodiment is characterized by the use of an external circuit, for example, a timer 111, for changing the period of the control signal TZ2 to the successive approximation register 3.
      <br/>
      When set values in the timer 111 are set using a computer program, the periods of the control signal can be arbitrarily set or changed.
    </p>
    <p num="94">In this example, the period of the signal TZ2 at the section T2 is equal to the corresponding period in the conventional method, and the periods at the time section T1, T3, T4 are a half of the corresponding time section of the conventional method.</p>
    <p num="95">
      By the way, there are many variations in the external circuit.
      <br/>
      In this example of the second embodiment, a plurality of timers are used, however the same function and effects can be obtained using one so-called reload register.
      <br/>
      The exchanging circuit is not an inevitable element for the external circuit.
      <br/>
      The external circuit can be constructed also using a PWM (pulse width modulator) to obtain the identical effects.
    </p>
    <p num="96">
      As explained, in the second embodiment, the period at each comparing section T1-T4 is changed using an external clock, for example, external timers.
      <br/>
      The period of pulse is reduced at the sections T1, T3, T4, and the period of clock at the section T2, is longer than that at the other sections, as is the case of the first embodiment.
      <br/>
      This is because the time section T2 requires a longer time for stabilizing the reference voltage due to a rather larger difference voltage between the former and present reference voltages.
      <br/>
      Thus the sharing of the comparing times can be optimized.
      <br/>
      And a speeding up of the A/D conversion is attained.
    </p>
    <p num="97">
      The time for A/D conversion can be expressed by the following expression:
      <br/>
      Conversion Time=Section T1+Section T2+Section T3+Section T4
    </p>
    <p num="98">
      In the conventional method,
      <br/>
      Section T1=Section T2=Section T3=Section T4=T
      <br/>
      Conversion time=4T
    </p>
    <p num="99">
      According to the second embodiment,
      <br/>
      Section T1=Section T3=Section T4=T/2
      <br/>
      Section T2=T
      <br/>
      Conversion time is=T+3(T/2)=(5/2)T
    </p>
    <p num="100">Consequently, in the second embodiment, the reduction ratio of time for A/D conversion compared to the conventional method is 37.5%.</p>
    <p num="101">Embodiment 3</p>
    <p num="102">
      In the first and second embodiments, the period of the control signal of the successive approximation register 3 is changeable.
      <br/>
      The object of the invention can be attained also by changing the duty ratio of the control signal.
    </p>
    <p num="103">
      FIG. 14 shows a block diagram of an A/D converter, in which the method for controlling a successive approximation type A/D converter according to the third embodiment of the present invention is applied.
      <br/>
      The elements in FIG. 14, which are identical or equivalent with elements in FIG. 1 are referred by the same reference numerals, and their explanation is omitted.
    </p>
    <p num="104">
      An A/D control signal generating block C 15 generates control signals for turning on or turning off the semiconductor switch 9, 10, and 11, as well as a control signal (hereinafter called a signal TZ3) for determining the timing of delivery of data from the successive approximation register 3 to the switch group 7.
      <br/>
      The A/D control signal generating block C 15 in this example generates the timing signal and the control signal TZ3, according to the signal 4S, which is supplied from the successive approximation register 3.
    </p>
    <p num="105">The function of the A/D converter is explained below.</p>
    <p num="106">
      FIG. 15 shows a timing chart of the signals in the A/D converter according to the third embodiment of the present invention, shown in FIG. 14. Its substantial function is identical with that of the first embodiment.
      <br/>
      An input voltage VIN of 0.3125 volts is inputted from the input terminal 8, and is converted to a 4 bit digital signal.
      <br/>
      The period of the control signal TZ3 is a half of the period of the signal TZ of the conventional method.
    </p>
    <p num="107">The function of the A/D control signal generating block C 15 is explained below.</p>
    <p num="108">
      FIG. 16 shows a timing chart of signals in the A/D control signal generating block C 15.
      <br/>
      FIG. 17 shows an example of the circuit of an A/D control signal generating block C 15.
      <br/>
      The A/D control signal generating block C 15 is comprised of a first A/D control signal generating circuit 102, a second A/D control signal generating circuit 115 and an A/D control signal controlling circuit 109, as shown in FIG. 17.
    </p>
    <p num="109">
      The output of the first A/D control signal generating circuit 102 is the signal TZS, and the output the second A/D control signal generating circuit 115 is the signal TZN.
      <br/>
      According to the output of the shift registers in the successive approximation register 3, for example 4S, the A/D control signal controlling circuit 109 selects a signal from the signals TZS and TZN, and sends it to the successive approximation register 3 as a control signal TZ3.
    </p>
    <p num="110">
      As shown in FIG. 16, when the output 4S is "L", the signal TZS with small pulse width from the first A/D control signal generating circuit 102 is selected, and it is outputted as signal TZS.
      <br/>
      On the other hand, when the output 4S is "H", the signal TZN with long pulse width from the second A/D control signal generating circuit 115 is selected, and it is outputted as control signal TZS.
      <br/>
      As a result, the duty ratio of the signal TZ3 is changed.
      <br/>
      As shown in FIG. 15, at the time section T4, where the output 4S is "H", the pulse width of the signal TZN is made longer.
      <br/>
      Thus, the sharing of time for data comparison is optimized.
    </p>
    <p num="111">
      FIG. 18 shows an example of the block diagram of the second A/D control signal generating circuit 116 in the A/D control signal generating block C 15.
      <br/>
      FIG. 19 shows a timing chart of the signals in the second A/D control signal generating circuit 115.
      <br/>
      The detail of the block 102 in the FIG. 18 is shown in FIG. 33. The second A/D control signal generating circuit 115 calculates the NAND of the signal at points a, the inverse of the signal at point b and the signal at the point c of the A/D control signal generating circuit 102 shown in FIG. 33, to generate the signal TZN.
    </p>
    <p num="112">
      As explained, in the third embodiment, the period at each comparing section T1-T4 is changed using an external clock, for example, timers.
      <br/>
      The period of clock is reduced at the section T1, T3, T4, and the period of clock at the section T2 which requires a longer time for stabilizing the reference voltage due to a rather larger difference voltage between the former and present reference voltages, is longer than that at the other sections, as is the case of the first embodiment.
    </p>
    <p num="113">
      As explained, the A/D converter according to the third embodiment of the present invention, the period of the control signal (signal TZ3) is set to be a half of the signal TZ of the conventional method.
      <br/>
      And the duty ratio of the control signal is changed so that the time of "H" is elongated only at the comparison section T4.
      <br/>
      This section requires a longer time, due to the smallness of the difference between the input voltage and the reference voltage.
      <br/>
      The sharing of time for comparison is optimized also in this embodiment and the A/D conversion is carried out more quickly.
    </p>
    <p num="114">
      The time for A/D conversion can be expressed by the following expression:
      <br/>
      Conversion Time=Section T1+Section T2+Section T3+Section T4
    </p>
    <p num="115">
      In the conventional method,
      <br/>
      Conversion time=4T
    </p>
    <p num="116">
      According to the third embodiment,
      <br/>
      Conversion time is=4(T/2)=2T
    </p>
    <p num="117">Consequently, in the third embodiment, the reduction ratio of time for A/D conversion compared to the conventional method is 50.0%.</p>
    <p num="118">Embodiment 4</p>
    <p num="119">
      In the first embodiment, the change of the period of the control signal is carried out, by selecting a signal from the signals C and TZS as control signal.
      <br/>
      In the second embodiment, an external signal is used for changing the period of the control signal.
      <br/>
      The period can be changed by using a software program.
    </p>
    <p num="120">
      FIG. 20 shows a block diagram of an A/D converter applied the method according to the fourth embodiment of the present invention.
      <br/>
      The elements in FIG. 20, which is identical or equivalent with elements in FIG. 1 are referred by the same reference numerals.
      <br/>
      Thus their explanation is omitted.
    </p>
    <p num="121">
      An A/D control signal generating block D 16 generates control signals for turning on or turning off the semiconductor switch 9, 10, and 11, as well as a control signal (hereinafter called a signal TZ4) for determining the timing of delivery of data from the successive approximation register 3 to the switch group 7.
      <br/>
      Reference numeral 17 denotes a control signal setting register, which generates a signal SSTZ for generating a desired control signal (hereinafter called TZ4), corresponding to data set therein by a computer software.
    </p>
    <p num="122">
      FIG. 21 shows a block diagram of the A/D control signal generating block D 16.
      <br/>
      FIG. 22 shows a block diagram of the control signal setting register 17.
      <br/>
      The A/D control signal generating block D 16 is comprised of a frequency divider 101, a first and second A/D control signal generating circuit 102a, 102b, and an A/D control signal controlling circuit 109, similar to the A/D control signal generating block A 13 of the first embodiment of the present invention.
      <br/>
      The control signal setting register 17 is comprised of three one bit registers 116 and a signal outputting control circuit 117, as shown in FIG. 22.
    </p>
    <p num="123">The function of the A/D converter according to the fourth embodiment is explained below.</p>
    <p num="124">
      FIG. 24 shows a timing chart of signals in the A/D converter according to the fourth embodiment shown in FIG. 20. Its substantial function is identical to that of the first embodiment.
      <br/>
      The input voltage VIN of 0.3125 volts inputted from the input terminal 8 is converted to a 4 bits digital signal.
      <br/>
      In this example, the periods of the control signal (signal TZ4) in the comparing sections T3 and T4 are changed to a half compared with the conventional period.
    </p>
    <p num="125">
      The A/D control signal generating block D 16 in FIG. 21 comprises a frequency divider 101 for generating a signal CK' by frequency dividing the input clock signal CK, a first A/D control signal generating circuit 102a for generating a signal C from the signal CK', a second A/D control signal generating circuit 102b for generating a signal TZS directly from the signal CK, and an A/D control signal controlling circuit 109 for selecting one of the signals C and TZS according to a signal SSTZ to output the signal TZ4, which controls the successive approximation register 3.
      <br/>
      The signal SSTZ is supplied from the control signal setting register 17.
      <br/>
      The control signal setting register generates the signal SSTZ, on the basis of a set value in the one bit register 116 for each bit as well as the value of the signals S1-S4 supplied from the successive approximation register 3, as shown in FIG. 22. The data in the one bit register 116 are provided by a software program through a data bus.
    </p>
    <p num="126">
      As shown in FIG. 22, a set of data is provided into a set of one bit registers 116 of the control signal setting register 17 from a software program through a data bus.
      <br/>
      FIG. 25 shows an example of data set in the one bit registers 116 provided by a software program.
      <br/>
      Arbitrarily the period of any comparing section can be elongated, by setting the corresponding register to "H" by a software program.
      <br/>
      Thus the period of the control signal TZ4, which controls the successive approximation register 3 in the corresponding time section can be controlled.
    </p>
    <p num="127">
      FIG. 26 shows a timing chart of signals in the control signal setting register 17, in which a set of data is given by a software program.
      <br/>
      When some data R2-R4 in the one bit register 116 are "H", and the corresponding outputs 2S, 3S or 4S of the shift register A 106 in the successive approximation register 3 are "H" simultaneously, the output SSTZ of the control signal setting register 17 becomes "H".
    </p>
    <p num="128">
      FIG. 27 shows a timing chart of the signals in the A/D control signal generating block D 16 for generating the control signal TZ4 to the successive approximation register 3.
      <br/>
      When the signal SSTZ from the control signal setting register 17 is "L", the A/D control signal controlling circuit 109 in the block 16 selects the signal TZS, which is generated by the second A/D control signal generating circuit 102b directly from the signal CK.
      <br/>
      When the signal SSTZ is "H", the A/D control signal controlling circuit 109 selects the signal C, which is generated by the first A/D control signal generating circuit 102a from the signal CK' obtained by the frequency divider 101.
      <br/>
      The A/D control signal generating block D 16 outputs the signal, selected by the A/D control signal controlling circuit 109, as a control signal for the corresponding comparing section to the successive approximation register 3.
    </p>
    <p num="129">
      As shown in the timing chart in FIG. 24, when the signal TZ4 is used as a control signal, the periods of the control signal at the comparing sections T3 and T4 in the A/D conversion are changed to a half of the conventional one, and the periods of the control signal at the comparing sections T1 and T2 are unchanged.
      <br/>
      In this example, the periods of the control signal are changed only at the comparing sections T3 and T4.
      <br/>
      However, the present invention is not limited to this example.
      <br/>
      The important feature of this embodiment is that the periods of the control signal at any arbitrary comparing section can be changed by a software program, to optimize the sharing of time for the data comparison so as to reduce the conversion time.
    </p>
    <p num="130">
      As explained, in the fourth embodiment, the period of control signal at any arbitrary comparing section T1-T4 can be changed using a software program.
      <br/>
      For example, the periods of the control signal in the sections T3 and T4 are reduced.
      <br/>
      On the other hand, the period of control signal at the sections T1 and T2 which require a longer time for stabilizing the reference voltage due to a rather larger difference voltage between the former and present reference voltages, are made longer than that at the other sections.
      <br/>
      Thus it is possible to optimize the sharing of the comparison time so as to speed up the A/D conversion.
    </p>
    <p num="131">
      The time for A/D conversion can be expressed by the following expression:
      <br/>
      Conversion Time=Section T1+Section T2+Section T3+Section T4
    </p>
    <p num="132">
      In the conventional method,
      <br/>
      Conversion time=4T
    </p>
    <p num="133">
      According to the fourth embodiment,
      <br/>
      Conversion time is=2T+2(T/2)=3T
    </p>
    <p num="134">Consequently, in the fourth embodiment, the reduction ratio of time for A/D conversion compared to the conventional method is 25.0%.</p>
    <p num="135">Embodiment 5</p>
    <p num="136">
      In the fourth embodiment, the periods of control signal at any arbitrary comparison section in the successive approximation register 3 are changed by a software program.
      <br/>
      This idea can be applied to change the duty ratio of the control signal.
    </p>
    <p num="137">
      FIG. 28 shows a block diagram of an A/D converter applied the method according to the fifth embodiment of the present invention.
      <br/>
      The elements in FIG. 28, which is identical or equivalent with elements in FIG. 20 are referred by the same reference numerals.
      <br/>
      Thus their explanation is omitted.
    </p>
    <p num="138">
      An A/D control signal generating block E 18 generates control signals for turning on or turning off the semiconductor switch 9, 10, and 11, as well as a control signal (hereinafter called a signal TZ5) for determining the timing of delivery of data from the successive approximation register 3 to the switch group 7.
      <br/>
      The A/D control signal generating block C 15 generates the timing signal and the control signal TZ5 from the signal SSTZ, which is supplied from a control signal setting register 17, the value in the register 17 is determined by a software program.
    </p>
    <p num="139">
      FIG. 29 shows a block diagram of the A/D control signal generating block E 18.
      <br/>
      The A/D control signal generating block E 18 is comprised of a first A/D control signal generating circuit 102, a second A/D control signal generating circuit 115 and an A/D control signal controlling circuit 109, similar to the A/D control signal generating block C 15 of the third embodiment shown in FIG. 17.
    </p>
    <p num="140">The function of the A/D control signal generating block E 18 is explained below.</p>
    <p num="141">
      FIG. 30 shows a timing chart of the signals in the A/D converter shown in FIG. 28, according to the fifth embodiment of the present invention.
      <br/>
      Its substantial function is identical with that of the third embodiment.
      <br/>
      An input voltage VIN of 0.3125 volts is inputted from the input terminal 8, and is converted to a 4 bit digital signal.
      <br/>
      This is an example that the periods of "H" state at the comparison section T3 and T4 are elongated, by changing the duty ratio of the control signal TZ5.
    </p>
    <p num="142">
      The first A/D control signal generating circuit 102 generates the signal TZS from the signal CK.
      <br/>
      The second A/D control signal generating circuit 115 generates the signal TZN from the signal CK.
      <br/>
      The control signal setting register 17 generates the signal SSTZ, on the basis of the values set by a software program as well as a set of the outputs 2S-4S of the successive approximation register 3.
      <br/>
      The A/D control signal generating block E 18 in FIG. 29 generates a signal TZ5 and sends it to the successive approximation register 3, by selecting a signal from the signal TZS and the signal TZN according to the signal SSTZ from the control signal setting register 17.
    </p>
    <p num="143">
      The values in the one bit register 116 of the control signal setting register 17 are set by a software program through a data bus.
      <br/>
      The elongation of the duty ratio in any arbitrary comparison section can be attained, by setting the corresponding one bit register in the control signal setting register 17 to "H", using a software program.
      <br/>
      By this setting, the width of "H" state of the signal TZ5 in the corresponding time section, which is a control signal of the successive approximation register, is elongated.
      <br/>
      The generation of the signal SSTZ is identical as in the fourth embodiment, and its explanation is omitted.
    </p>
    <p num="144">
      FIG. 31 shows a timing chart of signals in the A/D control signal generating block E 18 for generating the signal TZ5, which shall be sent to the successive approximation register 3, on the basis of the signal SSTZ.
      <br/>
      When the signal SSTZ is "L", the A/D control signal controlling circuit 109 selects the signal TZN generated by the first A/D control signal generating circuit 102, on the other hand, when the signal SSTZ is "H", the signal TZN generated by the second A/D generating circuit beta 115 is selected.
      <br/>
      And the A/D control signal generating block E 18 outputs the selected signal as a control signal of the corresponding comparison section to the successive approximation register 3.
    </p>
    <p num="145">
      When this signal TZ5 is used as a control signal for the A/D conversion, the widths of "H" state at the comparison sections T3, T4 are elongated, as shown in FIG. 30, so as to optimize the sharing of comparison time.
      <br/>
      In this example, the widths of "H" state only in the section T3, T4 are elongated.
      <br/>
      However, the present invention is not limited to this example.
      <br/>
      The important feature of the fifth embodiment is that the width of "H" state at any arbitrary comparison section can be changed by a software program, so as to reduce the A/D conversion time.
    </p>
    <p num="146">
      As explained, the duty ratio of the control signals at some comparison sections T1-T4 can be changed by a software program in the fifth embodiment.
      <br/>
      When the period of the control signal (signal TZ5) is set to a half of the conventional one, and the width of "H" state of the control signal is made longer at some comparison sections, the sharing of comparison time can be optimized and the speed up of the A/D conversion is made possible.
      <br/>
      For example, the duty ratio only in the sections T3 and T4, which requires a longer time due the smallness of the difference between the input voltage and the reference voltage, can be changed to elongate the period of "H" state.
    </p>
    <p num="147">
      The time for A/D conversion can be expressed by the following expression:
      <br/>
      Conversion Time=Section T1+Section T2+Section T3+Section T4
    </p>
    <p num="148">In the conventional method,</p>
    <p num="149">Conversion time=4T</p>
    <p num="150">
      According to the fifth embodiment,
      <br/>
      Conversion time is=4(T/2)=2T
    </p>
    <p num="151">Consequently, in the fourth embodiment, the reduction ratio of time for A/D conversion compared to the conventional method is 50.0%.</p>
    <p num="152">
      According to the present invention, the period of the control signal can be changed for each comparison section, and the reference voltage and the input voltage are compared under the control of the period changed control signal.
      <br/>
      Thus it is possible to optimize the sharing of the time for the comparison; the period of the sections other than the section T2 can be shortened.
      <br/>
      And the period in the section T2 is made relatively larger.
      <br/>
      Because the section T2 requires a longer comparison time for the stabilization of the reference voltage due the larger difference between the former reference voltage and the present reference voltage.
      <br/>
      As a result, a method for controlling an A/D converter, which makes possible to speed up the A/D conversion is attained.
    </p>
    <p num="153">
      In an embodiment, the a clock signal is frequency divided to obtain a plurality of timing signals having different frequency division ratios.
      <br/>
      One of them is selected as a control signal for each comparison section.
      <br/>
      Thus the period of the control signal can be changed for each comparison section.
      <br/>
      It is possible to optimize the sharing of comparison time; the period of control signal other than a comparison section, which requires a longer stabilization time due to a large difference between the former reference voltage and the present reference voltage, can be shortened.
      <br/>
      The speed up of the A/D conversion is possible.
    </p>
    <p num="154">
      In an embodiment, the period of the control signal is changed for each comparison section, by using a control signal generated, based on an external signal.
      <br/>
      And the period of the control signal can be changed by, for example, by changing the set value of a timer circuit, which is an example of the external circuit.
      <br/>
      It is possible to optimize the sharing of the comparison time; the period of the control signal at the sections other than a comparison section which requires a longer comparison time due to a larger difference between the former reference voltage and the present reference voltage, can be shortened.
      <br/>
      The speed up of the A/D conversion is possible.
    </p>
    <p num="155">
      In an embodiment, the period of the control signal is controlled by data set by a software program, thus the period of the control signal can be changed for each comparison section, by the software program.
      <br/>
      It is possible to optimize the sharing of comparison time; the period of control signal at the time sections other than a time section which requires a longer comparison time for stabilization of the reference voltage due to larger difference between the former reference voltage and the present reference voltage, can be shortened.
      <br/>
      The speeding up of A/D conversion is possible.
    </p>
    <p num="156">
      In an embodiment, the duty ratio of the control signal is changeable for each comparison section, the comparison between the reference voltage and the input voltage is carried out under the control of the duty ratio changed control signal.
      <br/>
      It is possible to shorten the "H" time at the comparison section other than a comparison section which requires a longer comparison time due to the smallness between the input voltage and the reference voltage.
      <br/>
      Thus it is possible to optimize the sharing of comparison time.
      <br/>
      And a method for controlling an A/D converter, which makes possible to speed up the A/D conversion is attained.
    </p>
    <p num="157">
      In an embodiment, the duty ratio of the control signal is changed under the control of data set by a software program.
      <br/>
      The duty ratio of the control signal can be changed for each comparison section; the duty ratio of the control signal at the comparison section other than a comparison section which requires a longer comparison time due to small difference between the input voltage and the reference voltage, can be changed so that the "H" time is made longer.
      <br/>
      It is possible to optimize the sharing of comparison time, and to speed up the A/D conversion.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method for controlling an analog/digital converter, in which a reference voltage for each bit is successively generated depending on control signals from the highest bit, and is compared with an input voltage to obtain a corresponding bit digital value, wherein a period or duty ratio of said control signals is changeable for each comparison section, in which the corresponding reference voltage is compared with the input voltage, and the comparison between the reference voltage and the input voltage for identifying the digital value of the corresponding bit is carried out under the control of the changed control signal.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. A method for controlling an analog/digital converter according to claim 1, wherein a clock signal is frequency divided to generate a plurality of timing signals having different periods;</claim-text>
      <claim-text>and the period of the control signal is changed by selecting one of the timing signals for each comparison section.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. A method for controlling an analog/digital converter according to claim 1, wherein an external signal for each comparison procedure is generated outside the analog/digital converter;</claim-text>
      <claim-text>and the period of the control signal is changed by using the external signal as the control signal.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A method for controlling an analog/digital converter according to claim 1, wherein a clock signal is frequency divided by a plurality of frequency dividers to generate a plurality of timing signals having different periods;</claim-text>
      <claim-text>a software program sets a value in a register for each comparison section;</claim-text>
      <claim-text>and the period of the control signal is changed by selecting one of the timing signals for each comparison section, according to the set value in the register.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A method for controlling an analog/digital converter according to claim 1, wherein a set of signals having different duty ratio is generated;</claim-text>
      <claim-text>and the period of the control signal is changed by selecting a signal from the set of signals for each comparison section.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A method for controlling an analog/digital converter according to claim 1, wherein a set of signals having different duty ratio is generated;</claim-text>
      <claim-text>a software program sets a value in a register for each comparison section;</claim-text>
      <claim-text>and the period of the control signal is changed by selecting one of the signals for each comparison section, according to the set value in the register.</claim-text>
    </claim>
  </claims>
</questel-patent-document>