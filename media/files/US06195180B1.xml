<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06195180B1.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as first publication">
      <document-id>
        <country>US</country>
        <doc-number>06195180</doc-number>
        <kind>B1</kind>
        <date>20010227</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6195180</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B1</original-publication-kind>
    <application-reference family-id="26538334" extended-family-id="28077451">
      <document-id>
        <country>US</country>
        <doc-number>08994194</doc-number>
        <kind>A</kind>
        <date>19971219</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08994194</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>28728397</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>99419497</doc-number>
        <kind>A</kind>
        <date>19971219</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997US-08994194</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>JP</country>
        <doc-number>24758294</doc-number>
        <kind>A</kind>
        <date>19941013</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1994JP-0247582</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="3">
        <country>JP</country>
        <doc-number>25623495</doc-number>
        <kind>A</kind>
        <date>19951003</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1995JP-0256234</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="4">
        <country>US</country>
        <doc-number>54250495</doc-number>
        <kind>A</kind>
        <date>19951013</date>
        <priority-linkage-type>3</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="4">
        <doc-number>1995US-08542504</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010227</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G03G  15/00        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>03</class>
        <subclass>G</subclass>
        <main-group>15</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G06T   1/00        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>1</main-group>
        <subgroup>00</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04N   1/401       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>401</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>358461000</text>
        <class>358</class>
        <subclass>461000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>358401000</text>
        <class>358</class>
        <subclass>401000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>358437000</text>
        <class>358</class>
        <subclass>437000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04N-001/401</text>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>401</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-001/401</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>1</main-group>
        <subgroup>401</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>8</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>22</number-of-drawing-sheets>
      <number-of-figures>23</number-of-figures>
      <image-key data-format="questel">US6195180</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Image forming apparatus</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>OKADA MASAAKI</text>
          <document-id>
            <country>US</country>
            <doc-number>5757515</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5757515</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>TAGUCHI KAZUSHIGE, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5771106</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5771106</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>SUZUKI YASUMICHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5802217</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5802217</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>OKADA MASAAKI</text>
          <document-id>
            <country>US</country>
            <doc-number>5909287</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5909287</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>OIDA JUN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5987186</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5987186</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>NAGANO FUMIKAZU</text>
          <document-id>
            <country>US</country>
            <doc-number>4654723</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4654723</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>SAKAMOTO MASAHIRO</text>
          <document-id>
            <country>US</country>
            <doc-number>4821099</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4821099</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>UENO TAKESHI</text>
          <document-id>
            <country>US</country>
            <doc-number>4868685</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4868685</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>MAESHIMA KATSUYOSHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5038225</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5038225</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>NAGATA TATSUYA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5130822</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5130822</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>ITO YASUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5151796</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5151796</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>TAKASHIMA IZUMI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5325210</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5325210</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>KONISHI SHINICHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5530239</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5530239</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S6250822</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP62050822</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>CANON KK</text>
          <document-id>
            <country>JP</country>
            <doc-number>S62183259</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP62183259</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>BROTHER IND LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H02177765</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP02177765</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <division>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>54250495</doc-number>
              <kind>A</kind>
              <date>19951013</date>
            </document-id>
          </parent-doc>
        </relation>
      </division>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Ricoh Company, Limited</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>RICOH</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Taguchi, Kazushige</name>
            <address>
              <address-1>Warabi, JP</address-1>
              <city>Warabi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Hasegawa, Yutaka</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Shouji, Tsutomu</name>
            <address>
              <address-1>Yokohama, JP</address-1>
              <city>Yokohama</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>McDermott, Will &amp; Emery</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Lee, Cheukfan</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An image forming apparatus is disclosed for providing accurate shading corrections.
      <br/>
      The apparatus includes an illumination source for illuminating an image, and a photoelectric converter that receives reflected light from the image and photoelectrically converting the reflected light.
      <br/>
      The output signal from the photoelectric converter is amplified and converted to a digital signal.
      <br/>
      The digital signal is then subjected to shading correction.
      <br/>
      A controller is provided for ensuring that white reference data for a first sheet of copy is fetched from a stable region of the illumination source during shading correction.
      <br/>
      The white reference data is subsequently used when forming an image for a first sheet of copy.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This application is a Divisional of application Ser.
      <br/>
      No. 08/542,504 filed Oct. 13, 1995.
    </p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">The present invention relates to an image forming apparatus such as a digital copying machine, a digital full-color copying machine, or a facsimile, and more particularly to an image forming apparatus in which control for preliminarily lighting up a light source for illumination is executed according to a type of copying mode and white data for shading correction is fetched so that an image quality and a copying speed are improved.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      Shading correction data fetching in the conventional type of image forming apparatus has been executed, for instance, in the way as described below.
      <br/>
      Namely, after a print switch is pressed down, white data for shading correcting is fetched and then an operation for forming an image is executed.
    </p>
    <p num="4">Also to reduce effects caused by change in a quantity of light from a halogen lamp for illuminating a draft during lapse of time when copying is executed continuously, white data is fetched each time one image is formed.</p>
    <p num="5">The reference technological documents relating to the present invention include, for instance, Japanese Patent Laid-Open Publication No.50822/1987 disclosing an "Image Forming Apparatus" in which a light quantity detection sensor is used to detect change during a build-up time of a light source and scanning for exposure is started after a stable output from the light source has been obtained.</p>
    <p num="6">Also Japanese Patent Laid-Open Publication No.183259/1987 discloses an image forming apparatus in which an operating speed of a driving unit is set to a lower speed and a time required for a draft image to be fed to a read position is extended when a quantity of light detected by a light quantity measuring means is small.</p>
    <p num="7">Furthermore, in a digital reading system Japanese Patent Laid-Open Publication No.177765/1990 discloses an "Image Reading Apparatus" in which light from a fluorescent lamp is led to a photo diode through an optical fiber, and the output is computed and used as a reference input for an A/D converter.</p>
    <p num="8">
      However, in the conventional type of image forming apparatuses as described above, there have been the problems as described below.
      <br/>
      Detailed description is made hereinafter.
    </p>
    <p num="9">
      At first, FIG. 17 and FIG. 18 show image data output values for R, G and B lights in a state where the system is cool due to change in a quantity of light from a halogen lamp and in a state where the system has been warmed up due to change in a quantity of light from a halogen lamp respectively.
      <br/>
      Data is fetched into a shading white memory in 0.69 sec after the halogen lamp is lit, and comparison between the cool state shown in FIG. 17 and the warmed-up state shown in FIG. 18 shows that the image data difference is higher in the cool state by 3.2% for R, 3.3% for G, and 4.8% for B.
    </p>
    <p num="10">
      This phenomenon occurs because a section not emitting light (Mo ring) in the Halogen lamp is heated when the halogen lamp is lit and the resistance value increased.
      <br/>
      For instance, when 6 pieces of Mo ring each having a diameter of 0.43 mm and a length of 44 mm are used, the resistance is 0.017  OMEGA  * 6 pieces  not equal to 0.1  OMEGA .
    </p>
    <p num="11">On the other hand, once a lamp is lit and temperature of an Mo ring goes up to 200 (degree)  C., the resistance becomes 0.2  OMEGA . Assuming that the rated current is 2.6 A, a voltage drop due to the Mo ring is 0.26 V, and a quantity of light then is</p>
    <p num="12">+(75-0.26)/75}3.38 =0.988</p>
    <p num="13">meaning that the quantity of light has changed by 1.2%, it should be noted that a change in actually measured values shown in FIG. 17 and FIG. 18 is larger.</p>
    <p num="14">Thus change in a quantity of light from a halogen lamp give effects to an operation for fetching shading white data first in a copying sequence in an actual machine (in a state where the machine is still cool) as well as to operations for fetching shading white data second time and on (in a state where at least one scan has been executed and the halogen lamp has been warmed up).</p>
    <p num="15">FIG. 19 and FIG. 20 are timing charts each showing operations for fetching shading correction data after a print switch is pressed down as well as for scanning in the conventional type of image forming apparatus.</p>
    <p num="16">In FIG. 19, after power is turned ON, the image forming apparatus is initialized, reload and fixing functions are initialized, and then a scanner initial setting command is transmitted from the main control section, when draft image read is enabled because the analog system in the image forming apparatus is automatically set up.</p>
    <p num="17">
      When the system enters a stand-by state until the print switch is pressed down, and during this period, the halogen lamp is kept in a cool state.
      <br/>
      Then, if the print switch is pressed down and a shading start signal is transmitted from the main control section, and operation for fetching shading correction data is executed.
    </p>
    <p num="18">
      When white data fetching is executed (white memory reset in 8) associated with the shading correction data fetching operation is executed, a quantity of light from the halogen lamp shifts to a slightly higher level and values of read white data becomes higher.
      <br/>
      If a scanner start signal is transmitted from the main control section in this state, a scanning operation is started, but as the halogen lamp has been warmed up because of the shading correction data fetching operation executed immediately before, a quantity of light becomes lower as compared to that in the cool state.
    </p>
    <p num="19">
      The shading correction data fetching operation is executed once each time an image is formed, as shown in FIG. 20, and the halogen lamp is warmed up after the first operation is executed, so that values of fetched white data in the operation executed second time and on are different from that executed first time.
      <br/>
      For this reason values of image data after shading correction fetched in first to fourth scans for a sheet of copy in a repeated copying operation becomes lower as compared to those fetched during scans for a second sheet of copy, and this difference appears as change in image density.
    </p>
    <p num="20">Thus, in the conventional technology, change is generated in a quantity of light from a halogen lamp as a light source due to the internal temperature characteristics, and especially the difference between a high-lighted section and particularly a background section of a first sheet of copied image and those of a second sheet of copied image is substantially large, which disadvantageously makes it impossible to obtain a high quality image.</p>
    <p num="21">Also in the conventional technology, a long time, is required until a quantity of light emitted from a light source is stabilized, which in turn makes a lead time for copying operation or a time required for first copy disadvantageously longer.</p>
    <p num="22">Also in the image reading apparatus disclosed in Japanese Patent Laid-Open Publication No.50822/1987, amplitude of light emission from the image illuminating light source is detected by a light sensor, and an operation for reading an image is started after the amplitude of light emission is stabilized, but with this configuration, a dedicated light sensor is required, so that a number of necessary parts increases, the productivity becomes lower, reduction of size and weight of the apparatus becomes difficult, and in addition a long time is required until an operation for reading an image is required, and for the reasons as described above, the configuration is not preferable.</p>
    <p num="23">Also in the image reading apparatus disclosed in Japanese Patent Laid-Open Publication No.183259/1987, a quantity of light used for reading an image is kept at a constant level by adjusting a scanning speed of an image reading means in response to change in amplitude of light emitted from the image illuminating light source, but actually it is difficult to keep a quantity of light for reading an image at a constant level through adjustment of a scanning speed of an image reading means as described in this document, and also an actual speed when reading an image becomes lower, so that the configuration is not preferable.</p>
    <p num="24">
      In the image reading apparatus disclosed in Japanese Patent Laid-Open Publication No.177765/1990, amplitude of light emission of the image illuminating light source is detected by a light sensor, and an output from this light sensor is used as a reference input for an A/D converter , but with this configuration a dedicated light sensor is required, so that a number of required parts increases, the productivity becomes lower, and reduction of size and weight of the apparatus becomes difficult.
      <br/>
      Especially, in the image reading apparatus disclosed as an embodiment in this publication, light emitted from a fluorescent lamp is delivered through optical fiber to a photodiode, and for this reason it is considered that the sensitivity in detection may be rather low.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="25">It is a first object of the present invention to realize shading correction which is stable irrespective of a change in a quantity of light due to internal temperature characteristics in a halogen lamp and to obtain high quality images eliminating effects by changes in density of images in a continuous copying mode.</p>
    <p num="26">The present invention was made to solve the problems as described above, and it is a second object of the present invention to make possible controls for preliminarily lighting up a halogen lamp according to a desired image output and to realize a faster copying speed.</p>
    <p num="27">To achieve the objects as described above, in the image forming apparatus according to the present invention, white reference data for a first sheet of copy after power is turned ON is executed in a stable region for an illuminating means, shading correction is executed by a shading correction means for forming an image for a first sheet of copy, and shading-corrected white data is fetched for a second or subsequent sheet of copy each time one image is formed, and thus shading correction not affected by change in a quantity of light due to a temperature difference between the cool and warm state of an illuminating means can be realized.</p>
    <p num="28">In the image forming apparatus according to the present invention, in a case where a full-color copying mode with a manual input means is selected, the illuminating means is preliminarily lit by the scanner control means, shading-corrected white data for each copy is fetched, and in a case where the mono-color copying mode is selected, shading correction is executed without preliminarily lighting up the illuminating means for each copy, and thus the processing time can be reduced by omitting a time for preliminarily lighting up when the mono-color copying mode is selected.</p>
    <p num="29">In the image forming apparatus according to the present invention, in a case where the 1 to 1 (1 sheet of copy for 1 sheet of draft) copying mode is selected in the input means, shading correction is executed with the scanner control means without preliminarily lighting up the illuminating means, and in a case where the 1 to N (continuous copying) mode is selected, shading-corrected white data for each copy is executed with preliminarily lighting up the illuminating means, and thus the processing time is reduced by omitting a time required for preliminarily lighting up the illuminating means in the 1 to 1 copying mode.</p>
    <p num="30">
      In the image forming apparatus according to the present invention, if any error in the illuminating means is generated only when shading-corrected white data is fetched, a lamp is turned OFF due to contact fault or thermal fuse in a terminal section of a connecting section of the lamp, and resultantly the white reference data is not available.
      <br/>
      To respond to this situation, as a processing against an error that the white reference data is not normally fetched, priority is put, when forming an image for a first sheet of copy after the error is overcome, not on a processing against change in density due to fine change in a quantity of light emitted from the lamp, but on simple and faster recovery after the error is overcome.
    </p>
    <p num="31">
      In the image forming apparatus according to the present invention, if feed paper jamming is generated in the image forming apparatus, power for the AC system is turned OFF to prevent danger or accident in the main control section.
      <br/>
      With this feature, also power supplied from the lamp regulator is turned OFF, and reliability of the white reference data becomes lower.
      <br/>
      For this reason, as a processing against an error that the white reference data is not fetched normally, when forming an image for a first sheet of copy, priority is put, when forming an image for a first sheet of copy, not on a processing against change in density due to fine change in a quantity of light from the lamp, but on simple and faster recovery after the jamming is overcome.
    </p>
    <p num="32">
      In the image forming apparatus according to the present invention, if a door is opened during operation of machine in the image forming apparatus, power for the AC system is turned OFF to prevent danger or accident in the main control section.
      <br/>
      With this operation, also power from the lamp regulator is turned OFF, and reliability of the white reference data becomes lower.
      <br/>
      For this reason, as a processing against an error that the white reference data is not normally fetched, when forming an image for a first sheet of copy, priority is put not on a processing against change in density due to fine change in a quantity of light from the lamp, but an easy and faster recovery from the door is closed.
    </p>
    <p num="33">
      In the image processing apparatus according to the present invention, if an error is generated in the main body of the image forming apparatus and a service man is called, power for the AC system is turned OFF to prevent danger or accident in the main control section.
      <br/>
      With this operation, also power from the lamp regulator is turned OFF, and reliability of the white reference data becomes lower.
      <br/>
      For this reason, as a processing against an error that the white reference data is not fetched normally, when forming an image for a first sheet of copy after the error in the main body is overcome, priority is put not on a processing against change in density due to fine change in a quantity of light emitted from the lamp, but an easy and faster recovery after the error in the main body is overcome.
    </p>
    <p num="34">
      In the image forming apparatus according to the present invention, in a case where there are a plurality of illuminating means, a form of shading varies for each illuminating means, so that the white reference data must be fetched again after switching of the illuminating means.
      <br/>
      With this, even if the illuminating means is switched, accurate shading correction can be executed.
    </p>
    <p num="35">In the image forming apparatus according to the present invention, as general examples of illuminating means switching, there are the normal (reflected light) mode in which an image is read by checking the reflected light, or transmitted light mode in which an image is formed by checking back light or transmitted light from a film projected, and it is necessary to execute correction suited to each shading form, and the image forming apparatus provides the controls.</p>
    <p num="36">In the image forming apparatus according to the present invention, after recovery from various types of error or the illuminating means is switched, the lamp is preliminarily lit up, and thus high precision shading data is obtained.</p>
    <p num="37">In the image forming apparatus according to the present invention, when the start detecting means detects the fact that driving of the image illuminating light source by the illumination driving means is started after a prespecified period of time has passed, the light emission correcting means reduces power to be supplied from the illumination driving means to the image illuminating light source according to correction data previously set up in the data storage means, and for this reason it is possible to prevent change in amplitude of light emitted from the image illuminating light source associated with lapse of time so that no change will occur in shading correction.</p>
    <p num="38">In the image forming apparatus according to the present invention, data stored in the data storage means can freely be rewritten, so that correction data can freely be set in the data storage means.</p>
    <p num="39">In the image forming apparatus according to the present invention, the data collecting means controls power supplied to the illumination driving means at a constant level, first and second reference data are detected by photoelectrically converting reflected light from a density reference member illuminated by the image illuminating light source repeatedly, correction data is computed by the data computing means depending on the first and section reference data, and the correction data is stored by the data storing means in the data storage means, and thus appropriate correction data is automatically set in the data storage means.</p>
    <p num="40">In the image forming apparatus according to the present invention, when the start detecting means detects the fact that driving of the image illuminating light source is started by the illumination driving means after a prespecified reference period of time has passed, the conversion correcting means increases a reference voltage for an A/D converting means according to the correction data previously set in the data storage means, so that no change will occur in shading correction even if amplitude of light emitted from the image illuminating light source changes in association with lapse of time.</p>
    <p num="41">In the image forming apparatus according to the present invention, data stored in the data storage means can freely be rewritten, so that correction data can freely be set in the data storage means.</p>
    <p num="42">In the image forming apparatus according to the present invention, power supplied to the illumination driving means is controlled by the data collection means at a constant level, first and second reference data is detected by photoelectrically converting the reflected light from the density reference member illuminated by the image illuminating light source repeatedly, correction data is computed by the data computing means depending on the first and second reference data, and the correction data is stored by the data storing means in the data storage means, and thus appropriate correction is automatically set in the storage means.</p>
    <p num="43">Other objects and features of this invention will become understood from the following description with reference to the accompanying drawings.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="44">
      FIG. 1 is an explanatory view showing configuration of a digital full color copying machine being optimal for application thereto of the present invention;
      <br/>
      FIG. 2 is an explanatory view showing partial configuration of an image forming section as well as an intermediate transfer belt section thereof;
      <br/>
      FIG. 3 is a block diagram showing configuration of a control system for a color scanner according to the present invention;
      <br/>
      FIG. 4 is a timing chart showing operations in the present invention for fetching shading correction data and for scanning after a print switch is pressed;
      <br/>
      FIG. 5 is a timing chart showing operations in the present invention for fetching shading correction data and for scanning after a print switch is pressed;
      <br/>
      FIG. 6 is a timing chart showing control in the present invention when a black and white image is formed;
      <br/>
      FIG. 7 is a timing chart showing operations according to a shading command transmitted to a scanner section when a value of operation data is 04H;
      <br/>
      FIG. 8 is a flow chart showing operations for checking whether data for a shading start command operation has been changed or not;
      <br/>
      FIG. 9 is a flow chart showing operations for checking whether data for a shading start command operation has been changed or not;
      <br/>
      FIG. 10 is a timing chart showing controls provided when an error is generated and illumination is switched;
      <br/>
      FIG. 11 is a timing chart showing controls provided when an error is generated and illumination is switched;
      <br/>
      FIG. 12 is a timing chart showing controls provided when an error is generated and illumination is switched;
      <br/>
      FIG. 13 is a timing chart showing operations in a case where black memory setting is not executed either after a shading start signal is received, namely in a case where black data preset in initialization of a scanner is used;
      <br/>
      FIG. 14 is a flow chart showing a processing for shading correction in the scanner section;
      <br/>
      FIG. 15 is a flow chart showing a first half section in a processing for computing correction data in the scanner section;
      <br/>
      FIG. 16 is a flow chart showing a second half section in the processing for computing correction data in the scanner section;
      <br/>
      FIG. 17 is a graph showing output values of image data for R, G, and B lights in the cool state of a halogen lamp relating to change in quantity of light thereof;
      <br/>
      FIG. 18 is a graph showing output values of image data for R, G, and B lights in the warmed-up state of the halogen lamp relating to change in quantity of light;
      <br/>
      FIG. 19 is a timing chart showing operations for fetching shading correction data and for scanning after a print switch is pressed in the conventional technology; and
      <br/>
      FIG. 20 is a timing chart showing operations for fetching shading correction data and for scanning after a print switch is pressed in the conventional technology.
    </p>
    <heading>DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="45">
      Next, a description is made for an embodiment of the present invention with reference to the related drawings.
      <br/>
      FIG. 1 is an explanatory view showing configuration of a digital full-color copying machine.
      <br/>
      FIG. 2 is an explanatory view showing partial configuration of an image forming section as well as an intermediate transfer belt section.
    </p>
    <p num="46">This digital full-color copying machine largely comprises a color image reading device 100 (called color scanner hereinafter), and a color image recording device 110 (called color printer hereinafter), and in this embodiment, a paper feeder 170 for increasing a paper feed rate is provided therein.</p>
    <p num="47">The color scanner 100 comprises a halogen lamp 101 as an illuminating means for illuminating a draft P, a first mirror 102, a second mirror 103, a third mirror 104, an image-forming lens 105 each for guiding reflected light from the draft P, and a 3-line CCD (Charge Coupled Device) 106 as a photoelectric converting means having a function of a color sensor which converts light focused through the image-forming lens 105 to image signals, namely a function for resolving the light to blue (B), green (G), and red (R) colors for making it possible to simultaneously read the three colors.</p>
    <p num="48">The color printer 110 largely comprises an optically writing unit 111, an image forming section 112, a paper feed section 113, and a fixing/discharging section 114.</p>
    <p num="49">The optically writing unit 111 is a box-shaped unit comprising a laser 115 using a semiconductor laser, a laser driving control plate (not shown) for the laser, a polygon mirror 116, a polygon motor 117 for rotating the polygon mirror 116, an f/ THETA  lens 118, and a reflection mirror 119.</p>
    <p num="50">
      The image-forming section 112 has the following functional sections around a light-sensing drum 120 forming an electrostatic latent image as a center.
      <br/>
      Herein designated at the reference numeral 121 is an electrifying charger for uniformly electrifying the light-sensing drum 120, at 122 an electric potential sensor for detecting a surface potential of the light-sensing drum 120, at 123 a Bk developing unit for black toner, at 124 a C developing unit for cyan toner, at 125 an M developing unit for Magenta toner, at 126 a Y developing unit for yellow toner, at 127 a light-sensing cleaning unit for removing or recovering toner or other materials remaining on the light-sensing drum 120, and a pre-cleaning decharger is provided therein.
    </p>
    <p num="51">Also designated at the reference numeral 128 is a charge-removing lamp for removing residual charge in the light-sensing drum 120, and at 129 is a development density pattern detector.</p>
    <p num="52">Designated at the reference numeral 130 is an intermediate transfer belt unit spanned with a driving roller 131, a belt transfer bias roller 132, and a slave roller 133, which can be driven by a belt driving motor 134.</p>
    <p num="53">A belt cleaning unit 135 is provided in this intermediate transfer belt unit 130, and the belt cleaning unit 135 comprises a brush roller 136, a rubber blade 137, and a mechanism 138 for movement to or away from the intermediate transfer belt unit 130.</p>
    <p num="54">Each of the developing units 123 to 126 comprises, as shown in FIG. 2, a Bk development sleeve 139, a C development sleeve 140, an M development sleeve 141, a Y development sleeve 142 each rotating with pieces containing developer for developing an electrostatic latent image on the light-sensing drum 120 contacted to a surface of the light-sensing drum 120, development paddles 143 to 146 each for pumping up and agitating the developer, and toner density detection sensors 147 to 150 for detecting a density of the toner in the developer.</p>
    <p num="55">
      The paper feed section 113 comprises a paper feed cassette 151, a paper feed cassette 152, and a manual paper feed tray 153 for having specific paper such as film for OHP manually fed sheet by sheet.
      <br/>
      Also designated at the reference numeral 154 is a paper feed roller for feeding recording paper for the paper feed cassette 151, and at 155 a resist roller for transferring the recording paper synchronizing to an image on the intermediate transfer belt unit 130.
    </p>
    <p num="56">
      Also designated at the reference numeral 156 is a paper transfer unit, and this paper transfer unit 156 comprises a paper transfer bias roller 157, a roller cleaning blade 158, and a mechanism 159 for movement to or away from the belt.
      <br/>
      The reference numeral 160 indicates a carrier belt for carrying recording paper after transfer.
    </p>
    <p num="57">
      The fixing/discharging section 114 comprises a fixing unit 163 having a fixing roller 161 with a fixing heater incorporated therein and a pressurizing roller 162 energized with a prespecified pressure against the fixing roller 161, a paper discharge roller 164, and a discharged paper tray 165.
      <br/>
      A paper feeder 170 comprises paper feed cassettes 171, 172.
    </p>
    <p num="58">
      Next, a description is made for operations in the image forming apparatus having the configuration as described above.
      <br/>
      The color scanner 100 scans a draft leftward as indicated by the arrow mark when it received a scanner start signal synchronized to operations of the color printer 110, and obtains image data for one color in each scan.
      <br/>
      An image on the draft P is illuminated by the halogen lamp 101, and the reflected light is focused via the first mirror 102, second mirror 103, third mirror 104 by the image-forming lens 105 onto the 3-line CCD 106.
    </p>
    <p num="59">
      This operation is repeatedly executed totally 4 times, and image data for 4 colors are successively obtained.
      <br/>
      And, color image data for the draft P is read each time resolution for blue, green, or red colors is execution, and is converted to electric image signals.
      <br/>
      Then, a processing for color conversion is executed in the IPC section for image processing (Refer to FIG. 3), and color data for black (described as Bk hereinafter), cyan (described as C hereinafter), Magenta (described as M hereinafter) and yellow (described as Y hereinafter) is obtained.
    </p>
    <p num="60">
      This color data is visualized to Bk, C, M and Y by the color printer 110 each time color resolution for each color is executed, and a final color copy is provided.
      <br/>
      Detailed description is made for the processing sequence below.
      <br/>
      The optically writing unit 111 converts color image data from the color scanner 100 to optical signals, executes optically writing in response to the draft image, and forms an electrostatic latent image on the light-sensing drum 120.
    </p>
    <p num="61">In the standing-by state, all of the 4 developing units 123 to 126 are kept in a printing-disabled state on the developing sleeves 139 to 142, and in the following development it is assumed that a sequence of development operations is in the order of Bk, C, M, and Y. It should be noted that the developing sequence is not limited to that described herein.</p>
    <p num="62">
      When a copying operation is started, an operation for reading Bk image data by the color scanner 110 is started at a prespecified timing, and optically writing and latent image forming with laser light is started according to the image data.
      <br/>
      Herein an electrostatic latent image formed according to the Bk image data is called a Bk latent image later.
      <br/>
      It should be noted that the same processing is executed to C, M, and Y ic image data.
    </p>
    <p num="63">To enable development of this Bk latent image from its tip section, before the tip section of the latent image reaches a developing position of the Bk developing unit 123, the Bk development sleeve 139 is rotated to enable development with developer, and the Bk latent image is developed with the Bk toner.</p>
    <p num="64">
      Then an operation for developing an area of the Bk latent image is continued, but when a rear edge section of the latent image passes the Bk developing position, the developing piece of the Bk development sleeve 139 is quickly separated from the light-sensing body to disable development with the Bk toner.
      <br/>
      This operation must be completed at latest before a tip section of a C latent image based on the C image data reaches the developing position.
    </p>
    <p num="65">It should be noted that this operation for separating the developing piece of the Bk development sleeve is executed-by changing a rotational direction of the Bk development sleeve 139 to a direction contrary to that during the developing operation.</p>
    <p num="66">
      The Bk toner image formed on the light-sensing drum 120 is transferred to a surface of the intermediate transfer belt unit 130 being driven at the same speed as that of the light-sensing drum 120.
      <br/>
      Then, the image transfer is executed by loading a prespecified bias voltage to the transfer bias roller 132 in a state where the light-sensing drum 120 contacts the intermediate transfer belt unit 130.
    </p>
    <p num="67">
      It should be noted that, on the intermediate transfer belt unit 130, Bk, C, M and Y toner images successively formed on the light sensing drum 120 are positionally aligned on the same surface to form belt transfer images with 4 colors superimposed therein, and the images are transferred on recording paper in batch.
      <br/>
      Operations of this intermediate transfer belt unit 130 are described later.
    </p>
    <p num="68">In the side of light-sensing drum 120, next to a processing for Bk image data, a processing for C image data is started, and reading of the C image data by the color scanner 100 is started at a prespecified timing, and the image data is optically written to form a C latent image.</p>
    <p num="69">The C developing unit 124 starts rotation of the C development sleeve 140 after a rear edge section of the Bk latent image passes the developing position and also before a front edge of the C latent image reaches the developing position to enable development with developer, and develops the C latent image with C toner.</p>
    <p num="70">
      Then development of an area of the C latent area is continued, and at a point of time when the rear edge section of the latent image passed the developing position, like in case of a processing by the Bk developing unit 123 described above, development by the developing pieces on a tip of the C development sleeve 140 is disabled.
      <br/>
      This operation is also finished before a front edge section of the M latent image coming next reaches the developing position.
    </p>
    <p num="71">As for processes for processing M and Y image data, operations for reading each image data and those for forming and developing a latent image are the same as those executed in the processes for processing the Bk and C image data described above, so that description of the operations is omitted herein.</p>
    <p num="72">
      The intermediate transfer belt unit 130 is rotated and driven by the belt driving motor 134.
      <br/>
      The bias roller 157 in the paper transfer unit 156 is normally kept separated from a surface of the intermediate transfer belt unit 130, but is pressed by the mechanism 159 to the surface at a timing when the 4-color superimposed images transferred and formed on the surface of the intermediate transfer belt unit 130 is transferred in batch to recording paper, and a prespecified level of bias voltage is loaded to the bias roller 157, thus the image being transferred onto the recording paper.
    </p>
    <p num="73">Also this recording paper is fed by the paper feed roller 154 from the paper feed cassette 151 at a timing when a front edge section of the 4-color superimposed image on the surface of the intermediate transfer belt unit 130 reaches via the resist roller 155 to a position for paper transfer position.</p>
    <p num="74">
      Next detailed description is made for operations of the intermediate transfer belt unit 130.
      <br/>
      The intermediate transfer belt unit 130 operates, after transfer of the Bk color image as a first color image has been executed up to its read edge section, in the following three types of operation mode. operations of the intermediate transfer belt unit 130 are executed in one of the three operation modes, or in an appropriate combination thereof according to a copy size for speeding up the copying operation.
      <br/>
      Description is made below for each of the operation modes.
    </p>
    <p num="75">(1) Constant Speed/Reciprocal Movement Mode</p>
    <p num="76">
      In this mode, even after the Bk toner data is transferred to the belt, the intermediate transfer belt unit 130 continues its reciprocal movement at a constant speed.
      <br/>
      Then, when a front edge section of the Bk image on a surface of the intermediate transfer belt unit 130 reaches a belt transfer position in a section contacting the light-sensing drum 120 again, image formation is executed at a timing when a front edge section of the next C toner image on the light-sensing drum 120 comes to the position.
    </p>
    <p num="77">
      As a result, the C image is accurately aligned with the Bk image and transferred on the intermediate transfer belt unit 130 being superimposed on the Bk image.
      <br/>
      Then also the M and Y images are processed through the same operations, thus a belt transfer image with 4 colors superimposed therein being obtained.
      <br/>
      Next to the processing for transferring the fourth color (yellow) toner image onto the intermediate transfer belt unit, the toner image with 4 colors superimposed therein on the belt is transferred in batch to recording paper with the reciprocal movement of the intermediate transfer belt unit is continued.
    </p>
    <p num="78">(2) Skipping Reciprocal Movement Mode</p>
    <p num="79">
      When transfer of the Bk toner image to the intermediate transfer belt unit 130 is over, the intermediate transfer belt unit 130 is moved away from the light-sensing drum 120 and is skipped at a high speed in a direction of the reciprocal movement, and after the intermediate transfer belt 130 has been moved by a prespecified distance, the speed of reciprocal movement is returned to the original speed.
      <br/>
      Then the intermediate transfer belt unit 130 is contacted to the light-sensing drum 120 again.
    </p>
    <p num="80">
      Then, when a front edge section of the Bk image on a surface of the intermediate transfer belt unit 130 reaches the belt transfer position again, image formation is executed at a timing when a front edge section of the next C toner image coincides with the position.
      <br/>
      As a result, the C image is accurately aligned wit the Bk image in the side of light-sensing drum 120, and thus 4 color images are simultaneously transferred to the intermediate transfer belt unit 130.
    </p>
    <p num="81">
      Then M and Y images are also processed through the same operations as those described above, and a belt transfer image with 4 colors superimposed therein is obtained.
      <br/>
      Next to the processing for transferring the fourth (yellow) color image to the intermediate transfer belt unit 130, the toner image with 4 colors superimposed therein on the intermediate transfer belt unit 130 is transferred in batch to recording paper.
    </p>
    <p num="82">(3) Reciprocal Movement (quick return) Mode</p>
    <p num="83">
      When the Bk toner image has been transferred onto the intermediate transfer belt, the intermediate transfer belt unit 130 is moved away from a surface of the light-sensing drum 120.
      <br/>
      And the reciprocal movement is stopped and the intermediate transfer belt unit is returned at a high speed.
    </p>
    <p num="84">This returning movement is stopped after a front edge position of the Bk image on a surface of the intermediate transfer belt unit 130 passes through the belt transfer position in the contrary direction and has moved by a prespecified distance, and then the intermediate transfer belt unit 130 enters the stand-by state.</p>
    <p num="85">
      Then at a timing when a front edge section of a C toner image on the light-sensing drum 120 reaches a prespecified position before the belt transfer position, reciprocal movement of the intermediate transfer belt unit 130 is started again.
      <br/>
      Also the intermediate transfer belt unit 130 is again contacted to a surface of the light-sensing drum 120.
    </p>
    <p num="86">
      Also in this case, the C image is accurately aligned so that it is superimposed to the Bk image on a surface of the intermediate transfer belt unit 130, and then transferred to the intermediate transfer belt unit 130.
      <br/>
      Then also M and Y images are processed through the same operations, thus a belt transfer image with 4 colors superimposed therein being obtained.
      <br/>
      Next to an operation for transferring the fourth color (Y) toner image to the intermediate transfer belt, the intermediate transfer belt unit 130 continues its reciprocal movement without returning and transfers the toner image with 4 colors superimposed therein in batch to recording paper.
    </p>
    <p num="87">By the way, the recording paper with the toner image with 4 colors superimposed therein from a surface of the intermediate transfer belt unit 130 in the operation mode as described above is carried by a carriage belt 160 into the fixing unit 136.</p>
    <p num="88">
      In the fixing unit 136, the toner image on the recording paper is fused and fixed by the fixing roller 161 with the temperature adjusted to a prespecified degree as well as by a pressurizing roller 162 energized by a prespecified level of pressure.
      <br/>
      Then this recording paper is discharged by paper discharge roller 164 onto the discharged paper tray 165, thus a final full-color copy being obtained.
    </p>
    <p num="89">On the other hand, a surface of the light-sensing drum 120 after an image has been transferred to the belt therefrom is cleaned by the light-sensing body cleaning unit 127 with the residual electric charge removed by the charge removing lamp 128, thus being ready for the next cycle of copying operation.</p>
    <p num="90">Also the belt cleaning unit 135 is pressed by the mechanism 135 against a surface of the intermediate transfer belt unit 130 with a toner image having been removed onto recording paper, and the surface is cleaned.</p>
    <p num="91">In the repeated copying mode, operations of the color scanner 100 and image formation on the light-sensing drum 120 for a Bk (first color) image for a second sheet of copy are executed automatically at a prespecified timing in succession to a process for forming a Y (fourth color) image for a first sheet of copy.</p>
    <p num="92">
      Also in succession to a process for transferring an image with 4 colors superimposed therein for a first sheet of copy from the intermediate transfer belt unit 130 to recording paper, a Bk toner image for a second sheet of copy is transferred to an area having been cleaned by the belt cleaning unit 135 on a surface of the intermediate transfer belt unit 130.
      <br/>
      Then the same processing as that for a first sheet of copy is executed.
    </p>
    <p num="93">It should be noted that the above description assumes a copy mode for preparing a full color copy comprising 4 colors, and in a 3-color copy mode or in a 2-color copy mode, the operation cycle described above is repeatedly executed according to a number of colors as well as to a specified number of times of copying.</p>
    <p num="94">In a case of mono-color copying mode, only a developing unit for the object color is set in the enabled state until a specified number of copies are prepared.</p>
    <p num="95">
      The intermediate transfer belt unit 130 is reciprocally driven at a constant speed in a state where it contacts a surface of the light-sensing drum 120.
      <br/>
      Also the belt cleaning unit 135 executes a mono-color copying operation in a state where it contacts the intermediate transfer belt unit 130.
    </p>
    <p num="96">
      FIG. 3 is a block diagram showing configuration of a control system for the color scanner 100 according to the present invention.
      <br/>
      Main functions of the control system include 1 motor control, 2 automatic setting for analog system, 3 setting for digital signal processing, 4 a processing for detecting a draft, and 5 response to a projector To realize the functions as described above, a control board in the scanner section 300 largely comprises a scanner control board 301, a CCD board 302, and a scanner driver board 303.
    </p>
    <p num="97">Also in the figure, designated at the reference numeral 350 is an IPU (Image Processing Unit) section, at 360 a main control section for controlling each unit in the entire image forming apparatus, at 370 an operation display section comprising key groups, LEDs, and touch panel keys or others for setting copying conditions, setting each operating mode, and displaying the operating conditions as described above.</p>
    <p num="98">The scanner control board 301 comprises a one-chip microcomputer 305 (called "microcomputer" hereinafter) incorporating therein a CPU, a ROM, a RAM or the like each as a scanner controlling means, a ROM 306 with a control program stored therein, a RAM 307 used as a work memory or the like during control, a timing gate array 308 incorporating therein an FGATE start counter, a parallel-in serial-out data buffer 309 connected through a bus to the microcomputer 305 and outputting serial data, an 8-channel D/A converter, a 12-channel D/A converter 311, a serial interface+timer 312, and a dip switch 313.</p>
    <p num="99">Furthermore the scanner control board 301 comprises an A/D converter 314 for R (even), an A/D converter 315 for R (odd), an A/D converter 316 for G (even), and A/D converter 317 for G (odd), an A/D converter 318 for B (even), an A/D converter 319 for B (odd), a selector for R, a selector 321 for G, a selector 322 for B, each as a digital conversion means, and a shading gate array 323 for R, a shading gate array 324 for G, a shading gate array 325 for B, an inter-lime memory 326 for R, and an inter-line memory 327 for G each as a shading correction means.</p>
    <p num="100">The CCD board 302 comprises a 3-line CCD 106, an amplifier 330 for R (even), an amplifier 331 for R (odd), an amplifier 332 for G (even), an amplifier 333 for G (odd), an amplifier 334 for B (even), and an amplifier 355 for B (odd) each as an amplifying means.</p>
    <p num="101">The scanner board 303 comprises a motor driver 341 for controlling driving of the pulse motor 340, a motor excitation output ROM 342 with motor excitation patterns stored therein, and a relay processing section connected to each sensor.</p>
    <p num="102">Connected to the relay processing mode in the scanner driver board 303 described above are a scanner open/closed sensor 343, an HP (home position) sensor 344, a pressurizing plate open/closed sensor 345 for detecting whether a draft pressurizing plate is open or closed, draft detection sensor 346 for detecting whether a draft exists or not, cooling fans 347, 348 for suppressing temperature rise inside the apparatus, and a lamp regulator 348 for lighting up or turning off the halogen lamp as an illuminating means.</p>
    <p num="103">
      Next description is made for operations in the configuration described above.
      <br/>
      The microcomputer 305 on the scanner control board 301 provides controls according to a control program stored in the ROM 306 and controls the scanner section as a whole by storing intermediate data in the RAM 307 and reading the data therefrom.
    </p>
    <p num="104">The microcomputer 305 is connected to the main control section 360 through serial communications, and executes instructed operations through transaction of commands and data.</p>
    <p num="105">Furthermore the main control section 360 is connected to the operation display section 370 through serial communications, and instructions for operating modes or other operating parameters can be set therein according to key entry by a user.</p>
    <p num="106">The microcomputer 305 provides through the scanner driver board 303 for relay processing controls over detecting operations and ON/OFF of the lamp regulator 349 as an I/O, draft detection sensor 346, HP sensor 344, pressurizing plate open/close sensor 345, cooling fans 347, 348, scanner open/close sensor 343 or the like.</p>
    <p num="107">
      The scanner driver board 303 generates an excitation pulse sequence with the motor excitation output ROM 342 outputting a decoded motor excitation pattern according to a port output from the microcomputer 305 to drive the pulse motor 340 for driving draft scan.
      <br/>
      Also the motor driver 341 provides controls over switching of an exciting voltage for high speed driving as well a an exciting current for reduction of vibration.
    </p>
    <p num="108">
      Optical signals for a draft image corresponding to a quantity of light outputted from the halogen lamp 101 driven by the lamp regulator 349 pass through a plurality of mirrors 102 to 104 and the focusing lens 105, thus the draft image being focused on the 3-line CCD 106 on the CCD board 302.
      <br/>
      This 3-line CCD 106 receives each driving clock from the timing gate array 308 in the scanner driver board 303 and outputs analog image signals to the amplifiers 330 to 335.
    </p>
    <p num="109">
      This timing gate array 308 has counting started according to an output port signal from the microcomputer 305 incorporating an FGATE start counter for counting PMSYNC signals.
      <br/>
      With this operation, an FGATE for the image red control signal is generated.
      <br/>
      A feedback voltage for black level adjustment as well as for dark current correction is loaded to the amplifiers 330 to 335 on the CCD board 302.
    </p>
    <p num="110">These amplifiers 330 to 335 are driven by the 8-channel D/A converter 310 and 12-channel D/A converter 311 according to serial data from the parallel-in serial out data buffer 309 connected through a bus to the microcomputer 305.</p>
    <p num="111">
      With this feedback voltage, analog image data obtained by subjecting the black levels 1, 2 (offset by DA1and DA2) outputted from the amplifiers 330 to 335 is inputted to the A/D converters 314 to 319 on the scanner control board 301.
      <br/>
      A reference voltage Vref for each of the AD converters 314 to 319 is adjusted (by DA3) according to voltages from the D/A converters 310, 311 described above to respond to a gain of the analog image data.
    </p>
    <p num="112">
      The A/D converters 314 to 319 convert input signals to digital signals with ODD (odd number field) and EVEN (even number field) digitally synthesized in the selectors 326 to 322, and the digital signals are inputted into the shading gate arrays 323 to 325.
      <br/>
      Each of the shading gate arrays 323 to 325 has a function to correct nonuniformity in a quantity of light in the illumination system or dispersion in pixel output from the 3-line CCD 106.
    </p>
    <p num="113">Also the shading gate arrays 323 to 325 execute black correction for setting output data in a memory (black memory which is not shown herein) connected to the shading gate arrays 323 to 325 when the halogen lamp 101 is turned OFF.</p>
    <p num="114">
      Furthermore, the shading gate arrays 323 to 325 execute white correction for setting output data in a memory (white memory which is not shown herein) connected to the shading gate arrays 323 to 325 when the halogen lamp is lit up in the density reference board (white reference board).
      <br/>
      Image read data is computed and processed according to the data stored in the black and white memories, and data subjected to shading correction is outputted.
    </p>
    <p num="115">
      Also, each of the shading gate arrays 323 to 325 has two functions in addition to the function for shading correction.
      <br/>
      Namely the shading gate arrays 323 to 325 obtains an additional average for successive 8 pixels, namely image data for 1 line according to a gate signal, and stores the maximum values for ODD and EVEN in an internal register.
    </p>
    <p num="116">
      In addition, each of the shading gate arrays 323 to 325 has a first function to read data from the microcomputer 305 connected thereto through a bus.
      <br/>
      Furthermore, each of the shading gate arrays 323 to 325 has a second function to output image data not subjected to shading correction (for data through mode).
    </p>
    <p num="117">
      The image data subjected to shading correction is inputted into the inter-line correction memories 326, 327, where time delay between B and G image data for a number of lines and that between B and R image data on the 3-line CCD 106 is adjusted thereby for positional alignment between B, G, and R read images, and is outputted to the IPU section 350.
      <br/>
      It should be noted that setting of the inter-line memories 326, 327 is controlled by the timing gate array 308 according to a magnification (read speed).
    </p>
    <p num="118">
      Next, a description is made for automatic setting for the analog system.
      <br/>
      When power is turned ON, the 3-line CCD 106 is energized, and when the temperature is risen to a certain level, a scanner initial setting command for automatically setting the analog system from main control section 360 is transmitted through the serial communication line to the microcomputer 305.
    </p>
    <p num="119">When this scanner initial setting command is received, the scanner section 300 at first transmits an ACK signal to the main control section 360, and then the microcomputer executes initial setting according to the following sequence;</p>
    <p num="120">
      1 rough adjustment for black level offsetting (DA1)
      <br/>
      2 fine adjustment for black level offsetting (DA2)
      <br/>
      3 voltage setting for the halogen lamp 101
      <br/>
      4 reference voltage setting for A/D converters 314 to 319 (DA3)
      <br/>
      5 fine re-adjustment for black level offsetting (DA2*)
    </p>
    <p num="121">Next, a description is made for each of the operations above.</p>
    <p num="122">1 Rough Adjustment for Black Level Offsetting (DA1)</p>
    <p num="123">
      The scanner section 300 has a black level image signal inputted at a home position (HP) where the halogen lamp 101 is turned OFF and external light does not come in.
      <br/>
      During this process, the reference voltage for each of the A/D converters 314 to 319 is kept at a constant value, and rough adjustment (DA1) for changing the D/A converter values for black level offset adjustment in the amplifiers 330 to 335 so that the maximum value for black level detected by a maximum value detecting function of each of the shading gate arrays 323 to 325 is, for instance, 8 or below.
    </p>
    <p num="124">2 Fine Adjustment for Black Level Offsetting (DA2)</p>
    <p num="125">
      After rough adjustment for black level offsetting (DA1) is finished, adjustment for black level offsetting by a fine adjustment terminal in each of the amplifiers 330 to 335, namely fine adjustment of the D/A converter values (DA2) is executed.
      <br/>
      In this case the maximum value for black level is fed back, for instance, as 4 or below.
    </p>
    <p num="126">3 Voltage Setting for the Halogen Lamp 101</p>
    <p num="127">In a state where rough adjustment (by DA1) and fine adjustment (by DA2) for black level offsetting have been set, all the reference voltages for the A/D converters 314 to 319 are set to a same value, and the halogen lamp 101 is lit with a prespecified reference voltage under the white reference board (white plate provided at an edge section of a contact glass not shown herein).</p>
    <p num="128">The microcomputer 305 reads a value of the maximum value detector/register in each of the shading gate arrays 323 to 325 and adjusts a voltage for the lamp by adjusting a values for the D/A converters 310, 311 connected to a lamp voltage for the halogen lamp 101 so that the maximum values of ODD and EVEN for each of R, G, and B colors will be a specified reference value.</p>
    <p num="129">4 Setting of Reference Voltages for A/D Converters 314 to 319 (DA3)</p>
    <p num="130">
      After the lamp voltage for the halogen lamp 101 has been decided, reference voltages Vref for A/D converters 314 to 319 corresponding to values registered in the maximum value register for ODD and EVEN for each color are set.
      <br/>
      With this operation, dispersion in output level for each of R, G, and B lights as well as in difference between ODD and EVEN is corrected.
    </p>
    <p num="131">5 Fine re-adjustment for Black Level Offsetting (DA2*)</p>
    <p num="132">After the reference voltages for A/D converters 314 to 319 have been decided, fine adjustment for black level is executed again (by DA2) for improving precision of the black level.</p>
    <p num="133">
      With the initial setting as described above, it becomes possible to read images.
      <br/>
      Next, a description is made for shading correction by setting parameters for digital signal processing.
      <br/>
      When the print switch in the operation display section 370 is pressed down, a shading start command is transmitted through the main control section 360 to the microcomputer 305 in the scanner section 300.
      <br/>
      Then the scanner section 300 executes an operation for fetching shading correction data.
    </p>
    <p num="134">
      To execute the operation for fetching the shading correction data, at first the fine re-adjustment for black level offsetting during initial setting described above (5) (DA2*) is executed (6).
      <br/>
      Then a value obtained by averaging the black data for 16 lens is stored (7) in black memories in the shading gate arrays 323 to 325 at OFF and HP positions for the halogen lamp 101.
    </p>
    <p num="135">
      Then the halogen lamp 101 is lit with a voltage set in step 3 during initial setting, the pulse motor (scanner motor) 340 is driven for scanning under the white reference board, and an average value of white data for the 16 lines is stored in the white memory (8).
      <br/>
      Operations up to the step are executed in the data through mode for the shading gate arrays 323 to 325.
    </p>
    <p num="136">
      Also when executing shading correction to read image data, the operating mode is switched to the image data mode.
      <br/>
      With this operation, it becomes possible to execute computing for shading correction as described below as well as to obtain corrected image data during the normal scanning operation.
      <br/>
      Namely computing for shading correction is executed through the following equation:
    </p>
    <p num="137">shading-corrected image data=+(raw image data)-(black data)} / +(white data)-(black data)} * 255</p>
    <p num="138">
      Then, concrete description is made for the present invention.
      <br/>
      In the preset invention, to suppress change in shading correction data (resultantly, change in image density) generated due to a difference between cool and warm states of the halogen lamp 101 (a difference of internal temperature therein), which has been a problem to be solved, operation for shading correction data fetching is executed, as described below.
    </p>
    <p num="139">
      FIG. 4 and FIG. 5 are timing charts each showing operations for fetching shading correction data as well as for scanning after the print switch is pressed down in the present invention.
      <br/>
      Herein, as shown in FIGS. 4 and 5, fetching white data is executed first in the most stable state of the halogen lamp 101, namely after an analog system is automatically set, and subsequent operations for fetching white data are executed when the halogen lamp 101 has been warmed up enough.
    </p>
    <p num="140">
      Then when the press switch is pressed down and a shading start signal is received, DA2* 6 and black memory set 7 are executed to correct a dark current in the 3-line CCD 106.
      <br/>
      White memory set is not executed, but preliminary lighting up is executed to warm up the halogen lamp 101.
    </p>
    <p num="141">
      Also, in this timing chart, an operation for traveling to the white reference board is not omitted, but it can be omitted, and in this case, a period of time required for traveling/ returning thereto/therefrom can be shortened, and a speed for copying a first sheet of copy can be made faster.
      <br/>
      The timing chart in this embodiment is shown in FIG. 13 and FIG. 5.
    </p>
    <p num="142">It should be noted that, the embodiment shown in FIG. 13 and FIG. 5 is a case where black memory set is not also executed after a shading start 02H is received, namely a case where black data set during initialization of scanner is used.</p>
    <p num="143">Although it is conceivable that black shading itself by means of black memory setting is not executed at all, because, for instance, dispersion of pixels at a black level in the CCD is rather small, which case not referred to in description of the embodiment, but in this case also, white shading can be affected thereby, so that also this case is within a scope of application of the present invention.</p>
    <p num="144">
      Then, when a scanner start signal is received, a first scan for a first sheet of copy in a repeated copying operation is started, and shading correction for image data is executed by white memory set data stored during initialization as well as to black memory set data before start of scanning operation.
      <br/>
      White data is fetched each time one image is formed for a second sheet and on and the latest data is used.
      <br/>
      With this configuration effects over change in a quantity of light caused by temperature characteristics of the halogen lamp can be suppressed.
    </p>
    <p num="145">
      Thus, it is not known when the print switch is pressed down in the stand-by state, so that the halogen lamp 101 is kept in the cool state.
      <br/>
      When the print switch is pressed down in this state, white data for first shading correction is not fetched, but by computing shading correction using the white data set during initialization, stable white data can be obtained.
    </p>
    <p num="146">Also, shading correction for a second or subsequent sheet of copy is computed by using white data obtained through the operations for fetching shading correction data each time one image is formed, so that the latest data is used during continuous copying operation, and for this reason high quality images not affected by change in density can be obtained.</p>
    <p num="147">Furthermore, when the halogen lamp 101 is lit for an operation for fetching shading correction data for a first sheet of copy in a repeated copying operation, white data is not fetched, but it is effective as a preliminary lighting up to warm up the halogen lamp 101.</p>
    <p num="148">
      By the way, by providing the controls as described above, full-color image forming in which color reproduction is improved and change in density in a repeated copying operation is suppressed can be executed, but there sometimes occurs a case where a remarkable effect can not be obtained or is not required because background in a high-lighted section is removed and an image is formed with mono-color.
      <br/>
      In that case, priority should preferably be put not on preliminarily lighting up the halogen lamp 101 spending a long time, but on realizing a faster copying speed from a view point of practicability.
      <br/>
      Description is made for this point with reference to FIG. 6.
    </p>
    <p num="149">
      FIG. 6 is a timing chart showing a control when a black and white image is formed in the present invention.
      <br/>
      In the figure, the print switch is pressed down and a shading start signal is received, and then, when DA2* 6 and black memory set 7 are executed and a shading end signal is transmitted, a scanner start signal is transmitted from the main control section 360, and scanning for a first sheet of copy in a repeated copying operation is executed.
    </p>
    <p num="150">When a black and white image is formed, a comparatively short time is required even to prepare 99 sheets of copy in a repeated copying operation, so that, because increase of a dark current in a 3-line CCD 106 is small and also because of the reason as described above, operations for fetching shading correction data for each copy can be omitted, which makes it possible to increase a speed for continuous copying.</p>
    <p num="151">
      Next, a description is made for an embodiment of mode-key entry for operation display section 370.
      <br/>
      Even when a full-color image is formed, it is necessary for a user to select freely any operating mode with key-entry to the operation display section 370 according to a case where color reproduction is considered to be the most important to the user or a case where identification of color may be enough or to other cases.
    </p>
    <p num="152">For instance, assuming that the normal mode (default) indicates a mode in which a halogen lamp 101 is not preliminarily lit up, a key for a high-light reproduction mode is set, and in a case where this high-light reproduction mode key is pressed down, the halogen lamp 101 is preliminarily lit up, and operation for scanning is executed.</p>
    <p num="153">In this case, the operation described above may be executed together with changing  GAMMA  characteristics (density characteristics) of the color scanner 100 and  GAMMA  characteristics (density characteristics) of the color printer 110.</p>
    <p num="154">
      When the high-light reproduction mode key ( not shown) of the operation display section 370 is pressed down, mode data is transmitted to the main control section 360 through a serial communication line.
      <br/>
      Then when the print switch is pressed down, the main control section 360 transmits a shading start command to the scanner section 300.
      <br/>
      The shading start command is structured by 2 bytes and comprises code data and operation data.
    </p>
    <p num="155">
      In the main control section 360, data 02H for execution of preliminary lighting up as operating data is transmitted to the scanner section 300 together with code data 24H according to a result of the key-entry as described above.
      <br/>
      A microcomputer 305 in the scanner section 300 having received these data does not execute white memory set shown in FIG. 4, but executes operations including preliminarily lighting up the halogen lamp 101.
    </p>
    <p num="156">
      In a case of normal mode, namely in a case where key-setting as described above is not executed, operation for not preliminary lighting up as shown in FIG. 6 is executed as operating data 03H for shading start command.
      <br/>
      When operating data 01H for shading command for a second sheet and on is received, operations for white memory set as shown in FIG. 5 are executed.
    </p>
    <p num="157">
      In contrast to the operation as described above, if it is assumed that the normal mode (default) is mode in which the halogen lamp is preliminarily lit up, a priority key for first copying is set, and when this key is pressed down, a specified operation is executed to terminate the processing sequence without preliminarily lighting up the halogen lamp according to operating data 03H for a shading command.
      <br/>
      In this case, a value of default becomes operating data 02H and operations for preliminarily lighting up are executed.
    </p>
    <p num="158">
      In a case of a mode (high-speed transfer mode or low shading mode) in which a number of bits for a read image is decreased in image formation or image transfer to an image memory to speed up transfer of image data from the scanner section 300, operation according to the shading start command described above is executed without preliminarily lighting up the lamp.
      <br/>
      This switching to an operation with or without preliminary lighting up is realized by setting a value of operating data for the shading command when a key-entry and the transfer mode are selected.
    </p>
    <p num="159">Furthermore, in a case where a number to be operated is set to 2 or more by inputting with a ten-key in the operation display section 370, like in the description above, preliminary lighting up is executed according to a value of operating data 02H for the shading command determined in the main control section 360 and which transfers the data to the scanner section 300, and when the 1 to 1 copying mode is selected, operation for preliminarily lighting up is not to be executed according to the value of operating data 03H.</p>
    <p num="160">
      FIG. 7 is a timing chart showing operations executed when a value of operating data for the shading command transmitting to the scanner section is 04H.
      <br/>
      Herein preliminarily lighting up the halogen lamp 101 is executed and then normal shading operation is executed.
      <br/>
      In this case, a copying speed becomes lower, but according to various modes as described above, for instance, by switching to either mode for preliminarily lighting up the halogen lamp 101 or for not, the copying speed causing no trouble in actual use is insured.
    </p>
    <p num="161">
      Next, a description is made for operations executed when any error is generated and illumination is switched.
      <br/>
      After recovery from any error or paper jamming or door-open in the illumination system or the main body system, and furthermore after switching for illumination from normal mode for reading a draft with reflected light therefrom to transmitted draft mode in which a draft is read by checking the back light and a film projector used for reading a transmitted draft, and furthermore in a case of switching back to the reflected draft mode therefrom, there is the possibility that inconvenience as described below is generated in each embodiment described above.
    </p>
    <p num="162">
      For instance, in a case where feed paper jamming is generated when copying is executed in a continuously repeated operation, an AC current is turned OFF in the main control section for safety.
      <br/>
      If white data fetching happens to be executed in this moment, the fetching is executed in the lamp-OFF state.
      <br/>
      The shading is executed with the data obtained from this state for a first sheet of copy after processing for solving the jamming (after its recovery), and as a result of the operation, a copy with nearly white is outputted.
    </p>
    <p num="163">
      To avoid this kind of case, it is required to provide particular controls.
      <br/>
      The particular controls are shown in FIG. 8.
      <br/>
      The processing shown in a flow chart of FIG. 8 is executed in the main control section by turning ON the print switch.
    </p>
    <p num="164">
      In cases where, as shown in FIG. 8, fetching is executed in a state before turning ON the print switch, any error generated in the illumination system/the main body system is solved, or feed paper jamming or door-open is solved, and furthermore in a case where switching back is executed in the illumination system, data is changed to data for shading operation 01H in place of data for shading operation 02H.
      <br/>
      With this configuration, the operation shown in FIG. 10 is changed to the operation shown in FIG. 11, and for this reason the inconvenience as described above (jamming as example) is resolved.
    </p>
    <p num="165">
      Detailed description is made for the flow chart shown in FIG. 8.
      <br/>
      At first determination is made as to whether any error has been generated in the illumination system or not (S1), and in a case where it is determined that no error has been generated therein, then determination is made as to whether feed paper jamming has been generated or not (S2), and in a case where it is determined that the jamming has not been generated, then determination is made as to whether a door in the apparatus is opened or not (S3), and in a case where it is determined that the door is not opened, then determination is made as to whether any error has been generated in the main body system or not (S4), and in a case where it is determined that no error has been generated therein, then determination is made as to whether switching for the illumination system has been executed or not (S5), and in a case where switching has not been executed therein, then the processing is returned to the initial step.
    </p>
    <p num="166">In addition, in the determination in steps S1 to step S5 as described above, in a case of YES in each of the determination, operating data is changed to 01H (S6), and then the processing is returned to the initial step.</p>
    <p num="167">Next, a description is made for a case where precision of shading white data is improved by adding preliminary lighting up to the operations only when recovering from any error or switching for illumination is executed.</p>
    <p num="168">
      The operations shown in FIG. 9 are executed in the main control section after the print switch is turned ON.
      <br/>
      Like the embodiment as described above, in a general case, the operations according to operating data 02H for not executing white memory set as shown in FIG. 10 are executed, but in this case, preliminary lighting up is executed shown in FIG. 12 by transmitting data in operating data 04H to the scanner section, and after this operation white memory set is executed, which makes it possible to obtain high-precision white data.
    </p>
    <p num="169">
      Detailed description is made for a flow chart shown in FIG. 9.
      <br/>
      At first determination is made as to whether any error has been generated in the illumination system or not (S7), and in a case where it is determined that no error has been generated therein, then determination is made as to whether feed paper jamming has been generated or not (S8), and in a case where it is determined that the jamming has not been generated, then determination is made as to whether a door in the apparatus is opened or not (S9), and in a case where it is determined that the door is not opened, then determination is made as to whether any error has been generated in the main body system or not (S10), and in a case where it is determined that no error has been generated therein, then determination is made as to whether switching for the illumination system has been executed or not (S11), and in a case where switching has not been executed therein, then the processing is returned to the initial step.
    </p>
    <p num="170">In addition, in the determination in steps S7 to step S11 as described above, in a case of YES in each of the determination, operating data is changed to 04H (S12), and then the processing is returned to the initial step.</p>
    <p num="171">Next, a description is made for another embodiment of the present invention.</p>
    <p num="172">
      In the scanner section 300 according to the present invention, white reference data for shading correction is fetched in 0.69 sec after the halogen lamp 101 is lit, and a difference of output from the halogen lamp 101 for each color at this point of time between a case where the halogen lamp 101 is lit in the cool state as shown in FIG. 17 and a case where the halogen lamp 101 is lit in the warmed-up state as shown in FIG. 18 is 3.2% for R, 3.3% for G, and 4.8% for B. It should be noted that the values are ones theoretically computed from the temperature characteristics of the halogen lamp 101, and it is known that the actual difference is larger than the values above.
      <br/>
      For this reason, as described in relation to the conventional technology, images are read by the scanner section 300 successively, the reference data for shading correction to a second sheet of copy and on is different from that for a first sheet of copy, and color balance in a copied image in a second or subsequent sheet of copy varies from that for a first sheet of copy.
    </p>
    <p num="173">
      To solve the problems as described above, in the scanner section 300 according to the present invention, in a case where the halogen lamp 101 is lit in the cool state, amplitude of light emitted from the halogen lamp 101 is corrected to a reference value by lowering the driving power to prevent change in the reference data for shading correction.
      <br/>
      More specifically, in the scanner section 300 of the color scanner 100 according to the present embodiment, when the microcomputer 305 detects that driving of the halogen lamp 101 by the lamp regulator 349 is started in the reference time previously set to, for instance, 1 minute, the microcomputer 305 controls the D/A converter 311 according to correction data set in the RAM 307, and power supplied from the lamp regulator 349 to the halogen lamp 101 is reduced by the D/A converter 311.
    </p>
    <p num="174">
      With this configuration, amplitude of light emitted from the halogen lamp 101 is always kept at a constant level, so that, in a case where color images are successively copied with the color scanner 100, it becomes possible to prevent color balance in a first sheet of copy from being different from that for a second or subsequent sheet of copy, which contributes to improvement of the color scanner 100.
      <br/>
      As for the correction data previously set in the RAM 307, change in amplitude of light emitted from the halogen lamp 101 is obtained from the output characteristics thereof, a load voltage insuring the identical light emission amplitude is outputted from the lamp regulator 349.
    </p>
    <p num="175">Furthermore in the scanner section 300, correction data is stored in the RAM 307 in which stored data can freely be rewritten, so that the correction data can be rewritten by accessing the RAM 307 from the serial interface timer 312, which makes it possible, for instance, to modify the correction data according to a difference between individual halogen lamps 101 in the production step, or to modify the correction data in response to the halogen lamp 101 exchanged in maintenance, and for this reason it is possible to set accurate correction data, which in turn contributes to improvement of performance of the color scanner 100.</p>
    <p num="176">
      Also by realizing configuration in which correction data stored in the RAM 307 can freely be rewritten by inputting necessary data or parameters from the operation display sections 370, it is possible to readily modify the correction data in a case where the halogen lamp 101 as consumable is exchanged with another one by a service engineer.
      <br/>
      It should be noted that, although description of the present embodiment assumes a case where correction data is stored in the RAM 307 in which stored data can freely be rewritten, it is possible to set the correction data unchangeably in the ROM 306 or the like.
    </p>
    <p num="177">
      Furthermore in the scanner section 300, it is also possible for the microcomputer 305 to compute correction data and store the data in the RAM 307.
      <br/>
      In a case where automatic setting as described above is executed, for instance, power supplied from the lamp regulator 349 in 1 minute after completion of initial setting is controlled to a certain level with the white reference board illuminated by the halogen lamp 101, and the reflected light is photoelectrically converted by the 3-line CCD 106 to detect first white reference data for the cool state of the halogen lamp 101.
      <br/>
      Then the halogen lamp 101 is lit for around 1 second and then kept OFF for around 0.5 second, then the halogen lamp 101 is lit again and the reflected light from the white reference board is photoelectrically converted by the 3-line CCD 106 to detect second white reference data for the warmed-up state.
    </p>
    <p num="178">
      With the configuration as described above, by controlling timing of operations of the shading gate arrays 323 to 325 set in the data through mode with the timing gate array 308 by means of subjecting the first and second reference data to AID conversion with the A/D converters 314 to 319, maximum values of additional averages for the first and second reference data are computed.
      <br/>
      The microcomputer 305 executes a specific computing sequence according to the maximum values to obtain the correction data and store the data in the RAM 307.
    </p>
    <p num="179">With this configuration, accurate correction data is automatically detected and set in the RAM 307, so that, for instance, in a case where correction data is corrected according to a difference between individual halogen lamps 101 during the production step, or in a case where correction data is modified according to the halogen lamp 101 replaced with new one in maintenance, it is not necessary for an operator or a service engineer to manually correct the correction data, which contributes to improvement of productivity or adaptability for maintenance of the color scanner 100.</p>
    <p num="180">Next, a description is made for still another embodiment of the present invention.</p>
    <p num="181">
      At first, in the scanner section 300 which is an image reading apparatus according to the present embodiment, as shown in FIG. 3, correction data is previously stored in the RAM 307 as a medium in which data stored therein can freely be rewritten, and this correction data is set so that the reference voltages or A/D converters 314 to 319 is increased.
      <br/>
      In addition, a operation started detecting means for detecting the fact that driving of the halogen lamp 101 by the lamp regulator 349 is started after a reference period of time specified previously has passed comprises the microcomputer 305 or the like, and a conversion correcting means for increasing reference voltages for the A/D converters 314 to 319 with the correction data set in the RAM 307 according to the detection output comprises the microcomputer 305 or the D/A converters 310, 311.
    </p>
    <p num="182">
      More specifically, the expressions for computing the reference voltages for the A/D converters 314 to 319 are previously set as those shown below in the microcomputer 305:
      <br/>
      RE_DA3BF * A-&gt;RE_DA3
      <br/>
      RO_DA3BF * A-&gt;RO_DA3
      <br/>
      GE_DA3BF * B-&gt;RE_DA3
      <br/>
      GO_DA3BF * B-&gt;RO_DA3
      <br/>
      BE_DA3BF * C-&gt;RE_DA3
      <br/>
      BO_DA3BF * C-&gt;RO_DA3
    </p>
    <p num="183">and the expressions include parameters A to C corresponding to R, G, and B respectively, as shown above.</p>
    <p num="184">
      With the configuration as described above, as shown in FIG. 14, in a case where reference data for shading correction is read prior to reading of image data, determination is made in fine adjustment for black level offsetting (DA2) (S13) as to whether the halogen lamp 101 was lit for the first time or not (S14).
      <br/>
      If the lighting up is not the first time, a reference value 1 is set in each of the parameters A to C in the expressions to indicate that the halogen lamp 101 is in the warmed up state (S15), and the subsequent operations are executed like in the conventional technology.
    </p>
    <p num="185">
      If the halogen lamp 101 was lit first, it is regarded that the halogen lamp 101 is in the cool state, correction data a to c is read from the RAM 307 (S16), and the correction data a to c is set in each of the parameters A to C in the expressions respectively (S17).
      <br/>
      In the scanner section 300 actually designed by the present inventor, the output difference in a case where the reference data is read in 0.69 sec after the halogen lamp 101 is lit as described above was 3.2% for R, 3.3% for G, and 4.8% for B, and the correction data corresponding to the output differences above was 1.033 for a, 1.044 for b, and 1.048 for c.
    </p>
    <p num="186">
      As a result of computing through the expressions with the correction data a to c set in the parameters A to C respectively is outputted to the D/A converters 310, 311, so that the reference voltages loaded from the D/A converters 310, 311 to the A/D converter 314 are also increased.
      <br/>
      So the black reference data, white reference data, and image data converted according to the increased reference voltage Vref compensates the increased amplitude of the light emitted the halogen lamp 101, and the subsequent operations are executed like in the conventional technology (namely, black memory set (S18), motor driving lamp ON (S19), determination as to whether fetching into white memory has been started or not (S20), and white memory set (S21)).
    </p>
    <p num="187">With this configuration, even if amplitude of light emitted from the halogen lamp 101 changes, a result of shading correction is always uniform, so that, in a case where a color image is successively copied with the color scanner 100, it is possible to prevent color balance in a copied image in a second or subsequent sheet from being different from that in a first sheet, which contributes to improvement of the reliability of the color scanner 100.</p>
    <p num="188">Furthermore in the scanner section 300 according to the present embodiment, correction data is stored in the RAM 307 in which data stored therein can freely be rewritten, so that the correction data can be rewritten, for instance, by accessing the RAM 307 from the serial interface 312, and it is possible to, for instance, modify correction data in response to a difference between individual halogen lamps 101, in the production state or to modify the correction data in response to the halogen lamp 101 exchanged with a new one in maintenance, so that it is possible to improve performance of the color scanner 100 by setting accurate correction data.</p>
    <p num="189">
      With the configuration in which correction data stored in the RAM 307 can freely be rewritten according to input operation from the operation display section 370, correction data can easily be modified in a case where the halogen lamp 101 as consumables is exchanged with a new one by a service engineer.
      <br/>
      It should be noted that, although description of the present embodiment assumes a case where correction data is stored in the RAM 307 in which data stored therein can freely be rewritten, the correction data can unchangeably be set in the ROM 306 or the like.
    </p>
    <p num="190">
      Furthermore, in the scanner section 300 according to the present embodiment, the data collecting means for detecting first and second reference data by controlling power supplied from the lamp regulator 349 at a constant level and photoelectrically converting the reflected light from the white reference board illuminated by the halogen lamp 101 with the 3-line CCD 106 in repetition is formed with the microcomputer 305 or the D/A converter 311.
      <br/>
      And the data computing means for computing correction data according to the first and second reference data outputted from the data collecting means comprises the shading data arrays 323 to 325, or the microcomputer 305, or the timing gate array 308, and a data storage means for storing the correction data computed by this data computing means in the RAM 307 comprises the microcomputer 305 or the like.
      <br/>
      And in the microcomputer 305, the expressions for computing the correction data a to c based on the first reference data of RE_MAX1, RO_MAX, . . . , BO_MAX1 and the second reference data of RE_MAX2, RO_MAX2, . . . , BO_MAX2 are previously set as the following ones:
      <br/>
      (RE_MAX1+RO_MAX1)/(RE_MAX2+RO_MAX2)=a
      <br/>
      (GE_MAX1+GO_MAX1)/(GE_MAX2+GO_MAX2)=b
      <br/>
      (BE_MAX1+BO_MAX1)/(BE_MAX2+BO_MAX2)=c
    </p>
    <p num="191">
      With the configuration as described above, it is also possible for the microcomputer 305 to compute correction data and store the data in the RAM 307.
      <br/>
      So in a case where the correction data as described above is automatically set, as shown in FIG. 15, in 1 minute after initialization is complete, power supplied from the lamp regulator 349 is controlled to a constant value, the white reference board is illuminated by the halogen lamp 101, and the reflected light is photoelectrically converted by the 3-line CCD 106, and thus the first white reference data for the cool state of the halogen lamp 101 is detected.
    </p>
    <p num="192">
      Then the halogen lamp 101 is lit for around 1 second and then kept OFF for around 0.5 sec, and then as shown in FIG. 16, the halogen lamp is again lint, and the reflected light from the white reference board is photoelectrically converted by the 3-line CCD 106 to detect the second white reference data for the warmed-up state.
      <br/>
      Then the first and second reference data is subjected to A/D conversion in the A/D converters 314 to 319, and operating timing of the shading gate arrays 323 to 325 set in the data through mode is controlled by the timing gate array 308 to compute maximum values of additional averages for the first and second reference data, then microcomputer 305 executes computing described above according to the maximum values to compute the correction data and store the data in the RAM 307.
    </p>
    <p num="193">
      Now description is made for the operations described above with reference to the flow charts shown in FIG. 15 and FIG. 16. At first, when the halogen lamp 101 is turned ON (S22), determination is made as to whether the period of time of 0.69sec has passed or not (S23), and if it is determined that the period of time of 0.69 sec has passed, the operating mode is set in the data through mode (S24).
      <br/>
      Then a gate signal is generated (S25), a maximum value for each shading gate array is read and stored in the RAM 307 (S26).
      <br/>
      Then determination is made as to whether the period of time of 1 sec has passed or not (S27), and if it is determined that the period of time of 1 sec has passed, the halogen lamp 101 is turned OFF (S28).
    </p>
    <p num="194">
      Then determination is made as to whether a period of time of 0.5 sec has passed or not (S29), and if it is determined that the period of time of 0.5 sec has passed, the halogen lamp 101 is turned ON (S30).
      <br/>
      Then determination is made as to whether a period of time of 0.69 sec has passed or not (S31), and if it is determined that the period of time of 0.69 sec has passed, a gate signal is generated (S32), a maximum value for each shading gate array is read and stored in the RAM 307 (S33).
      <br/>
      Then the parameters a, b, c are computed (S34), the halogen lamp 101 is turned OFF (S35), and the processing sequence is terminated.
    </p>
    <p num="195">With the configuration as described above, accurate correction data is automatically detected and set in the RAM 307, and it is not necessary for an operator or a service engineer to manually modify the correction data, for instance, in a case where the correction data is modified in response to a difference of each individual halogen lamp 101, in the production step, or in a case where the correction data is modified for the halogen lamp 101 exchanged with a new one in maintenance, which can contribute to improvement of the productivity and adaptability to maintenance of the color scanner 100.</p>
    <p num="196">As described above, in the image forming apparatus according to the present invention, with the scanner control means, controls are provided so that first white reference data fetching after power turn ON is executed in a stable region for the illuminating means, shading correction is executed by the shading correcting means and an image is formed first time, and shading-corrected white data is fetched for a second sheet and on in continuously repeated copying operations each time one image is formed, and for this reason, stable shading correction can be realized regardless of change in quantity of light due to internal temperature characteristics of a halogen lamp, change of image density generated when continuous copying operations are executed is suppressed, and a high quality image can be obtained thereby.</p>
    <p num="197">In the image forming apparatus according to the present invention, with the scanner control means, preliminarily lighting up the illuminating means is executed and white data with shading corrected for each copy is fetched in a case where full color copying mode is selected in the input means, shading correction is executed without preliminarily lighting up the illuminating means between copies in a case where mono-color copying mode is selected therein, and for this reason, stable shading correction can be realized regardless of change in quantity of light due to internal temperature characteristics of a halogen lamp, change of image density generated continuous copying operations are executed is suppressed, a high quality image can be obtained, and at the same time a first copying speed can be realized when mono-color copying is selected.</p>
    <p num="198">In the image forming apparatus according to the present invention, with the scanner control means, shading correction is executed without preliminarily lighting up the illumination means in a case where the 1 to 1 copying mode (where a copy is prepared for one sheet of draft) is selected in the input means, and also preliminary lighting up of the illuminating means is executed and white data with shading corrected for each copy is fetched in a case where the 1 to N copying mode (repeated copying mode) is selected in the input means, and for this reason, stable shading correction can be realized regardless of change in quantity of light due to internal temperature characteristics of a halogen lamp, change of image density generated continuous copying operations are executed is automatically suppressed when the 1 to N copying mode is selected, a high quality image and an operation capability can be improved, and at the same time a fast processing speed at the time when the 1 to 1 copying mode is selected can be realized.</p>
    <p num="199">
      In the image forming apparatus according to the present invention, in a case where any error happens to be generated in the illuminating means only when shading-corrected white data is fetched, for instance, by a lamp being turned OFF due to a fault in contact to a lamp terminal section or connection section and due to thermal fuse, white reference data is not normally recognized.
      <br/>
      So, as a processing to be executed when an error that fetching the white reference data is not normally executed is generated, when preparing a first sheet of copy after the error is solved, priority is put not on a processing against change in density due to fine change in a quantity of light generated by a lamp, but on easy fast recovery after the error is solved, so that a waste of time for preliminary lighting up can be reduced and a first copying speed can be realized.
    </p>
    <p num="200">
      In the image forming apparatus according to the present invention, when any feed paper jamming is generated in the image forming apparatus, power for the AC system is turned OFF to prevent any danger and accident in the main control section.
      <br/>
      With this operation, power supplied from the lamp regulator is turned OFF, and the reliability of white reference data becomes lower.
      <br/>
      So, as a processing to be executed when an error that fetching the white reference data is not normally executed is generated, when preparing a first sheet of copy after the jamming is solved, priority is put not on a processing against change in quantity due to fine change in a quantity of light emitted from the lamp after the jamming is overcome, but on easy and fast recovery after jamming is overcome, so that a waste of time for preliminary lighting up can be reduced and a first copying speed can be realized.
    </p>
    <p num="201">
      In the image forming apparatus according to the present invention, when a door of the image forming apparatus is opened during its operation, power for the AC system is turned OFF to prevent any danger and accident in the main control section.
      <br/>
      With this operation, power supplied from the lamp regulator is turned OFF, and the reliability of white reference data becomes lower.
      <br/>
      So, as a processing to be executed when an error that fetching the white reference data is not normally executed is generated, when preparing a first sheet of copy after the door is closed, priority is put not on a processing against change in quantity due to fine change in a quantity of light emitted from the lamp, but on easy and fast recovery after the door is closed, so that a waste of time for preliminary lighting up can be reduced and a first copying speed can be realized.
    </p>
    <p num="202">
      In the image forming apparatus according to the present invention, when an error is generated in the main body of the image forming apparatus and a service man is to be called for it, power for the AC system is turned OFF to prevent any danger and accident in the main control section.
      <br/>
      With this operation, power supplied from the lamp regulator is turned OFF, and the reliability of white reference data becomes lower.
      <br/>
      So, as a processing to be executed when an error that fetching the white reference data is not normally executed is generated, when preparing a first sheet of copy after the error in the main body thereof is solved, priority is put not on a processing against change in density due to fine change in a quantity of light emitted from the lamp, but on easy and first recovery after the error in the main body is solved, so that a waste of time for preliminary lighting up can be reduce and a fast copying speed can be realized.
    </p>
    <p num="203">
      In the image forming apparatus according to the present invention, in a case where there are a plurality of illuminating means, because a form of shading varies in each illuminating means, the white reference data is reset each time illuminating means is switched.
      <br/>
      With this operation, accurate shading correction can be realized even an illuminating means is switched to any other one.
    </p>
    <p num="204">In the image forming apparatus according to the present invention, as a general example of switching of an illuminating means, there are a normal (reflected light) mode for reading normal reflected light and a transmitted light mode for reading back light or transmitted light from a film projector, and correction suited to each shading form can be selected after the operating mode is switched.</p>
    <p num="205">In the image forming apparatus according to the present invention, by preliminarily lighting up after recovering from various errors and switching of an illuminating means, high-precision white shading data can be obtained.</p>
    <p num="206">In the image forming apparatus according to the present invention, change in amplitude of light emitted from an image illuminating light source associated with lapse of time can be prevented, so that a result of processing for shading correction can be prevented from its variation with excellent image quality maintained and especially in a case where a color image is read, change in a color balance can be prevented, which contributes to improvement of the reliability of an image reading device.</p>
    <p num="207">In the image forming apparatus according to the present invention, correction data preset in the data storage means can easily be modified, so that, for instance, correction data can be modified corresponding to each type of image illuminating light sources when copying is executed, or correction data can be modified corresponding to an image illuminating light source exchanged when maintenance thereof is executed, and correction data can precisely be preset, which contributes to improvement of performance of an image reading device.</p>
    <p num="208">In the image forming apparatus according to the present invention, appropriate correction data is automatically detected and is set in the data storage means, so that, for instance, in a case where correction data is modified corresponding to each type of image illuminating light source when copying is executed, or in a case where correction data is modified corresponding to an image illuminating light source exchanged when maintenance thereof is performed, it is not required for an operator or a service engineer to manually modify correction data, which contributes to improvement of performance of an image reading device and adaptability to maintenance thereof.</p>
    <p num="209">In the image forming apparatus according to the present invention, a result of processing for shading correction is always kept at a uniform level, so that good quality of read image can be maintained, and especially in a case where a color image is read, change in a color balance can be prevented, which contributes to improvement of the reliability of an image reading device.</p>
    <p num="210">In the image forming apparatus according to the present invention, correction data preset in the data storage means can easily be modified, so that, for instance, correction data can be modified corresponding to each type of image illuminating light sources when copying is executed, or correction data can be modified corresponding to an image illuminating light source exchanged when maintenance thereof is performed, and correction data can precisely be preset, which contributes to improvement of performance of an image reading device.</p>
    <p num="211">In the image forming apparatus according to the present invention, appropriate correction data is automatically detected and is set in the data storage means, so that, for instance, in a case where correction data is modified corresponding to each type of image illuminating light source when copying is executed, or in a case where correction data is modified corresponding to an image illuminating light source exchanged when maintenance thereof is performed, it is not required for an operator or a service engineer to manually modify correction data, which contributes to improvement of performance of an image reading device and adaptability to maintenance thereof.</p>
    <p num="212">Although the invention has been described with respect to a specific embodiment for a complete and clear disclosure, the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art which fairly fall within the basic teaching herein set forth.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An image forming apparatus comprising:</claim-text>
      <claim-text>an illuminating means for illuminating a draft image; a photoelectric converting means for receiving reflected light from a draft image obtained by illuminating the draft image and photoelectrically converting the reflected light; an amplifying means for amplifying an output signal from said photoelectric converting means; a digital converting means for converting an analog signal from said amplifying means to a digital signal; a shading correcting means for executing shading correcting to said digital signal;</claim-text>
      <claim-text>and a scanner control means for providing controls so that first white reference data after power turn ON is fetched by said shading correcting means in a stable region for said illuminating means, said white reference data is used when an image is formed first time, and the shading-corrected white data is fetched for a second sheet of copy in continuous copying operation each time one image is formed;</claim-text>
      <claim-text>wherein, when fetching white reference data in said stable region or each time one image is formed, if any error is generated in said illuminating means, the white reference data is fetched just before image read is executed.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. An image forming apparatus according to any of claim 1, wherein white reference data is fetched immediately before said image is read, and furthermore said illuminating means is preliminarily lit immediately before the operation.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. An image forming apparatus comprising: an illuminating means for illuminating a draft image; a photoelectric converting means for receiving reflected light from a draft image obtained by illuminating the draft image and photoelectrically converting the reflected light; an amplifying means for amplifying an output signal from said photoelectric converting means; a digital converting means for converting an analog signal from said amplifying means to a digital signal; a shading correcting means for executing shading correcting to said digital signal;</claim-text>
      <claim-text>and a scanner control means for a scanner control means for providing controls so that first white reference data after power turn ON is fetched by said shading correcting means in a stable region for said illuminating means, said white reference data is used when an image is formed first time, and the shading-corrected white data is fetched for a second sheet of copy and on in continuously repeated copying operation each time one image is formed; wherein, when fetching white reference data in said stable region or each time one image is formed, if any feed paper jamming is generated in said image forming apparatus, the white reference data is fetched immediately before an image for a first sheet of copy for recovery is read.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. An image forming apparatus according to any of claim 3, wherein white reference data is fetched immediately before said image is read, and furthermore said illuminating means is preliminarily lit immediately before the operation.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An image forming apparatus comprising: an illuminating means for illuminating a draft image; a photoelectric converting means for receiving reflected light from a draft image obtained by illuminating the draft image and photoelectrically converting the reflected light; an amplifying means for amplifying an output signal from said photoelectric converting means; a digital converting means for converting an analog signal from said amplifying means to a digital signal; a shading correcting means for executing shading correcting to said digital signal;</claim-text>
      <claim-text>and a scanner control means for providing controls so that first white reference data after power turn ON is fetched by said shading correcting means in a stable region for said illuminating means, said white reference data is used when an image is formed first time, and the shading-corrected white data is fetched for a second sheet of copy in continuous copying operation each time one image is formed; wherein, when fetching white reference data in stable region or each time one image is formed, if a door of said image forming apparatus is opened, the white reference data is read immediately before an image for a first sheet of copy after the door is closed is read.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. An image forming apparatus according to any of claim 5, wherein white reference data is fetched immediately before said image is read, and furthermore said illuminating means is preliminarily lit immediately before the operation.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. An image forming apparatus comprising: an illuminating means for illuminating a draft image; a photoelectric converting means for receiving reflected light from a draft image obtained by illuminating the draft image and photoelectrically converting the reflected light; an amplifying means for amplifying an output signal from said amplifying means; a digital converting means for converting an analog signal from said amplifying means to a digital signal; a shading correcting means for executing shading correcting to said digital signal;</claim-text>
      <claim-text>and a scanner control means for providing controls so that first white reference data after power turn ON is fetched by said shading correcting means in a stable region for said illuminating means, said white reference data is used when an image is formed first time, and the shading-corrected white data is fetched for a second sheet of copy in continuous copying operation each time one image is formed; wherein, when fetching white reference data in said stable region or each time one image is formed, if an error is generated in a main body of said image forming apparatus, the white reference data is fetched immediately before an image for a first sheet of copy after the error is solved is read.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An image forming apparatus according to any of claim 7, wherein white reference data is fetched immediately before said image is read, and furthermore said illuminating means is preliminarily lit immediately before the operation.</claim-text>
    </claim>
  </claims>
</questel-patent-document>