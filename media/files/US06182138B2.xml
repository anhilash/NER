<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06182138B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06182138</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6182138</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="12230891" extended-family-id="21079286">
      <document-id>
        <country>US</country>
        <doc-number>08800375</doc-number>
        <kind>A</kind>
        <date>19970214</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08800375</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>21615955</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>2779496</doc-number>
        <kind>A</kind>
        <date>19960215</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1996JP-0027794</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G06F  13/00        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>13</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G06F   9/50        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>9</main-group>
        <subgroup>50</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04L  12/40        20060101ALI20150622RHJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>L</subclass>
        <main-group>12</main-group>
        <subgroup>40</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150622</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>H04N   7/173       20110101ALI20150622RHJP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>173</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150622</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>H04N  21/231       20110101ALI20150622RHJP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>21</main-group>
        <subgroup>231</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150622</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>H04N  21/2318      20110101ALI20150622RHJP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>21</main-group>
        <subgroup>2318</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20150622</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>709226000</text>
        <class>709</class>
        <subclass>226000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>709224000</text>
        <class>709</class>
        <subclass>224000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>709229000</text>
        <class>709</class>
        <subclass>229000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G06F-009/50L</text>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>009</main-group>
        <subgroup>50L</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06F-009/5083</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>9</main-group>
        <subgroup>5083</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>12</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>10</number-of-drawing-sheets>
      <number-of-figures>10</number-of-figures>
      <image-key data-format="questel">US6182138</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Data distribution system that performs load balancing by directly transmitting data between distribution servers</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>PITKIN RICHARD P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5341477</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5341477</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>HOOPER DONALD F, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5414455</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5414455</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>HOOPER DONALD F, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5442390</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5442390</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>WACLAWSKY JOHN G, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5495426</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5495426</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>SHACHNAI HADAS, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5544313</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5544313</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>BAKER DONN B, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5583561</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5583561</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>WALLIS GRAHAM DEREK</text>
          <document-id>
            <country>US</country>
            <doc-number>5740371</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5740371</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="8">
          <text>BRENDEL JUERGEN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5774660</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5774660</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="9">
          <text>COURTS HOWARD R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6076108</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6076108</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="10">
          <text>YU PHILIP SHI-LUNG</text>
          <document-id>
            <country>US</country>
            <doc-number>6078943</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6078943</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="11">
          <text>IBM</text>
          <document-id>
            <country>EP</country>
            <doc-number>0683464</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-683464</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>GREENWOOD DAVID G, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5568181</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5568181</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>HITACHI SOFTWARE ENG</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0728681</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP07028681</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>IBM</text>
          <document-id>
            <country>JP</country>
            <doc-number>H07200380</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP07200380</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>MATSUSHITA ELECTRIC IND CO LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H0991230</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP09091230</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>MITSUBISHI ELECTRIC CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H09179820</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP09179820</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>NEC Corporation</orgname>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NEC</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Aoki, Hiromichi</name>
            <address>
              <address-1>Tokyo, JP</address-1>
              <city>Tokyo</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Foley &amp; Lardner</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Maung, Zarni</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      This invention provides a data distribution system capable of changing dynamically a capability of the data distribution system.
      <br/>
      In the present invention, there are provided a plurality of distributing servers, a supplying server connected to each of the plurality of distributing servers.
      <br/>
      In the case that there is a request for a content not included in the disk unit of the distributing server, it is transmitted from the supplying server to the distributing server and concurrently the content is distributed from the distributing server to the requesting set top box.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">The present invention relates to a data distribution system, and more particularly to a data distribution system having distribution servers.</p>
    <p num="2">
      A data distribution system distributes data (i.e., video data) to clients (i.e., set top boxes).
      <br/>
      The data distribution system has distributing servers which distribute data ("content") to the clients by a stream.
    </p>
    <p num="3">
      In the data distribution system, work load of the distributing servers is not always balanced.
      <br/>
      If some specific distributing severs are accessed more than other distributing servers, the entire performance of the system is degraded.
    </p>
    <p num="4">On the other hand, if all of the distributing servers store same contents in duplicate, too much capacity is required in the distributing servers.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="5">In view of the foregoing problem of the conventional system, an object of the present invention is to change the distributing capability of the system dynamically.</p>
    <p num="6">
      In a data distribution system according to a first aspect of the present invention, a plurality of distributing servers serve data.
      <br/>
      The distributing servers transmit the data between the distributing servers according to a load balance of the distributing servers.
    </p>
    <p num="7">With the unique and unobvious structure of the present invention, the distributing capability of the system is changed dynamically to follow the requests from the clients.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="8">
      The above-mentioned and other objects, features and advantages of this invention will become more apparent by reference to the following detailed description of the invention taken in conjunction with the accompanying drawings in which:
      <br/>
      FIG. 1 is a block diagram showing the configuration of a preferred embodiment of a data distribution system according to the present invention;
      <br/>
      FIG. 2 is a block diagram showing the configuration of a distribution controller in the preferred embodiment of the present invention;
      <br/>
      FIG. 3 is a view showing one example of a content table in the preferred embodiment of the present invention;
      <br/>
      FIG. 4 is a view showing one example of a distributing server table in the preferred embodiment of the present invention;
      <br/>
      FIG. 5 is a block diagram showing the configuration of a distributing server in the preferred embodiment of the present invention;
      <br/>
      FIG. 6 is a block diagram showing the configuration of a supplying server in the preferred embodiment of the present invention;
      <br/>
      FIG. 7 is a flow chart showing the operation of the data distribution system according to the present invention;
      <br/>
      FIG. 8 is a flow chart showing the operation of data transmission between the distributing servers in the preferred embodiment of the present invention;
      <br/>
      FIG. 9 is a flow chart showing the operation of data transmission from the supplying server to the distributing servers in the preferred embodiment of the present invention; and
      <br/>
      FIG. 10 is a view showing one example of memory allocation of blocks of data from disk units in the preferred embodiment of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="9">Description will be given of a preferred embodiment of the data distribution system of the present invention in detail with reference to the accompanying drawings.</p>
    <p num="10">
      Referring to FIG. 1 showing an embodiment of the invention, a data distribution system has distributing servers 20-1, . . . , 20-k (1 &lt;= k &lt;= 5) for transmitting multi-media data (i.e., image data) to set top boxes ("STB") 60-1, . . . , 60-n (n is a natural number) via a network 70.
      <br/>
      Disc units 30-1, . . . , 30-k are connected to the distributing servers 20, respectively.
      <br/>
      Each of the disc units 30 stores the multi-media data.
    </p>
    <p num="11">
      The data distribution system has a supplying server 40 and a secondary disc unit 50 connected to the supplying server 40.
      <br/>
      The secondary disc unit 50 stores multi-media data.
      <br/>
      The data distribution system has a distribution controller 10 for requesting data transmission of a distributing server 20 and the supplying server 40 in response to STB 60.
    </p>
    <p num="12">In this embodiment, it is assumed that both the number of the distributing servers and the number of operable streams of each of the distributing servers are "5" for clarity of explanation.</p>
    <p num="13">Referring to FIG. 2, the distribution controller 10 has a processor 101, a storage 102, a bridge 103, Ethernet interfaces 104 and 105.</p>
    <p num="14">
      The processor 101 has a request receiver 108 for receiving a request from STB 60, a mode selector 106 for selecting an operation mode corresponding to the received request, and a transmission requester 107 for transmitting one of a distributing instruction and a transmission instruction.
      <br/>
      The distribution instruction is used for distributing data from the distribution server 20 to the STB 60.
      <br/>
      The transmission instruction is used for transmitting data from the supplying server 40 to the distributing server 20.
      <br/>
      The transmission instruction is also used for transmitting data between the distributing servers 20.
    </p>
    <p num="15">
      The storage 102 includes a content table 109 and a distributing server table 110.
      <br/>
      The content table 109 stores a content number and information with respect to the distributing servers 20.
      <br/>
      The distributing server table 110 stores the present number of streams with respect to each of the distributing servers 20 and a remaining file capacity.
    </p>
    <p num="16">
      The Ethernet interface 104 is connected to STB 60.
      <br/>
      The Ethernet interface 104 performs a data transmission between the distribution controller 10 and STB 60.
    </p>
    <p num="17">
      The Ethernet interface 105 is connected to the distributing server 20 and the supplying server 40.
      <br/>
      The Ethernet interface 105 performs a data transmission between the distribution controller 10 and one of the distributing server 20 and the supplying server 40.
    </p>
    <p num="18">
      Referring to FIG. 3, the content table 109 contains the content number, a content name, a time length and information indicating in which distributing server 20 each content is included according to the content number.
      <br/>
      The content of the content name "A" is stored in the distributing servers 20-1, 20-2 and 20-5.
      <br/>
      The content of the content name "B" is not stored in any distributing server 20.
      <br/>
      The content of the content name "C" is stored only in the distributing server 20-5.
    </p>
    <p num="19">
      Referring to FIG. 4, the distributing server table 110 stores pairs of the present number of streams and the vacant file capacity of each of the distributing servers 20 in response to the distributing servers 20.
      <br/>
      It is apparent that the signal distributing server 20-1 shows that the present number of streams is "5" and reaches a limit of the transmission capacity.
      <br/>
      It is apparent that although the distributing server 20-2 shows that the present number of streams being operated is "3", the remaining file capacity is "0 GB" and the remaining file capacity reaches the limitation.
    </p>
    <p num="20">Referring to FIG. 5, the distributing server 20-k has a processor 201, a storage 202, a bridge 203, an ethernet interface 204, SCSI interfaces 205 and 206, an ATM interface 207, and an Ethernet interface 208.</p>
    <p num="21">The processor 201 receives an instruction from the distributing controller 10 and controls a transmission of data.</p>
    <p num="22">The storage 202 stores content data in case of the data distribution and the data transmission.</p>
    <p num="23">
      The Ethernet interface 204 is connected to the distribution controller 10 and receives an instruction from the distribution controller 10.
      <br/>
      The SCSI interfaces 205 and 206 are connected to a corresponding disc unit 30 so as to perform the data transmitting and receiving operation.
      <br/>
      The ATM interface 207 transmits data to STB 60.
      <br/>
      The Ethernet interface 208 is connected to another distributing server 20 and the supplying server 40.
      <br/>
      The Ethernet interface 207 controls the data transmission between the distributing server 20 and one of another distributing server 20 and the supplying server 40.
    </p>
    <p num="24">Referring to FIG. 6, the supplying server 40 has a processor 401, a storage 402, a bridge 403, Ethernet interfaces 404 and 408, SCSI interfaces 405, 406 and 407.</p>
    <p num="25">The processor 401 receives an instruction from the distribution controller 10 and controls the data transmission.</p>
    <p num="26">
      The storage 402 stores content data when the content data are transmitted to the distributing server 20.
      <br/>
      In addition, the memory 402 stored the data read out from the secondary disc unit 50.
    </p>
    <p num="27">
      The Ethernet interface 404 is connected to the distribution controller 10 and receives an instruction from the distribution controller 10.
      <br/>
      The SCSI interfaces 405, 406 and 407 are connected to the secondary disc unit 50 and transmit data.
      <br/>
      The Ethernet interface 408 is connected to the distributing server 20 and transmits data to the distributing server 20.
    </p>
    <p num="28">Hereinbelow and referring to FIGS. 1 through 9, the operation of the data distribution system in accordance with the above-mentioned embodiment of the present invention will be described.</p>
    <p num="29">
      Referring to FIG. 7, in the case that the STB 60-1 requests content transmission for the distribution controller 10, it is judged in reference to the content table 109 whether or not there is a distributing server 20 including the content (in step S71).
      <br/>
      If there is a distributing server 20 including the content, it is judged from the number of streams in the distributing server table 110 whether or not the distributing server reaches the limitation of the distribution capacity (in step S72).
    </p>
    <p num="30">
      If it is judged that the distributing server does not reach the limitation of the distribution capacity in step S72, it is further judged whether or not the number of distributing server 20 is plural (in step S73).
      <br/>
      If the number is judged to be plural, the distributing server having the maximum number of remaining streams is selected as a distributor for distributing data to the STB 60 (in step S74).
      <br/>
      After that, a request for distributing the content from the distributor (in step S75) is carried out.
    </p>
    <p num="31">In step S72, if all the distributing servers including the content reach to a limitation of distribution, a transmission between the distributing servers is carried out (in step S76).</p>
    <p num="32">In step S71, if it is found that there is no presence of the distributing server containing the content, a transmission from the supplying server 40 to the distributing server 20 is carried out (in step S78).</p>
    <p num="33">
      Referring to FIG. 8, in step S76 of FIG. 7, the data transmission between distributing server 20 is performed as follows.
      <br/>
      The distributing server 20 which stores the content to be transmitted is selected as a sender (in step S81).
      <br/>
      With the distributing server table 110 of the distributing server other than the distributing server 20 selected in step S81, it is judged whether or not a distributable and transmittable distributing server is present in reference to the number of streams and the remaining file capacity (in step S82).
    </p>
    <p num="34">
      In the case that the remaining capacity of the disk unit 30 of the distributing server 20 is not "0", this distributing server can perform a transmission operation.
      <br/>
      When there is a single distributing server which can distribute and transmit the data, it is judged if the number is plural (in step S83) and if the number is plural, the distributing server having the maximum number of streams is selected as the distributor (in step S84).
      <br/>
      The number of streams can be obtained as the number in which the number of streams being operated at present is subtracted from the maximum number of streams.
      <br/>
      If the distributor is selected, a request for transmitting the content from the sender to the distributor is carried out (in step S85).
    </p>
    <p num="35">In step S83, if there is a single server which can distribute the data, the transmission from sender to the distributing server is carried out (in step S85).</p>
    <p num="36">
      In step S82, in the case that there is no distributing server which can distribute and transmit a signal, an operation for deleting the content in the distributing server is performed (in step S87).
      <br/>
      After deleting the content within the distributing server, the operation returns to that of step S82.
    </p>
    <p num="37">
      For example, referring to FIG. 3, in the case that STB 60 requests content named "G" to the distribution controller 10, the content "G" is stored only in the distribution server 20-1 according to the content table 109 (step S71 in FIG. 7).
      <br/>
      Referring to FIG. 4, the distribution server 20-1 already has reached the limitation of the number of streams according to the distribution server table 110 (step S72 in FIG. 7).
      <br/>
      Therefore, in this case, the transmission between the distribution servers is necessary (step S76 in FIG. 7).
    </p>
    <p num="38">
      The distributing server 20-1 containing the content "G" is selected as a sender (in step S81 in FIG. 8).
      <br/>
      The distribution servers 20-3 and 20-5 are selected as a candidate of a distributor according to the distribution server table 110 (step S82 in FIG. 8).
      <br/>
      In this case, the distribution server 20-3 is selected as a distributor because the distribution server 20-3 has the most available streams (step S84 in FIG. 8).
      <br/>
      Therefore, the transmission from the distribution server 20-1 to the distribution server 20-3 is carried out (step S85 in FIG. 8).
    </p>
    <p num="39">
      The distributing controller 10 issues the request to the distributing server 20-1 for requesting a transmission of the content "G" to the distributing server 20-3.
      <br/>
      This transmission is realized by a usual file transmission protocol.
      <br/>
      Under this file transmission protocol, a connection is established between the sender and the receiver (distributor).
      <br/>
      After establishing the connection, the data transmission is carried out.
    </p>
    <p num="40">
      Referring to FIG. 5, the request of transmission by the distribution controller 10 is sent to the distributing server 20-1.
      <br/>
      The request is stored in the storage 202 via the Ethernet interface 204 and the bridge 203.
      <br/>
      According to the request, the storage 202 stores a file type, a source address and a destination address.
      <br/>
      The processor 201 monitors the storage 202 by polling.
      <br/>
      The processor 201 acknowledges that the request is stored at a timing within a range of certain polling interval.
      <br/>
      The processor 201 selects the source from the source address stored in the storage.
      <br/>
      If the content to be transmitted is stored in a disk unit 30-1 connected to the SCSI interface 205, the processor reads the content from the disk unit 30-1 via the SCSI interface 205 and stores the content to the storage 202.
      <br/>
      The processor 201 sends out the content stored in the storage 202 via the bridge 203 and the Ethernet interface 208.
    </p>
    <p num="41">
      In the distributing server 20-3 acting as the distributor, the content inputted through the Ethernet interface 208 is stored in the storage 202 via the bridge 203.
      <br/>
      Data stored in the storage 202 is transmitted to one of the SCSI interface 205 and 206 via the bridge 203 and then the content is stored in the disk unit 30-3.
      <br/>
      A reason why the content is stored in the storage 202 in the distributing servers 20-1 and 20-3 is that a synchronization is required between the transmission timings of the Ethernet and SCSI.
    </p>
    <p num="42">
      Referring to FIG. 9, in the case that the content is not stored in any distribution server 20 in step S71 of FIG. 7, the transmission from the supplying server 40 to the distributing server 20 is performed.
      <br/>
      It is judged whether or not the distributing server which can distribute and transmit a data is present in reference to the number of streams and the remaining file capacity (in step S92).
      <br/>
      When there is the distributing server which can distribute and transmit a data, it is judged whether or not the number is plural (in step S93) and if the number is plural, the distributing server having the maximum available number of streams is selected as the distributor (in step S94).
      <br/>
      The content is transmitted from the supplying server 40 to the distributor (in step S95).
      <br/>
      In step S93, if the number of server which can distribute and transmit a data is single, the content is transmitted from the supplying server 40 to the distributing server 20 in step S95.
    </p>
    <p num="43">
      If it is judged that the distributing server which can distribute and transmit a data is not present, unnecessary content in the distributing server 20 is deleted (in step S97).
      <br/>
      After the content in the distributing server 20 is deleted, the operation is returned back to the operation in step S91.
    </p>
    <p num="44">
      For example, referring to FIG. 3, in the case that the STB 60-1 requests the content named "B" to the distribution controller 10, the content "B" is not stored in any distribution server 20 according to the content table 109 (step S71 in FIG. 7).
      <br/>
      Therefore, in this case, the transmission from the supplying server 40 to the distribution server 20 is necessary (step S78 in FIG. 7).
    </p>
    <p num="45">
      The distribution servers 20-3 and 20-5 are selected as a candidate of a distributor according to the distribution server table 110 (step S92 in FIG. 9).
      <br/>
      In this case, the distribution server 20-3 is selected as a distributor because the distribution server 20-3 has the most available streams (step S94 in FIG. 9).
      <br/>
      Therefore, the transmission from the supplying server 40 to the distribution server 20-3 is requested (step S95 in FIG. 9).
    </p>
    <p num="46">
      The distributing controller 10 issues the request to the distributing server 20-1 for requesting a transmission of the content "B" to the distributing server 20-3.
      <br/>
      This transmission is realized by a usual file transmission protocol.
      <br/>
      Under this file transmission protocol, a connection is established between the sender and the receiver (distributor).
      <br/>
      After establishing the connection, the data transmission is carried out.
    </p>
    <p num="47">
      Referring to FIG. 6, the request of transmission by the distribution controller 10 is sent to the supplying server 40.
      <br/>
      The request is stored in the storage 402 via the Ethernet interface 404 and the bridge 403.
      <br/>
      According to the request, the storage 402 stores a file type, a source address and a destination address.
      <br/>
      The processor 401 monitors the storage 402 by making a polling.
      <br/>
      The processor 401 acknowledges that the request is stored at a timing within a range of certain polling interval.
      <br/>
      The processor 401 selects the source from the source address stored in the storage.
      <br/>
      If the content to be transmitted is stored in a disk unit 50 connected to the SCSI interface 405, the processor reads the content from the disk unit 50 via the SCSI interface 405 and stores the content to the storage 402.
      <br/>
      The processor 401 sends out the content stored in the storage 402 via the bridge 403 and the Ethernet interface 408.
    </p>
    <p num="48">
      In the distributing server 20-3 acting as the distributor, the content inputted through the Ethernet interface 208 is stored in the storage 202 via the bridge 203.
      <br/>
      Data stored in the storage 202 is transmitted to one of the SCSI interface 205 and 206 via the bridge 203 and then the content is stored in the disk unit 30-3.
      <br/>
      A reason why the content is stored in the storage 202 in the distributing servers 20-1 and 20-3 is that a synchronization is required between the transmission timings of the Ethernet and SCSI.
    </p>
    <p num="49">
      Referring to FIG. 10, an area of the storage 202 is allocated for each stream during the data transmission.
      <br/>
      The memory area allocated for each stream is divided into areas 1001 and 1002.
      <br/>
      The areas 1001 and 1002 have the same size which is larger than a block size of data read out from the disc unit 30.
      <br/>
      Here, the content is read out and transmitted from the disk unit in one of the distributing server and the supplying server in a specified data amount unit.
      <br/>
      This unit is called as a "block".
    </p>
    <p num="50">
      The processor 201 alternatively stores the received block data into the area 1001 and the area 1002.
      <br/>
      At the time of completion of the writing operation for the area 1001, a writing operation for the area 1002 is started.
      <br/>
      At this time, since the writing operation for the area 1001 is not already present, data is read out from the area 1001 so as to perform a stream distribution to the STB 60.
      <br/>
      At this time, the data in the area 1001 is concurrently transmitted into the disk unit 30 connected to the distributing server 20.
      <br/>
      Upon completion of the writing operation for the area 1002, the processor 201 performs again the writing operation for the area 1001.
      <br/>
      Therefore, the area 1001 and the area 1002 are accessed (written-in and read-out) simultaneously.
    </p>
    <p num="51">
      Since the writing operation for the data into the area 1001 and 1002 must assure uninterrupted reading operation for these areas so as to prevent any variance of transmission rate, the writing operation for another area should be finished before the reading operation is completed.
      <br/>
      That is, a faster writing operation than the reading operation in the area is carried out.
      <br/>
      If in the case that there is a certain variance in time for the writing operation and a lower limit in variance has a longer time than the time required for the reading operation, the two areas 1001 and 1002 must be expanded up to a size more than 3 areas until variance can be accommodated.
    </p>
    <p num="52">In the preferred embodiment, when the number of operating streams of the distributing servers reaches a limitation, the content has been transmitted from the distributing server to another distributing server, the supplying server 40 may transmit the content to another distributing server.</p>
    <p num="53">
      As described above, according to the preferred embodiment of data distributing system of the present invention, there are provided a plurality of distributing servers 20-k (1 &lt;= k &lt;= 5) and a supplying server 40 connected to each of the plurality of distributing servers 20, and in the case that there is a request of content not included in the disk unit 30-k for the distributing server 20-k, the content is transmitted from the supplying server 40 to the distributing server 20-k and concurrently the content is distributed from the distributing server 20 to the STP 60.
      <br/>
      Due to this fact, it is possible to change dynamically the distributing capacity of the data distribution system.
    </p>
    <p num="54">
      Moreover, the area of the storage in the distributing server 20-k has been divided into the areas 1001 and 1002.
      <br/>
      When the writing operation is being carried out in the area 1001, the read operation is carried out from the area 1002 and when the read operation from the area 1002 is completed, the read operation from the area 1001 is performed and the write operation is performed for the area 1002.
      <br/>
      Due to this fact, it is possible to perform a distribution in concurrent with the storing of the content.
    </p>
    <p num="55">
      As is apparent from the above description, according to the present invention, there are provided a plurality of distributing servers having a disk unit and a supplying server connected to each of a plurality of distributing servers, and when there is a request for content not included in the disk unit of the distributing server, the content is transmitted from the supplying server to the distributing server and concurrently the content is distributed from the distributing server to the requesting STB.
      <br/>
      Due to this fact, it is possible to change dynamically the distributing capability of the system.
    </p>
    <p num="56">While the invention has been described in terms of a preferred embodiment, those skilled in the art will recognize that the invention can be practiced with modification within the spirit and scope of the appended claims.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A data distribution system comprising:</claim-text>
      <claim-text>a plurality of disc units for storing data;</claim-text>
      <claim-text>and a plurality of distributing servers, connected to said plurality of disc units, respectively, for serving content data stored in a connected one of said plurality of disc units, said plurality of distributing servers directly transmitting said content data between said distributing servers according to a dynamic load balance of said distributing servers, wherein the content data is distributed from a receiving distributing server to a client concurrently with the storing of said content data in the receiving distributing server, when said content data is transmitted between said distributing servers.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The data distribution system according to claim 1, wherein said dynamic load balance is determined on the basis of remaining file capacity of said distributing servers.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The data distribution system according to claim 1, wherein said dynamic load balance is determined on the basis of a number of available streams of said distributing servers.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The data distribution system according to claim 1, further comprising a supplying server for supplying the content data to said distributing servers, wherein the content data is distributed from the receiving distributing server to a client concurrent with the storing of said content data in the receiving distributing server, when said content data is transmitted from said supplying server to said receiving distributing server.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A data distribution system, comprising: a plurality of disc units for storing data; a plurality of clients; a plurality of distributing servers, connected to said plurality of disc units, respectively, that directly transmit content data stored in a connected one of said plurality of disc units between said plurality of distributing servers;</claim-text>
      <claim-text>and a distribution controller that selects one of said plurality of distributing servers as a distributor for distributing said content data to one of said plurality of clients according to a dynamic load balance of said plurality of distributing servers, wherein the content data is distributed from the distributor to one of said plurality of clients concurrent with the storing of said content data in the distributor, when said content data is transmitted between said distributing servers.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The data distribution system according to claim 5, said distribution controller comprising a content table for storing information about correspondence between said distributing servers and said content data, said distribution controller selecting said distributor based on said content table.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The data distribution system according to claim 5, further comprising: a supplying server for serving the content data to said distributor according to said load balance of said distributing servers, wherein the content data is distributed from the distributor to one of said plurality of clients concurrent with the storing of said content data in the distributor, when said content data is transmitted from said supplying server to said distributor.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The data distribution system according to claim 7, wherein one of said plurality of disc units is divided into at least two areas, and said at least two areas are accessed simultaneously.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The data distribution system according to claim 5, further comprising a supplying server, wherein said supplying server supplies said content data to the selected one of said distributing servers based on a control signal sent from said distribution controller.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The data distribution system comprising: a plurality of disc units for storing data; a plurality of clients; a plurality of distributing servers, connected to said plurality of disc units, respectively, that directly transmit content data stored in a connected one of said plurality of disc units between said plurality of distributing servers;</claim-text>
      <claim-text>and a distribution controller for selecting one of said plurality of distributing servers as a distributor for distributing said content data to one of said plurality of clients according to a dynamic load balance of said plurality of distributing servers, said distribution controller comprising a content table for storing information about correspondence between said distributing servers and said content data, said distribution controller selecting said distributor based on said content table, said distribution controller further comprising a distribution server table for storing information about said load balance of said distributing servers, said distribution controller selecting said distributor based on said content table and said distributing server table, wherein the content data is distributed from the distributor to one of said plurality of clients concurrent with the storing of said content data in the distributor, when said content data is transmitted between said distributing servers.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The data distribution system according to claim 10, wherein said dynamic load balance is determined on the basis of remaining file capacity of said distributing servers.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The data distribution system according to claim 10, wherein said dynamic load balance is determined on the basis of a number of available streams of said distributing servers.</claim-text>
    </claim>
  </claims>
</questel-patent-document>