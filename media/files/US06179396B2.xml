<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06179396B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06179396</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6179396</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="18451715" extended-family-id="13434449">
      <document-id>
        <country>US</country>
        <doc-number>09220600</doc-number>
        <kind>A</kind>
        <date>19981228</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09220600</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>13719470</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>35697397</doc-number>
        <kind>A</kind>
        <date>19971225</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997JP-0356973</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>B60T   8/48        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>8</main-group>
        <subgroup>48</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>B60T   8/00        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>8</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>B60T   7/12        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>7</main-group>
        <subgroup>12</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>B60T   8/32        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>8</main-group>
        <subgroup>32</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>B60T  13/66        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>13</main-group>
        <subgroup>66</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>303155000</text>
        <class>303</class>
        <subclass>155000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>303113400</text>
        <class>303</class>
        <subclass>113400</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>B60T-007/12</text>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>7</main-group>
        <subgroup>12</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>B60T-008/32D14D</text>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>008</main-group>
        <subgroup>32D14D</subgroup>
      </classification-ecla>
      <classification-ecla sequence="3">
        <text>B60T-008/48B4D2</text>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>008</main-group>
        <subgroup>48B4D2</subgroup>
      </classification-ecla>
      <classification-ecla sequence="4">
        <text>B60T-013/66B</text>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>013</main-group>
        <subgroup>66B</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60T-007/12</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>7</main-group>
        <subgroup>12</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60T-008/3275</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>8</main-group>
        <subgroup>3275</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60T-008/4872</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>8</main-group>
        <subgroup>4872</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>B60T-013/662</classification-symbol>
        <section>B</section>
        <class>60</class>
        <subclass>T</subclass>
        <main-group>13</main-group>
        <subgroup>662</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>5</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>12</number-of-drawing-sheets>
      <number-of-figures>14</number-of-figures>
      <image-key data-format="questel">US6179396</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Brake control apparatus including duty controlled valve</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>MONZAKI SHIROU</text>
          <document-id>
            <country>US</country>
            <doc-number>5570935</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5570935</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>SAWADA MAMORU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6019438</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6019438</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>WILLMANN KARL-HEINZ</text>
          <document-id>
            <country>US</country>
            <doc-number>5188437</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5188437</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>NARITA TOMOHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5607209</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5607209</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>PUESCHEL HELMUT, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5727852</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5727852</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>DE</country>
            <doc-number>19501760</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE19501760</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>DE</country>
            <doc-number>19525800</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE19525800</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>DE</country>
            <doc-number>19615805</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>DE19615805</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>GB</country>
            <doc-number>2297134</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2297134</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>GB</country>
            <doc-number>2326452</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>GB2326452</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>JP</country>
            <doc-number>H05116609</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP05116609</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>MITSUBISHI MOTORS CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H07329766</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP07329766</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>BOSCH GMBH ROBERT</text>
          <document-id>
            <country>JP</country>
            <doc-number>H08230634</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP08230634</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>DENSO CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H09254773</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP09254773</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Aisin Seiki Kabushiki Kaisha</orgname>
            <address>
              <address-1>Kariya, JP</address-1>
              <city>Kariya</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>AISIN SEIKI</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Fukami, Masanobu</name>
            <address>
              <address-1>Aichi-ken, JP</address-1>
              <city>Aichi-ken</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Tozu, Kenji</name>
            <address>
              <address-1>Yokkaichi, JP</address-1>
              <city>Yokkaichi</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Itoh, Takayuki</name>
            <address>
              <address-1>Nagoya, JP</address-1>
              <city>Nagoya</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Yokoyama, Satoshi</name>
            <address>
              <address-1>Nishio, JP</address-1>
              <city>Nishio</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Burns, Doane, Swecker &amp; Mathis, LLP</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Graham, Matthew C.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A brake control apparatus includes a first valve for opening and closing a main line, a pump having an inlet port and an outlet port to supply pressurized brake fluid to a point between the main line and the wheel cylinder, an auxiliary line Mfc connecting the inlet port of the pump to a master cylinder, a second valve for opening and closing the auxiliary line, a brake operation sensor for detecting the operation of a brake pedal, and an electronic controller which controls the first valve, the second valve, and the hydraulic pump.
      <br/>
      The electronic controller judges the need for brake assist control based on the detection by the brake operation sensor and controls the first valve, the second valve and the pump to perform the brake assist control.
      <br/>
      The electronic control unit also controls the duty ratio for the second valve based on the detection of the brake operation sensor.
      <br/>
      According to the present invention, the duty ratio is determined based on the detection of the brake operation sensor when the brake assist control is judged to be necessary.
      <br/>
      The electronic control unit immediately drives the second valve with the determined duty ratio so that the pressure is promptly increased in the wheel cylinder in accordance with the driver's operation of the brake pedal.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This application corresponds to and claims priority under 35 U.S.C. .sctn.119 with respect to Japanese Application No. 09(1997)-356973 filed on Dec. 25, 1997, the entire content of which is incorporated herein by reference.</p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">
      The present invention generally relates to a brake control apparatus.
      <br/>
      More particularly, the present invention pertains to a brake control apparatus that increases or boosts the braking force when the driver applies a rapid or deep depressing force to the brake pedal.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      Under emergency situations, a driver may rapidly depress a brake pedal.
      <br/>
      However, the driver may not depress the brake pedal sufficiently or the driver may not maintain a sufficient force for a necessary period of time.
      <br/>
      Thus, to improve vehicle safety, some automatic brake assisting systems have been introduced in the market.
      <br/>
      Such known brake assisting systems employ a vacuum booster to automatically boost the braking force when the driver depresses the brake pedal rapidly.
    </p>
    <p num="4">
      Japanese Laid-Open Patent Publication No. H08-230634 published on Sep. 10, 1996, which corresponds to U.S. Pat. No. 5,727,852, discloses a brake assisting system in which a pump for anti-skid control or traction control is also used for boosting the braking force to reduce the role of the vacuum booster.
      <br/>
      This system includes a wheel cylinder, a master cylinder, a main line connecting the master cylinder to the wheel cylinder, a first valve to open and close the main line, a pump having an inlet port and an outlet port to supply pressurized brake fluid to a point between the first line and the wheel cylinder, an auxiliary line connecting the inlet port of the pump to the master cylinder, and a second valve to open and close the auxiliary line.
    </p>
    <p num="5">
      This known system also includes a pressure sensor to detect the output pressure from the master cylinder.
      <br/>
      The pump, the first valve and the second valve perform brake assistance under proper control when the output pressure and the pressure increase ratio exceeds the predetermined value.
      <br/>
      To increase the pressure, the first valve is opened and the second valve is closed.
      <br/>
      Then, the pressure increase rate is controlled by turning on and off the pressure pump.
      <br/>
      However, in this known system, the proper pressure increase rate may not be obtained in accordance with the driver's brake pedal operation when the electric motor keeps turning on.
    </p>
    <p num="6">
      It may be possible to obtain the proper pressure increase rate by turning on and off the electric motor.
      <br/>
      However, the pump may not discharge a sufficient amount of brake fluid from the reservoir because the pressure in the reservoir is less than the pressure in the master cylinder under anti-skid control.
      <br/>
      Accordingly, due to less discharge by the pump, the reservoir may be full so that anti-skid control may not be properly performed.
    </p>
    <p num="7">In light of the foregoing, a need exists for a brake control apparatus that is not susceptible to the foregoing drawbacks and disadvantages.</p>
    <p num="8">It would thus be desirable to provide a brake control apparatus that is able to simultaneously perform brake assist control and anti-skid control.</p>
    <p num="9">It would also be desirable to provide a brake control apparatus that is able to increase the brake pressure in a wheel cylinder immediately after initiation of brake assist control.</p>
    <p num="10">It would be further desirable to provide a brake control apparatus that is able to control the brake pressure in a wheel cylinder according to a driver's brake operation.</p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="11">
      The present invention provides a brake control apparatus that includes a wheel cylinder for applying a brake force to a wheel, a master cylinder which generates pressurized brake fluid according to the operation of a brake pedal, a main hydraulic line to connect the master cylinder to the wheel cylinder, a first valve that opens and closes the main line, and a pump having an inlet port and an outlet port for supplying pressurized brake fluid to a point between the main line and the wheel cylinder.
      <br/>
      An auxiliary line connects the inlet port of the pump to the master cylinder, and a second valve opens and closes the auxiliary line.
      <br/>
      A brake operation sensor detects the operation of the brake pedal and an initiation judging device determines the necessity of a brake assist control based on the detection by the brake operation sensor.
      <br/>
      A controller controls the first valve, the second valve and the pump to perform brake assist control after the determination by the initiation judging device.
      <br/>
      The controller includes a duty control device which controls the second valve with a determined duty ratio based on the detection by the brake operation sensor.
    </p>
    <p num="12">
      According to the present invention, the duty ratio is determined based on the detection by the brake operation sensor when the brake assist control is judged to be necessary.
      <br/>
      The controller immediately drives the second valve with the determined duty ratio so that the pressure is promptly increased in the wheel cylinder in accordance with the driver's operation of the brake pedal.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWING FIGURES</heading>
    <p num="13">
      Additional features and characteristics of the present invention will become more apparent from the following detailed description considered with reference to the accompanying drawing figures in which like elements are designated by like reference numerals wherein:
      <br/>
      FIG. 1 is a schematic block diagram showing the entire system according to the present invention;
      <br/>
      FIG. 2 is a circuit diagram showing the brake fluid circuit according to the present invention;
      <br/>
      FIG. 3 is a flow chart showing the overall control according to the present invention;
      <br/>
      FIG. 4 is flow chart showing the brake assist control step forming a part of the flow chart in FIG. 3;
      <br/>
      FIG. 5 is a flow chart showing calculations for the initial period of brake assist control in FIG. 4;
      <br/>
      FIG. 6 is a flow chart showing calculations for the time period Ts in the flow chart of FIG. 5;
      <br/>
      FIG. 7 is a timing chart showing various transitions during brake assist control;
      <br/>
      FIG. 8 is a flow chart showing the pressure control step forming a part of the flow chart in FIG. 3;
      <br/>
      FIG. 9 is a flow chart showing the pressure control step forming a part of the flow chart in FIG. 3;
      <br/>
      FIG. 10 is a graph showing the start area for brake assist control;
      <br/>
      FIG. 11 is a duty ratio map showing the relationship between master cylinder pressure and its deviation;
      <br/>
      FIG. 12 is a graph showing the relationship between vehicle body deceleration and wheel cylinder pressure;
      <br/>
      FIG. 13 is a graph showing the relationship between deviations of the vehicle body deceleration and duty ratios for the first and second valves; and
      <br/>
      FIG. 14 is a graph showing the relationship between pressure modulation modes and parameters for brake pressure control.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT</heading>
    <p num="14">
      Referring initially to FIG. 1, the system according to the present invention includes an internal combustion engine EG connected to a throttle controller TH and a fuel injector FI.
      <br/>
      The throttle controller TH controls a main throttle valve MT and a subthrottle valve ST.
      <br/>
      The main throttle valve MT is controlled in accordance with the driver's operation of an accelerator pedal AP.
      <br/>
      The sub-throttle valve ST is controlled by an electronic control unit ECU.
      <br/>
      The electronic control unit ECU also controls the fuel injector FI to adjust the amount of fuel supplied to the internal combustion engine EG.
      <br/>
      In this embodiment, the internal combustion engine EG drives the rear wheels RR, RL through a drive train GS and differential gear DF.
      <br/>
      Thus, this embodiment employs a so called rear wheel drive system.
      <br/>
      However, it is to be understood that the present invention may also be adapted for us in other drive systems, such as front wheel drive systems and all wheel drive systems.
    </p>
    <p num="15">
      The right and left front wheels FR, FL include respective wheel cylinders Wfr, Wfl.
      <br/>
      The right and left rear wheels RR, RL also include respective wheel cylinders Wrr, Wrl.
      <br/>
      All of the wheel cylinders Wfr, Wfl, Wrr, Wrl are hydraulically connected to a brake pressure controller BC.
      <br/>
      Additional details associated with the brake pressure controller BC will be described below with reference to FIG. 2.
    </p>
    <p num="16">
      Each of the wheels FR, FL, RR, RL includes a respective wheel speed sensor WS1, WS2, WS3, WS4.
      <br/>
      These speed sensors WS1, WS2, WS3, WS4 are all electrically connected to the electronic control unit ECU to supply pulse signals to the electronic control unit ECU indicative of the individual speeds of the wheels FR, FL, RR, RL.
      <br/>
      Further, the brake pressure controller BC includes a master cylinder MC and a pressure sensor PS.
      <br/>
      The pressure sensor PS detects an output pressure Pmc from the master cylinder MC.
      <br/>
      The pressure sensor PS is electrically connected to the electronic control unit ECU to supply a signal indicating the output pressure Pmc to the electronic control unit ECU.
      <br/>
      The master cylinder MC is mechanically connected to a brake pedal BP to receive the driver's brake pedal operation.
      <br/>
      The brake pedal BP is equipped with a brake switch BS.
      <br/>
      The brake switch BS is turned on when the driver depresses the brake pedal BP.
      <br/>
      The brake switch BS supplies an electric signal to the electronic control unit ECU representing the driver's operation of the brake pedal.
    </p>
    <p num="17">
      The electronic control unit ECU also receives signals from a steering angle sensor (not shown) which detects the steering angle of the front wheels FR, FL.
      <br/>
      Further, the electronic control unit ECU receives signals from a lateral acceleration sensor LAS which detects the lateral acceleration Gy of a vehicle and from a yaw rate sensor (not shown) which detects the yaw rate of the vehicle.
    </p>
    <p num="18">
      The electronic control unit ECU includes a micro computer MCP.
      <br/>
      The micro computer MCP further includes a central processing unit CPU, read only memories ROM, random access memories RAM, input ports IPT and output ports OPT.
      <br/>
      Various signals are amplified by amplifiers AMP and are fed to the central processing unit CPU from the wheel speed sensors WS1, WS2, WS3, WS4, the pressure sensor PS, the brake switch BS, the steering angle sensor, the yaw rate sensor, and the lateral acceleration sensor LAS.
      <br/>
      Further, various signals are supplied from the central processing unit CPU to the throttle controller TH and the brake pressure controller BC through drivers ACT.
    </p>
    <p num="19">
      The micro computer MCP executes the programs shown in FIGS. 3, 4, 5, 6, 8 and 9 when an ignition switch is closed to operate the internal combustion engine EG.
      <br/>
      These programs are stored in the read only memories ROM.
      <br/>
      The micro computer MCP temporally stores variables in the random access memories RAM to execute the programs.
      <br/>
      It is to be understood that multiple micro computers can be employed for various tasks defined by the programs.
    </p>
    <p num="20">
      FIG. 2 is a circuit diagram showing the brake pressure controller BC.
      <br/>
      The master cylinder MC is driven by a vacuum booster VB in accordance with the driver's operation of the brake pedal BP.
      <br/>
      When the driver operates the brake pedal BP, the master cylinder MC pressurizes brake fluid stored in a master reservoir LRS and supplies the pressurized brake fluid to a first hydraulic line and a second hydraulic line.
      <br/>
      The first line connects a first pressure chamber MCa of the master cylinder MC to the wheel cylinders of the front right wheel FR and the rear left wheel RL.
      <br/>
      The second line connects a second pressure chamber MCb of the master cylinder MC to the wheel cylinders of the front left wheel FL and the rear right wheel RR.
      <br/>
      The master cylinder MC in this embodiment is a tandem type master cylinder and the first and the second lines constitute a diagonal type hydraulic brake.
    </p>
    <p num="21">
      In the first line for wheel cylinders Wfr, Wrl, the first pressure chamber MCa is connected to a main flow passage MF.
      <br/>
      The main flow passage MF branches off into two passages MF1, MF2.
      <br/>
      One of the branch passages MF1 is connected to the wheel cylinder Wfr.
      <br/>
      The other branch passage MF2 is connected to the wheel cylinder Wrl.
      <br/>
      An open/close valve SC1 is located in the main flow passage MF.
      <br/>
      The valve SC1 is a so-called cut valve and is normally open.
      <br/>
      Further, the first pressure chamber MCa is connected to a pair of one-way valves CV5, CV6 through an auxiliary flow passage MFc.
      <br/>
      The pressure sensor PS is connected to the auxiliary flow passage MFc to detect the output pressure Pmc from the master cylinder MC.
      <br/>
      To detect that the driver is operating the brake pedal BP, the pressure sensor PS may be used instead of the brake switch BS.
      <br/>
      It is possible to use a brake stroke sensor instead of the brake switch BS to detect operation of the brake pedal.
    </p>
    <p num="22">
      An open/close valve PC1 is located in the branch passage MF1 and an open/close valve PC2 is located in the branch passage MF2.
      <br/>
      These valves PC1, PC2 are normally open.
      <br/>
      A one-way valve CV1 is located in parallel to the valve PC1 and a one-way valve CV2 is located in parallel to the valve PC2.
      <br/>
      These one-way valves CV1, CV2 only allow brake fluid to flow towards the mater cylinder MC.
      <br/>
      The brake fluid in the wheel cylinders Wfr, Wrl are returned to the master cylinder MC and the master cylinder reservoir LRS through the one-way valves CV1, CV2 and the valve SC1.
      <br/>
      Accordingly, when the driver releases the brake pedal BP, fluid pressure in the wheel cylinders Wfr, Wrl is able to quickly follow the decreasing output pressure Pmc from the master cylinder MC.
      <br/>
      The wheel cylinder Wfr is also connected to a return flow branch passage RF1 through an open/close valve PC5 while the wheel cylinder Wrl is also connected to a return flow branch passage RF2 through an open/close valve PC6.
      <br/>
      The valves PC5, PC6 are normally closed.
      <br/>
      The return flow branch passages RF1, RF2 are joined to a return flow passage RF.
      <br/>
      The return flow passage RF is connected to a auxiliary reservoir RS1.
    </p>
    <p num="23">
      An inlet port of a first hydraulic pump HP1 is connected to the auxiliary reservoir RS1 through the one-way valves CV6, CV5.
      <br/>
      An outlet port of the hydraulic pump HP1 is connected to the valves PC1, PC2 through a one-way valve CV7 and a fluid passage MFp.
      <br/>
      The hydraulic pump HP1 is driven by an electric motor M to draw in brake fluid from the inlet port and supply pressurized brake fluid from the outlet.
      <br/>
      The electric motor M serves as a common drive for both the first hydraulic pump HP1 and a second hydraulic pump HP2 which is operatively connected to the second line.
      <br/>
      The auxiliary reservoir RS1 is also referred to as an accumulator and is independent from the master cylinder reservoir LRS.
      <br/>
      The auxiliary reservoir RS1 includes a movable piston and a spring so that a predetermined amount of brake fluid may be temporarily conserved or stored in the auxiliary reservoir RS1.
    </p>
    <p num="24">
      The master cylinder MC is connected to the one-way valves CV5, CV6 through the auxiliary flow passage MFc.
      <br/>
      The one-way valve CV5 cuts off brake fluid flow from the master cylinder MC to the auxiliary reservoir RS1, but allows counter flow from the auxiliary reservoir RS1 to the master cylinder MC.
      <br/>
      The one-way valves CV6, CV7 allow brake fluid flow from the inlet port to the outlet port of the hydraulic pump HP1.
      <br/>
      The one-way valves CV6, CV7 are typically integrated with the hydraulic pump HP1.
      <br/>
      An open/close valve SI1 is located in the auxiliary flow passage MFc.
      <br/>
      The valve SI1 is normally closed to cut off the master cylinder MC from the inlet port of the hydraulic pump HP1.
      <br/>
      In other words, the inlet port of the hydraulic pump HP1 is connected to the master cylinder MC when the valve SI1 is opened by the electronic control unit ECU.
    </p>
    <p num="25">
      A relief valve RV1 and one-way valve AV1 are connected in parallel to the valve SC1.
      <br/>
      To adjust the output pressure from the hydraulic pump HP1, the relief valve RV1 cuts off brake fluid flow from the master cylinder MC to the valves PC1, PC2, but allows the counter flow of brake fluid when a pressure difference between the main flow passage MF and the master cylinder MC exceeds a predetermined value.
      <br/>
      The one-way valve AV1 allows brake fluid flow toward the wheel cylinders Wfr, Wrl but cuts off or prevents the counter flow of brake fluid.
      <br/>
      Due to the one-way valve AV1, when the driver depresses the brake pedal BP, the pressure in the wheel cylinders Wfr, Wrl is increased even while the valve SC1 is closed.
      <br/>
      A dumper DP1 is also disposed at the outlet port of the hydraulic pump HP1 and a proportioning valve PV1 is disposed before the inlet port of the rear wheel cylinder Wrl.
    </p>
    <p num="26">
      The second line for the wheels cylinders Wfl, Wrr associated with the front left wheel and the rear right wheel consists of the same elements and fluid circuits as the first line described above.
      <br/>
      The second line includes an auxiliary reservoir RS2 corresponding to the auxiliary reservoir RS1, a dumper DP2 corresponding to the dumper DP1, a proportioning valve PV2 corresponding to the proportioning valve PV1, a normally opened valve SC2 corresponding to the normally opened valve SC1, a normally closed valve SI2 corresponding to the normally closed valve SI1, a plurality of valves PC3, PC4, PC7, PC8 corresponding to the valves PC2, PC1, PC6, PC5, a plurality of one-way valves CV3, CV4, CV8, CV9, CV10 corresponding to the one-way valves CV2, CV1, CV5, CV6, CV7, a relief valve RV2 corresponding to the relief valve RV1, and a one-way valve AV2 corresponding to the one-way valve AV1.
      <br/>
      Also, as noted above, the hydraulic pump HP2 is driven together with the hydraulic pump HP1 by the common electric motor M.
    </p>
    <p num="27">The electronic control unit ECU controls the electric motor M, the valves SC1, SC2, SI1, SI2 and the valves PC1, PC2, PC3, PC4, PC5, PC6, PC7, PC8 to perform brake assist control, anti-skid control, vehicle stability control (i.e., over-steer/under-steer reduction control), front and rear braking force distribution control and traction control.</p>
    <p num="28">
      FIG. 3 is a general flow chart showing the overall control that is carried out in accordance with the present embodiment.
      <br/>
      At step 101, the micro computer MCP is initialized to clear variables and reset the input and output ports.
      <br/>
      At step 102, signals are received from the wheel speed sensors WS1, WS2, WS3, WS4 and the pressure sensor PS.
      <br/>
      Further, at the step 102, signals are also received from the steering angle sensor, the yaw rate sensor and the lateral acceleration sensor LAS.
    </p>
    <p num="29">
      At step 103, the output pressure Pmc from the master cylinder MC is differentiated so that a change rate DPmc of the output pressure Pmc is calculated.
      <br/>
      At step 104, each wheel speed Vw** is calculated.
      <br/>
      As used herein, the characters "**" refer to one of the wheels FR, FL, RR, RL.
      <br/>
      Also at step 104, each wheel speed Vw** is differentiated so that each wheel acceleration DVw** is also calculated.
      <br/>
      At step 105, an estimated vehicle body speed Vso is calculated at the center of gravity of the vehicle body through use of the formula: Vso=MAX (Vw**).
      <br/>
      In other words, the estimated vehicle body speed is equal to the largest wheel speed Vw**. At step 105, each respective estimated vehicle body speed Vso** is also calculated at each wheel FR, FL, RR, RL.
      <br/>
      Also, if necessary, the respective vehicle body speeds Vso** may be normalized to reduce errors due to a turn of the vehicle body.
      <br/>
      Furthermore, at step 105, a vehicle body deceleration DVso in the fore-aft direction of the vehicle body is calculated at the center of gravity of the vehicle body.
      <br/>
      The vehicle body deceleration DVso is determined by differentiating the estimated vehicle body speed Vso.
      <br/>
      It is to be understood that the vehicle body deceleration means the same thing as the vehicle body acceleration except for a difference in sign.
    </p>
    <p num="30">
      At step 106, a slip rate Sa** for each wheel FR, FL, RR, RL is calculated based on each wheel speed Vw** and each body speed Vso** (or the normalized vehicle body speed) through use of the formula: Sa**=(Vso**-Vw**)/Vso**. At step 107, a road surface frictional coefficient  MU  is approximately estimated based on the vehicle body deceleration DVso and the lateral acceleration Gy through use of the formula:  MU =(DVso2 +Gy2)1/2.
      <br/>
      It may also be possible to estimate the road surface frictional coefficient  MU ** for each wheel FR, FL, RR, RL based on the road surface frictional coefficient  MU  and each estimated wheel cylinder pressure Pw**.
    </p>
    <p num="31">
      At step 108, the brake assist control is performed.
      <br/>
      The details associated with the brake assist control is explained below.
      <br/>
      At step 109, various control modes and target slip rates are set to perform brake assist control, anti-skid control, vehicle stability control (i.e., over-steer/under-steer reduction control), front and rear braking force distribution control and traction control.
      <br/>
      At step 110, the hydraulic pressures are controlled by the brake pressure controller BC so that the braking forces are controlled at the wheels FR, FL, RR, RL.
      <br/>
      For the brake assist control, the brake pressure controller BC controls the electric motor M and the valves SC1, SC2, SI1, SI2.
    </p>
    <p num="32">
      Referring to FIG. 4, the brake assist control at step 108 of the flow chart shown in FIG. 3 is explained in more detail.
      <br/>
      At step 201, a brake assist control flag FL is checked.
      <br/>
      Unless the flag FL is equal to an initiation flag F1 or a working flag F2, step 202 is executed.
      <br/>
      The flag F1 represents that the brake assist control has already started, but is in an initial time period.
      <br/>
      The flag F2 indicates that the brake assist control is actively working.
      <br/>
      At step 202, the electronic control unit ECU judges if the starting condition for the brake assist control has been satisfied.
      <br/>
      If the starting condition is satisfied at the step 202, step 203 is executed to set the control flag FL to the initiation flag F1.
      <br/>
      Here, the brake assist control starts under the cross-hatched area in FIG. 10 where (a) the output pressure Pmc from the master cylinder MC exceeds certain values and (b) the change rate DPmc of the output pressure Pmc exceed certain rates.
    </p>
    <p num="33">
      At step 204, the electronic control unit ECU determines a duty ratio Dis for the valves SI1, SI2 and a time period Ts for the initial time period.
      <br/>
      At step 205, the electronic control unit ECU sets the duty ratio Dis to the value resulting from step 204 for the valves SI1 and SI2.
      <br/>
      The electronic control unit ECU also sets another duty ratio to 100% for the valves SC1 and SC2 at the step 205.
      <br/>
      At step 206, the electronic control unit ECU judges if the time period Ts has elapsed.
      <br/>
      If the time period Ts has not yet elapsed, the electronic control unit ECU returns to the main routine shown in FIG. 3.
      <br/>
      Otherwise, the electronic control unit ECU executes step 207 to set the control flag FL to the working flag F2.
      <br/>
      After step 207, the electronic control unit ECU returns to the main routine shown in FIG. 3.
    </p>
    <p num="34">
      If it is determined in step 201 that the flag FL is equal to the initiation flag F1 or the working flag F2, step 208 is executed.
      <br/>
      At the step 208, the electronic control unit ECU judges if at least one of the ending conditions for the brake assist control has been satisfied.
      <br/>
      Here, the ending conditions are: (e) the brake switch BS is turned off (i.e., the driver has released the brake pedal BP); or (f) the estimated vehicle body speed Vso is less than a certain value at the center of gravity of the vehicle body; or (g) the output pressure Pmc is less than a certain pressure Pa (e.g., 1 mega-PASCAL); or (h) the output pressure Pmc exceeds a certain pressure Pb where the certain pressure Pb represents the minimum pressure to lock any wheel on a normal (or nonslippery) road surface.
      <br/>
      If it is determined at step 208 that none of the ending conditions is satisfied, the electronic control unit ECU executes step 209 to judge the control flag FL.
      <br/>
      At step 209, if the control flag is equal to the initiation flag F1, the electronic control unit ECU executes steps 205, 206 and 207 as described above.
      <br/>
      At step 209, if the control flag FL is not equal to F1 (i.e., if the control flag FL is equal to the working flag F2), the electronic control unit ECU executes step 210.
    </p>
    <p num="35">
      At step 210, the electronic control unit ECU sets a target deceleration Gt.
      <br/>
      The electronic control unit ECU first determines a vehicle body deceleration Gm based on the output pressure Pmc of the master cylinder MC.
      <br/>
      Then, the electronic control unit ECU also selects one of constant declarations  DELTA g for the brake assist control in accordance with the output pressure Pmc of the master cylinder MC to add the selected constant deceleration  DELTA g to the vehicle body deceleration Gm.
      <br/>
      In other words, the target deceleration Gt is the sum of the vehicle body deceleration Gm and the selected constant deceleration  DELTA g, which means that the target deceleration Gt is set in accordance with the output pressure Pmc of the master cylinder MC.
      <br/>
      At step 211, the electronic control unit ECU calculates the difference between the target deceleration Gt and the vehicle body deceleration DVso which is referred as a supplemental vehicle body deceleration  DELTA G in this application.
      <br/>
      At step 212, the electronic control unit ECU calculates the control amount of brake assistance in accordance with the supplemental vehicle body deceleration  DELTA G. In other words, the electronic control unit ECU sets the duty ratios Di and Dc as shown in FIG. 13.
    </p>
    <p num="36">
      More specifically, while the brake pressure is increased and the supplemental vehicle body deceleration  DELTA G is positive, the duty ratio Di for the valves SI1, SI2 is set in proportion to the supplemental vehicle body deceleration  DELTA G and the duty ratio Dc is set to nearly 100% to substantially close the valves SC1, SC2.
      <br/>
      In contrast, while the brake pressure is decreased and the supplemental vehicle body deceleration  DELTA G is negative, the duty ratio Dc for the valves SC1, SC2 is set in proportion to the supplemental vehicle body deceleration  DELTA G and the duty ratio Di is set to nearly zero % to substantially close the valves SI1, SI2.
      <br/>
      The duty ratio Di for the valves SI1, SI2 has an upper limit Dup so that the duty ratio Di does not exceed the upper limit Dup regardless of the supplemental vehicle body deceleration  DELTA G. Due to the upper limit Dup, the hydraulic pumps HP1, HP2 may not draw in an excessive amount of brake fluid from the master cylinder MC.
      <br/>
      Therefore, the brake pedal BP may not sink regardless of the driver's operation.
      <br/>
      Further, output pressure Pmc from the master cylinder MC may be stabilized.
    </p>
    <p num="37">
      At step 213, the control amount of brake assistance is distributed to the wheels FR, FL, RR, RL.
      <br/>
      By this distribution, the braking force and target slip rate are properly adjusted for each wheel FR, FL, RR, RL to maintain stable vehicle dynamics.
    </p>
    <p num="38">
      If the electronic control unit ECU judges in step 208 that one of the ending conditions has been satisfied, step 214 is executed to set the control flag FL to a termination flag F3.
      <br/>
      At step 215, the electronic control unit ECU determines a duty ratio Dce for the valves SC1, SC2 and a time period Te for the termination period.
      <br/>
      The duty ratio Dce is selected from a map depending on the decreasing change rate DPmc of the output pressure Pmc.
      <br/>
      The duty ratio Dce gets larger or increases as the decreasing change rate DPmc gets larger or increases.
      <br/>
      Further, the time period Te is set to a constant time period (e.g., 0.2 second).
    </p>
    <p num="39">
      At step 216, the electronic-control unit ECU sets the duty ratio Dce to the value selected in step 215 and also sets another duty ratio to zero % for the valves SI1 and SI2.
      <br/>
      At step 217, the electronic control unit ECU determines if the time period Te has elapsed.
      <br/>
      If the time period Te has not yet elapsed, the electronic control unit Ecu returns to the main routine shown in FIG. 3.
      <br/>
      Otherwise, the electronic control unit ECU executes step 218 to set the control flag FL to a resting flag F0.
      <br/>
      After step 218, the electronic control unit ECU returns to the main routine shown in FIG. 3.
    </p>
    <p num="40">
      If the ECU determines in step 202 that the starting condition is not satisfied, the electronic control unit ECU executes step 219 to check if the control flag FL is equal to the termination flag F3.
      <br/>
      If the control flag FL is equal to the termination flag F3, the electronic control unit ECU executes steps 216, 217 and 218 as described above and returns to the main routine shown in FIG. 3.
      <br/>
      At step 219, if the control flag FL is not the termination flag F3, the electronic control unit ECU returns to the main routine shown in FIG. 3 because the control flag FL represent the resting mode (i.e., a non-controlling mode).
    </p>
    <p num="41">
      Referring now to FIGS. 5 and 6, the determination or calculation of the duty ratio Dis and the initial time period Ts is explained.
      <br/>
      FIG. 5 shows the details associated with step 204 in the flow chart of FIG. 4.
      <br/>
      At step 401 in FIG. 5, the electronic control unit ECU sets the duty ratio Dis that is selected from a map shown in FIG. 11 based on the output pressure Pmc from the master cylinder MC and its change rate DPmc.
      <br/>
      The duty ratio Dis gets larger or increases as the output pressure Pmc gets larger or increases.
      <br/>
      Further, the duty ratio Dis gets larger or increases as the change rate DPmc gets larger or increases.
      <br/>
      Therefore, the electronic control unit ECU is able to obtain a proper pressure increase rate in accordance with the driver's operation of the brake pedal BP.
    </p>
    <p num="42">
      At step 402, the electronic control unit ECU sets the initial time period Ts.
      <br/>
      FIG. 6 is a flow chart showing the details of step 402 in the flow chart of FIG. 5.
      <br/>
      At step 501 in FIG. 6, in a manner similar to the calculation in step 210, the electronic control unit ECU calculates the sum of the vehicle body deceleration Gm and the selected constant deceleration  DELTA g to set the target deceleration Gt.
      <br/>
      At step 502, by reference to the graph shown in FIG. 12, the electronic control unit ECU estimates a target wheel cylinder pressure Pwct from the target deceleration Gt and also estimates an actual wheel cylinder pressure Pwca from the vehicle body deceleration DVsc.
      <br/>
      At step 503, the electronic control unit ECU calculates the pressure difference  DELTA Pwc between the target wheel cylinder pressure Pwct and the current wheel cylinder pressure Pwca through use of the formula:  DELTA Pwc=Pwct-Pwca.
      <br/>
      At step 504, the electronic control unit ECU calculates the target amount Vc of brake fluid based on the pressure difference  DELTA Pwc through use of the formula: Vc=K1 *  DELTA Pwc, wherein K1 is a positive constant.
    </p>
    <p num="43">
      At step 505, the electronic control unit ECU calculates a unit discharge Vp in a unit time based on the duty ratio Dis and the current wheel cylinder pressure Pwca through use of the formula: Vp=(K2 * Pwca+K3) * Dis.
      <br/>
      Here, the constant K2 has a negative value and the constant K3 has a positive value.
      <br/>
      Further, the current wheel cylinder pressure Pwca corresponds to the load against the discharge of the hydraulic pump HP1.
      <br/>
      As apparent from the foregoing formula, the unit discharge Vp gets smaller as the load and the current wheel cylinder pressure Pwca get larger.
      <br/>
      At step 506, the electronic control unit ECU calculates the initial time period Ts.
      <br/>
      The time period Ts is set to the shorter one of: (a) a time period for supplying the target amount Vc of brake fluid to the wheel cylinders Wfr, Wfl, Wrr, Wrl or (b) a constant time period Tc (e.g., 1 second).
    </p>
    <p num="44">
      Although the duty ratio Dis is set at step 401 based on the output pressure Pmc and the change rate DPmc for the valves SI1 and SI2, the duty ratio Dis may also be set based on either the output pressure Pmc or the change rate DPmc.
      <br/>
      Further, it is possible to set the duty ratio Dis based on the stroke of the brake pedal BP or a change rate of the stroke.
    </p>
    <p num="45">
      FIG. 7 is a timing chart showing the brake assist control.
      <br/>
      The chart in FIG. 7(A) shows the transition of the output pressure Pmc from the master cylinder.
      <br/>
      The output pressure Pmc substantially corresponds to the driver's operation of the brake pedal BP.
      <br/>
      The solid line shows an exemplary transition of the output pressure Pmc under brake assist control whereas the two-dot chain line shows an exemplary transition without brake assist control.
      <br/>
      The broken line shows an exemplary transition of the brake pressure in one of the wheel cylinder Wfr, Wfl, Wrr, Wrl under brake assist control.
      <br/>
      The chart in FIG. 7(B) shows the control modes of the brake assist control.
      <br/>
      In the chart of FIG. 7(B), the brake assist control starts from the resting period, the initial time period, the gain down control period, the working period, the termination period and the resting period.
      <br/>
      The chart in FIG. 7(C) shows an exemplary reduction deviation of the output pressure Pmc from the master cylinder MC due to brake assist control.
      <br/>
      The chart in FIG. 7(D) shows the dependent rate on the pressure sensor PS under brake assist control.
      <br/>
      The chart in FIG. 7(E) shows an exemplary transition of the supplemental vehicle body deceleration  DELTA g. The chart in FIG. 7(F) shows exemplary transitions of the duty ratios Di and Dc for the valves SI1, SI2, SC1 and SC2.
    </p>
    <p num="46">
      In FIGS. 7(A)-7(F), the initial time period is begun at point (a) where the output pressure Pmc and the change rate DPmc exceeds the predetermined values.
      <br/>
      Then, during the time period Ts or between point (a) and point (b), the duty ratio Dis for the valves SI1 and SI2 is maintained at the constant value selected from the map.
      <br/>
      After the initial time period is completed at point (b), the gain down control is performed so that the duty ratio Di is limited to 50% of the originally selected value during the time period Td or between point (b) and point (c).
    </p>
    <p num="47">
      Then, the brake pressure control is performed during the working period or between point (c) and point (f) so that the duty ratios Di and Dc are set to proper values in proportion to the supplemental vehicle body deceleration  DELTA G. In other words, the valves SI1, SI2, SC1, SC2 are alternatively opened and closed based on the duty ratios Di and Dc so that the brake pressure (shown by the dotted line in the chart of FIG. 7(A)) in the wheel cylinder is higher than the output pressure Pmc (shown by the two-dot chain line in the chart of FIG. 7(A)).
      <br/>
      In the chart of FIG. 7(A), a pressure difference between the dotted line and the two-dot chain line is a constant.
      <br/>
      However, the actual output pressure Pmc follows the solid line in the chart of FIG. 7(A) so as to be smaller than the two-dot chain line because the brake fluid is drawn in by the hydraulic pumps HP1 and HP2.
    </p>
    <p num="48">
      When the driver slightly releases the brake pedal BP at point (d), the supplemental vehicle body deceleration  DELTA G becomes negative (i.e., acceleration).
      <br/>
      Further, when the driver further depresses the brake pedal BP at point (e), the supplemental vehicle body deceleration  DELTA G is increased.
      <br/>
      Further, the duty ratio Di is also increased for the valves SI1 and SI2 as the supplemental vehicle body deceleration  DELTA G increases.
      <br/>
      If the duty ratio Di was increased as represented by the dotted line shown in the chart of FIG. 7(F), the output pressure Pmc would be decreased as represented by the dotted line around point (e) in the chart of FIG. 7(A) due to the increased amount of brake fluid drawn in by the hydraulic pumps HP1 and HP2.
      <br/>
      This causes less counter force to the brake pedal BP so that the driver may feel something wrong.
      <br/>
      To prevent this, the duty ratio Di is limited so as not to exceed the upper limit Dup as shown by the solid line in the chart in FIG. 7(F) around point (e).
      <br/>
      Then, when the output pressure Pmc becomes less than the predetermined value at point (f), the termination period Te is begun so that the duty ratio Dce is selected from the map for the valves SC1 and SC2.
      <br/>
      After the termination period Te, the brake assist control is in the resting period.
    </p>
    <p num="49">
      FIGS. 8 and 9 illustrate the pressure control corresponding to step 109 in FIG. 3 in which the brake pressures in respective wheel cylinders Wfr, Wfl, Wrr, Wrl, are controlled.
      <br/>
      At step 301, the electronic control unit ECU judges if the vehicle stability control is being performed.
      <br/>
      If the vehicle stability control is being performed, the electronic control unit ECU executes step 302 to set a predetermined target slip rate Sv** for each of the target slip rates St** for the wheels FR, FL, RR, RL.
      <br/>
      If it is determined at step 301 that the vehicle stability control is not being performed, the electronic controller ECU executes step 303 to set each of the target slip rates St** to zero.
      <br/>
      At step 304, the electronic control unit ECU judges if the brake assist control is in the working period (i.e., the control flag FL=F2).
      <br/>
      If the brake assist control is in the working period, the electronic control unit ECU executes step 305 to add a slip rate compensator  DELTA Sb** to each of the target slip rates St**. At step 306, the electronic control unit ECU calculates the sum of a fore-aft distribution compensator  DELTA Sd**, a slip rate compensator  DELTA Sr** for traction control and a slip rate compensator  DELTA Ss** for anti-skid control.
      <br/>
      The electronic control unit ECU then adds the sum to each of the target slip rates St**. The fore-aft distribution compensator  DELTA Sd**, the slip rate compensator  DELTA Sr** and the slip rate compensator  DELTA Ss** are set to zero while the related controls are not performed.
    </p>
    <p num="50">
      At step 307, the electronic control unit ECU calculates slip rate deviations  DELTA St** for respective wheels FR, FL, RR, RL and at step 308 the electronic control unit ECU calculates a vehicle body deceleration deviation  DELTA DVso**. The slip rate deviations  DELTA St** represent the differences between the target slip rates St** and the actual slip rates Sa** (i.e.,  DELTA St**=St**-Sa**).
      <br/>
      The body acceleration deviations  DELTA DVso** represent the differences between the vehicle body deceleration DVso and wheel accelerations DVw** (i.e.,  DELTA DVso**=DVso-DVw**).
      <br/>
      As is known, the actual slip rates Sa** and the body acceleration deviations  DELTA DVso** may take various values under various controls and so a detailed explanation is not set forth in detail here.
    </p>
    <p num="51">
      At step 309, the electronic control unit ECU compares the slip rate deviations  DELTA st** with a constant Ka.
      <br/>
      If the absolute value of the slip rate deviations  DELTA st** is greater than or equal to the constant Ka, the electronic control unit ECU executes step 311 to renew an integration I DELTA ST** of the slip rate deviations  DELTA St**. In other words, the present integrations I DELTA ST** are the sum of the last integration I DELTA ST** and the product resulting from multiplying the present slip rate deviations  DELTA St** and the gains GI**. In case the absolute value of the slip rate deviations .vertline.
      <br/>
      DELTA St**.vertline. is less than the constant Ka, the electronic control unit ECU clears the integration I DELTA ST** at step 310.
      <br/>
      At steps 312, 313, 314 and 315, the integrations I DELTA ST** are limited within the range between the upper limit Kb and the lower limit Kc (i.e., Kc &lt;= I DELTA St** &lt;= Kb).
      <br/>
      At step 313, the electronic control unit ECU sets the upper limit Kb to the integration I DELTA st** if the integration I DELTA ST** exceeds the upper limit Kb.
      <br/>
      At step 315, the electronic control unit ECU also sets the lower limit Kc to the integration I DELTA ST** if the integration I DELTA St** is less than the lower limit Kc.
    </p>
    <p num="52">
      At step 316, the parameters Y** are calculated through use of the formula: Y**=Gs** * ( DELTA st**+I DELTA st**) for various brake pressure controls.
      <br/>
      At step 317, another set of parameters X** is calculated through use of the formula: X**=Gd** *  DELTA DVso.
      <br/>
      Here, the gains Gs** and Gd** are predetermined values.
    </p>
    <p num="53">
      At step 318, the electronic control unit ECU selects one of the pressure modulation modes shown in FIG. 14 based on the parameters X** and Y**. FIG. 14 is a graph showing the relationship between the pressure modulation modes and the parameters X**, Y** for brake pressure control.
      <br/>
      Based on the parameters X** and Y**, the electronic control unit ECU selects one area from amongst a rapid pressure reduction area, a pulsed pressure reduction area, holding areas, a pulsed pressure increase area and a rapid pressure increase area.
      <br/>
      In case none of the brake pressure controls is being performed, no pressure modulation mode is selected.
    </p>
    <p num="54">
      In case the pressure modulation mode is switched from reduction to increase or from increase to reduction, the electronic control unit ECU executes step 319 to produce a smooth brake pressure transition.
      <br/>
      For example, when the electronic control unit ECU switches the pressure modulation mode from the rapid reduction mode to the pulse increase mode, the rapid increase mode is first performed for a time period depending on the duration of the last rapid reduction mode.
      <br/>
      At step 320, the selected pressure modulation modes are set to each wheel FR, FL, RR and RL with relation to the other wheels.
      <br/>
      For example, in case the electronic control unit ECU employs a so called low-select method for the rear wheels RR and RL, the electronic control unit ECU controls the brake pressure based on the lower speed wheel.
    </p>
    <p num="55">
      At step 321, the electronic control unit ECU drives the valves SI1, SI2, SC1, SC2 and the electric motor M based on the duty ratios Di and Dc determined at steps 205, 212 and 216.
      <br/>
      Further, at step 321, the electronic control unit ECU also drives the modulator valves PC1, PC2, PC3, PC4, PC5, PC6, PC7, PC8 to adjust the braking forces of the wheels FR, FL, RR, RL.
    </p>
    <p num="56">
      In this embodiment, the duty ratio Dis is determined based on the output pressure Pmc detected by the pressure sensor PS when the brake assist control is judged to be necessary.
      <br/>
      The brake pressure controller BC immediately drives the second valve with the determined duty ratio Dis so that the pressure is promptly increased in the wheel cylinders Wfr, Wfl, Wrr, Wrl in accordance with the driver's operation of the brake pedal BP.
    </p>
    <p num="57">
      The brake control apparatus of the present invention is advantageously able to simultaneously perform brake assist control and anti-skid control.
      <br/>
      In addition, the brake control apparatus permits an increase in the brake pressure in a wheel cylinder immediately after initiation of brake assist control.
      <br/>
      Further, the brake control apparatus advantageously controls the brake pressure in a wheel cylinder according to a driver's brake pedal operation.
    </p>
    <p num="58">
      The principles, preferred embodiment and mode of operation of the present invention have been described in the foregoing specification.
      <br/>
      However, the invention which is intended to be protected is not to be construed as limited to the particular embodiment described.
      <br/>
      Further, the embodiment described herein is to be regarded as illustrative rather than restrictive.
      <br/>
      Variations and changes may be made by others, and equivalents employed, without departing from the spirit of the present invention.
      <br/>
      Accordingly, it is expressly intended that all such variations, changes and equivalents which fall within the spirit and scope of the invention be embraced thereby.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A brake control apparatus comprising:</claim-text>
      <claim-text>a wheel cylinder for applying a brake force to a wheel; a master cylinder for generating pressurized brake fluid in accordance with operation of a brake pedal; a main line connecting the master cylinder to the wheel cylinder; a first valve for opening and closing the main line; a pump having an inlet port and an outlet port to supply a pressurized brake fluid to a point of the main line between the first valve and the wheel cylinder; an auxiliary line connecting the inlet port of the pump to the master cylinder; a second valve for opening and closing the auxiliary line; a brake operation sensor for detecting operation of the brake pedal; initiation judging means for judging a need for brake assist control based on a detection by the brake operation sensor of the operation of the brake pedal; a controller to control the first valve, the second valve and the pump to perform the brake assist control when the initiation judging means judges a need for brake assist control; the controller including duty determination means for determining a duty ratio for the second valve based on a change rate of an operation amount of the brake pedal and duty control means for controlling the second valve with the duty ratio determined by the duty ratio determination means.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The apparatus according to claim 1, wherein the duty control means drives the second valve for a set time period.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The apparatus according to claim 2, wherein the controller includes: deceleration detecting means for detecting a vehicle body deceleration; target setting means for determining a target deceleration based on the operation of the brake pedal detected by the brake operation sensor;</claim-text>
      <claim-text>and supplemental deceleration calculating means for calculating a difference between the target deceleration and the vehicle body deceleration, said duty control means driving the second valve based on the difference after the set time period.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The apparatus according to claim 2, wherein the controller includes: determination means for determining a target amount of brake fluid supplied to the wheel cylinder based on the operation of the brake pedal detected by the brake operation sensor;</claim-text>
      <claim-text>and estimating means for estimating a unit discharge of the pump in a unit time based on the duty ratio, the set time period set by the duty control means being determined by a time period for supplying the target amount of the brake fluid to the wheel cylinder.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The apparatus according to claim 1, wherein the controller closes the first valve when the target deceleration is larger than the vehicle body deceleration and the difference is positive.</claim-text>
    </claim>
  </claims>
</questel-patent-document>