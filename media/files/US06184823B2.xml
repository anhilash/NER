<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184823B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184823</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184823</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="22103149" extended-family-id="42112667">
      <document-id>
        <country>US</country>
        <doc-number>09071721</doc-number>
        <kind>A</kind>
        <date>19980501</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09071721</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43170572</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>7172198</doc-number>
        <kind>A</kind>
        <date>19980501</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998US-09071721</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>G01C  21/32        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>C</subclass>
        <main-group>21</main-group>
        <subgroup>32</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>G01S  19/48        20100101ALI20100101RMUS</text>
        <ipc-version-indicator>
          <date>20100101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>01</class>
        <subclass>S</subclass>
        <main-group>19</main-group>
        <subgroup>48</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>US</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20100101</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G06F  17/30        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>17</main-group>
        <subgroup>30</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>342357310</text>
        <class>342</class>
        <subclass>357310</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>701532000</text>
        <class>701</class>
        <subclass>532000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>707E17018</text>
        <class>707</class>
        <subclass>E17018</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>G01C-021/32</text>
        <section>G</section>
        <class>01</class>
        <subclass>C</subclass>
        <main-group>21</main-group>
        <subgroup>32</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>G06F-017/30L</text>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>017</main-group>
        <subgroup>30L</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G01C-021/32</classification-symbol>
        <section>G</section>
        <class>01</class>
        <subclass>C</subclass>
        <main-group>21</main-group>
        <subgroup>32</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06F-017/30241</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>F</subclass>
        <main-group>17</main-group>
        <subgroup>30241</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>34</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>16</number-of-drawing-sheets>
      <number-of-figures>27</number-of-figures>
      <image-key data-format="questel">US6184823</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Geographic database architecture for representation of named intersections and complex intersections and methods for formation thereof and use in a navigation application program</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>DELORME DAVID M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5802492</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5802492</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>NANBA AKIMASA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4937752</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4937752</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>DAVIDSON EUGENE A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5185161</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5185161</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>NIMURA MITSUHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5231584</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5231584</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Navigation Technologies Corp.</orgname>
            <address>
              <address-1>Rosemont, IL, US</address-1>
              <city>Rosemont</city>
              <state>IL</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NAVIGATION TECHNOLOGIES</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Smith, Nicholas E.</name>
            <address>
              <address-1>Oak Park, IL, US</address-1>
              <city>Oak Park</city>
              <state>IL</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Ashby, Richard A.</name>
            <address>
              <address-1>Blue River, WI, US</address-1>
              <city>Blue River</city>
              <state>WI</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Israni, Vijaya</name>
            <address>
              <address-1>Hoffman Estates, IL, US</address-1>
              <city>Hoffman Estates</city>
              <state>IL</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Kozak, Frank J.</name>
          </addressbook>
        </agent>
        <agent sequence="2" rep-type="agent">
          <addressbook lang="en">
            <name>Kaplan, Laurence M.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Blum, Theodore M.</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An architecture for a geographic database that supports the identification and use of names for intersections of roads located in a geographic region, and methods for use and formation thereof.
      <br/>
      The geographic database includes data that represent components of a road network in a geographic region.
      <br/>
      The geographic database includes a first plurality of data entities each of which represents an intersection of roads in the road network and a second plurality of data entities each of which represents a name of one of the components of the road network.
      <br/>
      The geographic database includes a third plurality of data entities each of which associates one of the first plurality of data entities with one of the second plurality of data entities.
      <br/>
      The third plurality of data entities are referenced by other data entities in the geographic database and by indices to allow a navigation application program using the geographic database to identify intersections of roads in the geographic region by name and to use the name of an intersection for the purpose of location identification and route guidance.
      <br/>
      Also disclosed is an improved process for forming substitute data records to represent complex physical geographic features thereby facilitating operation of a navigation system by reducing processing requirements for certain functions.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>REFERENCE TO MICROFICHE APPENDIX</heading>
    <p num="1">Included with and forming part of this specification is microficle appendix compressing 1 sheet of 51 total frames.</p>
    <heading>REFERENCE TO COPYRIGHTED MATERIAL</heading>
    <p num="2">
      A portion of the disclosure of this patent document contains material which is subject to copyright protection.
      <br/>
      The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">
      The present invention relates to a system and method for facilitating access to and use of geographic data used with a navigation application program that provides navigating features and functions to an end-user, and more particularly, the present invention relates to a geographic database, and an architecture therefor, that provides for the identification and use of named intersections so that a navigation application program using the geographic database can accommodate identification and use of named intersections thereby facilitating certain functions for an end-user of the navigation application program and enhancing performance of the navigation system.
      <br/>
      The present invention also relates to an improved process for forming substitute data records to represent complex physical geographic features, thereby facilitating operation of a navigation system by reducing processing requirements for certain functions.
    </p>
    <p num="4">
      Computer-based navigation application programs are available that provide end-users (such as drivers of vehicles in which the navigation systems are installed) with various navigating functions and features.
      <br/>
      For example, some navigation application programs are able to determine an optimum route to travel by roads between locations in a geographic region.
      <br/>
      Using input from an end-user, and optionally from equipment that can determine one's physical location (such as a GPS system), a navigation application program can examine various routes between two locations to determine an optimum route to travel from a starting location to a destination location in a geographic region.
      <br/>
      The navigation application program may then provide the end-user with information about the optimum route in the form of instructions that identify the maneuvers required to be taken by the end-user to travel from the starting location to the destination location.
      <br/>
      If the navigation system is located in an automobile, the instructions may take the form of audio instructions that are provided along the way as the end-user is traveling the route.
      <br/>
      Some navigation application programs are able to show detailed maps on computer displays outlining routes to destinations, the types of maneuvers to be taken at various locations along the routes, locations of certain types of features, and so on.
    </p>
    <p num="5">
      In order to provide these and other navigating functions, the navigation application program uses one or more detailed databases that include data which represent physical features in a geographic region.
      <br/>
      The detailed database may include data representing the roads and intersections in a geographic region and also may include information relating to the represented the roads and intersections in a geographic region, such as turn restrictions at intersections, speed limits along the roads, street names of the various roads, address ranges along the various roads, and so on.
    </p>
    <p num="6">
      One difficulty in providing geographic data for use by a navigation application program relates to the efficient utilization of the available computer resources of the navigation system on which the navigation application program is run.
      <br/>
      Computerbased navigation application programs are provided on various platforms including some with relatively limited computer hardware resources.
      <br/>
      For example, navigation systems may be located in vehicles or may be hand-held.
      <br/>
      These types of navigation systems may have relatively limited computer resources, such as limited memory and relatively slow I/O.
      <br/>
      In order to provide a high a level of functionality in such systems, it is required that the available computer resources be used efficiently.
    </p>
    <p num="7">
      The limited resources of some navigation systems can affect the ability of these types of navigation systems to provide desired functions, especially when using a geographic database that includes a relatively high level of detail.
      <br/>
      For example, a geographic database can include data that accurately represent all the physical geographic features that form a complex intersection in a geographic region, including all the ramps, entrances, exits, internal pathway links (and geographic coordinates thereof), turn restrictions between links, speed limits, and so on.
      <br/>
      However, for some complex intersections, a relatively large amount of data is necessary to represent all the actual physical features of the intersection.
      <br/>
      Handling such large amounts of data may adversely affect the performance of navigation systems with limited resources.
    </p>
    <p num="8">
      Another consideration related to the use of geographic data by navigation systems is that given the relatively large size of the geographic database necessary to provide a desired level of functionality to the end-user, all the data records for an entire geographic region cannot be loaded into the memory of the navigation system at the same time.
      <br/>
      This is especially true for navigation system platforms with limited resources, such as systems installed in vehicles or hand-held systems.
      <br/>
      Due to the limited memory resources of these navigation systems, it is necessary to load geographic data as needed from a storage medium, such as a CD-ROM disk, into the memory of the navigation system for use by the navigation application program.
      <br/>
      Unfortunately, as mentioned above, in these types of systems, I/O access from a storage medium may also be relatively slow.
      <br/>
      Thus, the relatively limited memory resources combined with the relatively slow I/O can limit the performance of some types of navigation systems, resulting in slow response.
      <br/>
      Aside from being undesirable, slow response in a navigation system may render the system useless for its intended purpose in certain circumstances.
      <br/>
      For example, if the navigation system is installed in a vehicle, the driver may require information from the navigation system about a desired route in a matter of seconds in order to utilize the information while driving.
      <br/>
      If the navigation system requires more than several seconds to calculate a route, the driver may have moved beyond the point at which the routing information provided by the navigation system is relevant.
      <br/>
      Therefore, it is important that navigation systems operate efficiently in order to provide navigating information relatively quickly.
    </p>
    <p num="9">
      Navigation application programs may also be run on computer platforms that have in general greater memory resources and faster I/O, such as personal computers networks.
      <br/>
      Although these systems may have more and faster resources, the considerations related to the efficient use of geographic data still apply, but on a larger scale.
      <br/>
      With these types of systems, even greater functionality can be provided if the limitations imposed by memory size and I/O are minimized.
    </p>
    <p num="10">
      Techniques have been devised or implemented to improve navigation system performance by organizing, structuring, or arranging the geographic database or the data in the database in particular ways.
      <br/>
      Because a navigation system uses geographic data in certain known and expected ways to perform known functions, the geographic data can be organized, structured, or arranged in a manner that facilitates their use in these known ways by the navigation system.
    </p>
    <p num="11">
      When an end-user uses a navigation system to find a route between a starting destination and a desired destination, the end-user may be required to provide input to the navigation system identifying the desired destination (and possibly a starting location).
      <br/>
      The navigation system may provide suitable user-interface hardware, such as a keypad, a keyboard, a touch-sensitive screen, voice recognition equipment, and so on, by which the end-user may input this information to the navigation system.
      <br/>
      The navigation application also includes suitable user-interface program that enables the end-user to identify the desired destination or starting location to the navigation system.
      <br/>
      Navigation system programming may provide various ways by which the end-user can identify the desired destination or starting location.
      <br/>
      One way that an end-user may identify a desired location to the navigation system is by street address.
      <br/>
      If the navigation system uses a positioning system, such as a GPS system or a dead-reckoning system, to determine a present position, the starting location of a route may be obtained from the positioning system.
      <br/>
      After a starting position and a desired destination have been identified to the navigation system, appropriate programming in the navigation system calculates one or more routes between these two locations.
    </p>
    <p num="12">
      A potential disadvantage of requiring an end-user to identify a desired destination location by street address is that the end-user may not know the street address of the desired destination.
      <br/>
      For example, an end-user may want the navigation system to determine a route to a museum but does not know the street address of the museum.
    </p>
    <p num="13">
      Some navigation systems allow an end-user to identify a destination by means other than a street address.
      <br/>
      An end-user may identify a desired destination location or starting location to the navigation system by first querying the navigation system for a particular known point-of-interest by name or type and then selecting the desired point-of-interest from a result set provided by the navigation system to the end-user.
      <br/>
      In order to provide these kinds of features to an end-user, the navigation system may use a oeographic database that supports these kinds of searches.
    </p>
    <p num="14">
      By providing this kind of functionality, navigation systems can provide useful features to end-users.
      <br/>
      However, there is still a need for improvement.
      <br/>
      One area in which there exists a need for improvement is in accommodating different ways by which locations are identified or used.
      <br/>
      In many geographic regions, people have developed different ways to identify locations and to provide directions to locations. in many regions, it is common to refer to well known intersections by name.
      <br/>
      The intersection name may be an official name or may be a name that has developed over the years by common usage.
      <br/>
      One kind of intersection that is commonly named is a roundabout.
      <br/>
      Also, intersections of two or more interstate highways are sometimes referred to by name.
      <br/>
      Although an end-user's desired destination may not be located exactly at such a named intersection, an end-user may want a navigation system to provide directions to such an intersection.
      <br/>
      Accordingly, it is desired that a navigation system provide a way to accommodate the identification of intersections by name.
    </p>
    <p num="15">
      It is an objective therefore to provide an improved means by which navigation systems can accommodate use by end-users.
      <br/>
      It is also an objective to provide improvements in the storage or use of geographic data that improves performance in a navigation system.
      <br/>
      Similarly, it is a further objective to develop navigation functions that can exploit the geographic database in improved ways.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="16">
      To address the above concerns, according to one aspect of the present invention, there is provided a geographic database, and an architecture therefor, that supports the identification and use of names for intersections of roads located in a geographic region.
      <br/>
      The geographic database includes data that represent components of a road network in a geographic region.
      <br/>
      The geographic database includes a first plurality of data entities each of which represents an intersection of roads in the road network and a second plurality of data entities each of which represents a name of one of the components of the road network.
      <br/>
      The geographic database includes a third plurality of data entities each of which associates one of the first plurality of data entities with one of the second plurality of data entities.
      <br/>
      The third plurality of data entities are referenced by other data entities in the geographic database and by indices to allow a navigation application program using the geographic database to identify intersections of roads in the geographic region by name and to use the name of an intersection for the purpose of location identification and route guidance.
      <br/>
      According to another aspect there is provided a method for operating a navigation application program that allows for the identification and use of names for intersections.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="17">
      FIG. 1 is a block diagram illustrating a navigation system.
      <br/>
      FIG. 2 illustrates a map showing a geographic region represented by the geographic database of FIG. 1.
      <br/>
      FIG. 3 shows an expanded view of a portion of the map of FIG. 2.
      <br/>
      FIG. 4 is an illustration of single road segments shown in the maps of FIGS. 2 and 3.
      <br/>
      FIG. 5 is a diagram illustrating the different types of data included in the geographic database of FIG. 1 for use with various navigation application functions.
      <br/>
      FIG. 6 is a diagram illustrating separate layers of data in the routing data shown in FIG. 5.
      <br/>
      FIG. 7 is a diagram showing the arrangement of parcels of data in the geographic database of FIG. 1.
      <br/>
      FIG. 8 shows a map of the geographic region of FIG. 2 illustrating application of a parcelization method to spatially organized geographic data.
      <br/>
      FIG. 9 is a diagram showing the arrangement of segment and node data records within a single parcel of routing data in the geographic database of FIG. 7.
      <br/>
      FIGS. 10A-10F are illustrations of complex intersections and corresponding substitute representations of these complex intersections according to one embodiment of the database of FIGS. 1 and 9.
      <br/>
      FIG. 11 is a diagram illustrating the components of two node records included in the parcels of routing data shown in FIG. 9.
      <br/>
      FIG. 12 is a diagram illustrating the relationships between the different kinds of data records in parcels containing different types of geographic data in the geographic database shown in FIG. 7.
      <br/>
      FIG. 13 is a diagram illustrating the components of one the parcels of junction data as shown in FIG. 7 including the components of a junction record.
      <br/>
      FIG. 14 is a diagram illustrating the components of one of the parcels of navigation feature data as shown in FIG. 7 including the components of a navigation feature record.
      <br/>
      FIG. 15 is a diagram illustrating the components of one of tile parcels of maneuver data as shown in FIG. 7 including a spatial index for junctions.
      <br/>
      FIG. 16 is a diagram illustrating a process for forming, substitute records using, feature attributes of data records as indicators.
      <br/>
      FIG. 17 is a diagram illustrating a segment data record that represents a ramp and that includes an attribute indicating that it is associated with a named junction of controlled access roads.
      <br/>
      FIGS. 18A and 18B are diagrams illustrating formation of encompassing, geographic areas defined in connection with a step in the process illustrated in FIG. 16.
      <br/>
      FIG. 19 is a diagram illustrating another process for forming, substitute records using, feature attributes of data records as indicators.
      <br/>
      FIG. 20 is a flow chart illustrating a method for using, a geographic database that supports named junctions for selecting a destination.
      <br/>
      FIG. 21 is a flow chart illustrating a method for using a geographic database that supports named junctions for route guidance.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PRESENTLY PREFERRED EMBODIMENTS</heading>
    <p num="18">
      I.
      <br/>
      NAVIGATION SYSTEM--OVERVIEW
    </p>
    <p num="19">
      Referring, to FIG. 1, there is a block diagram of a navigation system 10.
      <br/>
      The navigation system 10 is installed in a vehicle 11 such as a car or truck, although in alternative embodiments, the niavigation system 10 may be located outside of a vehicle or may be implemented in various other platforms or environments, as described below.
    </p>
    <p num="20">
      Referring to the embodiment illustrated in FIG. 1. the navigation system 10 is a combination of hardware and software components.
      <br/>
      In one embodiment, the navigation system 10 includes a processor 12, a drive 14 connected to the processor 12, and a non-volatile memory storage device 16 for storing a navigation application software program 18 and possibly other information.
      <br/>
      The processor 12 may be of any type used in navigation systems, such as 32-bit processors using a flat address space, such as a Hitachi SH1, an Intel 80386, an Intel 960, a Motorola 68020 (or other processors having similar or greater addressing space).
      <br/>
      Processor types other than these, as well as processors that may be developed in the future, may also be suitable.
    </p>
    <p num="21">
      The navigation system 10 may also include a positioning system 24.
      <br/>
      The positioning system 24 may utilize GPS-type technology, a dead reckoning-type system, or combinations of these, or other systems, all of which are known in the art.
      <br/>
      The positioning system 24 may include suitable sensing devices 25 that measure the traveling distance speed, direction, and so on, of the vehicle.
      <br/>
      The positioning system 24 may also include appropriate technology to obtain a GPS signal, in a manner which is known in the art.
      <br/>
      The positioning system 24 outputs a signal 26 to the processor 12.
      <br/>
      The signal 26 may be used by the navigation application software 18 that is run on the processor 12 to determine the location, direction, speed, etc., of the navigation system 10.
    </p>
    <p num="22">
      The navigation system 10 also includes a user interface 31.
      <br/>
      The user interface 31 includes appropriate equipment that allows the end-user to input information into the navigation system.
      <br/>
      This input information may include a request to use the navigation features of the navigation system.
      <br/>
      For example, the input information may include a request for a route to a desired destination.
      <br/>
      The input information may also include other kinds of information.
      <br/>
      The equipment used to input information into the navigation system may include a keypad, a keyboard, a microphone, etc., as well as appropriate software, such as a voice recognition program.
      <br/>
      The user interface 31 also includes suitable equipment that provides information back to the end-user.
      <br/>
      This equipment may include a display 27, speakers 29, or other means.
    </p>
    <p num="23">
      The navigation system 10 uses a map database 40 stored on a storage medium 32.
      <br/>
      The storage medium 32 is installed in the drive 14 so that the map database 40 can be read and used by the navigation system.
      <br/>
      The storage medium 32 may be removable and replaceable so that a storage medium with an appropriate map database for the geographic region in which the vehicle is traveling can be used.
      <br/>
      In addition, the storage medium 32 may be replaceable so that the map database 40 on it can be updated easily.
      <br/>
      In one embodiment, the geographic data may be published by Navigation Technologies of Sunnyvale, Calif.
    </p>
    <p num="24">
      In one embodiment, the storage medium 32 is a CD-ROM disk.
      <br/>
      In an alternative embodiment, the storage medium 32 may be a PCMCIA card in which case the drive 14 would be substituted with a PCMCIA slot.
      <br/>
      Various other storage media may be used, including fixed or hard disks, DVD (digital video disks) or other currently available storage media, as well as storage media that may be developed in the future.
      <br/>
      The storage medium 32 and the geographic database 40 do not have to be physically provided at the location of the navigation system.
      <br/>
      In alternative embodiments, the storage medium 32, upon which some or all of the geographic data 40 are stored, may be located remotely from the rest of the navigation system and portions of the geographic data provided via a communications link, as needed.
    </p>
    <p num="25">
      The navigation application software program 18 is loaded from the non-volatile memory 16 into a RAM 20 associated with the processor 12 in order to operate the navigation system.
      <br/>
      The navigation system 10 uses the map database 40 stored on the storage medium 32, possibly in conjunction with the output 26 from the positioning system 24, to provide various navigation features and functions.
      <br/>
      The navigation application software program 18 may include separate applications (or subprograms) that provide these various navigation features and functions.
      <br/>
      These functions and features may include route calculation 41, route guidance 42 (wherein detailed directions are provided for reaching a desired destination), map display 43, vehicle positioninig 44 (e.g., map matching), and other functions 45.
    </p>
    <p num="26">II. THE GEOGRAPHIC MAP DATABASE</p>
    <p num="27">
      A.
      <br/>
      Overview.
    </p>
    <p num="28">
      In one present embodiment, the speed and/or functionality of a navigation system can be enhanced by a combination that includes improvements in the storage, arrangement, and/or structuring of the geographic data used by the system to facilitate the use of the data by some of the functions in the navigation application program in the systems that use the data.
      <br/>
      Based upon the manner in which the geographic data are stored, arranged, and/or structured, functions in the navigation application program that access and use the data can implement routines that exploit the improvements incorporated into the geographic data.
      <br/>
      This combination can result in overall improved performance by the navigation system.
    </p>
    <p num="29">
      The map database 40 contains information about the roadway network in the geographic region.
      <br/>
      In one embodiment, the map database 40 includes node data and segment data.
      <br/>
      These data represent components of the physical road network.
      <br/>
      Node data represent physical locations in the geographic region (such as roadway intersections and other positions) and segment data represent portions of roadways between the physical locations represented by nodes.
      <br/>
      Each road segment in the geographic region is represented by a road segment data entity (i.e., a record) in the map database 40.
      <br/>
      Each road segment data record in the map database is associated with two nodes which represent the coordinate positions at each end of the road segment represented by the road segment data record.
      <br/>
      The information included in the node and segment data entities is explained with reference to FIGS. 2-4. (The terms "nodes" and "segments" represent only one terminology for describing these physical geographic features and other terminology for these features is intended to be encompassed within the scope of these concepts.)
    </p>
    <p num="30">
      FIG. 2 illustrates a map 110 showing a geographic region 112.
      <br/>
      A plurality of locations 114 are shown to be located in the geographic region 112.
      <br/>
      Each of the locations 114 represents a place or point in the geographic area 112 at which there is located a feature about which it is desired to include information in a geographic database.
      <br/>
      Each of these locations 114 has a unique physical location (latitude, longitude, and optionally absolute or relative altitude) and each of the locations 114 can be uniquely identified by its two dimensional (or three dimensional) geographic coordinates, (i.e., latitude, longitude, and optionally altitude).
      <br/>
      A location 114 may correspond to an intersection at which two or more roads meet, a point along a road segment at which the direction of the road changes, a point along a road segment at which the speed limit changes, a point at which a road reaches a dead end, and so on.
      <br/>
      The location 114 may correspond to a position of a point-of-interest, such as a hotel or civic center, a boundary of a natural feature, such as a lake, or a position along a railroad track or ferry.
      <br/>
      The locations 114 may correspond to anything physically located in the geographic area 112.
    </p>
    <p num="31">
      FIG. 3 shows an expanded view of a portion 116 of the map 110.
      <br/>
      The portion 116 in FIG. 3 illustrates part of the road network 120 in the geographic region 112.
      <br/>
      The road network 120 includes, among other things, roads and intersections located in the geographic region 112.
      <br/>
      As shown in FIG. 3 in the illustrated portion 116 of the map 110, each road in the geographic region 112 is composed of one or more segments, 122(1), 122(2) . . . 122(n).
      <br/>
      In one embodiment, a road segment represents a portion of the road.
      <br/>
      In FIG. 3, each road segment 122 is shown to have associated with it two nodes 123: one node represents the point at one end of the road segment and the other node represents the point at the other end of the road segment.
      <br/>
      A single road segment 122 and its two associated nodes 123(a) and 123(b) are illustrated in FIG. 4.
      <br/>
      The node at either end of a road segment may correspond to a location at which the road meets another road, e.g., an intersection, or where the road dead ends.
    </p>
    <p num="32">
      In one type of geographic database, there is at least one database entry (also referred to as "entity" or "record") for each road segment represented in a geographic region.
      <br/>
      This road segment data record may have associated with it information (such as "attributes", "fields", etc.) that allows identification of the nodes associated with the road segment and/or the geographic positions (e.g. the latitude and longitude coordinates) of the two nodes.
      <br/>
      In addition, the road segment record may have associated with it information (e.g., more "attributes", "fields", etc.), that specify the speed of travel on the portion of the roadway represented by the road segment record, the direction of travel permitted on the road portion represented by the road segment record, what if any turn restrictions exist at each of the nodes which correspond to intersections at the ends of the road portion represented by the road segment record, the street address ranges of the roadway portion represented by the road segment record, the name of the road, and so on.
      <br/>
      Each segment data entity that represents an other-than-straight road segment may include one or more shape point data attributes that define the other-than-straight shape of the road segment.
      <br/>
      The various attributes associated with a road segment may be included in a single road segment record, or preferably are included in more than one type of road segment record which are cross-referenced to each other.
    </p>
    <p num="33">
      In a geographic database that represents the region 112, there may also be a database entry (entity or record) for each node in the geographic region.
      <br/>
      The node data record may have associated with it information (such as "attributes", "fields", etc.) that allows identification of the road segment(s) that connect to it and/or its geographic position (e.g., its latitude and longitude coordinates).
    </p>
    <p num="34">B. Separate Subsets of Geographic Data</p>
    <p num="35">
      One way that the accessing of geographic data can be enhanced for performing various navigation functions is to provide separate collections or subsets of the geographic data for use by each of the separate functions (e.g., 41-45) in the navigation application program 18.
      <br/>
      Each of these separate subsets is tailored specifically for use by one of the functions.
      <br/>
      For instance, the route calculation function 41 (in FIG. 1) normally uses only a portion of all the information in the geographic database that is associated with a segment of a road.
      <br/>
      When the route calculation function 41 is being run, it may require information such as the speed along a road segment, turn restrictions from one road segment to another, and so on.
      <br/>
      However, the route calculation function 41 does not necessarily require the name of the road to calculate a route.
      <br/>
      Similarly, when using the map display function 43, some of the information associated with a road segment, such as the speed limits or turn restrictions, is not required.
      <br/>
      Instead, when the map display function 43 is run, it uses only a portion of the information associated with the road segment, such as the shapes and locations of roads, and possibly the names of the roads.
      <br/>
      Even further, when the route guidance function 42 is being run, some of the information associated with a segment of a road, such as the speed and turn restrictions, is not required.
      <br/>
      Instead, when the route guidance function 42 is being run, it uses information that includes the name of the road represented by the road segment, the address range along the road segment, any signs along the road segment, and so on.
      <br/>
      Although there may be some overlap as to the types of information used by the various navigation functions, some of the data used by any one of these navigation functions is not used by another of the functions.
      <br/>
      If all the information relating to each road segment were associated with it as a single data entry in a single database, each data entity record would be relatively large.
      <br/>
      Thus, whenever any one of the navigation functions accessed an entity record, it would have to read into memory a significant amount of information much of which would not be needed by the navigation function.
      <br/>
      Moreover, when reading the data entity from disk, relatively few data entities could be read at a time since each data entity would be relatively large.
    </p>
    <p num="36">In order to provide the information in the geographic database in a format more efficient for use by each of the navigation functions, separate subsets of the entire geographic database for a given geographic region are provided for each of the different types of navigation functions to be provided in the navigation application program 18.</p>
    <p num="37">
      FIG. 5 illustrates the geographic database 40 comprised of separate routing data 136, cartographic data 137 (for map display), maneuver data 138 (for route guidance), point-of-interest data 139 (for identifying specific points of interest, such as hotels, restaurants, museums, stadiums, airports, etc.), and junction data 140 (for identifying named intersections, as explained further below).
      <br/>
      In addition to these types of data, the geographic database 40 may include navigation feature data 141 and cartographic feature data 142.
      <br/>
      These subsets of data include, respectively, the names of the navigable features (such as roads) and non-navigable features, such as lakes, etc.
      <br/>
      The geographic database may also include data subsets for places 144 (e.g., cities, states, counties) and postal codes 143.
      <br/>
      A geographic database may be defined with fewer or more subsets than these, and other types of data 146 may be defined and included.
    </p>
    <p num="38">
      Each subset of data includes only the data required to be used by a particular navigation function.
      <br/>
      There is some overlap of data between each of these subsets, with the result that some parts of the information may be included in more than one subset.
      <br/>
      For example, both the road segment data entity in the routing data subset 136 as well as the road segment data entity in the cartographic data subset 137 may include attributes identifying the nodes located at the ends of the segments.
      <br/>
      Although this duplication may result in a larger overall data storage requirement, each of the navigation functions benefits from the resultant efficiency of handling smaller amounts of data.
    </p>
    <p num="39">
      Providing for separate subsets of Geographic data for each of the navigation functions also takes into account that usage of each of these navigation functions relates to the others of the navigating functions in expected ways.
      <br/>
      For example, an end-user may first want to view a present position, then enter a destination, then receive instructions how to start toward the destination, then observe a map showing the initial portion of the route, then receive further instructions, then have a map displayed of the next portion of the route, and so on.
      <br/>
      Because of this type of expected usage, dividing the data into subsets provides for efficient use of the data when using each separate function.
    </p>
    <p num="40">
      Although the division of the geographic data into subsets provides for efficient use of the data by each of the different navigation functions, it becomes necessary to provide that the different navigating functions that use these different subsets of the database work together.
      <br/>
      For example, in the example mentioned above, after an end-user obtains a calculated route, it may be desired to display a map on a computer display with the calculated route highlighted.
      <br/>
      In order to accomplish this, the routing subset 136 of geographic data is accessed first to obtain the routing road segment data entities for the optimum route, and then the cartographic subset 137 of the geographic database is accessed to obtain the cartographic road segment data entities corresponding to the routing data entities.
      <br/>
      To permit these data subsets to work together, indices may be included that provide cross references, search trees, or other data finding techniques.
      <br/>
      Indices can be located within any of the subsets of data or external of any of the subsets.
      <br/>
      In FIG. 5, external indices 147 are shown.
      <br/>
      Storing indices external of the data that are being indexed has the advantage that the index can be loaded and used to determine which data among the various subsets of data needs to be loaded next.
    </p>
    <p num="41">C. Layering of Geographic Data</p>
    <p num="42">
      Another way that the geographic data can be organized to enhance their use is to provide the data in layers.
      <br/>
      Some of the navigation functions, such as the map display function and the route calculation functions, may use data at different levels of detail.
      <br/>
      For example, when using the map display function, it is sometimes desired to provide for panning and zooming.
      <br/>
      Zooming can be done more efficiently if the data are organized into layers, with greater detail at the lower layers and less detail at the higher layers.
      <br/>
      When using the route calculation function, it is also advantageous to use the data at different levels of detail.
      <br/>
      For example, when calculating a route between two locations, it would be inefficient to examine all the possible road segments that diverge from each intersection along the route, including secondary streets and alleys.
      <br/>
      Instead, once a route is "on" a main road or expressway, it is generally preferable to stay on main roads or expressways until it is necessary to exit to secondary roads as the destination is approached.
      <br/>
      If the routing data are layered, higher layers that omit secondary roads can be used when possible to minimize the possible road segments to be investigated when calculating the route.
      <br/>
      Therefore, within some of the subsets of data types, the geographic data are provided in separate collections or groups corresponding to separate layers.
    </p>
    <p num="43">
      To implement layering, each road segment data record in the map database 40 also identifies the rank of the corresponding portion of the roadway that it represents.
      <br/>
      A rank of a road segment may correspond to its functional class.
      <br/>
      Road segments having a rank of "4" may include high volume, controlled access roads, such as expressways and freeways.
      <br/>
      Road segments having a rank of "3" may be high volume roads with few speed changes, but are not necessarily controlled access roads.
      <br/>
      The lower ranked roads handle corresponding lower volumes and generally have more speed changes or slower speeds.
      <br/>
      Roads having a rank of "0" can handle the lowest volumes.
      <br/>
      For example, these roads lowest ranked roads may include side streets, alleyways, etc.
    </p>
    <p num="44">
      The rank of a road segment data entity also specifies the highest data layer in which a road segment entity is included.
      <br/>
      For example, referring to FIG. 6, the routing type data 136 may include five separate layers of the data, R0, R1, R2, R3, and R4, each comprising a separate collection of the routing data with a different level of detail, which can be used by the route calculation function.
      <br/>
      In the routing data type of the geographic database, layer 0 ("R0)" includes the road segment data entities (and some or all of their corresponding routing data attributes) having a rank of "0" or higher.
      <br/>
      Thus, layer 0 includes road segment data entities corresponding to all the portions of all the roads in the geographic region.
      <br/>
      Layer 1 of the routing data 137 comprises a separate subset (or collection) of the routing, data and includes only the routing segment data entities (and some or all of their corresponding routing data attributes) having a rank of "1" or higher.
      <br/>
      Layer 2 of the routing data comprises a separate subset of the routing data and includes only the routing segment data entities (and some or all of their corresponding navigation data attributes) having a rank of level 2 or higher, and so on.
      <br/>
      A highest layer (layer n) includes only records having a rank of n. In a present embodiment, n is equal to 4, although in other embodiments, n may be any number greater than 0.
      <br/>
      Each higher layer includes fewer records, however these records represent roads upon which travel is generally faster.
    </p>
    <p num="45">
      Similarly, the other types of data, such as the cartographic subset type 137 may include separate collections of the data, each with a different level of detail, which can be used by the map display function.
      <br/>
      Using these different layers of cartographic data, the map display function can provide rapid panning and zooming.
    </p>
    <p num="46">
      Although the organization of some of the data into layers results in some duplication of the data, the increased efficiency provided by layering generally offsets any disadvantages.
      <br/>
      As with the use of separate types of data mentioned above, the need arises to allow these layers to work together.
      <br/>
      Indices 149 may be provided for this purpose.
      <br/>
      In FIG. 6, internal indices are shown.
      <br/>
      Internal indices 149 are included among the various types of data.
    </p>
    <p num="47">D. Spatial Access to Geogaphic Data</p>
    <p num="48">
      Organizing the data into subsets or types provides separate collections of the data in sizes that are more manageable by each of the navigation functions 29 in the navigation application program.
      <br/>
      With respect to some subset types, the data can be further organized to facilitate spatial access.
    </p>
    <p num="49">
      Several of the navigation functions (in FIG. 1) in the navigation application 18 may access or use the geographic data spatially.
      <br/>
      One way this arises is that a function in the navigation application program 18 requires finding a data entity record in the geographic database 40 given the physical location represented by the data entity in the geographic region.
      <br/>
      The data entity may be a road segment record that represents a portion of a road in the geographic region and the function may require finding the road segment record based upon the physical location in the geographic region of the portion of the road represented by the road segment record.
      <br/>
      The data entity may be a POI record that represents a hotel closest to the present position of a vehicle in which the navigation system is installed.
      <br/>
      Another way spatial access arises is when a function in a navigation application program requires finding several or all of a type of data records located close to a location in the geographic region or within a defined area in the geographic region.
      <br/>
      For example, a function may require all restaurant POI records encompassed within a rectangle defined by geographical coordinates (x, x+n) latitude and (y, y+m) longitude.
    </p>
    <p num="50">
      Referring again to FIG. 5, some of the subsets of geographic data are organized spatially and other subsets of data are organized in a manner other-than-spatially.
      <br/>
      Spatially-organized data are arranged so that the data that represent geographically proximate features are located logically and/or physically proximate in the data set 40 and/or on the medium 32.
      <br/>
      For some of the navigation application functions, spatial organization of their respective data provides for reading closely related geographic data from the medium more quickly and loading related geographic data into memory where they can be used.
      <br/>
      This kind of organization minimizes accessing of the storage medium 32 and speeds up operation of these navigation functions.
    </p>
    <p num="51">
      The subsets of the geographic data 40 that are organized spatially include the route calculation data 136, the cartographic data (map display) 137, and the point-of-interest data 139.
      <br/>
      Other kinds of data may also be organized spatially.
      <br/>
      Spatial organization can be applied to the data in different ways.
      <br/>
      For example, spatial organization can be applied to each record of data or can be applied to groupings of pluralities of data records (e.g., such as parcels of data, as explained below).
    </p>
    <p num="52">
      Some of the subsets of the data are organized and accessed in ways other than spatially.
      <br/>
      The non-spatially organized data include the junction data 140, the navigable feature data 141, the cartographic feature data 142, the postal code data 143, and the place data 144.
    </p>
    <p num="53">E. Parcelization of Geographic Data</p>
    <p num="54">
      There are several factors that can affect the operation and performance of a navigation application program when using geographic data.
      <br/>
      In order to provide a reasonably high level of functionality, a relatively large database may be provided.
      <br/>
      Storage media, such as CD-ROM discs or PCMCIA cards, are capable of handling databases of the size and complexity sufficient to provide suitable functionality.
      <br/>
      However, accessing these types of media can be relatively slow.
      <br/>
      Because navigation systems may be installed in vehicles, or may be hand-held, the hardware resources of the navigation system may be limited.
      <br/>
      Navigation systems installed in vehicles or hand-held units may have limited memory resources and relatively slow media access rates.
      <br/>
      Even when navigation applications are provided on platforms that have greater memory and hardware resources, similar considerations apply, but at a different scale.
    </p>
    <p num="55">
      Assuming that all the data records for a given entire geographic region cannot be loaded into the memory of the navigation system at the same time, due to limited memory resources of the navigation system in which the navigation application program is being run, it would be desirable to load into memory only those data that are needed to perform a desired function.
      <br/>
      In order to accomplish this, data in the geographic database 40 are organized into parcels.
      <br/>
      A parcel of data is established to contain data records that are always obtained together in a single access of the medium.
      <br/>
      This may relate to the quantity of data that can be accessed in a single disk access, although it may be related to some other factor.
      <br/>
      For some types of media such as a CD-ROM discs, a parcel may be established to be a 16 Kilobyte quantity of data. (Other sizes of data may be used including 1 K, 2 K, 4 K, 8 K, 32 K, and so on.)
    </p>
    <p num="56">
      As shown in FIG. 7, parcels 220 of data are stored to form the database 40 so that the data in each parcel 220 are logically and/or physically grouped together.
      <br/>
      When a parcel of data is accessed, all of its data records are read from the medium into the memory of the navigation system at the same time.
      <br/>
      For purposes of forming the data into parcels, the data are first separately organized into the different types (as shown in FIG. 5) based upon the functions that access them, such as routing, map display, and route guidance, and so on.
    </p>
    <p num="57">
      (1).
      <br/>
      Parcelization of Spatially Organized Data.
    </p>
    <p num="58">
      In parcelizing data, it is preferable generally to form parcels of data in a manner that minimizes the number of parcels that have to be accessed and read in order to perform a navigation function.
      <br/>
      As mentioned above, it is sometimes desirable to store the data representing geographic features based upon the physical proximity of the features.
      <br/>
      With respect to the spatially organized data, it would be advantageous to provide a means to load data into memory based generally upon the physical geographic locations of the features which the data represent or upon the geographical proximity of the features which the data represent.
      <br/>
      This can be done by parcelizing the data so that they are organized in the database and/or on the medium based upon the geographic locations of the features which are represented by the data.
    </p>
    <p num="59">
      Spatially-parcelized data are arranged so that the data that represent geographically proximate features are located logically and/or physically proximate in the database 40 and/or on the medium 32.
      <br/>
      For some of the navigation application functions, spatial parcelization of their respective data provides for reading closely related geographic data from the medium more quickly and loading related geographic data into memory where they can be used.
      <br/>
      This kind of organization minimizes accessing of the storage medium 32 and may speed up operation of these navigation functions.
      <br/>
      The routing data 136 (in FIG. 5) are included among the kinds of data that may be spatially organized.
    </p>
    <p num="60">
      There are a number of different procedures that can be used for parcelizing geographic data spatially.
      <br/>
      For example, a simple parcelization method may provide for separating the geographic data into a plurality of parcels wherein the data in each parcel represent features encompassed within a separate one of a plurality of regular sized rectangles which together form a regular, rectangular grid over the geographic region.
      <br/>
      Another method for spatial parcelization is to separate the data into parcels encompassed within rectangular areas where each of the rectangles is formed by a bisection of rectangles encompassing parts of the region until a parcel size below a maximum threshold is obtained.
      <br/>
      In addition, parcelization procedures are disclosed in the copending application Ser.
      <br/>
      No. 08/740,295, filed Oct. 25, 1996, the entire disclosure of which is incorporated by reference herein, and parcelization procedures are also described in the copending patent application Ser.
      <br/>
      No. 08/935,809, filed Sep. 5, 1997, the entire disclosure of which is incorporated by reference herein.
      <br/>
      Still another method of parcelization to which the disclosed subject matter can be applied is described in U.S. Pat. No. 4,888,698.
    </p>
    <p num="61">
      Parcelization of spatially organized data is illustrated with reference to FIGS. 8 and 9.
      <br/>
      FIG. 8 shows the map 110 of the geographic region 112, previously illustrated in FIG. 2.
      <br/>
      The plurality of positions 114 (represented by the dots or points) are shown to be located on the map 110.
      <br/>
      Each of the positions 114 represents a place or point in the geographic area 112 at which there is located a feature about which information is included in the geographic database 40 of FIG. 1.
      <br/>
      For example, the positions 114 may correspond to the physical locations of end points of road segments, points along road segments, points-of-interest (such as hotels, civic centers, etc.), and so on, which are represented by the data in the geographic database 40.
      <br/>
      Each of these locations 114 has a unique physical location (latitude, longitude, and optionally absolute or relative altitude) and each of the locations 114 can be uniquely identified by its two dimensional (or three dimensional) geographic coordinates (i.e., latitude, longitude, and optionally altitude).
    </p>
    <p num="62">
      In FIG. 8, a grid 217 overlays the geographic region 112 represented by the map 110.
      <br/>
      The grid 217 divides the geographic region 112 into a plurality of rectangular areas 219.
      <br/>
      The grid lines of the grid 217 represent the boundaries of rectangular areas 219.
      <br/>
      These rectangular areas 219 may be all the same size or may have different sizes depending upon the procedure used for parcelization.
      <br/>
      Likewise, the locations of the boundaries may depend on the parcelization procedure used.
      <br/>
      In general, when using any of the procedures for spatial parcelization, the data records of a particular type of data which represent features that are encompassed within each rectangular area 219 are grouped together in a separate parcel of data.
      <br/>
      Referring to FIGS. 7 and 9, the plurality of data records, such as road segment records 322 and node records 323 that comprise the routing subset 136 of the geographic database 40, are separated into groupings (i.e., parcels 220).
      <br/>
      With respect to the spatially organized data, each parcel 220 of routing data in FIGS. 7 and 9 includes one or more data records 322, 323, which represent the geographic features encompassed within a separate one of the plurality of rectangles 219 shown in FIG. 8.
    </p>
    <p num="63">
      As shown in FIG. 7, the parcels 220 are then stored to form the database 40 so that the data in each parcel 220 are logically and/or physically grouped together.
      <br/>
      Since the parcel represents a quantity of data records that are accessed at the same time by the navigation system, when a parcel of data is accessed, all of its data records are read into the memory of the navigation system at the same time.
      <br/>
      With reference to the map 110 of FIG. 8, this means that all the data records, such as the segment records 322 or node records 323, of a spatially organized type of data that represent geographic features encompassed within each rectangle 219 are accessed together as a group.
      <br/>
      It can be appreciated that for certain kinds of navigation functions, it is desirable to have in memory at the same time all the data records that represent features that are physically close together in the geographic region.
    </p>
    <p num="64">
      As the parcels 220 are formed for these types of data, the parcels are ordered.
      <br/>
      Various types of ordering may be used.
      <br/>
      In general, it is preferred that the parcels be ordered in a manner that minimizes searches for data.
      <br/>
      One way to order spatially organized parcels is to use a depth-first ordering from a kd-tree index within each type of data.
      <br/>
      This provides an ordering similar to Peano-key ordering.
      <br/>
      Parcels may be stored on disk (i.e., medium 32 in FIG. 1) in this approximate Peano-key order.
      <br/>
      One or more indices, such as a kd-tree, can be used to access parcels spatially.
      <br/>
      This index is useful for initial location of an arbitrary position, such as when a program in a navigation system initially locates the map data corresponding to a current vehicle position.
      <br/>
      As the parcels 220 are ordered, each may also be assigned a unique parcel identifier (e.g., a "parcel ID").
      <br/>
      The parcel ID may be used to identify the parcel and/or its location on the medium.
    </p>
    <p num="65">
      (2).
      <br/>
      Parcelization of Non-spatially organized Data.
    </p>
    <p num="66">
      Some kinds of data are not spatially organized.
      <br/>
      Parcelization may provide advantages for these kinds of data as well.
      <br/>
      Each parcel of non-spatially organized data does not necessarily correspond to any of the rectangular areas 219 in FIG. 8.
      <br/>
      For example, the navigation feature data 141 that represents the names of navigable features, such as streets and intersections, may be organized alphabetically instead of spatially.
      <br/>
      Also, place data 144 are among the kinds of data that are not spatially organized.
      <br/>
      Place data 144 are organized by administrative hierarchy.
      <br/>
      Place data 144 includes place data records which are used to represent governmental or administrative areas, (e.g., countries, cities, states, counties, zones, settlements, and so on).
      <br/>
      Place data 144 are organized in a hierarchical manner that takes into account the administrative levels of the places represented by the data.
      <br/>
      Once the place data records are organized in this hierarchical manner, they are formed into parcels 220 (in FIG. 7) and stored to form the geographic database. (Since the place data entities are not spatially organized, each parcel of place data does not necessarily correspond to any of the rectangular areas 219 in FIG. 8.)
    </p>
    <p num="67">
      According to one embodiment, place data are arranged by levels which correspond to the administrative hierarchy.
      <br/>
      Level 1 place data records (i.e., those corresponding to the "countries" whose geographic features are represented by the geographic database 40) are included first in the place data 144.
      <br/>
      If more than one country is represented by the geographic database (e.g., Canada and the United States), the level 1 records are ordered alphabetically.
    </p>
    <p num="68">
      Next, all the level 2 place data records (i.e., those corresponding to the "states" in the U.S. or "provinces" in Canada) whose geographic features are represented by the geographic database 40 are arranged.
      <br/>
      These place records are ordered first according to which of the countries represented by level 1 records they are a part of, and then once they are sorted by country, they are sorted alphabetically.
      <br/>
      Thus, if the geographic database includes Canada and the United States, all the place data records that represent provinces of Canada are arranged in alphabetical order first followed by all the place data records that represent states of the United States arranged in alphabetical order. (Note that the geographic database does not necessarily include all the states or all the provinces.
      <br/>
      Only those that are represented by the geographic database are included.)
    </p>
    <p num="69">
      Next, all the level 3 place data records (i.e., those corresponding to the "counties" in the U.S. and Canada) whose geographic features are represented by the geographic database 40 are arranged.
      <br/>
      These place records are ordered first according to which of the states (or provinces) represented by level 2 records they are a part of, and then alphabetically.
      <br/>
      Thus, if the geographic database includes Illinois and Iowa, all the place data records that represent counties of Illinois are arranged in alphabetical order first, followed by all the place data records that represent counties of Iowa arranged in alphabetical order.
    </p>
    <p num="70">
      Finally all the level 4 place data records (i.e., those corresponding to the "cities" in the U.S. or Canada) whose geographic features are represented by the geographic database 40 are arranged.
      <br/>
      These place records are ordered first according to which of the states (or provinces) represented by level 2 records they are a part of, and then alphabetically.
      <br/>
      Thus, if the geographic database includes Illinois and Iowa, all the place data records that represent cities of Illinois are arranged in alphabetical order first, then followed by all the place data records that represent cities of Iowa arranged in alphabetical order.
    </p>
    <p num="71">
      Place data may be indexed in at least two ways.
      <br/>
      First, there is a B-tree index for the hierarchically organized place data described above.
      <br/>
      The key in this B-tree index is a place data record identification number plus the place name. (In a present embodiment, the place data record identification number consists of a combination of the identification number of the parcel in which the place data record is contained and a record number for the place data record within the parcel.) This B-tree facilitates searching alphabetically for places under a certain parent in the hierarchy (e.g., cities in Illinois that begin with "C").
      <br/>
      Second, there is an index (including a B-tree) of place data record identification numbers ordered alphabetically by level in the hierarchy.
      <br/>
      The index information includes the place data record identification number, a portion of the place name, and a language bitmap (which is described in more detail below).
      <br/>
      This index facilitates searching alphabetically for places at a certain level (e.g. all cities that start with "C").
      <br/>
      Each of these indices are organized as a B-tree of minimal height, with the root of the index kept in memory, and with index page sizes such that a place record can be found with a minimal number of reads of index records (preferably, a single read), followed by a read of a place parcel.
    </p>
    <p num="72">
      The parcelization of place data described above represents one way that these data records can be organized.
      <br/>
      Other kinds of organization may be used.
      <br/>
      For example, other kinds of hierarchical arrangements may be used for the place data.
      <br/>
      Alternatively, the place data records may be spatially organized like the point of interest data.
    </p>
    <p num="73">F. Representation of Complex Intersections</p>
    <p num="74">
      The various techniques described above enhance the operation of a navigation system by organizing, arranging, and ordering the geographic data in ways that facilitate their use in the navigation system.
      <br/>
      Another way to enhance the operation of a navigation system is to provide special kinds of representations for certain geographic features.
      <br/>
      Thus, in addition to having data records that accurately represent the actual physical geographic features in a region, according to a present embodiment, the geographic database may include substitute records that are used for certain navigation functions.
      <br/>
      These substitute records may provide abbreviated or shortcut representations of certain complex features.
      <br/>
      These substitute records may be used by certain navigation functions in the navigation application instead of the records that represent the actual features.
      <br/>
      This allows the navigation function to avoid the additional computations associated with handling of the data records that represent the actual complex features.
      <br/>
      In a present embodiment, substitute records are included in the route calculation subset 136 (of FIG. 5) of the geographic data and are used in this subset to represent certain complex intersections.
      <br/>
      As mentioned above, the route calculation subset 137 of geographic data includes entities that represent nodes and road segments.
      <br/>
      The node entities store positional information (i.e., latitude and longitude) about the end points of a road segment. (There may also be node entities that relate to positional information other than the end points of road segments.) The positional information related to each node is stored in terms of a longitude, latitude, and possibly an altitude.
      <br/>
      This node entity may also contain attributes which provide additional information about the node.
    </p>
    <p num="75">
      As mentioned above, the parcelization method used for the route calculation subset of the data provides for maximizing the amount of relevant route calculation information that can be kept in memory at once thereby minimizing time-consuming memory operations during route calculations.
      <br/>
      According to this aspect of the present embodiment, the route calculation function 41 (in FIG. 1) may be sped up by including collapsed node data entities (referred to as "supernode data entities") in the route calculation data set 137.
      <br/>
      Each of these collapsed nodes or supernodes represents a plurality of closely-spaced or related regular nodes and segments.
      <br/>
      Wherever a supernode is used to represent a plurality of regular nodes, each road segment that is connected to any of the nodes represented by the supernode from outside the supernode is associated with the supernode instead of with the regular nodes by the supernode.
      <br/>
      Then, when the route calculation function 41 accesses any of these road segment records to calculate a route, the supernode record is identified as corresponding to the endpoint of the segment instead of one of the plurality of regular node records represented by the supernode.
      <br/>
      Including the supernode records has the effect of replacing certain complex intersections in the route calculation subset 137 of the geographic database 40 with simplified intersections.
      <br/>
      Replacing certain complex intersections with simplified intersection representations reduces the time and data required for the route calculation function 41 to calculate a route through these intersections.
    </p>
    <p num="76">
      Some examples of such complex intersections that are represented by supernodes are illustrated at FIGS. 10A, 10C, and 10D.
      <br/>
      For example, referring to FIG. 10A, there is a map illustrating a roundabout 608.
      <br/>
      In the route calculation subset 41, the roundabout 608 is formed of segments 612, 614,616, and 618, and nodes 622, 624, 628, and 632.
      <br/>
      According to the present embodiment, the nodes and segments forming the roundabout 608 are collapsed into a single supernode represented by a supernode record in the routing data subset 137.
      <br/>
      FIG. 10B shows a map graphically illustrating the supernode 640 that represents the complex intersection of FIG. 10A. A parcel 220 of routing data 137 that includes both regular nodes records 323 and supernode records 323(S) is shown in FIG. 9.
      <br/>
      A supernode data entity 323(S) (in FIG. 9) is generated automatically during compiling of the route calculation subset 137.
      <br/>
      The segment records 322 in the routing data subset 137 that represent the segments 611, 613, 615, and 617 (illustrated in FIG. 10A) indicate that they connect to the supernode 640 instead of to node records that represent the actual nodes 622, 624, 628, and 632, respectively.
      <br/>
      Although the geometry of the road segments 611, 613, 615, and 617 appears different in the supernode representation of FIG. 10B, all the attributes of the segment data records 322 in the database, including the segment length, remain the same as they would for the full representation of the intersection.
    </p>
    <p num="77">
      As mentioned above, the purpose of including the substitute supernode records in the routing data subset 137 is to provide a simplified representation of the road network which can help speed up route calculation function 41.
      <br/>
      For example, without the supernode representation, if the route calculation function 41 in the navigation application program 18 is attempting to calculate a route through the roundabout 608 of FIG. 10A from node 626 to 630, it would have to process traveling from node 626 to node 624, node 624 to node 628, and node 628 to node 630.
      <br/>
      With the supernode representation of FIG. 10B, the route calculation program 41 only has to process traversal from node 626 to node 640 and node 640 to node 630.
    </p>
    <p num="78">
      In a preferred embodiment, even if supernode records are used in a given level of the route calculation subset 137, the data subset at that level also includes the plurality of regular node records (i.e., internal nodes 323(I) in FIG. 9) that are represented by the supernode record.
      <br/>
      This allows any information associated with the regular nodes to still be accessible to the navigation application program, if needed.
      <br/>
      For example, in order to display a map of a calculated route, it may be necessary to obtain the regular node records represented by the supernode record so that all the road segments can be shown.
      <br/>
      This can be determined because each of the supernode records provides a reference back to its constituent.
    </p>
    <p num="79">
      Because an exact location is unnecessary for a supernode, a supernode is given a geographic location approximately at the center of the group of nodes it represents.
      <br/>
      A supernode and the nodes it represents are treated as a unit when parcelizing, so that regular nodes represented by a supernode are placed together in the same parcel.
    </p>
    <p num="80">When the data are organized in layers as in the route calculation subset 136 of data or the cartographic subset 137 of data, supernodes can be defined in any layer.</p>
    <p num="81">
      A function call in the route calculation subprogram 41 of the navigation application can be used to translate a supernode back into the regular nodes and segments that it represents.
      <br/>
      Another function call can be used to retrieve an ordered list of the segments inside the supernode to be traversed in order to get from one segment connected to the supernode to another.
    </p>
    <p num="82">
      A function call can be used to obtain the relative travel cost (or "impedance") of the supernode.
      <br/>
      The relative cost of a supemode (or of a regular node) is an indication of how much time is required to travel across the node.
      <br/>
      The relative travel cost of a supernode may be included as an attribute of the supernode entity, or preferably the travel cost of a supernode may be based on the length and/or speed of travel of the segments inside the supernode to be traversed to get from one segment connected to the supernode to another of the segments.
      <br/>
      In the example of FIG. 10A and 10B, the relative travel cost to get firm the segment 611 to the segment 615 is based on the lengths of the segments 612 and 619 as well as the two right turns required to travel from segment 611 to segment 615.
      <br/>
      The function call may be included in the route calculation subprogram 41 of the navigation application to obtain this information.
    </p>
    <p num="83">
      Supernodes may be used to represent any intersection and are particularly useful when representing complex intersections that include more than two roads.
      <br/>
      For example, a supernode representation 642 may be used for divided highways 644 (as shown in FIGS. 10C and 10D) and a supernode representation 648 may be used for cloverleaves 650 (as shown in FIG. 10E and 10F).
    </p>
    <p num="84">
      In a present embodiment, the determination of when to include a supernode as a representation of several regular nodes is done at compile time based upon a predetermined set of rules.
      <br/>
      For example, a candidate supernode is established and examined to determine whether it meets the predetermined set of conditions.
      <br/>
      For example, for forming supernodes for divided highways, the routing data are examined to find all occurrences wherein two multiply-digitized roads intersect. (Multiply-digitized roads are roads in which separate segments are used to represent traffic in each direction.) The intersections of these multiply-digitized roads are examined to determine whether there are exactly four internal nodes at the intersection, whether there are exactly four segments internal of the intersection, and whether each of the internal segments connects to two, and only two, other internal segments by means of internal nodes.
      <br/>
      If all these conditions are met, a supernode entity is formed and stored in the layer of routing data.
    </p>
    <p num="85">
      Similarly, supernodes may be automatically generated for roundabouts.
      <br/>
      The rules for forming a roundabout include no limitation on how many internal nodes and segments are included within the roundabout.
      <br/>
      As with the multiply-digitized roads, a candidate supernode is formed of a grouping of nodes and segments.
      <br/>
      The nodes and segments used to form the candidate supernode include those having display characteristic indicating that they are part of a roundabout.
    </p>
    <p num="86">
      FIG. 11 illustrates the components of two node data entities 323 that are included in the routing data subset 137 of the geographic database.
      <br/>
      One of the node data entities 323(1) represents a regular (i.e., "non-super") node and the other node data entity 323(S) represents a supernode.
      <br/>
      These entities 323 are included in parcels 220 of the routing data 137.
      <br/>
      The "non-super" node record 323(1) includes position data 330 that indicates the geographic coordinates (i.e., latitude, longitude. and optionally altitude) of the represented node.
      <br/>
      The node record 323(1) also includes data 332 that indicates the number of segments that connect to the node (i.e., the "arms" of the node).
      <br/>
      The node record 323(1) includes data 334 that identifies the segments 322 (by segment record ID) that connect to the node.
      <br/>
      The node entity 323(1) includes data 336 indicating a unique ID for the node.
      <br/>
      The node entity 323(1) optionally includes a data flag 370 that indicates whether the node is named and therefore represented by a junction record, as explained below.
      <br/>
      The node data entity 323(1) may also include other data 339.
    </p>
    <p num="87">
      The supernode record 323(S) includes some or all of the same information that is included in a regular (non-super-) node 323.
      <br/>
      The supernode record 323(S) includes position data 342 that indicates the generated geographic coordinates (i.e., latitude, longitude, and optionally altitude) of the supernode. (As mentioned above, this position is generated to correspond to a point approximately equidistant from the regular nodes represented by the supernode.) The supernode record 323(S) includes data 332 that indicates the number of segments that connect to the node.
      <br/>
      The supernode record 323(S) includes data 334 that identifies the segments 322 (by segment record ID) that connect to the node (i.e., the "arins" of the supernode).
      <br/>
      The supernode record 323(S) includes data 358 indicating a unique ID for the node.
      <br/>
      The supernode entity 323(S) optionally includes a data flag 370 that indicates whether the supernode is represented by ajunction record, as explained below.
    </p>
    <p num="88">
      In addition to the data attributes that are similar to those in a regular node, the supernode record includes additional data attributes.
      <br/>
      The supernode entity 323(S) also includes data 344 that indicates the number of subordinate nodes that it represents.
      <br/>
      The supernode entity 323(S) also includes data 346 that indicates the number of internal segments that are represented by the supernode.
      <br/>
      The supernode record 323(S) includes data 348 that identifies the internal segments 322(1) (by segment record ID) that are represented by the supernode.
      <br/>
      As illustrated in FIG. 9, these internal segments 322(I) are located in the routing data subset 137.
      <br/>
      These segments may be in the same parcel 220 as the supernode record 323(S) that refers to them, or alternatively, some of these segments may be located in another (e.g., a neighboring) parcel.
      <br/>
      The supernode record can reference segments in other parcels.
    </p>
    <p num="89">
      Referring again to FIG. 11, the supernode record 323(S) includes data 350 indicating the number of paths through the supernode.
      <br/>
      The paths through the supernode are identifications of each of the other arms are accessible from each arm leading into the supernode.
      <br/>
      The supernode entity 323(S) includes data 352 that represents the path descriptors that describe these paths through the supernode.
      <br/>
      By identifying, describing and storing these paths in the supernode record, a route calculation program 41 can avoid the possibly time-consuming computations associated with traversing a complex intersection.
    </p>
    <p num="90">The supernode record 323(S) also includes data 354 that identifies the layer 0 routing parcel ID corresponding to the position of the supernode.</p>
    <p num="91">III. REPRESENTATION OF NAMED INTERSECTIONS</p>
    <p num="92">
      In order to represent intersections that have names, the geographic database 40 includes junction data records.
      <br/>
      According to one embodiment, the geographic database 40 includes one or more junction data records for each intersection in the geographic region that has a name associated with it.
      <br/>
      A geographic region may include hundreds, thousands or more of such named intersections.
      <br/>
      Accordingly, a geographic database 40 that represents a geographic region includes a corresponding plurality of junction data records.
      <br/>
      The junction data records are included in the junction data subset 140 of the geographic database 40, shown in FIG. 5.
      <br/>
      As mentioned above in connection with FIG. 5. the junction data subset 140 forms a separate subset of data within the geographic database 40.
    </p>
    <p num="93">
      The naming of intersections may be formal or informal.
      <br/>
      Some intersections are formally named and others may have names by which they are known informally.
      <br/>
      According to one embodiment, the geographic database provides for identifying intersections by name regardless of whether an intersection is formally named or whether the intersection name developed informally by common usage.
      <br/>
      According to one embodiment, all named intersections are represented by junction data records in the geographic database.
      <br/>
      According to another embodiment, only complex named intersections are represented by junction data records in the geographic database.
    </p>
    <p num="94">1. Junction Data.</p>
    <p num="95">
      FIGS. 12 and 13 show parcelized junction data 140.
      <br/>
      FIG. 13 shows a parcel 220(P)(n) containing a plurality of junction data records 700. (It is understood that the plurality of junction data records 700 that comprise the entire junction data subset 140 in FIG. 5 may be contained in plurality of parcels, each with a structure similar to the parcel 220(P)(n) depicted in FIG. 13.) The components of a single junction data record 700(m) are shown in FIG. 13. Each junction data record 700 associates an intersection (represented by a node data entity) with a name (represented by navigation feature entity).
      <br/>
      To perform this function, each junction data record 700 includes one or more data components, as shown in FIG. 13. (In alternative embodiments, the junction data record 700 may include more or fewer than the data components depicted in FIG. 13.)
    </p>
    <p num="96">
      Each junction data record 700 is associated with a junction ID 702.
      <br/>
      The junction ID data component 702 is a unique number assigned to the junction record 700 in the geographic database 40.
      <br/>
      The junction ID 702 may be used by other data records in the geographic database 40 to refer to a specific junction data record.
      <br/>
      The junction ID 702 may not actually be located with the data contents of the junction data record to which it is assigned.
      <br/>
      Instead, the junction data record 702 may be accessed through a block offset array 712.
      <br/>
      Each parcel of junction data contains a block offset array 712.
      <br/>
      The block offset array 712 associates ajunction record ID 702 with a physical offset into the block of junction data records within the parcel where the data contents of the junction data record associated with the junction record ID 702 are located, The block offset array thereby enables finding the data contents of a junction data record given the junction record ID 702 of the record.
    </p>
    <p num="97">
      A second data component 704 of the junction record 700(m) references a place.
      <br/>
      As mentioned above, the geographic database 40 includes place data 144 to represent cities, counties, states, and countries in a geographic region. (In countries other than the United States, these place data represent other corresponding levels of the government hierarchy.) The place referenced by the second data component 704 of the junction data entity 700(m) is the lowest level place (i.e., the city) in which the named intersection represented by the junction record is located.
      <br/>
      Instead of referring to the place directly by the place ID of the place, each junction data record 700 includes a reference to an entry in a place array 714 within the parcel of junction data in which the junction data record is located.
      <br/>
      The place array 714 in turn includes a reference to the place ID.
      <br/>
      Use of the place array 714 reduces the data storage requirements within the parcel.
    </p>
    <p num="98">
      Another data component within the junction data record 700(m) is a place type 705.
      <br/>
      The place type data component 705 indicates whether the place is an administrative type place or a postal zone type place.
    </p>
    <p num="99">
      The junction data record 700(m) also includes a data component 706 that references a navigation feature record 770 in the navigation feature subset 141 of the geographic database.
      <br/>
      The navigation feature record 770 referenced by the junction data record 700(m) represents the name of the named intersection represented by the junction data record 700(m).
      <br/>
      Instead of referring to the navigation feature record directly by the navigation feature ID that represents the name, each junction data record 700 includes a reference to an entry in a navigation feature array 716 located within the parcel of junction data in which the referencing junction data record is located.
      <br/>
      The navigation feature array 716 in turn includes a reference to the navigation feature ID.
      <br/>
      Use of the navigation feature array 716 reduces the data storage requirements within the junction parcel.
    </p>
    <p num="100">
      Another data component 708 of the junction record 700(m) references a node record 323 in the route calculation subset 137 of the geographic database 40.
      <br/>
      The data component 708 references the node record 323 by node ID.
      <br/>
      The node record 323 referenced by the junction data record 700 represents the node corresponding to the named intersection represented by the junction data record 700(m).
      <br/>
      In addition, the data component 708 includes a reference to the bottom layer routing parcel that is associated with the referenced node 323.
    </p>
    <p num="101">
      A junction may be located in more than one place.
      <br/>
      For example, a named intersection may be on the border between two or more cities, states, counties or countries.
      <br/>
      Also, if the junction represents a complex intersection represented by a supernode, some of the segments or nodes that make up the supernode may be in one city and other segments or nodes that make up the supernode may be in another city.
      <br/>
      When the features that are represented by a junction are in more than one place, separate junction records representing the named intersection are included in the junction data set for each place in which the junction is located.
      <br/>
      As mentioned above, junction data records are organized first by place ID.
      <br/>
      Since place ID's are assigned alphabetically, the multiple junction records that represent the same named intersection may be located relatively far apart in the junction data set.
      <br/>
      For example, a named intersection on the border of the city of "Chicago" and "Park Ridge" would be represented by two junction data records, one grouped with other junction records associated with the place ID for "Chicago" and the other grouped with the other junction records associated with the place ID for "Park Ridge."
    </p>
    <p num="102">
      When more than one junction data record is associated with the same named intersection, each of the junction data records representing the named intersection includes data for identifying the other places in which the named intersection is located.
      <br/>
      The junction data record 700 includes data components for this purpose.
      <br/>
      The junction data record 700 includes a data component 720 that indicates whether the junction record is associated with more than one place.
      <br/>
      This data component 720 may be a bit flag.
      <br/>
      If the bit flag 720 is set, it indicates that there is more than one place record is associated with the junction record.
      <br/>
      If the bit flag 720 is set, the junction data record 700(m) includes a data component 722 that indicates the number of places associated with the junction data record.
      <br/>
      The junction data record 700(m) then includes a place ID array 724.
      <br/>
      The place ID array 724 includes a number of entries corresponding to the number included in the data component 722.
      <br/>
      Each of the entries 724(1), 724(2) . . . in the place ID array 724 references an entry in the place ID array 714 within the parcel.
    </p>
    <p num="103">
      The junction data record 700 may include additional data components, such as junction attributes 728 which describe other features of the named intersection represented by the junction record.
      <br/>
      The junction data record may include data components in addition to these.
    </p>
    <p num="104">
      Each parcel 220(P)(n) of junction data may include information in addition to the information described above.
      <br/>
      For example each parcel of junction data may include header information 719 which provides for appropriate handling and identification of the data in the parcel.
    </p>
    <p num="105">2. Organization of Junction Data.</p>
    <p num="106">
      Within the separate subset 140 containing junction data, the junction data records are organized by the place ID.
      <br/>
      As mentioned above, in a present embodiment of the geographic database, place data records are used to represent the political or governmental bodies in a geographic region.
      <br/>
      The order in which places are organized is described above in connection with the place data 144.
      <br/>
      A junction data record is included for the lowest level place in which the named intersection represented by the junction data record is located.
      <br/>
      For example, in the United States, the lowest level place is the city.
      <br/>
      Thus, even though a named intersection may be located in four places (e.g., the country place of "United States", the state place of "Illinois", the county place of "Cook" and the city place of "Chicago", only one junction data record representing this named intersection is included in the junction data subset 140. (If the named intersection is not in a city place, a higher level place ID may be used.)
    </p>
    <p num="107">
      Among all the junction data records having the same place ID, the junction data records are further ordered by navigation feature ID.
      <br/>
      Navigation feature data records (i.e., 770, described below) are ordered alphabetically by name and are assigned navigation feature ID's corresponding to this alphabetical ordering.
      <br/>
      Thus, junction data records that are located in the same place (and therefore have the same place ID) are then ordered by navigation feature ID (i.e., alphabetically by name).
      <br/>
      For example, junction data records representing the named intersections "Logan Square" and "Ryan's Circle" located in the city place having the name of "Chicago" would be grouped together and assigned junction ID's among the junction data 140 prior to junction data records representing the named intersections "Aberdeen Interchange" and "Chadwick's Circle" located in the city place having the name of "Cicero."
    </p>
    <p num="108">
      Like the other kinds of data, the junction data records 700 are organized into a plurality of parcels 220.
      <br/>
      Specifically, all the junction data records 700 within the separate subset 140 are organized into a plurality of parcels 220 each of which includes a plurality of junction data records organized by place.
      <br/>
      The junction data records are parcelized separately from the rest of the geographic data.
      <br/>
      The parcels of junction data records are included among the plurality of parcels 220 shown in FIG. 7, Each of the plurality of parcels that contains junction data entities is stored separately in the geographic database 40 from the parcels that contain other kinds of data entities.
    </p>
    <p num="109">3. Reference Navigable Feature Data.</p>
    <p num="110">
      The navigation feature records 770 referenced by the data components 706 of each the junction data records 700 are included in the navigation feature subset 141 of the geographic database, shown in FIG. 5.
      <br/>
      The navigation feature data subset 141 of the geographic database 40 contains the names of navigable features, such as the names of roads and intersections.
      <br/>
      As mentioned above in connection with FIG. 5, the navigation feature data 141 may form a separate subset of data within the geographic database 40.
      <br/>
      As illustrated in FIG. 12, in a present embodiment, the navigation feature data are separately parcelized from the other types of data in the geographic database.
    </p>
    <p num="111">FIG. 14 shows a parcel 220(NF)(p) containing a plurality of navigation feature data records 770. (It is understood that the plurality of navigation feature data records 770 that comprise the entire navigation feature data subset 141 in FIG. 5 may be contained in a plurality of parcels 220, each with a structure similar to the parcel 220(NF)(p) depicted in FIG. 14.) Some of the components of a single navigation feature data record 770 are shown in FIG. 14.</p>
    <p num="112">
      A first data component of the navigation feature record 770 is a navigation feature ID 772.
      <br/>
      The navigation feature ID 772 is a unique number associated with the navigation feature record 770 in the geographic database 40.
      <br/>
      The navigation feature record 770 also includes a data component 774 that indicates a name for the feature represented by the navigation feature record 770.
      <br/>
      In the case of a navigation feature record 770 referenced by a junction data record 700, this data component 774 includes the name of the named intersection.
      <br/>
      For example, if a named intersection is known as "Logan Square", the data component 774 of the navigation feature record 770 referenced by the junction data record 700 that represents this named intersection includes the text "Logan Square." Another data component 776 of the navigation feature record 770 indicates the type of navigable feature represented by the navigation feature record 770.
      <br/>
      If the navigation feature record 770 includes the name of a named intersection and is referenced by ajunction data record 700, this data component 776 indicates that the navigation feature record 770 represents a name for an "intersection." Navigation feature records 770 are also used to represent the names of other kinds of named navigable features, such as roads, ferries, and so on.
      <br/>
      Data records that represent these other kinds of navigable features (such as segment data records 322 in FIGS. 9 and 12) may also refer to navigation feature records in order to reference the name of the represented navigable feature.
      <br/>
      If the navigation feature record is referenced by a road segment record, the data type 776 of the navigation feature record 770 indicates "road segment." Each navigation feature record 770 may also include other data components 780.
    </p>
    <p num="113">
      Within the subset of navigation feature data 141, the navigation feature records 770 are organized by navigation feature ID.
      <br/>
      The navigation feature ID's are assigned alphabetically by the represented name.
      <br/>
      The navigation feature records are organized into a plurality of parcels (such as the parcels 220 shown in FIG. 7) each of which contains a plurality of navigation feature records 770.
    </p>
    <p num="114">4. Referenced Supernode Data.</p>
    <p num="115">
      The node record 323 referenced by the data component 708 of the junction data record 700 is included in the routing subset 137 of the geographic database, shown in FIG. 5.
      <br/>
      In a present embodiment, the node record 323 referenced by the data component 708 of the junction data record 700 is a supernode data record 323(S).
      <br/>
      A reason for this is that many named intersections are also complex intersections.
      <br/>
      Conversely, many complex intersections also have names.
      <br/>
      As mentioned above, in a present embodiment of the geographic database, complex intersections are represented by substitute data records (i.e., "supernode" data records) in the routing data subset 136 in order to enhance operation of a navigation system during performance of the rioute calculation function 41.
      <br/>
      Thus, in one present embodiment, only complex intersections that have names are included in the database.
      <br/>
      In this present embodiment, these complex named intersections are represented by supernode data records 323(S).
    </p>
    <p num="116">
      According to a present embodiment, each supernode data record 323(S) includes one or more data components that support identification and use of a name for the intersection represented by the supernode data record.
      <br/>
      Referring again to FIGS. 11 and 12, a supernode data record 323(S) may include a data component 370 that indicates whether the represented complex intersection has a name associated with it and therefore is also represented by junction data record 700.
      <br/>
      This data component 370 may be a bit flag (i.e., a one bit field).
      <br/>
      If the intersection represented by the supernode record has a name associated with it and a corresponding junction data record 700, this bit flag 370 is set.
      <br/>
      Otherwise, if the intersection represented by the supernode record does not have a name (and therefore has no corresponding junction data record 700 associated with it), the bit flag 370 in the supernode data record 323(S) is not set.
      <br/>
      If the bit flag 370 is set, the supernode data record includes data 368 that refers to a navigation feature data record 770 in the navigation feature data subset 141.
    </p>
    <p num="117">5. Indices.</p>
    <p num="118">
      In order to provide for the junction data entities 700 to work with other types of data, several index files are provided.
      <br/>
      These may include both external index files 147 and internal index files 149.
    </p>
    <p num="119">
      Referring to FIG. 12, a first index 900 provides for the identification of a junction record (i.e., the parcel of junction data in which the junction record is located by parcel ID and the junction record within the parcel by junction entity ID) given a place ID plus a navigation feature ID.
      <br/>
      This index 900 may be used by the navigation application 18 to allow an end-user to query for named intersections given the lowest level place (e.g., the city, etc.) in which it is located.
    </p>
    <p num="120">
      A second index 910 provides for the identification of a junction record (i.e., the parcel of junction data in which the junction records is located by parcel ID and the junction record within the parcel by junction entity ID) given a navigation feature ID.
      <br/>
      This second index 910 may be used by the navigation application 18 to allow an enduser user to query for named intersections by name if the place (i.e., the city, state, etc.) is not specified.
      <br/>
      This index 910 is useful in case the end-user does not know the place (i.e., the city) in which a named intersection is located.
    </p>
    <p num="121">
      These indices 900 and 910 are external indices maintained among the indices 147 of FIG. 5.
      <br/>
      In a present embodiment, these indices are B-trees of minimal height.
      <br/>
      In one embodiment, the root of each index may be kept in memory.
      <br/>
      The page sizes of each index are such that any junction record can be found with a single read of an index record followed by a read of a parcel containing the referenced junction data record.
    </p>
    <p num="122">
      In addition to the above external indices 900 and 910, a present embodiment of the geographic database 40 also includes one or more spatial indices for junctions.
      <br/>
      These one or more spatial indices for junctions are included in the maneuver data subset 138.
    </p>
    <p num="123">
      Referring to FIGS. 13 and 15 each maneuver data parcel 220(M)(n) includes a spatial index for junctions 850.
      <br/>
      The maneuver data subset 138 of the geographic database 40 may include a plurality of maneuver parcels and accordingly, the geographic database 40 may include a plurality of spatial indices 850 similar to the Is index shown in FIG. 15 in each of the maneuver data parcels.
    </p>
    <p num="124">
      The maneuver subset of data 138 is used in combination with the route calculation data 136 to provide meaningful route guidance instructions to the end-user.
      <br/>
      The route calculation data 137 contains only part of what is needed for direction generation for the end-user.
      <br/>
      The route calculation subset of data 136 is used to calculate a route given a starting location and a destination.
      <br/>
      The maneuver subset of data 138 is used after the route has been calculated by using the route calculation data 136.
      <br/>
      The data included in the maneuver subset 138 are used for direction generation during the driving of the calculated route to provide meaningful guidance to the end-user.
      <br/>
      The maneuver subset of data 138 contains block data (i.e., records that represent street address ranges), landmark data, and sign post data.
      <br/>
      The maneuver subset 138 also includes related cross reference indices and arrays.
      <br/>
      These kinds of data are used when the end-user is being provided with maneuvering instructions along the route as the route is being driven.
    </p>
    <p num="125">
      The maneuver data 138 are spatially parcelized.
      <br/>
      Thus, all the maneuver data records (i.e., records for blocks, landmarks, and sign posts) contained in each parcel of maneuver data are encompassed within a separate geographic (rectangular) area which is distinct from each of the geographic areas that encompass the geographic features that are represented by the maneuver data included in each of the other parcels of maneuver data.
      <br/>
      With reference to FIG. 8 for example, the maneuver data in each parcel of maneuver data may represent the features contained in separate one of the rectangular areas 219 in FIG. 8. (It is noted that the locations of the boundaries of the rectangular areas that define the maneuver parcels depend upon the method used for parcelizing the data.)
    </p>
    <p num="126">
      FIG. 15 shows a parcel 220(M)(n) of maneuver data 138.
      <br/>
      The parcel 220(M)(n) of maneuver data includes header information 819 and arrays 820, which serve functions similar to those described above in connection with the junction data parcels.
      <br/>
      The maneuver parcels also contain block records 832, landmark records 836, and sign text records 840.
      <br/>
      These records may be spatially organized, e.g., in Peano key order.
      <br/>
      In addition, each maneuver parcel 220(M) also contains a named-node-to-junction index 850.
      <br/>
      This index 850 relates a named node (by node ID) to the name for the named node (by navigation feature record ID) and to the junction record associated with the named node (by junction record ID).
      <br/>
      This index 850 includes an entry for each named node encompassed within the geographic area 219 corresponding to the parcel.
      <br/>
      This index 850 is developed by identifying each of the nodes in the routing data subset 136 that has a junction record associated with it (i.e., that has the named intersection flag 370 set).
      <br/>
      The entries in this index 850 are ordered by node ID.
      <br/>
      Since node ID's are assigned in a spatial order (e.g., in Peano key order), the entries in the index 850 are spatially organized within the maneuver parcel.
      <br/>
      The maneuver parcels are also spatially organized.
      <br/>
      Thus, using a spatial index into the maneuver parcels (which is contained among the external indices 147 in FIG. 5), and then using the spatial index 850 located within a single maneuver parcel, the junction record and name for any named intersection can be found spatially.
      <br/>
      For example, using this index 850, if the coordinates of a bounding rectangle are specified, all the junctions that are encompassed within the bounding rectangle can be determined.
    </p>
    <p num="127">IV. METHODS FOR USING NAMED JUNCTIONS</p>
    <p num="128">As mentioned above, using an embodiment of the geographic database that includes junction data records, a navigation application program 18 in a navigation system can support the use of named intersections for various navigation functions.</p>
    <heading>EXAMPLE A</heading>
    <p num="129">
      One way that the navigation application program can support this feature is by allowing an end-user to specify an intersection by name as a starting point or a destination of a route prior to route calculation.
      <br/>
      A first embodiment of a method for using a geographic database that supports the use of named intersections is described in connection with FIG. 20. The navigation system 10 may provide various ways by which an end-user can enter a desired destination.
      <br/>
      For example, the navigation system may allow the end-user to enter a desired destination by street address.
      <br/>
      Alternatively, the navigation system may allow the end-user to search for a destination by name or type and present the end-user with a list of search results from which the end-user then selects the desired destination.
      <br/>
      The navigation application 18 may use a menu on the display 27 of the user interface 31 for these purposes.
    </p>
    <p num="130">
      Using an embodiment of the present application, the navigation system may allow the end user to search for a destination by name if the desired destination is a named intersection.
      <br/>
      According to one alternative method, the navigation system may first allow the end-user to specify whether the destination name to be searched is a navigable feature, a point of interest or a place.
      <br/>
      Assuming the end-user selects a search of navigable features, the navigation system then prompts the end-user to enter Is the name to be searched (step 788 in FIG. 20).
      <br/>
      The navigation system accepts the input from the end-user (step 789).
      <br/>
      Using the navigation feature subset of data 141, the navigation application 18 searches for the navigable feature with the name entered by the end-user (step 790).
      <br/>
      Assuming a match is found, the navigation system then presents its search results to the end-user via the user-interface (step 791).
      <br/>
      The search results may include only exact matches or may include similar matches as well.
      <br/>
      Because the navigation feature subset 141 represents the names of various types of navigable features, the results presented to the end-user may include names for segments as well as names for intersections.
      <br/>
      The end-user selects one of the displayed names and the navigation application accepts this input (step 792).
      <br/>
      The search results may include an indication as to which kind of navigable feature each of the displayed names represents.
      <br/>
      If the name selected by the end-user is a named intersection, the type 776 of navigation feature will indicate that it is a name for an intersection.
      <br/>
      Then, using the navigation feature ID of the selected name in the navigation-feature-to-junction index 910, the junction ID of the named intersection can be obtained (step 793).
      <br/>
      Using the junction ID, the junction record can be obtained from the junction data 140.
      <br/>
      Using the junction record, the node ID of the represented named intersection can be obtained (step 794).
      <br/>
      Using the node ID of the desired destination, the route calculation function 41 uses the route calculation data 136 to calculate a route to the desired destination (step 797).
    </p>
    <heading>EXAMPLE B</heading>
    <p num="131">
      The junction data can be used to provide various other functions.
      <br/>
      For example, the junction data can be used to provide improved route explication during route guidance.
      <br/>
      An example of a method for providing this function is described in connection with FIG. 21.
    </p>
    <p num="132">
      After a route has been calculated by a route calculation function, such as the function 41 of FIG. 1, the end-user may be provided with guidance for following the route using the route guidance function 42 in FIG. 1.
      <br/>
      For example, the route guidance function 42 operates while the end-user is driving the calculated route.
      <br/>
      During operation of the route guidance function 42, the end-user (e.g., a driver) is provided with turn-by-turn directions for the maneuvers required to be taken to follow the calculated route as the route is being driven.
    </p>
    <p num="133">
      The route determined by the route calculation function 41 is comprised of a list of road segment records 322 (such as those shown in FIG. 9) that make up the calculated route.
      <br/>
      During the route guidance stage of operation, the maneuver data 138 (in FIG. 5) may be used.
      <br/>
      The maneuver data 138 include some of the data necessary to explicate a route for the end-user.
      <br/>
      During route guidance, the parcels of maneuver data that correspond to the geographic areas along which the calculated route passes are loaded and used to provide meaningful route guidance instructions or information to the end-user.
      <br/>
      Since the maneuver data are spatially parcelized, the parcels of maneuver data 138 that correspond to the geographic areas that encompass the calculated route are loaded and read.
      <br/>
      It is not necessary to provide the driver with instructions regarding each and every segment and node in the calculated route.
      <br/>
      Instead, various algorithms may be used to determine which maneuvers to explicate.
      <br/>
      The records in the calculated route are examined to determine when a maneuver should be explicated (step 800).
    </p>
    <p num="134">
      The road segment records 322 that form the calculated route identify the nodes at their end points, e.g. by node ID.
      <br/>
      These node ID's are compared to the node ID's in the spatial index 850 (of FIG. 15) included in each parcel of maneuver data 138.
      <br/>
      A match indicates that the calculated route passes through a named intersection.
      <br/>
      Using, the spatial index 850, the name of the named intersection can be obtained using the navigation feature ID associated with the entry for the node ID included in the index 850 (step 804).
      <br/>
      Using the navigation feature ID, the name of the node can be obtained from the navigation feature data 141 (step 806).
      <br/>
      Using this information, the route guidance function 42 can inform the end-user about the named intersection (step 807).
      <br/>
      For example, as the named intersection is being approached, the route guidance function 42 can synthesize an audible message stating that the "XYZ intersection" is directly ahead.
      <br/>
      The text "XYZ" is included in the navigation feature data 141.
      <br/>
      Providing this kind of information can be useful to the end-user.
    </p>
    <p num="135">
      In an alternative implementation, the list of segments that forms the calculated route is examined to ascertain the nodes linking all the segments in the route.
      <br/>
      These node records from the routing data 136 are loaded.
      <br/>
      Each of these node records 323 are examined to determine whether the named intersection flag, 370 or 370(S), has been set.
      <br/>
      If it has, the maneuver parcel that corresponds to the rectangular area encompassing the node is loaded.
      <br/>
      The navigation feature ID is obtained from the spatial index 850 located in the maneuver parcel.
      <br/>
      Using the navigation feature ID, the name of the intersection can be obtained from the navigation feature data 141.
      <br/>
      This alternative implementation has the advantage that the maneuver parcel the corresponds to a rectangular area encompassing a portion of calculated route may not have to be loaded unless there is a maneuver that needs to be explicated with respect to any of the segments or nodes contained in the parcel.
      <br/>
      For example if the driver is instructed to proceed straight on a road for the next 10 miles, it may not be necessary to load any of the maneuver parcels that represent the rectangular areas along these 10 miles even if there are numerous intersections (and therefore multiple nodes and segments) along the way.
      <br/>
      On the other hand if a named intersection is located along the route, it may be helpful to inform the driver to drive through the named intersection.
      <br/>
      The presence of the named intersection can be determined from the flag 370 or 370(S) in the node record 323.
      <br/>
      Because the flag indicates that the node is named, the maneuver parcel corresponding to the area encompassing the node is loaded to obtain the navigation feature ID from the spatial index 850.
      <br/>
      Then using the navigation feature data 141, the name of the intersection can be explicated to the driver.
    </p>
    <p num="136">V. METHODS FOR FORMING GEOGRAPHIC DATABASE EMBODIMENTS</p>
    <p num="137">
      The embodiments of the geographic database described above include (1) substitute representations of complex features, (2) a means by which named intersections can be identified or used by name, or (3) both substitute representations of complex features and a means by which named intersections can be identified or used by name.
      <br/>
      There are several methods by which substitute records can be formed to represent collections of complex features.
      <br/>
      Likewise, there are several methods by which names can be associated with named intersections so that the intersections can be identified by name.
      <br/>
      Some of these methods are described in connection with the examples set forth below.
    </p>
    <p num="138">EXAMPLE 1</p>
    <p num="139">
      A first example relates to a method for forming substitute representations of complex features.
      <br/>
      More specifically, this example relates to a method by which supernode data records can be formed to represent certain kinds of named complex intersections.
    </p>
    <p num="140">
      One of the factors involved in forming substitute records is identifying which geographic features should be represented by the substitute data record.
      <br/>
      In the case of forming, supernodes, one of the factors to be considered is to determine which segments and regular (non-super-) nodes are subsumed into the supernode record.
      <br/>
      One way to determine which segments and regular (non-super-) nodes to include in a supernode record is to examine each road segment and node manually.
      <br/>
      According to a manual process, a technician investigates the physical area represented by the segment and node records or a representation of the physical area.
      <br/>
      The technician uses a set of rules to identify which segments and nodes should be included in the supernode record.
      <br/>
      After applying this set of rules to identify the segments and nodes to be included in a supernode record, the supernode record is manually coded.
      <br/>
      The segments and nodes subsumed into the super-node record may also be coded manually as being subsumed.
      <br/>
      Although manually coding supernodes is effective, it can be time-consuming.
      <br/>
      In addition, when supernodes are manually coded, there is a possibility of inconsistent application of the rules.
    </p>
    <p num="141">EXAMPLE 2</p>
    <p num="142">
      Another way to form substitute records for certain complex intersections is to use the attributes of certain geographic features as indicators.
      <br/>
      The attributes used as indicators may have been stored in the database for another purpose unrelated to the formation of substitute data records.
      <br/>
      Using data attributes as indicators allows the complex intersection to be identified automatically, thereby facilitating the formation of substitute data records, such as supernode records, without the time-consuming manual effort.
      <br/>
      In addition, using attributes of certain geographic features as indicators also provides for the consistent formation of these substitute data records.
    </p>
    <p num="143">
      In one type of geographic database, supernode data records can be automatically formed to represent complex junctions of certain controlled access roads.
      <br/>
      In one kind of geographic database, segment data records that represent ramps that are associated with named junctions include attributes that identify them as such.
      <br/>
      Using these attributes as indicators, supernode records can be formed automatically to represent the named complex intersections associated with these ramps.
      <br/>
      A procedure for forming supernode records automatically is described in connection with FIG. 16. Source code for a program routine for forming substitute (e.g., supernode) data records is included in the appendix that forms part ofthis specification.
      <br/>
      This program routine can be used as an independent part of a compiler process for forming a geographic database.
      <br/>
      The program routine is prepared in the C programming language, although in alternative embodiments, other programming languages may be used.
    </p>
    <p num="144">
      Referring to FIG. 16, to form supernodes automatically according to this procedure, it is assumed that data has been collected that represents the actual road segments and actual nodes in a geographic area.
      <br/>
      This collection of data is included in a source data file (DB(S)) 961, shown in FIG. 16. The source file 961 can be in any format, either proprietary or non-proprietary.
      <br/>
      This source data file 961 may represent the geographic data prior to being separated into types, layers, or parcels.
      <br/>
      In the source file 961, the data that represent road segments include various information about the road segments.
      <br/>
      This information is associated as attributes of each data record that represents a road segment.
      <br/>
      This attribute information may include the name of the road segment (if it has one).
      <br/>
      A data record that represents a road segment may also include attribute information that indicates what kind of road segment the data record represents.
      <br/>
      Examples of road segment types include ramps and controlled access roads.
      <br/>
      Roads to which traffic access is restricted to specific entrances, such as expressways, are controlled access roads and the data records that represent the road segments that form these kind of roads have attributes that indicate that they represent a controlled access road.
      <br/>
      Similarly, the ramps leading to or from a controlled access road are represented by data records that have an attribute that indicates that they are ramps.
      <br/>
      When a ramp leads to a named junction of controlled access roads, the segment data record that represents the ramp includes an attribute that it is associated with a named junction.
      <br/>
      This indication may be a flag, a name ID, or some other item of data that identifies the ramp as being associated with a named junction.
      <br/>
      An example of a segment data record that represents a ramp associated with a named junction of controlled access roads is shown in FIG. 17.
    </p>
    <p num="145">
      Referring again to FIG. 16, the source file 961 includes data records that represent navigable geographic features, including ramps as well as other road segments.
      <br/>
      Data records in the source file 961 that represent ramps associated with named junctions include an attribute indicating the name of the junction, such as shown in FIG. 17. To automatically generate supernode data records using a source file of geographic data, such as the source file 961, first, all the segment records in the source file are sorted (step 970) to find all the segment data records like those in FIG. 17 that represent ramps and that have a junction name associated with them.
      <br/>
      These records are sorted by the junction name.
    </p>
    <p num="146">
      From this sorting process, lists are generated for each group of segment records that have the same junction name.
      <br/>
      At this stage, the segment records in each list are checked to determine that the junction name with which they are associated refers to the same junction (step 974).
      <br/>
      It is possible that there is more than one junction with the same name located in the geographic region represented by the geographic data source file 961.
      <br/>
      Therefore, the segment records in each list are checked to confirm that they relate to the same named junction.
      <br/>
      The proximity of the segments to each other may be used for this purpose.
      <br/>
      According to one embodiment, if it is determined that the ramps in any one list relate to more than one named junction, the list may be discarded.
      <br/>
      Alternatively, if it is determined that the ramps in any one list relate to more than one named junction, the list is divided into two lists and each list is checked again until it is confirmed that each of the lists relates to only one named junction.
    </p>
    <p num="147">
      After it has been determined that each list relates to only one named junction, the segments on each of the lists are used in a process to form separate supernode records.
      <br/>
      For each list, the following steps are performed.
      <br/>
      First, the co-ordinates of the end points (nodes) of each of the segments on the list are determined.
      <br/>
      Using all these coordinates, a geometric area (A) encompassing all these nodes is determined (step 978).
      <br/>
      The geometric area may be a minimum bounding rectangle (MBR), a convex hull, or other geometric shape.
      <br/>
      A MBR is a rectangle whose sides are parallel with the geographic latitude and longitude lines and that has the minimum dimensions necessary to encompass all the points.
      <br/>
      A convex hull is a geometric shape formed by straight lines connecting those points necessary to encompass all the points within the shape.
      <br/>
      An example of a MBR is shown in FIG. 18A and an example of a convex hull is shown in FIG. 18B.
    </p>
    <p num="148">
      Using the encompassing geographic area (A), the source file 961 is searched to find all the node records that represent points located within the area (A) (step 980).
      <br/>
      All these nodes are candidates for being subordinate nodes of the supernode record.
      <br/>
      Next, all the segments that connect to these nodes are identified (step 982).
      <br/>
      A segment that has one endpoint (node) internal to the area (A) and its other endpoint (node) external to the area (A) is determined as a candidate arm of the supernode (step 984). (A supernode "arm" is one of the plurality of segments leading into or out of the supernode.) The nodes of these segments located inside the area (A) are boundary nodes of the supernode. (A boundary node of a supernode is a node that connects to one of the arins of the supernode.)
    </p>
    <p num="149">
      Next, all the paths through the supernode are calculated (step 986).
      <br/>
      Specifically, paths from each supernode arm to every other supernode arm are calculated.
      <br/>
      Every segment used in a successful path from one arm to another is potentially an internal segment of the supernode (step 988).
      <br/>
      Any candidate arm not connected (through a path of internal segments) to another arm is removed from the supernode (step 990).
      <br/>
      Any segments in a path that do not intersect a node that is attached to a segment marked as a junction are also removed. (This latter segments represent portions of roads that pass through an area of supernode, but do not connect directly the intersecting segments that form the supernode, thereby these latter segments do not necessarily belong to the supernode.)
    </p>
    <p num="150">
      Next, any links that are not used in the previous process are not internal to the supernode.
      <br/>
      All internal segments and nodes are identified. (In one embodiment, these internal segments and nodes are not used for any other supernode.)
    </p>
    <p num="151">
      After these paths are identified, node costs are determined (step 992).
      <br/>
      This provides a means to determine how much time (or other cost factor) should be allowed to traverse from one arm to another.
      <br/>
      In addition, the arms of the supernode are sorted (step 994).
      <br/>
      The arms of a supernode are sorted so that they can be stored in the supernode record in a known order.
      <br/>
      In one embodiment, the arms of a supernode are sorted so that they are ordered the same manner as the arms of a regular (non-super-) node record.
      <br/>
      This sorting may be done in any suitable consistent manner, such as clockwise from due north.
      <br/>
      This facilitates using the supernode (or non-super-node) record for route calculation purposes, for example when finding successor segments of the supernode (or non-super-node).
    </p>
    <p num="152">
      With this information, a supernode record is formed (step 996).
      <br/>
      This supernode record includes some or all of the information shown in the supernode record illustrated in FIG. 11 at 323(S).
      <br/>
      This supernode record is added to the routing subset 136.
      <br/>
      As mentioned above, the supernode record is used for routing instead of the non-supernode records.
      <br/>
      Thus, those segments records that connect to the arms of the supernode are modified to indicate that one of their end points is the supernode instead of the regular node (step 998).
    </p>
    <p num="153">The above process (steps 978-998) is performed for each of the lists of segments representing ramps associated with named junctions (step 1000).</p>
    <p num="154">
      This process described above has the advantage that supernode records can be generated automatically using the coding of ramps with junction names which has already been done for an unrelated purpose.
      <br/>
      In addition, this process assures that all the proper segments and nodes are incorporated into the supernode record even if they have not been identified as ramps associated with named junctions.
      <br/>
      This facilitates various of the navigation functions, such as route calculation and route guidance.
    </p>
    <p num="155">
      The procedure described above can be extended to other formats of geographic databases.
      <br/>
      The procedure described above can also be extended to other kinds of indicator data that can be used to identify locations at which substitute data records can be used to represent geographic features that are already represented by data records that correspond to the actual physical geographic features.
      <br/>
      In particular, the procedure described above can be extended to use various kinds of indicator data to identify complex intersections.
      <br/>
      Once these complex intersections are identified, supernode data records, or other kinds of substitute records, may be formed to represent these complex intersections.
      <br/>
      Using indicators for complex intersections, potential locations for supernode records, or other kinds of substitute records, can be identified and supernode records, or other kinds of substitute records, can be generated automatically.
    </p>
    <p num="156">EXAMPLE 3</p>
    <p num="157">
      One kind of data that can be used as an indicator for a complex intersection is included in the GDF (Geographic Data Files) standard developed by the CEN (European Committee on Standardisation).
      <br/>
      The GDF is a standard for representation of geographic data.
      <br/>
      The GDF defines multiple levels of representation for cartographic data.
      <br/>
      Level 0 includes the geometry of a map in terms of cartographic primitives.
      <br/>
      Level 1 describes the map in terms of simple features, such as "road elements" or "junctions." Level 2 is a map representation formed of complex features.
      <br/>
      The complex features included in level 2 are composites of simple features.
      <br/>
      In the terminology of the GDF, an "intersection" is a level 2 representation.
      <br/>
      An "intersection" is a complex feature formed of a composite group of "road elements" and "junctions."
    </p>
    <p num="158">
      With a geographic database in the GDF format, level 2 "intersections" can be used as indicators of complex intersections.
      <br/>
      A procedure for forming supernode records automatically using a source file in GDF format is described in connection with FIG. 19. The procedure for automatically forming supernode records using a source file in a GDF format is similar to the procedure described above in connection with FIG. 16 for forming supernode records.
      <br/>
      In the GDF format, road segments (or "road elements" in the GDF terminology) that form part of a level 2 intersection in the GDF may include an attribute that identifies them as part of the level 2 intersection.
      <br/>
      This attribute may be used in a manner similar to the named junction attribute described in Example 2, above.
      <br/>
      Alternatively, a GDF data file may include a list of level 2 intersections each of which identifies the simple features, e.g. the "road elements" and "junctions" of which it is a composite.
      <br/>
      This information may be used in a similar manner.
    </p>
    <p num="159">
      As shown in FIG. 19, a source file 1100 includes data records that represent segments of roads.
      <br/>
      The source file 1100 is in the GDF format.
      <br/>
      Data records in the source file 1100 that are associated with a level 2 intersection include an attribute indicating such association.
      <br/>
      Using this attribute, the segments in the source file 1100 are sorted by level 2 intersection to identify all the road segment records that are associated with each level 2 intersection (step 1102). (Note that level 2 intersections in the GDF format are not necessarily named junctions of controlled access roads.
      <br/>
      Therefore, the segments identified by the sorting of the source file 1100 in FIG. 19 are not necessarily the same as those segments identified by sorting of the source file 961 in FIG. 16.
    </p>
    <p num="160">
      Once all these segment records are identified, the segment records that correspond to each of the different level 2 intersections are separated into separate lists.
      <br/>
      Forming supernode records starting with a source file in a GDF format may be simpler in some respects that forming supernode records starting with a source file as described in FIG. 16 because the need to form a bounding area (step 978) and then identify which road components to include (steps 980-984) may be omitted.
      <br/>
      Using the GDF format, the road features (i.e., "road elements" and "junctions" in GDF terminology) identified as associated with the level 2 intersection are taken as corresponding to the supernode.
    </p>
    <p num="161">The remainder of the steps used to form supernode records from the GDF source file 1100 may be similar to steps 980-1000 in FIG. 16. As in the method describe in connection with FIG. 16, once all the records to be associated with the supernode record are identified, all paths are determined (step 1108), internal segments are identified (step 1110), node costs are calculated (step 1114), the arms are sorted (step 116), the supernode record is formed and stored (step 1118), and the segments corresponding to the arms are updated to indicate their connection to the supernode entity (step 1120).</p>
    <p num="162">
      Alternatively, the GDF file 1100 may include data records for level 2 "intersections." Each of these data records identifies the "road elements" (which correspond to segments) from which it is composed.
      <br/>
      These "road elements" for each of the level 2 intersections are then used to form the separate lists (step 1102) in FIG. 19. The remainder of the steps would be similar to those described above.
    </p>
    <p num="163">As mentioned above, the process used to form substitute data records to represent complex intersections may be used with data in any kind of proprietary or non-proprietary format.</p>
    <p num="164">VI. ALTERNATIVE EMBODIMENTS</p>
    <p num="165">
      In alternative embodiments, named intersections may be represented by either a supernode data record or a non-supernode record.
      <br/>
      In some alternative embodiments, it may be preferable to provide for named intersections only for nodes represented by supernodes.
    </p>
    <p num="166">
      In the above embodiments, the geographic database was described as parcelized.
      <br/>
      In alternative embodiments, the geographic database may be organized other than in parcels.
    </p>
    <p num="167">
      In the embodiments disclosed above, support for named intersections was described in connection with a navigation system.
      <br/>
      In alternative embodiments, the navigation system should be understood to include any computer-based system that provides navigation functions to an end-user regardless of hardware platform or architecture.
      <br/>
      For example, the navigation system may include any kind of portable system, such as hand-held systems or systems installed on personal digital assistants or personal computers.
      <br/>
      In alternative embodiments, the navigation system may include navigation application software installed on a personal computer, such as a desktop computer.
      <br/>
      Further, the navigation system may be implemented in various different environments, including networked environments and client-server platform environments.
      <br/>
      The navigation application program and the geographic database need not be located in the same location, but may connected over a network.
      <br/>
      The geographic database may be located remotely from the end user and the data transmitted to the end-user over a wireless network.
      <br/>
      In addition, all or a portion of the software may be remotely located.
    </p>
    <p num="168">
      Other terminology may be used to refer to the physical features or to the data that represent the physical features.
      <br/>
      It is understood that the subject matter disclosed herein is not limited to any particular terminology that expresses similar concepts.
      <br/>
      It is intended that the foregoing detailed description be regarded as illustrative rather than limiting and that it is understood that the following claims including all equivalents are intended to define the scope of the invention.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>We claim:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A geographic database stored on a computer readable medium and used in a navigation system, wherein the geographic database includes data that represent components of a road network in a geographic region wherein the components of the road network include intersections, and wherein the geographic database comprises:</claim-text>
      <claim-text>a first plurality of data entities each of which represents an intersection of roads in the road network; a second plurality of data entities each of which represents a name of one of said components of said road network;</claim-text>
      <claim-text>and a third plurality of data entities each of which associates one of said first plurality of data entities with one of said second plurality of data entities.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The invention of claim 1 wherein each of said third plurality of data entities identifies at least one of a fourth plurality of data entities, wherein each of said fourth plurality of data entities represents an administrative place.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The invention of claim 2 wherein each of said administrative place comprises one of a city, state, county, and country.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The invention of claim 2 further comprising: a first index that identifies each of said third plurality of data entities by one of said fourth plurality of data entities and one of said second plurality of data entities associated therewith.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The invention of claim 4 further comprising: a second index that identifies each of said third plurality of data entities by one of said second plurality of data entities associated therewith.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The invention of claim 5 further comprising: a third index that identifies each of said third plurality of data entities spatially.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The invention of claim 6 wherein said third index is included among a fifth plurality of data entities that include maneuver guidance data.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The invention of claim 4 further comprising: a spatial index that identifies each of said third plurality of data entities by its geographical coordinates.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The invention of claim 1 further comprising: a spatial index that identifies each of said third plurality of data entities by its geographical coordinates.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The invention of claim 1 wherein said geographic database is parcelized into a plurality of parcels, each of which includes a plurality of data entities.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. The invention of claim 1 wherein said first plurality of data entities are organized into a plurality of parcels each of which contains a plurality of said data entities which represent roads, wherein said second plurality of data entities are organized into a plurality of parcels each of which contains a plurality of data entities which represent names of components of said road network, and wherein said third plurality of data entities are organized into a plurality of parcels each of which contains a plurality of said data entities which associate one of said first plurality of data entities with one of said second plurality of data entities.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The invention of claim 1 wherein said first plurality of data entities are spatially ordered.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The invention of claim 1 wherein said first plurality of data entities are ordered in Peano key order.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The invention of claim 1 further comprising: an index that identifies each of said third plurality of data entities by one of said second plurality of data entities associated therewith.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The invention of claim 1 further comprising: a spatial index that identifies each of said third plurality of data entities by its geographical coordinates.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The invention of claim 1 wherein said second plurality of data entities are ordered in alphabetical order.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The invention of claim 1 wherein said third plurality of data entities are ordered by administrative place.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The invention of claim 1 wherein said third plurality of data entities are organized alphabetically by administrative place.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. The invention of claim 1 wherein said first plurality of data entities represent complex intersections having names.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. A method of using names for intersections using a navigation application program, wherein the names for intersections are represented by data records in a geographic database stored on a computer readable medium, wherein the geographic database represents a road network of a geographic region, wherein the method comprises the steps of: providing data records in said geographic database specifying names for navigable features including roads and intersections of said road network; providing data records in said geographic database specifying road segments of said road network and intersections of said road segments;</claim-text>
      <claim-text>and providing data records in said geographic database representing named intersections, wherein each of said data records representing named intersections associates one of said data records specifying names for navigable features with one of said data records specifying intersections of road segments.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. A geographic database architecture for use with a navigation application program that provides navigation features to an end user wherein the geographic database includes a plurality of data entities that represent geographic features in a geographic region, said geographic database architecture comprising: route calculation data comprised of a plurality of segment data records and a plurality of node data records, wherein each segment data record represents a portion of a road in said geographic region and each node data record represents an end point of a portion of a road, and wherein said route calculation data include attributes which include the routing characteristics of the portions of roads represented thereby and intersections thereof; navigation feature data comprised of a plurality of data records each of which represents a name of a geographic feature;</claim-text>
      <claim-text>and junction data comprised of a plurality of data records each of which relates one of said node data records with one of said data records of said navigation feature data.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. A method of operating a navigation system to provide route guidance for a route wherein the route is comprised of a list of data records in a geographic database and wherein the data records represent navigable geographic features along the route, the method comprising the steps of: examining data that represents an intersection along said route to determine whether the data includes an indication that the intersection represented thereby is named; for each of said data that includes said indication, using an index into a list of names for navigable features to ascertain a name for said intersection;</claim-text>
      <claim-text>and explicating said name.</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23. The method of claim 22 wherein said index associates an identifier for a data record representing an intersection with an identifier for a data record representing a name.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. The method of claim 22 wherein the data records in the list of data records represent segments of roads, and wherein the method further comprises: using said data records that represent segments of roads in said list of data records to identify each data that represents an intersection along said route.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. A method of operating a navigation system to provide route guidance for a route wherein the route is comprised of a list of segment data records in a geographic database and wherein the segment data records represent segments of roads along the route between a first location and a second location and wherein each represented segment of a road has two endpoints, each of which is identified by a node data record having a node data record ID, the method comprising the steps of: for each node data record ID associated with an end point of a segment represented on said list, comparing said node data record ID with node data record ID's in an index wherein said index associates node data record ID's with names for the intersections represented thereby;</claim-text>
      <claim-text>and explicating said name.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26. The method of claim 25 wherein said index associates each node data record ID included therein with a record ID for a record that represents a name for a navigable feature, and wherein the method further comprises the step of: using the record ID for the name of a navigable feature associated with each node record ID in said index that matches a node record ID associated with a node data record that represents an intersection along said route to find a name associated therewith.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27. The method of claim 25 wherein said index is a spatial index.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28. The method of claim 25 wherein said index comprises a plurality of indices, each one of which is located in a separate one of plurality of spatially organized parcels of data.</claim-text>
      <claim-text>29., A method of automatically forming substitute records to represent complex intersections in a geographic database that represents physical geographic features in a geographic region, comprising the steps of: identifying a first group of records among data records in a source geographic data file wherein each record in the first group includes a feature indicator specific to complex intersections; dividing said first group of records into a plurality of second groups of records wherein each of said second groups includes records of said first group associated with a different one of a plurality of complex intersections located in the geographic region; for each of said second groups, identifying all the navigable paths through the complex intersection associated with the first group of records included in the second group;</claim-text>
      <claim-text>and forming a substitute data record to represent the complex intersection associated with the first group of records included in the second group, wherein the substitute data record includes data identifying the navigable paths.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30. The method of claim 29 further comprising the steps of: for each of said second groups, prior to identifying all the navigable paths between each of the road segments, defining a geographic area that encompasses the features represented by the records of the first group included in the second group; identifying a third group of data records, wherein said third group comprises data records in said geographic database that represent features including in said defined geographic area in addition to those represented by data records of said first group included in said second group; augmenting said first group of data records included said second group to include said third group of data records when identifying all the navigable paths through the complex intersection.</claim-text>
    </claim>
    <claim num="31">
      <claim-text>31. The method of claim 30 further comprising the step of: after augmenting said first group, identifying those road segments represented by said augmented first group of data records that have one of their endpoints in said defined area and the other of said endpoints outside said defined area, and using those road segments as arms through which the navigable paths through the complex intersection are determined.</claim-text>
    </claim>
    <claim num="32">
      <claim-text>32. The method of claim 29 wherein said source geographic data file is in a GDF format.</claim-text>
    </claim>
    <claim num="33">
      <claim-text>33. The method of claim 29 wherein said feature indicator is a name for an intersection.</claim-text>
    </claim>
    <claim num="34">
      <claim-text>34. The method of claim 29 wherein said feature indicator is a level 2 intersection.</claim-text>
    </claim>
  </claims>
</questel-patent-document>