<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184648B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184648</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184648</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference is-representative="YES" family-id="17620502" extended-family-id="30461675">
      <document-id>
        <country>US</country>
        <doc-number>09409086</doc-number>
        <kind>A</kind>
        <date>19990930</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09409086</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>31132668</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>JP</country>
        <doc-number>28011298</doc-number>
        <kind>A</kind>
        <date>19981001</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998JP-0280112</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H02P  21/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>21</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H02P  21/08        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>21</main-group>
        <subgroup>08</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H02P  27/04        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>27</main-group>
        <subgroup>04</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>318811000</text>
        <class>318</class>
        <subclass>811000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>318800000</text>
        <class>318</class>
        <subclass>800000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>318801000</text>
        <class>318</class>
        <subclass>801000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H02P-021/00J</text>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>021</main-group>
        <subgroup>00J</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H02P-021/08</text>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>21</main-group>
        <subgroup>08</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H02P-021/08</classification-symbol>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>21</main-group>
        <subgroup>08</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20160205</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20160201</date>
        </classification-scheme>
        <classification-symbol>H02P-021/22</classification-symbol>
        <section>H</section>
        <class>02</class>
        <subclass>P</subclass>
        <main-group>21</main-group>
        <subgroup>22</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20160202</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>11</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>7</number-of-drawing-sheets>
      <number-of-figures>11</number-of-figures>
      <image-key data-format="questel">US6184648</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Motor control apparatus</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>KERKMAN RUSSEL J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5032771</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5032771</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>YAMAMOTO YOICHI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5448150</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5448150</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>RICHARDSON ROBERT D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5585708</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5585708</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>YAMADA TETSUO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6107774</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6107774</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>HITACHI LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>S6013398</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP60013398</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>MITSUBISHI ELECTRIC CORP</text>
          <document-id>
            <country>JP</country>
            <doc-number>H1198891</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP11098891</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>HITACHI LTD</text>
          <document-id>
            <country>JP</country>
            <doc-number>H1198897</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>JP11098897</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Kabushiki Kaisha Toshiba</orgname>
            <address>
              <address-1>Kanagawa, JP</address-1>
              <city>Kanagawa</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>TOSHIBA</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Kato, Yoshihito</name>
            <address>
              <address-1>Fuchu, JP</address-1>
              <city>Fuchu</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Yoshikawa, Tadamitsu</name>
            <address>
              <address-1>Ome, JP</address-1>
              <city>Ome</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Foley &amp; Lardner</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Ro, Bentsu</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>GRANTED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      According to this invention, there is provided a motor control apparatus comprising a field weakening device for converting a velocity feedback signal obtained from the rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern, a field pattern selector for comparing a predetermined signal with a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by the field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, and outputting, on the basis of the comparison result, a control signal for switching the field pattern, and a field pattern storage section for switching, on the basis of the control signal output from said field pattern selector, the field pattern to be used in the field weakening device.
      <br/>
      Since the selector can switch the field pattern, an accurate torque output can be realized.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">The present invention relates to a control apparatus for driving a motor and, more particularly, to a control apparatus for a motor which requires an accurate torque output.</p>
    <p num="2">This patent application is based on Japanese Patent Application No. 10-280112, filed Oct. 1, 1998, the entire content of which is incorporated herein by reference.</p>
    <p num="3">FIG. 1 shows the general arrangement of an IGBT inverter apparatus.</p>
    <p num="4">FIG. 1 shows a power driving apparatus based on vector control with velocity feedback and current feedback control.</p>
    <p num="5">
      As shown in FIG. 1, an input velocity reference signal  OMEGA r* and a velocity feedback signal  OMEGA ' calculated by a velocity detector 1, primary magnetic flux angle calculator 2, and differentiator 3 are feedback-calculated.
      <br/>
      The calculation result is converted into a torque reference signal Tr by a velocity controller 4.
      <br/>
      A new torque reference signal is calculated by adding the torque reference signal Tr to a torque reference signal Tr* input from a main host apparatus.
      <br/>
      The calculated torque reference signal is divided by a secondary magnetic flux reference  PHI 2 * to obtain a q-axis torque reference signal Iq*.
    </p>
    <p num="6">On the other hand, a field weakening controller 5 and magnetic flux saturation pattern generator 6 are used to calculate a d-axis current reference signal Id* from the velocity feedback signal  OMEGA '. The calculated q-axis torque reference signal Iq* and d-axis current reference signal Id* and d- and q-axis current feedback signals Id' and Iq' are feedback-calculated to generate final current reference signals Id* and Iq*, respectively.</p>
    <p num="7">The current reference signals Id* and Iq* are output from current controllers 7 and 8 as voltage references Vd* and Vq*, respectively.</p>
    <p num="8">A coordinate conversion/PWM conversion device 9 outputs element gate ignition pulse instructions Gu, Gv, and Gw on the basis of the voltage references Vd* and Vq* output from the current controllers 7 and 8.</p>
    <p num="9">
      On the basis of the element gate trigger pulse instructions Gu, Gv, and Gw output from the coordinate conversion/PWM conversion device 9, a power converter 10 converts a DC voltage Vdc supplied from a DC current source into a desired AC voltage Vac and outputs the voltage.
      <br/>
      The power converter 10 supplies a desired current to a motor 11 to drive it.
    </p>
    <p num="10">In the above arrangement, for a d-axis field current Id as a motor field component in vector control, the secondary magnetic flux reference  PHI 2 * is calculated in accordance with the velocity feedback signal  OMEGA ' using a certain field pattern in the field weakening controller 5.</p>
    <p num="11">
      The field pattern in the field weakening controller 5 is determined by the motor connected to the motor control apparatus and set as a fixed value.
      <br/>
      When a velocity feedback signal  OMEGA  having a certain magnitude is input, the field current component Id in the d-axis of the motor is calculated in accordance with the field pattern.
    </p>
    <p num="12">
      On the basis of a primary magnetic flux angle  THETA r calculated by the primary magnetic flux angle calculator 2 and a slip angle  THETA s calculated by vector control, a secondary magnetic flux angle  THETA o necessary for vector control such as 2-to 3-axis conversion or 3- to 2-axis conversion is obtained.
      <br/>
      For this reason, calculation of the secondary magnetic flux angle  THETA o produces a delay.
    </p>
    <p num="13">
      In the above-described conventional motor control apparatus, in a region where the motor load as the load of the motor control apparatus is low, a motor current vector I1 in vector control stays close to the d-axis as an excitation current component, as shown in FIG. 2, and we have
      <br/>
      I1 =Id  (1)
    </p>
    <p num="14">When the motor current I1 stays near the d-axis as the field current component, the ratio of an error component caused by the conversion/calculation delay in the current feedback coordinate converter 13 and coordinate conversion/PWM conversion device 9 in the current feedback loop to the q-axis torque current component signal Iq as the torque component in vector control is high in the low-load mode, resulting in degradation in torque accuracy.</p>
    <heading>BRIEF SUMMARY OF THE INVENTION</heading>
    <p num="15">The present invention has been made to solve the above problem, and has as its object to provide a motor control apparatus which suppresses degradation in torque accuracy and realizes an accurate and stable torque output.</p>
    <p num="16">In order to achieve the above object, according to the first aspect of the present invention, there is provided a motor control apparatus comprising:</p>
    <p num="17">
      a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern;
      <br/>
      a field pattern selector for comparing a predetermined signal with a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by the field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, and outputting, on the basis of a comparison result, a control signal for switching the field pattern; and
      <br/>
      a field pattern storage section for switching, on the basis of the control signal output from the field pattern selector, the field pattern to be used in the field weakening device.
    </p>
    <p num="18">
      According to this invention, the magnitude of the d-axis field current vector in vector control is changed by switching the field pattern, thereby setting an arbitrary optimum vector as the motor current vector.
      <br/>
      Hence, coarseness in the torque accuracy due to conversion/calculation delay in the current feedback coordinate converter and coordinate conversion/PWM conversion device in the current feedback loop can be suppressed, and an accurate torque output can be realized.
    </p>
    <p num="19">According to the second aspect of the present invention, there is provided a motor control apparatus according to the first aspect, wherein the field pattern storage section forcibly switches the field pattern to be used in the field weakening device to a flat field pattern.</p>
    <p num="20">
      According to this invention, when the load of the AC motor reaches a desired low region, a flat field pattern is supplied.
      <br/>
      With this operation, an error in the d-axis current component due to approximation of the saturation pattern is eliminated in the low-load region, and a more accurate and stable torque can be output.
    </p>
    <p num="21">According to the third aspect of the present invention, there is provided a motor control apparatus according to the first aspect, wherein the field pattern storage section further comprises a section for forcibly switching the field pattern in the field weakening device on the basis of a control signal for switching the field pattern, which is input from a main apparatus.</p>
    <p num="22">
      According to this invention, the field pattern is switched by the control signal output from the main apparatus on the basis of the load of the AC motor or running method.
      <br/>
      For this reason, running torque output can be realized on the basis of the load situation of the AC motor.
    </p>
    <p num="23">According to the fourth aspect of the present invention, there is provided a motor control apparatus according to the first aspect, further comprising a suppressing section for suppressing a rate of change of the secondary magnetic flux reference signal converted by the field weakening device within a predetermined range of the rate of change.</p>
    <p num="24">According to this invention, since the rate of change of the secondary magnetic flux reference signal in switching the field pattern is limited within a predetermined range, the field can be smoothly switched.</p>
    <p num="25">
      According to the fifth aspect of the present invention, there is provided a motor control apparatus comprising:
      <br/>
      a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern;
      <br/>
      a field shift calculator for calculating a shift amount of the field pattern to be used in the field weakening device, on the basis of a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by the field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, such that a vector angle of a motor current vector falls within a predetermined range; and
      <br/>
      a field pattern storage section for shifting, on the basis of the shift amount calculated by the field shift calculator, the field pattern to be used in the field weakening device.
    </p>
    <p num="26">According to this invention, since the field pattern is dynamically shifted in accordance with the load of the AC motor, an accurate and smooth torque can be output.</p>
    <p num="27">
      According to the sixth aspect of the present invention, there is provided a motor control apparatus comprising:
      <br/>
      a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern; and
      <br/>
      a current calculator for calculating a d-axis field reference signal, on the basis of a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by the field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, such that a vector angle of a motor current vector falls within a predetermined range.
    </p>
    <p num="28">According to this invention, since the d-axis field reference signal is calculated such that the vector angle of the motor current vector falls within a predetermined range, an accurate torque output can be realized.</p>
    <p num="29">
      Additional objects and advantages of the invention will be set forth in the description which follows, and in part will be obvious from the description, or may be learned by practice of the invention.
      <br/>
      The objects and advantages of the invention may be realized and obtained by means of the instrumentalities and combinations particularly pointed out hereinafter.
    </p>
    <heading>BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING</heading>
    <p num="30">
      The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate presently preferred embodiments of the invention, and together with the general description given above and the detailed description of the preferred embodiments given below, serve to explain the principles of the invention.
      <br/>
      FIG. 1 is a block diagram showing a conventional motor control apparatus;
      <br/>
      FIG. 2 is a graph showing the motor current on a d-q plane in the conventional motor control apparatus shown in FIG. 1 in the low-load mode;
      <br/>
      FIG. 3 is a block diagram showing a motor control apparatus according to the first embodiment of the present invention;
      <br/>
      FIG. 4 is a graph showing the relationship between the d- and q-axis current vectors and the motor current vector as the synthesized vector thereof in vector control when a field pattern is switched in the first embodiment shown in FIG. 3;
      <br/>
      FIG. 5 is a block diagram showing a motor control apparatus according to the second embodiment of the present invention;
      <br/>
      FIG. 6 is a block diagram showing a motor control apparatus according to the third embodiment of the present invention;
      <br/>
      FIG. 7 is a graph showing the relationship between the magnitude of a motor load and the shift in a field pattern in the third embodiment of the present invention;
      <br/>
      FIG. 8 is a block diagram showing a motor control apparatus according to the fourth embodiment of the present invention;
      <br/>
      FIG. 9 is a graph showing the control range of the motor current vector on a d-q plane in the fourth embodiment shown in FIG. 8;
      <br/>
      FIG. 10 is a graph showing a field pattern for low-load; and
      <br/>
      FIG. 11 is a graph showing a flat field pattern.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="31">First Embodiment</p>
    <p num="32">
      FIG. 3 is a block diagram showing a motor control apparatus according to the first embodiment of the present invention.
      <br/>
      The same reference numerals as in FIG. 1 denote the same parts in FIG. 3.
    </p>
    <p num="33">As the characteristic feature of the first embodiment, a level setting section 41, field pattern selector 22, and field pattern storage section 21 are added.</p>
    <p num="34">In the motor control apparatus shown in FIG. 3, a velocity reference signal  OMEGA r* input from a main host apparatus and a velocity feedback signal  OMEGA ' calculated by a primary magnetic flux angle calculator 2 and differentiator 3 are feedback-calculated to obtain a velocity reference signal.</p>
    <p num="35">
      The calculated velocity reference signal is converted into a torque reference signal Tr by a velocity controller 4.
      <br/>
      The converted torque reference signal Tr is added to a torque reference signal Tr* input from the main apparatus to obtain a new torque reference signal.
    </p>
    <p num="36">When the calculated torque reference signal is divided by a secondary magnetic flux reference  PHI 2 *, a q-axis torque current reference signal Iq* is obtained.</p>
    <p num="37">
      The calculated q-axis torque current reference signal Iq* and a q-axis current feedback signal Iq' are feedback-calculated.
      <br/>
      The feedback calculation result is input to a current controller 8.
      <br/>
      The current controller 8 converts the feedback calculation result into a q-axis voltage reference signal Vq*.
    </p>
    <p num="38">A field weakening controller 5 converts the velocity feedback signal  OMEGA ' into the secondary magnetic flux reference  PHI 2 *. The secondary magnetic flux reference  PHI 2 * converted by the field weakening controller 5 is converted into a d-axis field current reference signal Id* by a magnetic flux saturation pattern generator 6.</p>
    <p num="39">A current controller 7 converts the feedback calculation result of the d-axis field current reference signal Id* from the magnetic flux saturation pattern generator 6 and a d-axis current feedback signal Id' into a d-axis voltage reference signal Vd*.</p>
    <p num="40">
      A coordinate conversion/PWM conversion device 9 2-to 3-axis/ d-to q-axis converts the d- and q-axis voltage reference signals Vd* and Vq* to generate PWM (Pulse Width Modulation) signals Gu, Gv, and Gw.
      <br/>
      A power converter 10 converts the PWM signals Gu, Gv, and Gw from the coordinate conversion/PWM conversion device 9 into a motor driving AC voltage.
      <br/>
      With the converted motor driving AC voltage, a desired current is supplied to a motor 11 to drive it.
    </p>
    <p num="41">
      A velocity detector 1 detects the rotational speed of the motor 11.
      <br/>
      A current detector 12 detects the current flowing to the motor 11.
      <br/>
      A current feedback coordinate converter 13 3-to 2-axis- and d-to q-axis-converts the current feedback signal detected by the current detector 12 and outputs the d-axis feedback current component Id' and q-axis feedback current component Iq' in vector control.
    </p>
    <p num="42">A slip integrator 14 integrates a slip  OMEGA s calculated from the secondary magnetic flux reference  PHI 2 * from the field weakening controller 5 and the q-axis torque current reference signal Iq* to calculate a slip angle  THETA s.</p>
    <p num="43">The level setting section 41 sets, in the field pattern selector 22, a torque current value as the field switching level used in the field pattern selector 22.</p>
    <p num="44">
      The field pattern selector 22 compares the q-axis current reference signal Iq* with the torque current value as the field switching level.
      <br/>
      When the q-axis current reference signal Iq* is smaller than the torque current value as the field switching level, the field pattern selector 22 outputs a field pattern switching instruction.
    </p>
    <p num="45">
      As shown in FIG. 10, the field pattern storage section 21 has a normal field pattern and a field pattern for low-load.
      <br/>
      On the basis of the field pattern switching instruction from the field pattern selector 22, the field pattern storage section 21 switches the normal field pattern to the field pattern for low-load and outputs the field pattern for low-load to the field weakening controller 5.
    </p>
    <p num="46">
      That is, the field pattern selector 22 compares the torque current value set by the level setting section 41 as the field switching level with the q-axis torque current reference signal Iq* as the torque current component of the motor control apparatus.
      <br/>
      When the q-axis current reference signal Iq* is smaller than the value of the field switching level, the field pattern selector 22 outputs a field pattern switching instruction to the field pattern storage section 21.
    </p>
    <p num="47">
      Upon receiving the field pattern switching instruction from the field pattern selector 22, the field pattern storage section 21 outputs the field pattern for low-load to the field weakening controller 5.
      <br/>
      The field weakening controller 5 calculates on the basis of the field pattern for low-load output from the field pattern storage section 21.
    </p>
    <p num="48">
      A d-axis field current reference signal Id* smaller than a normal d-axis field current reference signal Id is calculated.
      <br/>
      When the d-axis field current reference signal Id* is suppressed, the q-axis torque current reference signal Iq* increases in inverse proportion to the signal Id*. For this reason, the magnitude of a motor current vector I1 remains unchanged.
      <br/>
      The relative ratio between the d-axis field current reference signal Id* and the q-axis torque current reference signal Iq* is almost 1:1, as shown in FIG. 4.
      <br/>
      A motor current vector angle  THETA 1 is controlled to have a magnitude near a vector angle of 45 (degree) , which is near the center between the d-axis and q-axis.
    </p>
    <p num="49">When the motor load is low, degradation in the torque accuracy can be suppressed even when the ratio of the torque current component becomes high with respect to the error component caused by a calculation delay in the control system such as coordinate conversion or coordinate conversion/PWM conversion in the current feedback loop due to a secondary magnetic flux angle  THETA o.</p>
    <p num="50">
      For example, assume that the q-axis torque current reference signal Iq* is about 7% the rated value, and the field pattern switching level set in advance is 10%.
      <br/>
      In this case, the field pattern selector 22 determines that the field pattern need be switched and outputs an instruction for selecting the field pattern for low-load.
    </p>
    <p num="51">
      Upon receiving this selection instruction, the field pattern storage section 21 outputs the field pattern for low-load to the d-axis field current reference signal calculation control system for vector control.
      <br/>
      On the basis of the field pattern, a d-axis field current reference signal Id* with a value smaller than the normal value is calculated.
      <br/>
      When the d-axis field current reference signal Id* is suppressed, the q-axis current reference signal Iq* increases in inverse proportion to the d-axis field current reference signal Id*. On the d-q-axis plane, the angle  THETA 1 of the motor current vector I1 increases.
      <br/>
      The motor current vector I1 is controlled to stay near the center between the d-axis and q-axis.
    </p>
    <p num="52">When the q-axis torque current Iq* is increased, the influence of the error component caused by a conversion/calculation delay in the current feedback coordinate converter 7 and coordinate conversion/PWM conversion device 8 due to the secondary magnetic flux angle  THETA o generated when the motor current vector I1 stays near the d-axis as the field current component, i.e., the vector angle  THETA 1 of the motor current vector I1 is small can be suppressed, and degradation in the torque accuracy in the low-load mode can be prevented.</p>
    <p num="53">
      The field pattern storage section 21 has a means for forcibly making the field weakening pattern in the field weakening region flat.
      <br/>
      When the motor load reaches a predetermined low region, a flat field pattern from which a weakening magnetic flux curve in the field weakening region in the field pattern is removed, as shown in FIG. 11, is supplied to eliminate any error in the d-axis current component due to approximation of the saturation pattern in the low-load region.
      <br/>
      Hence, a more accurate and stable torque can be output.
    </p>
    <p num="54">
      The field pattern switching instruction may be directly input from the main host apparatus to the field pattern storage section 21.
      <br/>
      In this case, when an accurate torque output is necessary for an arbitrary plant operation method, the field pattern of the control apparatus is switched in a multi-stage in accordance with the operation method and application purpose.
    </p>
    <p num="55">Second Embodiment</p>
    <p num="56">A motor control apparatus according to the second embodiment of the present invention will be described next.</p>
    <p num="57">
      FIG. 5 is a block diagram showing the motor control apparatus according to the second embodiment of the present invention.
      <br/>
      AS shown in FIG. 5, as the characteristic feature of the motor control apparatus of the second embodiment, a field switching rate device 23 is added to the motor control apparatus of the first embodiment.
    </p>
    <p num="58">
      The field switching rate device 23 suppresses an abrupt change in a d-axis field current vector Id when the field pattern to be output from a field pattern storage section 21 is switched.
      <br/>
      More specifically, the field switching rate device 23 suppresses the rate of change of a secondary magnetic flux reference  PHI 2 * to a predetermined value to suppress any abrupt change in the secondary magnetic flux reference  PHI 2 * output from a field weakening controller 5.
    </p>
    <p num="59">According to the second embodiment, the field pattern can be smoothly switched, and an abrupt change in the d-axis field current vector Id can be suppressed.</p>
    <p num="60">Third Embodiment</p>
    <p num="61">A motor control apparatus according to the third embodiment of the present invention will be described next.</p>
    <p num="62">FIG. 6 is a block diagram showing the motor control apparatus according to the third embodiment of the present invention.</p>
    <p num="63">As shown in FIG. 6, as the characteristic feature of the third embodiment, a field shift calculator 24 is used in place of the level setting section 41 and field pattern selector 22 shown in FIG. 3.</p>
    <p num="64">
      To dynamically shift the field pattern in accordance with the motor load, the field shift calculator 24 calculates the shift width of the field pattern from the magnitude of a q-axis current feedback signal Iq' such that a vector angle  THETA 1 of a motor current vector I1 falls within a predetermined range.
      <br/>
      This calculated shift width is output to a field pattern storage section 21.
    </p>
    <p num="65">
      On the basis of the shift width output from the field shift calculator 24, the field pattern storage section 21 vertically shifts the entire field pattern, as shown in FIG. 7.
      <br/>
      With this method, the q-axis torque current in the d-q plane of vector control is increased to improve the torque accuracy and, more particularly, the accuracy in the low-torque region.
    </p>
    <p num="66">Fourth Embodiment</p>
    <p num="67">
      A motor control apparatus according to the fourth embodiment of the present invention will be described next.
      <br/>
      FIG. 8 is a block diagram showing the motor control apparatus according to the fourth embodiment of the present invention.
    </p>
    <p num="68">As shown in FIG. 8, the motor control apparatus of the fourth embodiment is obtained by removing a field weakening controller 5, field pattern selector 22, and level setting section 41 from the motor control apparatus shown in FIG. 3 and adding a current calculator 42 to it.</p>
    <p num="69">
      As shown in FIG. 9, the current calculator 42 controls a d-axis field current reference signal Id* on the basis of a q-axis torque current reference signal Iq* such that a vector angle  THETA 1 of a motor current vector I1 in vector control falls within a desired range centered on a vector angle of 45 (degree) , which is the center between the d-axis and q-axis on the d-q vector plane.
      <br/>
      This makes positive vector control possible in terms of torque accuracy.
    </p>
    <p num="70">
      For example, when the ratio between the d-axis current reference signal and the q-axis current reference signal, i.e., the motor current vector I1 is offset to the d-axis side, the current calculator 42 weakens the d-axis field current to increase the q-axis torque current, thereby implementing vector control such that the motor current vector I1 as the synthesized vector of the two current components is always at a vector angle of 45 (degree) , the central position between the d-axis and q-axis.
      <br/>
      This makes it possible to output an accurate torque.
    </p>
    <p num="71">As has been described above, according to the present invention, degradation in the torque accuracy can be suppressed, and an accurate and stable torque output can be realized.</p>
    <p num="72">
      According to the present invention, the magnitude of the d-axis field current vector in vector control is optimized by switching the field pattern, thereby setting an arbitrary optimum vector as the motor current vector.
      <br/>
      With this arrangement, a system which suppresses degradation in the torque accuracy due to the error component caused by a conversion/calculation delay in the current feedback coordinate converter and coordinate conversion/PWM conversion device in the current feedback loop resulting from the secondary magnetic flux angle and realizes an accurate and stable torque output can be constructed.
    </p>
    <p num="73">
      According to the present invention, when the motor load reaches a desired low region, a flat field pattern from which a weakening magnetic flux curve in the field weakening region in the field pattern is removed is supplied.
      <br/>
      With this operation, any error in the d-axis current component due to approximation of the saturation pattern in the low-load region can be eliminated, and a more accurate and stable torque can be output.
    </p>
    <p num="74">
      According to the present invention, when the rate of change in switching the field pattern is limited by an arbitrary rate in accordance with the magnitude of the motor load, an abrupt change in the field current vector Id can be suppressed.
      <br/>
      Hence, an accurate and smooth torque can be output, and the load on the mechanical system connected to the motor can be decreased.
    </p>
    <p num="75">According to the present invention, when the torque accuracy need be increased in accordance with the power load or the running method determined by the main host apparatus, a multi-stage field pattern switching signal is output from the main host apparatus and input to the motor control apparatus, thereby switching the field pattern in the control apparatus in a multi-stage and realizing an accurate torque output.</p>
    <p num="76">According to the present invention, by dynamically shifting the entire field pattern in the vertical direction in accordance with the magnitude of the motor load, an accurate, smooth, and stable torque can be output.</p>
    <p num="77">
      According to the present invention, the motor current vector as the synthesized vector of the d-axis field current vector and the q-axis torque current vector is controlled such that the motor current in vector control falls within a desired range centered on a vector angle of 45 (degree) , that is the center between the d-axis and q-axis on the d-q axis vector plane.
      <br/>
      In terms of torque output, positive vector control can be realized, and an accurate, smooth, and stable torque can be output.
    </p>
    <p num="78">
      Additional advantages and modifications will readily occur to those skilled in the art.
      <br/>
      Therefore, the invention in its broader aspects is not limited to the specific details and representative embodiments shown and described herein.
      <br/>
      Accordingly, various modifications may be made without departing from the spirit or scope of the general inventive concept as defined by the appended claims and their equivalents.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A motor control apparatus comprising:</claim-text>
      <claim-text>a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern; a field pattern selector for comparing a predetermined signal with a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by said field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, and outputting, on the basis of a comparison result, a control signal for switching the field pattern;</claim-text>
      <claim-text>and a field pattern storage section for switching, on the basis of the control signal output from said field pattern selector, the field pattern to be used in said field weakening device.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. An apparatus according to claim 1, wherein said field pattern storage section forcibly switches the field pattern to be used in said field weakening device to a flat field pattern.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. An apparatus according to claim 1, wherein said field pattern storage section further comprises a section for forcibly switching the field pattern in said field weakening device on the basis of a control signal for switching the field pattern, which is input from a main apparatus.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. An apparatus according to claim 1, further comprising a suppressing section for suppressing a rate of change of the secondary magnetic flux reference signal converted by said field weakening device within a predetermined range of the rate of change.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. An apparatus according to claim 1, further comprising a first current controller for converting a feedback calculation result of the q-axis torque current reference signal and a d-axis feedback current signal obtained from a current flowing to said motor into a q-axis voltage reference signal, a magnetic flux saturation pattern generator for converting the secondary magnetic flux reference signal into a d-axis field current reference signal, a second current controller for converting a feed back calculation result of the d-axis field current reference signal generated by said magnetic flux saturation pattern generator and the d-axis feedback current signal obtained from the current flowing to said motor into a d-axis voltage reference signal, and a converter for generating pulse width modulation signals from the q-axis voltage reference signal converted by said first current controller and the d-axis voltage reference signal converted by said second current controller and outputting the generated pulse width modulation signals to gates of a power converter.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. A motor control apparatus comprising: a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern; a field shift calculator for calculating a shift amount of the field pattern to be used in said field weakening device, on the basis of a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by said field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, such that a vector angle of a motor current vector falls within a predetermined range;</claim-text>
      <claim-text>and a field pattern storage section for shifting, on the basis of the shift amount calculated by said field shift calculator, the field pattern to be used in said field weakening device.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. An apparatus according to claim 6, wherein said field pattern storage section forcibly switches the field pattern to be used in said field weakening device to a flat field pattern.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. An apparatus according to claim 6, wherein said field pattern storage section further comprises a section for forcibly switching the field pattern in said field weakening device on the basis of a control signal for switching the field pattern, which is input from a main apparatus.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. An apparatus according to claim 6, further comprising a first current controller for converting a feedback calculation result of the q-axis torque current reference signal and a d-axis feedback current signal obtained from a current flowing to said motor into a q-axis voltage reference signal, a magnetic flux saturation pattern generator for converting the secondary magnetic flux reference signal into a d-axis field current reference signal, a second current controller for converting the d-axis field current reference signal generated by said magnetic flux saturation pattern generator and the d-axis feedback current signal obtained from the current flowing to said motor into a d-axis voltage reference signal, and a converter for generating pulse width modulation signals from the q-axis voltage reference signal converted by said first current controller and the d-axis voltage reference signal converted by said second current controller and outputting the generated pulse width modulation signals to gates of a power converter.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. A motor control apparatus comprising: a field weakening device for converting a velocity feedback signal obtained from a rotational speed of a motor into a secondary magnetic flux reference signal by using a field pattern;</claim-text>
      <claim-text>and a current calculator for calculating a d-axis field current reference signal, on the basis of a q-axis torque current reference signal obtained on the basis of the secondary magnetic flux reference signal converted by said field weakening device, the velocity feedback signal, a velocity reference signal, and a torque reference signal, such that a vector angle of a motor current vector falls within a predetermined range.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. An apparatus according to claim 10, further comprising a first current controller for converting a feedback calculation result of the q-axis torque current reference signal and a q-axis feedback current signal obtained from a current flowing to said motor into a q-axis voltage reference signal, a second current controller for converting a feedback calculation result of the d-axis field current reference signal generated by said current calculator and a d-axis feedback current signal obtained from the current flowing to said motor into a d-axis voltage reference signal, and a converter for generating pulse width modulation signals from the q-axis voltage reference signal converted by said first current controller and the d-axis voltage reference signal converted by said second current controller and outputting the generated pulse width modulation signals to gates of a power converter.</claim-text>
    </claim>
  </claims>
</questel-patent-document>