<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181939B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181939</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181939</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="8550918" extended-family-id="1279309">
      <document-id>
        <country>US</country>
        <doc-number>09404613</doc-number>
        <kind>A</kind>
        <date>19990923</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1999US-09404613</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>1327352</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>FI</country>
        <doc-number>980373</doc-number>
        <kind>A</kind>
        <date>19980218</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1998FI-0000373</doc-number>
      </priority-claim>
      <priority-claim kind="international" sequence="2">
        <country>WO</country>
        <doc-number>FI9900125</doc-number>
        <kind>A</kind>
        <date>19990217</date>
        <priority-linkage-type>W</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1999WO-FI00125</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04W   8/06        20090101A I20090105RMEP</text>
        <ipc-version-indicator>
          <date>20090101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>06</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20090105</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04W  60/06        20090101A N20090105RMEP</text>
        <ipc-version-indicator>
          <date>20090101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>60</main-group>
        <subgroup>06</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20090105</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>455433000</text>
        <class>455</class>
        <subclass>433000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>455435100</text>
        <class>455</class>
        <subclass>435100</subclass>
      </further-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04W-008/06</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>8</main-group>
        <subgroup>06</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04W-060/06</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>W</subclass>
        <main-group>60</main-group>
        <subgroup>06</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04W-060/06</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>9</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>2</number-of-drawing-sheets>
      <number-of-figures>2</number-of-figures>
      <image-key data-format="questel">US6181939</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Method of processing mobile station data</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>NGUYEN NHUT, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>6021327</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US6021327</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>JAIN RAVI K, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5606596</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5606596</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>NOKIA TELECOMMUNICATIONS OY, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9501073</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9501073</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>NORTHERN TELECOM LTD, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9847305</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9847305</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <related-documents>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>WO</country>
              <doc-number>PCT/FI99/00125</doc-number>
              <date>19990217</date>
            </document-id>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Nokia Networks Oy</orgname>
            <address>
              <address-1>Espoo, FI</address-1>
              <city>Espoo</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>NOKIA NETWORKS</orgname>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Ahvenainen, Jouko</name>
            <address>
              <address-1>Helsinki, FI</address-1>
              <city>Helsinki</city>
              <country>FI</country>
            </address>
          </addressbook>
          <nationality>
            <country>FI</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Altera Law Group, LLC</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Nguyen, Lee</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      The present invention relates to a method of processing mobile station data in a mobile communication system in which the subscriber data of the mobile station are registered in a visitor location register which corresponds to the mobile services switching center the coverage area of which the mobile station enters, and in which the subscriber data of the mobile station are deleted from the visitor location register after it has left the coverage area.
      <br/>
      In order to avoid unnecessary deletion and re-registration of the subscriber data, the method comprises the steps of: defining an algorithm in order to determine a storage time for the subscriber data, storing in a memory information on the entries of the mobile station into the coverage area, determining the storage time with the help of the algorithm and the information stored in the memory, and after the mobile station has left the area, deleting its subscriber data from the visitor location register after the expiration of the storage time unless the mobile station has re-entered the coverage area.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This is a continuation of PCT/FI99/00125 filed Feb. 17, 1999.</p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="2">
      The present invention relates to a method of processing mobile station data in a mobile communication system which comprises at least a first and a second mobile services switching centre, in which method: the subscriber data of a mobile station is registered in a visitor location register which corresponds to the mobile services switching centre the coverage area of which the mobile station enters, and the subscriber data of the mobile station are deleted from said visitor location register after the mobile station has left the coverage area of the mobile services switching centre which corresponds to the visitor location register.
      <br/>
      Furthermore, the invention relates to a mobile communication system comprising: a mobile station, at least a first and a second mobile services switching centre, and a visitor location register which corresponds to the first mobile services switching centre, comprising register means for registering in a memory means the subscriber data of the mobile station having entered the coverage area of the first mobile services switching centre, and deletion means for deleting the subscriber data of said mobile station from the memory means after the mobile station has left the coverage area of the first mobile services switching centre.
    </p>
    <p num="3">
      The present invention relates to maintaining the subscriber data of mobile stations, or subscriber stations, in a mobile communication system in a visitor location register which corresponds to the mobile services switching centre in the coverage area of which the mobile station is located.
      <br/>
      The invention is therefore suitable for use in a mobile communication system comprising at least two mobile services switching centres and visitor location registers corresponding thereto.
      <br/>
      In this context, the concept subscriber data refers to both the subscriber data of an individual mobile station and the data of a subscriber group.
    </p>
    <heading>DESCRIPTION OF RELATED ART</heading>
    <p num="4">
      In a prior art mobile communication system, the subscriber data of a mobile station is stored in a home location register specified for the mobile station in question and, in addition thereto, in the visitor location register of the mobile services switching centre in the coverage area of which the mobile station is located at that time.
      <br/>
      When moving in the coverage area of the system, the mobile station of the prior art system continuously follows the location area indicated by the base station whose signals are best received by the mobile station.
      <br/>
      If the mobile station detects when moving from the radio coverage area of the base station to the radio coverage area of another base station that the location area of the new base station differs from that of the previous base station, then the mobile station performs a location update by sending a message via a radio path to the new base station.
      <br/>
      If the new location area belongs to the coverage area of a new mobile services switching centre, the visitor location register of the new mobile services switching centre sends a message to the home location register of the mobile station in question, notifying the home location register that the mobile station in question has entered the coverage area of the new mobile services switching centre.
      <br/>
      The subscriber data of the mobile station are in that case also registered in the new visitor location register.
      <br/>
      Furthermore, the home location register sends a message to the previous visitor location register (the coverage area of the mobile services switching centre the mobile station in question has left), reporting that the mobile station has entered the coverage area of the other mobile services switching centre.
      <br/>
      After receiving the message in question, the previous visitor location register deletes from its memory the subscriber data of the mobile station indicated in the message.
      <br/>
      If the mobile station in question belongs to a specific subscriber group, then the visitor location register does not delete the subscriber group data until the last mobile station belonging to the subscriber group leaves the coverage area of the mobile services switching centre in question.
    </p>
    <p num="5">
      It is a disadvantage of the above-described prior art solution that the subscriber data are deleted from the visitor location register almost immediately after the mobile station in question has left the coverage area of the mobile services switching centre which corresponds to the visitor location register.
      <br/>
      This means that when the same mobile station re-enters the coverage area of the mobile services switching centre in question, its subscriber data have been deleted from the visitor location register, in consequence of which the data have to be re-registered therein.
      <br/>
      Copying the subscriber data in question requires a relatively large amount of data transmission capacity.
      <br/>
      The situation is particularly problematic in a special network, such as a network used by authorities.
      <br/>
      For example, a police patrol may continuously patrol a specific area possibly composed of coverage areas of several different mobile services switching centres.
      <br/>
      In that case, the mobile station of the police patrol in question repeatedly leaves and re-enters the coverage area of a given mobile services switching centre.
    </p>
    <p num="6">
      In the prior art, an attempt is made to solve the above-described problem by storing the subscriber data in the visitor location register for a given period of time of a constant length, for example 10 minutes, from the moment the subscriber has left the coverage area of the mobile services switching centre corresponding to the visitor location register.
      <br/>
      However, this kind of time period of a constant length is not useful, since it alleviates the situation only in some cases, i.e. when the mobile station leaves the coverage area of the mobile services switching centre only for a short period of time (in this case, for less than 10 minutes).
      <br/>
      In addition, the prior art solution of the type is not able to adapt to the special needs of an individual mobile station.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="7">
      An object of the present invention is to solve the above-mentioned problem by providing a solution by means of which it is easier to delete subscriber data in a more flexible manner from a visitor location register and take subscriber-specific differences into account.
      <br/>
      This objective is achieved by the method of the invention, which is characterized by comprising the steps of: defining an algorithm by means of which a storage time for the subscriber data of a given mobile station can be determined, the storage time indicating how long the subscriber data of the mobile station have to be stored after the mobile station has left the coverage area of the mobile services switching centre, storing in a memory means information on at least the entries of said mobile station into the coverage area of said mobile services switching centre, determining by means of said algorithm and information stored in the memory means the storage time for the subscriber data of said mobile station, and after the mobile station has left the coverage area of said mobile services switching centre, deleting the subscriber data of said mobile station from the visitor location register after the expiration of the storage time unless the mobile station has re-entered the coverage area of said mobile services switching centre.
    </p>
    <p num="8">
      The invention also relates to a mobile communication system to which the method of the invention can be applied.
      <br/>
      The mobile communication system of the invention is characterized in that the system comprises: monitor means storing in a memory information on at least the entries of said mobile station into the coverage area of the first mobile services switching centre, and control means determining, on the basis of the information stored in the memory by the monitor means, the storage time for the subscriber data of the mobile station, the storage time indicating how long the subscriber data of said mobile station have to be stored from the moment the mobile station has left the coverage area of the mobile services switching centre and controlling the deletion means of the visitor location register to delete the subscriber data of said mobile station from the memory means after the mobile station has left the coverage area of the first mobile services switching centre and after the storage time has expired, unless the mobile station has re-entered the coverage area of the mobile services switching centre.
    </p>
    <p num="9">
      The invention is based on the idea that unnecessary deletion and subsequent continual re-registration of the subscriber data of a given mobile station in the same visitor location register can be avoided by storing in a memory information at least on the movements of the mobile station in question in the network and making a decision to delete the subscriber data on the basis of the information stored in the memory.
      <br/>
      In other words, by maintaining subscriber-specific data for a predetermined period of time on the entries of the mobile station into coverage areas of different mobile services switching centres, a system can be provided that is capable of taking into account the needs and behaviour of an individual subscriber in subscriber data processing.
      <br/>
      Consequently, unnecessary deletion of the subscriber data of a given mobile station can be avoided from a visitor location register corresponding to a mobile services switching centre whose coverage area the mobile station shortly re-enters.
    </p>
    <p num="10">
      Sufficiently detailed monitoring can be achieved even by storing in the memory solely the times the mobile station enters the coverage area of the mobile services switching centre, on the basis of which a storage time can be determined in accordance with the invention for the subscriber data of the mobile station.
      <br/>
      In accordance with the invention, the time the mobile station has left the coverage area is also preferably stored in the memory in question, and the storage time for the subscriber data can then be determined on the basis of how long the mobile station has altogether been out of the coverage area of the mobile services switching centre.
      <br/>
      This gives a more realistic picture of the movements of the mobile station.
    </p>
    <p num="11">
      The invention makes it possible to provide a system capable of learning in such a way that if the subscriber data of a given mobile station is repeatedly deleted at a wrong moment from a visitor location register, the storage time of the subscriber data can be changed (extended or shortened) by changing the algorithm used for the determination of the storage time.
      <br/>
      The system is able to do this independently by changing the parameters used in the algorithm to achieve a more accurate storage time, for example.
    </p>
    <p num="12">The most significant advantages of the invention and system are therefore less need for unnecessary deletion and re-registration of subscriber data in the same visitor location register, fewer delays in connection with the registration, less need for processing capacity in the home location register, the capability of taking the previous movements of an individual mobile station in the network into account in a decision about deleting the subscriber data, and the ability to provide a system that is extremely flexible and capable of learning.</p>
    <p num="13">
      In a preferred embodiment of the mobile communication system of the invention, the monitor means store in the memory information indicating at least the periods of time between departures from and entries into the area by the mobile station and the number of entries.
      <br/>
      The information in question is stored in the memory for a predetermined period of time.
      <br/>
      Each visitor location register may include a separate memory for maintaining this information or, alternatively, the memory may be located in the home location register of the mobile station.
      <br/>
      When the information stored in the memory indicates that a given mobile station has entered the coverage area of the same mobile services switching centre for a predetermined number of times within the time period in question, a storage time is concluded for the subscriber data of the mobile station in question by means of the information stored in the memory and the algorithm (i.e. deduction rules) used.
      <br/>
      For example, the length of the storage time may correspond to the longest period of time the mobile station has been out of the coverage area of the mobile services switching centre in question on the basis of the information stored in the memory (i.e. the longest period of time between a departure from and an entry into the area).
      <br/>
      The deletion of the subscriber data can thus be optimized for the mobile station in question.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="14">
      In the following, the invention will be described in more detail by way of example with reference to the accompanying figures, in which
      <br/>
      FIG. 1 shows a flow diagram of a first preferred embodiment of the method of the invention, and
      <br/>
      FIG. 2 shows a block diagram of a first preferred embodiment of the mobile communication system of the invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="15">
      FIG. 1 shows a flow diagram of a first preferred embodiment of the method of the invention.
      <br/>
      The flow diagram of FIG. 1 can be applied to subscriber data processing of an individual mobile station in the TETRA network (Terrestrial Trunked Radio), for example.
    </p>
    <p num="16">
      In block A, an algorithm (detection rules) is defined in order to determine a storage time for the subscriber data of a mobile station.
      <br/>
      According to the invention, the algorithm in question is defined in such a manner that the algorithm utilizes information collected on the previous movements of the mobile station in the area of the system and stored in a memory.
      <br/>
      On the basis of this information, the algorithm can be used to determine the storage time of the subscriber data for the mobile station in question.
      <br/>
      The storage time of the subscriber data indicates to a visitor location register how long it should store the subscriber data of the mobile station from the moment the mobile station has left the coverage area of the mobile services switching centre corresponding to the visitor location register in question.
      <br/>
      In connection with the flow diagram of FIG. 1 it is assumed that the algorithm is defined in the following way:
    </p>
    <p num="17">
      if the mobile station has entered the coverage area at least n times (n being three, for example) within a time period Tref (for example 48 h), then the storage time is the longest period of time Tmax between a departure from and an entry into the area, which is stored in the memory (Tmax being 6 h, for example),
      <br/>
      if the period of time between departures and entries into the area by the mobile station is more than 2 hours on average, then the storage time is nevertheless only 10 minutes, and
      <br/>
      if the mobile station has entered the coverage area less than n times within a time period Tref, then the storage time is 10 minutes.
    </p>
    <p num="18">In block B, a mobile station MS enters the coverage area of a mobile services switching centre MSC, and its subscriber data are then registered in a visitor location register VLR corresponding to the mobile services switching centre MSC.</p>
    <p num="19">
      In block C, the time the mobile station MS has entered the coverage area of the mobile services switching centre MSC is stored in the memory.
      <br/>
      In accordance with the invention, the information is maintained in the memory for a time period Tref, and information can then be found in the memory on the entries within the time period in question (of 48 h, for example).
    </p>
    <p num="20">
      In block D, the mobile station MS leaves the coverage area of the mobile services switching centre MSC.
      <br/>
      The time the mobile station has left the coverage area of the mobile services switching centre is then stored in the memory.
      <br/>
      Consequently, information indicating the times the mobile station has left the area within the time period Tref can also be found in the memory.
    </p>
    <p num="21">In blocks E to H, the defined algorithm is applied in order to determine the storage time for the subscriber data.</p>
    <p num="22">
      In block E it is checked from the statistics if the mobile station MS has entered the coverage area of the mobile services switching centre MSC at least n times within the time period Tref, i.e. in the case of FIG. 1, three times within the last 48 hours.
      <br/>
      If not so, the routine proceeds to block F where a storage time Ts of 10 minutes is obtained.
      <br/>
      In contrast, if it is detected in block E that the mobile station MS has entered the coverage area of the mobile services switching centre MSC at least three times within the last 48 hours, then it means that the mobile station has repeatedly entered the coverage area in question.
      <br/>
      In that case, the routine proceeds to block G.
    </p>
    <p num="23">
      In block G, it is checked if the period of time between departures from and entries into the area by the mobile station is more than 2 hours on average.
      <br/>
      If so, the routine proceeds to block F, where the storage time Ts of 10 minutes is obtained.
      <br/>
      In contrast, if the period of time in question is less than 2 hours on average, then the routine proceeds to block H.
    </p>
    <p num="24">
      In block H, the longest period of time Tmax between departures from and entries into the area is retrieved from the memory, the longest period of time in the following assumed to be 6 hours.
      <br/>
      Consequently, the Tmax, i.e. 6 hours, is obtained as the storage time.
    </p>
    <p num="25">
      In block I, a timer t is switched on.
      <br/>
      As distinct from the flow diagram of FIG. 1, a given maximum time can be defined for the storage time of the subscriber data.
      <br/>
      In that case, in block I it is checked if the storage time Ts exceeds the defined maximum time (of possibly a couple of hours, for example).
      <br/>
      If so, the storage time Ts is set to correspond to the maximum time in block 1.
      <br/>
      Only after this the timer is switched on.
    </p>
    <p num="26">
      In block J it is checked if the mobile station MS has re-entered the coverage area of the mobile services switching centre MSC.
      <br/>
      If so, the routine proceeds to block C where the entry time is recorded in the memory.
      <br/>
      In accordance with the invention, the subscriber data of the mobile station MS are already found in the visitor location register (because they have not yet been deleted therefrom), whereupon it is not necessary to re-register the subscriber data therein.
    </p>
    <p num="27">
      In contrast, if in block J it is detected that the mobile station MS has not re-entered the coverage area of the mobile services switching centre MSC, the routine proceeds to block K where it is checked if the storage time Ts for the subscriber data of the mobile station in question is exceeded.
      <br/>
      If not, the routine returns to block J. Otherwise, the routine proceeds to block L where the subscriber data of the mobile station MS in question are deleted from the visitor location register VLR.
      <br/>
      If the mobile station belongs to a given subscriber group, the subscriber data are deleted only if the mobile station moving off from the area is the last mobile station that belongs to the subscriber group and moves off from the coverage area of the mobile services switching centre.
    </p>
    <p num="28">
      In accordance with the invention, as distinct from FIG. 1, a system capable of learning can be provided by also monitoring the deletion and reregistration of subscriber data during a longer period of time for a given mobile station.
      <br/>
      If it then turns out that the storage time given by the algorithm is repeatedly wrong, then the system can automatically adjust the parameters used in the algorithm to provide a more suitable storage time.
      <br/>
      For example, this can be done by not defining as the storage time Ts the longest period of time Tmax between departures from and entries into the area and retrieved from the memory means, but instead, the storage time is determined by the formula Ts=Tmax*K, where K is a factor that can be adjusted and at the beginning is 1.0, for example.
      <br/>
      If the system then detects that the storage time is repeatedly too short, then it can increment the factor (K=1.2, for example) or, correspondingly, if the storage time is repeatedly unnecessarily long, then the system can decrement the factor (K=0.8, for example).
      <br/>
      For each mobile station, a separate factor K then preferably exists for each visitor location register.
      <br/>
      The system is thus able to adapt to the movements of a given individual mobile station within the area covered by the system.
    </p>
    <p num="29">
      FIG. 2 shows a block diagram of a first preferred embodiment of the mobile communication system of the invention.
      <br/>
      The mobile telephone system presented in FIG. 2 can be part of the TETRA network (Terrestrial Trunked Radio), although the invention can also be utilized in other connections.
    </p>
    <p num="30">
      In the case of FIG. 2, a mobile station MS moves to and fro between the coverage areas A1 and A2 of mobile services switching centres DXT1 and DXT2.
      <br/>
      In the case of FIG. 2, the mobile station MS has a home location register HLR2 in the coverage area A1.
      <br/>
      The subscriber data of the mobile station in question are then registered in a memory 1 of a visitor location register VLR1 corresponding to the mobile services switching centre DXT1.
    </p>
    <p num="31">
      In order that the subscriber data of the mobile station MS repeatedly moving between the mobile services switching centres DXT1 and DXT2 do not need to be continuously registered and thereafter deleted from the memory of the visitor location register VLR1, monitor means 2 are arranged in the system of FIG. 2.
      <br/>
      In the case of FIG. 2, the monitor means 2 are located in the home location register HLR2 of the mobile station MS.
      <br/>
      The movements of the mobile station MS over the entire area covered by the system are monitored using the monitor means.
      <br/>
      Consequently, when entering the coverage area A1 of the mobile services switching centre DXT1, the mobile station performs a location update, in consequence of which the visitor location register VLR1 notifies the home location register HLR2 of the mobile station in a message S1 that the mobile station MS is located in its coverage area A1.
      <br/>
      The home location register stores information on this in a manner known per se in a memory 3, and, in addition, the monitor means 2 store in a memory 7 information on the time the mobile station has entered the coverage area A1 of the mobile services switching centre DXT1.
    </p>
    <p num="32">
      In accordance with the invention, the monitor means 2 maintain in the memory 7 information indicating the times the mobile station MS has entered and left the coverage areas of different mobile services switching centres within a time period Tref of a predetermined length, within the last 48 hours, for example.
      <br/>
      In other words, the monitor means delete the stored information which is older than 48 hours from the memory 7.
    </p>
    <p num="33">
      When the home location register HLR2 of the mobile station MS in the case of FIG. 2 receives in the message S1 information indicating that the mobile station has entered the coverage area A1 of the mobile services switching centre DXT1, control means 4 of the home location register HLR2 detect on the basis of the information stored in the memory 7 the number of times the mobile station has entered the coverage area A1 within the time period Tref, the average period of time between departures from and entries into the coverage area A1 by the base station, and the longest period of time Tmax between departures from and entries into the area by the mobile station.
      <br/>
      On the basis of this information, the control means 4 of the home location register HLR2 control deletion means 5 of the visitor location register VLR1.
      <br/>
      In other words, the home location register acknowledges the message S1 by sending a message S2 to the visitor location register VLR1, the message S2 including the storage time Ts for the subscriber data of the mobile station, the storage time indicating how long the visitor location register VLR1 has to store the subscriber data of the mobile station in the memory 1 from the moment the mobile station has left the coverage area A1 of the mobile services switching centre DXT1.
      <br/>
      The storage time is determined as described by way of example in connection with the flow diagram of FIG. 1.
    </p>
    <p num="34">After receiving the message S2, register means 6 of the visitor location register store the subscriber data of the mobile station MS in the memory 1 unless they already exist therein (i.e. the mobile station MS has visited the coverage area earlier and its subscriber data are not yet deleted from the memory 1).</p>
    <p num="35">
      After leaving the coverage area A1 of the mobile services switching centre DXT1 and after entering the coverage area A2 of the mobile services switching centre DXT2, the mobile station MS performs a location update, and the home location register HLR2 then receives information indicating that the mobile station MS is no longer located in the coverage area A1.
      <br/>
      The monitor means 2 of the home location register HLR2 then store the time the mobile station has left the area in the memory 7.
      <br/>
      In addition, the home location register HLR2 transmits information indicating the location update performed by the mobile station to the visitor location register VLR1.
      <br/>
      The deletion means 5 then wait for the storage time Ts they have been notified by the control means 4 in the message S2 before deleting the subscriber data of the mobile station MS from the memory 1.
      <br/>
      Consequently, if the mobile station returns to the coverage area A1 of the mobile services switching centre DXT1 before the expiration of the above-mentioned storage time Ts, there is no need to re-register its subscriber data in the memory 1, because the deletion means 5 have not yet deleted the data therefrom.
    </p>
    <p num="36">As distinct from the case of FIG. 2, the control means 4 can notify the deletion means 5 of the subscriber data storage time Ts in the same message by means of which the home location register HLR2 notifies the visitor location register VLR1 of the fact that the mobile station has left the coverage area.</p>
    <p num="37">
      Furthermore, as distinct from the case of FIG. 2, the visitor location registers of the system can be equipped with their own monitor means and memories related thereto.
      <br/>
      In that case, each visitor location register maintains information on the mobile stations entering the coverage area of the mobile services switching centre corresponding thereto.
      <br/>
      Consequently, no monitor means are required in the home location registers of the mobile stations.
      <br/>
      In this kind of embodiment, the visitor location registers are independently capable of deciding how long the data of a given mobile station have to be stored after the mobile station has left the coverage area of the mobile services switching centre corresponding to the visitor location register.
    </p>
    <p num="38">
      It is to be understood that the above description and the figures related thereto are only intended to illustrate the present invention.
      <br/>
      It will be apparent to those skilled in the art that many variations and modifications can be made to the invention without departing from the scope and spirit of the invention disclosed in the attached claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A method of processing mobile station data in a mobile communication system which comprises at least a first and a second mobile services switching centre, in which method:</claim-text>
      <claim-text>a subscriber data of a mobile station are registered in a visitor location register which corresponds to a mobile services switching centre, a coverage area of which the mobile station enters, said method comprises:</claim-text>
      <claim-text>- defining an algorithm by means of which a storage time for the subscriber data of a given mobile station can be determined, the storage time indicating how long the subscriber data of the mobile station has to be stored after the mobile station has left the coverage area of the mobile services switching centre, - storing in a memory means information on at least entries of said mobile station into the coverage area of said mobile services switching centre, - determining by means of said algorithm and information stored in the memory means the storage time for the subscriber data of said mobile station, and - after the mobile station has left the coverage area of said mobile services switching centre, deleting the subscriber data of said mobile station from the visitor location register after the expiration of the storage time unless the mobile station has re-entered the coverage area of said mobile services switching centre.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The method as claimed in claim 1, wherein said algorithm is also changed in the method in order to adjust the length of the storage time.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The method as claimed in claim 2, wherein the algorithm is changed in order to increase the storage time if the subscriber data of a given mobile station is repeatedly deleted from the visitor location register before said mobile has re-entered the coverage area of the mobile services switching centre corresponding to the visitor location register.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The method as claimed in claim 1, wherein in said memory means is stored at least information by means of which periods of time between departures from and entries into the area by the mobile station and the number of entries can be determined, that the information is maintained in the memory means for a predetermined period of time from the storage moment, and that when the information stored in the memory means indicates that the mobile station has entered the coverage area of said mobile services switching centre for a predetermined number of times within a predetermined period of time, said algorithm is defined to indicate the longest period of time between a departure from and an entry into said area by the mobile station.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. A mobile communication system comprising: a mobile station, at least a first and a second mobile services switching centre, a visitor location register which corresponds to the first mobile services switching centre, comprising register means for registering in a memory means a subscriber data of the mobile station having entered the coverage area of the first mobile services switching centre, and deletion means for deleting the subscriber data of said mobile station from the memory means after the mobile station has left the coverage area of the first mobile services switching centre, monitor means storing in a memory information on at least the entries of said mobile station into the coverage area of the first mobile services switching centre, and control means determining, on the basis of the information stored in the memory by the monitor means, a storage time for the subscriber data of the mobile station, the storage time indicating how long the subscriber data of said mobile station have to be stored from the moment the mobile station has left the coverage area of the mobile services switching centre and controlling the deletion means of the visitor location register to delete the subscriber data of said mobile station from the memory means after the mobile station has left the coverage area of the first mobile services switching centre and after the storage time has expired, unless the mobile station has re-entered the coverage area of the mobile services switching centre.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The mobile communication system as claimed in claim 5, wherein the monitor means stores in said memory information indicating at least periods of time between departures from and entries into the area by the mobile station and the number of entries, and that said information is stored in the memory for a predetermined period of time.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The mobile communication system as claimed in claim 5, wherein when the information stored in the memory indicate that the mobile station has entered the coverage area of the first mobile services switching centre at least a predetermined number of times within a predetermined period of time, the control means controls the deletion means of the visitor location register to delete the subscriber data of the mobile station from the memory means after an expiration of a given storage time of a constant length.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The mobile communication system as claimed in claim 5, wherein the information stored in the memory indicate that the mobile station has entered the coverage area of the first mobile services switching centre at least a predetermined number of times within a predetermined period of time, the control means control the deletion means of the visitor location register in such a way that the deletion means delete the subscriber data of the mobile station from the memory means after the expiration of the storage time whose length corresponds to a longest period of time between a departure from and an entry into the area by the mobile station, said period of time being indicated by the information stored in the memory.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The mobile communication system as claimed in claim 5, wherein the monitor means controls the control means in such a way that on the basis of the information stored in the memory means, the storage time of the subscriber data determined by the control means be comes longer if the monitor means detect that the subscriber data of a given mobile station are repeatedly deleted from the visitor location register before said mobile station has re-entered the coverage area of the mobile services switching centre corresponding to the visitor location register.</claim-text>
    </claim>
  </claims>
</questel-patent-document>