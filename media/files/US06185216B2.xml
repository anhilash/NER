<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185216B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185216</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185216</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="10775600" extended-family-id="1184532">
      <document-id>
        <country>US</country>
        <doc-number>08973182</doc-number>
        <kind>A</kind>
        <date>19980109</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1996US-08973182</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>1225419</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>GB</country>
        <doc-number>9511426</doc-number>
        <kind>A</kind>
        <date>19950606</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1995GB-0011426</doc-number>
      </priority-claim>
      <priority-claim kind="international" sequence="2">
        <country>WO</country>
        <doc-number>GB9601300</doc-number>
        <kind>A</kind>
        <date>19960531</date>
        <priority-linkage-type>W</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1996WO-GB01300</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04J   3/00        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>3</main-group>
        <subgroup>00</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04J   3/06        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>3</main-group>
        <subgroup>06</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>H04Q  11/04        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>11</main-group>
        <subgroup>04</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>370402000</text>
        <class>370</class>
        <subclass>402000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>370403000</text>
        <class>370</class>
        <subclass>403000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>370503000</text>
        <class>370</class>
        <subclass>503000</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04J-003/06C1C</text>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>003</main-group>
        <subgroup>06C1C</subgroup>
      </classification-ecla>
      <classification-ecla sequence="2">
        <text>H04J-003/06C3</text>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>003</main-group>
        <subgroup>06C3</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-003/0647</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>3</main-group>
        <subgroup>0647</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-003/0644</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>3</main-group>
        <subgroup>0644</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-003/0679</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>3</main-group>
        <subgroup>0679</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-2203/0042</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>2203</main-group>
        <subgroup>0042</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-2203/006</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>2203</main-group>
        <subgroup>006</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04J-2203/0089</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>J</subclass>
        <main-group>2203</main-group>
        <subgroup>0089</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04J-203/00C4C2</classification-symbol>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04J-203/00C12C</classification-symbol>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04J-203/00C20</classification-symbol>
      </patent-classification>
      <patent-classification sequence="10">
        <classification-scheme office="EP" scheme="ICO"/>
        <classification-symbol>T04J-003/06C1B</classification-symbol>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>8</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>4</number-of-drawing-sheets>
      <number-of-figures>6</number-of-figures>
      <image-key data-format="questel">US6185216</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Synchronization in an SDH network</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>YAJIMA NOBORU, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5367395</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5367395</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>BORTOLINI JAMES R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5473640</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5473640</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>TANONAKA KOUJI</text>
          <document-id>
            <country>US</country>
            <doc-number>5682408</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5682408</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>GORSHE STEVEN S, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5355362</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5355362</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>NOKIA TELECOMMUNICATIONS OY, et al</text>
          <document-id>
            <country>WO</country>
            <doc-number>9411966</doc-number>
            <kind>A1</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>WO9411966</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>ITU-T Recommendation G.803, Mar. 1993, Geneve, CH, pp. 1-57, XP002010580, NN: "Architectures of Transport Networks Based on the Synchronous Digital Hierarchy (SDH))".</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>GLOBECOM '92; Orlando, U.S., vol. 1, 2, 3, Dec. 6, 1992, Institute of Electrical and Electronics Engineers, pp. 821-828, XP000357679, Crossett, J.A., et al., "Sonet/SDH Network Synchroization and Synchronization Sources".</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>TELCOM Report, vol. 17, No. 3, May 1994, Munchen DE, pp. 115-117, XP000451993, Stummer, B.; Volejnik, W.; "Taktkonstanz Sichert Ubertragungsqualitat".</text>
        </nplcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Marconi Communications Limited</orgname>
            <address>
              <address-1>GB</address-1>
              <country>GB</country>
            </address>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>MARCONI COMMUNICATIONS</orgname>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Chapman, Steven T</name>
            <address>
              <address-1>Buxton, GB</address-1>
              <city>Buxton</city>
              <country>GB</country>
            </address>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Kirschstein, et al.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Chin, Wellington</name>
      </primary-examiner>
    </examiners>
    <pct-or-regional-filing-data>
      <document-id>
        <country>WO</country>
        <doc-number>GB9601300</doc-number>
        <date>19960531</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1996WO-GB01300</doc-number>
      </document-id>
    </pct-or-regional-filing-data>
    <pct-or-regional-publishing-data>
      <document-id>
        <country>WO</country>
        <doc-number>9639760</doc-number>
        <kind>A1</kind>
        <date>19961212</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>WO9639760</doc-number>
      </document-id>
    </pct-or-regional-publishing-data>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An SDH network is enclosed in which the occurrence of closed timing loops is prevented by causing each node to stamp the clock signal passing through that node with identifying data.
      <br/>
      In one embodiment, each node is operative to overstamp any node identifying data from preceding nodes and to indicate that the timing signal is not to be used for synchronization purposes if the node to which it is being sent would result in a closed timing loop.
      <br/>
      In a second embodiment, node identifying data is added to a list, and if any node reads its own indenting data on that list, then it knows not to use the synchronization signal.
      <br/>
      By counting the number of nodes through which the signal has passed, a way is provided for preventing the occurrence of synchronization reference chains of excessive length.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="1">
      This invention relates to an SDH (synchronous digital hierarchy) network.
      <br/>
      Communication systems using optical networks, and to a lesser extent radio networks are increasingly employing digital communication patterns.
      <br/>
      The European systems are being standardized by the CCITT on SDH whereas the American systems are known as SONET (synchronous optical networks) and operate on the ANSI standard.
      <br/>
      The SDH system uses a network-node interface and is compatible with SONET.
      <br/>
      With the network node system it is necessary to drive information around a network using a clock pulse and this is normally obtained from an external timing source.
      <br/>
      The invention is applicable to any such system.
    </p>
    <p num="2">
      Within such a network it is important that the clock pulse used within a node for synchronization purposes is of as high a quality as possible--i.e. that it has not deteriorated to the extent that there is uncertainty in its value.
      <br/>
      One problem where such deterioration can occur is when a closed timing loop forms such that the same timing signal is sent repeatedly around a loop and where deterioration occurs in the clock signal each time it passes through a node.
      <br/>
      It is one object of the invention to provide a means for preventing the occurence of such closed timing loops.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="3">
      In Globecom '92: Orlando, US, vol. 1-2-3, 6.12.1992, Institute Of Electrical And Electronics Engineers, pages 821-828, J. A. Crossett et al: "SONET/SDH NETWORK SYNCHRONIZATION AND SYNCHRONISATION SOURCES" the clock references for SONET and SDH network synchronization and distribution of these reference signals in the synchronous optical network are addressed.
      <br/>
      These signals provide transport equipment and office synchronisation.
      <br/>
      The paper discusses synchronization quality levels found in the network.
      <br/>
      The synchronization network is presented from a SONET view point with comparisons made to the SDH network.
      <br/>
      In WO-A-94-11966 is disclosed a hierarchical synchronization method for a telecommunications system employing message-based synchronization and comprising a plurality of nodes interconnected by transmission lines.
      <br/>
      In the method the nodes interchange signals containing synchronization messages with information on the priority of the respective signal, in the form of node signatures, within the internal synchronization hierarchy of the system.
      <br/>
      In addition a transmission line between two nodes is monitored to verify its bidirectionality, and as soon as the bidirectionality of the line cannot be verified, the use of the line for synchronization is prohibited.
    </p>
    <p num="4">
      In one aspect the invention provides a synchronous digital hierarchy (SDH) network comprising a plurality of nodes interconnected by bidirectional links, an external clock signal being present at an input of one of said nodes which are arranged to pass the clock signal from node to node for synchronization, each node comprising means for stamping the clock signal passing through the respective node with data identifying that node as part of a means for preventing the occurrence of closed timing loops.
      <br/>
      Once ensuing nodes have knowledge of where the clock signal has been, a decision can be made as to whether a closed timing loop would occur.
    </p>
    <p num="5">In one embodiment each node comprises means for replacing any node identifying data from preceding nodes through which the signal has passed.</p>
    <p num="6">Such an arrangement provides an effective means, in particular for preventing the occurence of closed timing loops between adjacent nodes.</p>
    <p num="7">Preferably in such a case each node comprises means for reading the identity of the node from which an incoming clock signal has arrived and for transmitting, in the event that the clock signal is to be returned to that same node, a signal indicative that the clock signal is not to be used for synchronization.</p>
    <p num="8">
      Within SDH information is carried in a framework comprising 270 bytes of information.
      <br/>
      These are arranged in columns in nine rows.
      <br/>
      The first nine columns are used for creating an overhead known as the section overhead (SOH).
      <br/>
      Synchronization status indication (SSMB) is included as part of the section overhead.
      <br/>
      The byte of information referred to in a section overhead for synchronization is known as S1 and is used to indicate the quality of the timing source that supports the traffic to which it is attached.
      <br/>
      In the embodiment described above it is preferably the S1 byte of the SSMB that is adapted to carry the signal indicative data that the clock signal is not to be used.
    </p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="9">
      The embodiment described above is of particular use in preventing the occurence of timing loops between adjacent nodes within a network. In order to prevent the possibility of larger multi node loops, in an alternative embodiment, each node comprises means for adding node identifying data to a list transmitted along with the clock signal, which list identifies a plurality of preceding, nodes through which the clock signal has passed and means for preventing, in the event that the list contains data identifying the respective node, use by the respective node of the clock signal for synchronization.
      <br/>
      In the event that a node finds it own identifying data in the list then the respective node will have detected a timing loop.
      <br/>
      It is also desirable that, irrespective of the presence of timing loops, a clock signal does not pass through too many nodes before being discarded. Preferably, with the embodiment described immediately above, each node comprises means for counting the number of nodes through which the clock signal has passed and for preventing, in the event that the number exceeds a predetermined value, use by the respective node of the clock signal for synchronization.
      <br/>
      Embodiments of the invention will now be described by way of example with reference to the accompanying drawings in which;
      <br/>
      FIG. 1 illustrates schematically an SDH network in the form of a ring;
      <br/>
      FIG. 2 illustrates the network of FIG. 1, after a fault condition has developed;
      <br/>
      FIG. 3 illustrates a pair of adjacent nodes within an alternative, more complicated type of network;
      <br/>
      FIG. 4 illustrates two nodes in operation according to one aspect of the invention;
      <br/>
      FIG. 5 illustrates a more complicated multimode network according to the invention; and
      <br/>
      FIG. 6 illustrates the network of FIG. 5, but which uses a different aspect of the invention.
    </p>
    <p num="10">
      Referring to FIG. 1 an SDH network comprises four nodes 1, 2, 3, 4 arranged in a ring configuration and where each adjacent node is connected by a bidirectional communication link 5.
      <br/>
      Typically each node comprises a Network Element consisting of a multiplexer/demultiplexer which is provided for routing traffic and other signals to other switching elements through further inputs and outputs which are not shown in FIG. 1 for reasons of clarity and simplicity.
      <br/>
      Since SDH is a synchronized network it is important that a high quality timing signal is available to all nodes within the network.
      <br/>
      As shown an external timing source 6 is input to the first node 1 within the network.
      <br/>
      As shown the external timing source is denoted by G811 which to use SDH terminology implies that the source is of the highest quality.
      <br/>
      This signal is then distributed along the data link 5 in such a way that there are no closed timing loops provided--i.e. each channel 5A or 5B is timed from a source which has at most only been looped back on itself once.
      <br/>
      If one of these sections fails as a timing source, as is illustrated in FIG. 2 at point x, a timing loop is created since channel 5B will obtain timing information from the channel available to it--i.e. that incoming on channel 5A from node 4.
      <br/>
      This causes a synchronization status indication to be inserted as part of a multiplex section overhead signal in the S1 part of the section overhead.
      <br/>
      It should be appreciated that the detection of "looped" timing is not as easy to detect as the illustration indicates.
      <br/>
      For each node may be connected by multiple sections and hence the timing loop would possibly occur if timing from one of these sources were to be turned round on the same node but in a different section as is illustrated in FIG. 3.
    </p>
    <p num="11">
      The examples shown in FIGS. 1, 2 and 3 imply a very simple set of East/West directions to determine where the timing signal is looped back.
      <br/>
      When used with cross connect devices or elements residing in a meshed network, the determination of where the timing is turned around back towards the source from where it originated is less certain and thus a certain degree of network knowledge regarding its immediate surroundings must be imparted to the respective node.
    </p>
    <p num="12">According to the invention, in one aspect, each node is operative to append identifying data to a signal associated with the clock signal, such as the SSMB as in the SDH hierarchy.</p>
    <p num="13">
      The S1 byte contains four spare bits (1-4) and it is these that are used.
      <br/>
      The identifier necessitates a relatively large range and sixteen bits are allocated and multiframed as shown below;
    </p>
    <p num="14">
      --
      <br/>
      --      S1 Bit      Bit 1         Bit 2     Bit 3     Bit 4
      <br/>
      --      Frame 1     1 (FAW)       B0        B1        Spare
      <br/>
      --      Frame 2     0             B2        B3        Spare
      <br/>
      --      Frame 3     0             B4        B5        Spare
      <br/>
      --      Frame 4     0             B6        B7        Spare
      <br/>
      --      Frame 5     0             B8        B9        Spare
      <br/>
      --      Frame 6     0             B10       B11       Spare
      <br/>
      --      Frame 7     0             B12       B12       Spare
      <br/>
      --      Frame 8     0             B14       B15       Spare
    </p>
    <p num="15">
      FAW relates to the frame alignment word.
      <br/>
      FIG. 4 shows the case where two nodes 10, 11 are connected by two separate bidirectional channels 5.
      <br/>
      A synchronization source 6 of quality level G.811 is used to time each of the traffic bearing sections from the first node 10 to the second node 11.
      <br/>
      The SSMB attached to each of the sections indicates that the quality level is G811 and the source identifier is set to indicate that it is originated from the first node 10.
      <br/>
      The second node 11 uses the recovered clock signal from one of these sections to synchronize the traffic transmitted back to the first node 10.
      <br/>
      However the SSMB in this case is set to "do not use" as the node is able to ascertain that both channels 5A1 5B1 are connected to the first node 10 and hence the timing would be turned around.
      <br/>
      The S1 byte is set to "1111" to indicate the "do not use" signal.
    </p>
    <p num="16">
      FIG. 5 illustrates a more complicated network where each node 21, 22, 23, 24 is connected by two bi-directional sections 51 52 with two spurs at the third node 23 connected to two further nodes 24 and 25.
      <br/>
      In each case where timing has been looped a "do not use" indication is transmitted in the SSMB.
      <br/>
      Each node is able to determine from which other node in the network timing has been received from and is then able to determine whether the timing signal has been turned around.
    </p>
    <p num="17">
      As described above the arrangement removes the need for network knowledge to be downloaded from the controlling management centre to indicate potential timing loops.
      <br/>
      Furthermore network changes need little or no reconfiguration with respect to the timing data.
      <br/>
      The system may also have increased reliability since configuration is reduced to simply providing a synchronization source identifier or node identifier for each element in the network and accordingly the chances of incorrect configuration are considerably reduced.
    </p>
    <p num="18">
      The embodiment described above is of particular use in preventing the occurence of timings loops between adjacent nodes in a network.
      <br/>
      A second embodiment of the invention will now be described which allows multimode timing loops to be identified and can also provide a means of identifying through how many nodes a timing signal has passed.
      <br/>
      This can be important because deterioration occurs in the clock signal each time it is used for synchronization purposes.
      <br/>
      For example, SDH standards currently specify that no more than twenty synchronized clocks should form part of a so called synchronized reference chain due to the deterioration of timing quality.
      <br/>
      In the second embodiment node identification information is added to a list each time the clock signal passes through a respective node.
      <br/>
      The identity information is appended to the SSMB, as is described below.
      <br/>
      As has been described previously the S1 byte contains four spare bits (1-4).
      <br/>
      Each identifier necessitates a relatively large range and sixteen bits are allocated.
      <br/>
      A maximum of twenty identifiers are needed to form a list and an indication of the number of identifiers currently in that list is also provided.
      <br/>
      This structure is multiframed and is shown below.
    </p>
    <p num="19">
      --
      <br/>
      -- S1 Bit    Bit 1     Bit 2   Bit 3   Bit 4
      <br/>
      -- Frame 1   1 (FAW)   B0      B1      Spare }
      <br/>
      -- Frame 2   0         B2      B3      Spare }
      <br/>
      -- Frame 3   0         B4      B5      Spare } Number Source IDs
      <br/>
      -- Frame 4   0         B6      B7      Spare }
      <br/>
      -- Frame 5   0         B8      B9      Spare }
      <br/>
      -- Frame 6   0         B10     B11     Spare }
      <br/>
      -- Frame 7   0         B12     B12     Spare }
      <br/>
      -- Frame 8   0         B14     B15     Spare }
      <br/>
      -- Frame 9   0         B16     B17     Spare } Source ID -1
      <br/>
      -- Frame 10  0         B18     B19     Spare }
      <br/>
      -- Frame 11  0         B20     B21     Spare }
      <br/>
      -- Frame 12  0         B22     B23     Spare }
      <br/>
      -- Frame 13  0         B24     B25     Spare }
      <br/>
      -- Frame 158 0         B314    B315    Spare }
      <br/>
      -- Frame 159 0         B316    B317    Spare }
      <br/>
      -- Frame 160 0         B318    B319    Spare }
      <br/>
      -- Frame 161 0         B320    B321    Spare } Source ID -20
      <br/>
      -- Frame 162 0         B322    B323    Spare }
      <br/>
      -- Frame 163 0         B324    B325    Spare }
      <br/>
      -- Frame 164 0         B326    B327    Spare }
      <br/>
      -- Frame 165 0         B328    B329    Spare }
    </p>
    <p num="20">
      Each time a synchronization source is used by a node its identification data is appended to the list of nodes held in the SSMB and the number of source ID's is incremented by one.
      <br/>
      This new SSMB is then transmitted in each section that uses that source for timing.
    </p>
    <p num="21">
      FIG. 6 corresponds to FIG. 5 except that the alternative technique is used.
      <br/>
      Each node is able to detect potential timing loops if its own identification data is present in the received SSMB.
      <br/>
      For example, the third node 23 knows that it cannot use timing from nodes 25 and 26 as its own identification information is present in the SSMB received from those nodes.
      <br/>
      Each node is also able to determine the length of the synchronization reference chain and as such is able to determine whether the quality of timing has deteriorated beyond the point that it should be used.
      <br/>
      For example if a chain length of five were to be considered unacceptable, then the timing from the sixth node 26 could indicate in its SSMB a quality of "do not use".
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>A synchronous digital hierarchy (SDH) network, comprising: a plurality of nodes interconnected by bi-directional links, an external clock signal being present at an input of one of said nodes, said nodes being arranged to pass the clock signal from node to node for synchronization, each node including means for stamping the clock signal passing through the respective node with data identifying that node as part of a means for preventing the occurrence of closed timing loops.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The SDH network according to claim 1, in which each node includes means for replacing any node identifying data from preceding nodes through which the clock signal has passed.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The SDH network according to claim 2, in which each node includes means for reading the identity of the node from which an incoming clock signal has arrived and for transmitting, in the event that the clock signal is to be returned to that same node, a signal indicative that the clock signal is not to be used for synchronization.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The SDH network according to claim 3, in which the synchronization status indication (SSMB) is adapted to carry a signal indicative that the clock signal is not to be used.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The SDH network according to claim 4, in which the SSMB has an S1 byte adapted to carry the signal.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The SDH network according to claim 1, in which each node includes means for adding node identifying data to a list transmitted along with the clock signal, said list identifying a plurality of preceding nodes through which the clock signal has passed and means for preventing, in the event that the list contains data identifying the respective node, use by the respective node of the clock signal for synchronization.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The SDH network according to claim 6, in which each node includes means for counting the number of nodes through which the clock signal has passed and for preventing, in the event that the number exceeds a predetermined value, use by the respective node of the clock signal for synchronization.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A method of preventing the occurrence of closed timing loops within an SDH network, which network comprises a plurality of nodes interconnected by bi-directional links and which are arranged to pass an external clock signal from node to node for synchronization purposes, said method comprising the step of stamping the clock signal passing through each node with data identifying that node.</claim-text>
    </claim>
  </claims>
</questel-patent-document>