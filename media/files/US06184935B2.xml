<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06184935B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06184935</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6184935</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="21911409" extended-family-id="4691129">
      <document-id>
        <country>US</country>
        <doc-number>09180081</doc-number>
        <kind>A</kind>
        <date>19990329</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998US-09180081</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>4881581</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>18008199</doc-number>
        <kind>A</kind>
        <date>19990329</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1999US-09180081</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>4051797</doc-number>
        <kind>P</kind>
        <date>19970312</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1997US-60040517</doc-number>
      </priority-claim>
      <priority-claim kind="international" sequence="3">
        <country>WO</country>
        <doc-number>US9804757</doc-number>
        <kind>A</kind>
        <date>19980311</date>
        <priority-linkage-type>W</priority-linkage-type>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="3">
        <doc-number>1998WO-US04757</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04N   7/26        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>26</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="2">
        <text>H04N   7/32        20060101AFI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>32</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="3">
        <text>G06T   1/60        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>1</main-group>
        <subgroup>60</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="4">
        <text>G06T   3/40        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>3</main-group>
        <subgroup>40</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="5">
        <text>G06T   9/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>9</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="6">
        <text>H04N   5/44        20110101A I20110101RMEP</text>
        <ipc-version-indicator>
          <date>20110101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>44</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20110101</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="7">
        <text>H04N   5/46        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>46</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="8">
        <text>H04N   7/01        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>01</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="9">
        <text>H04N   7/015       20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>015</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="10">
        <text>H04N   7/30        20060101ALI20051220RMJP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>30</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <generating-office>
          <country>JP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051220</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="11">
        <text>H04N   7/46        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>46</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="12">
        <text>H04N   7/50        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>50</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
      <classification-ipcr sequence="13">
        <text>H04N   9/64        20060101A N20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>64</subgroup>
        <classification-value>N</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>348441000</text>
        <class>348</class>
        <subclass>441000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>348458000</text>
        <class>348</class>
        <subclass>458000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>348E05108</text>
        <class>348</class>
        <subclass>E05108</subclass>
      </further-classification>
      <further-classification sequence="3">
        <text>348E05114</text>
        <class>348</class>
        <subclass>E05114</subclass>
      </further-classification>
      <further-classification sequence="4">
        <text>348E07013</text>
        <class>348</class>
        <subclass>E07013</subclass>
      </further-classification>
      <further-classification sequence="5">
        <text>348E07016</text>
        <class>348</class>
        <subclass>E07016</subclass>
      </further-classification>
      <further-classification sequence="6">
        <text>375240160</text>
        <class>375</class>
        <subclass>240160</subclass>
      </further-classification>
      <further-classification sequence="7">
        <text>375E07027</text>
        <class>375</class>
        <subclass>E07027</subclass>
      </further-classification>
      <further-classification sequence="8">
        <text>375E07094</text>
        <class>375</class>
        <subclass>E07094</subclass>
      </further-classification>
      <further-classification sequence="9">
        <text>375E07099</text>
        <class>375</class>
        <subclass>E07099</subclass>
      </further-classification>
      <further-classification sequence="10">
        <text>375E07113</text>
        <class>375</class>
        <subclass>E07113</subclass>
      </further-classification>
      <further-classification sequence="11">
        <text>375E07145</text>
        <class>375</class>
        <subclass>E07145</subclass>
      </further-classification>
      <further-classification sequence="12">
        <text>375E07166</text>
        <class>375</class>
        <subclass>E07166</subclass>
      </further-classification>
      <further-classification sequence="13">
        <text>375E07172</text>
        <class>375</class>
        <subclass>E07172</subclass>
      </further-classification>
      <further-classification sequence="14">
        <text>375E07177</text>
        <class>375</class>
        <subclass>E07177</subclass>
      </further-classification>
      <further-classification sequence="15">
        <text>375E07190</text>
        <class>375</class>
        <subclass>E07190</subclass>
      </further-classification>
      <further-classification sequence="16">
        <text>375E07193</text>
        <class>375</class>
        <subclass>E07193</subclass>
      </further-classification>
      <further-classification sequence="17">
        <text>375E07194</text>
        <class>375</class>
        <subclass>E07194</subclass>
      </further-classification>
      <further-classification sequence="18">
        <text>375E07211</text>
        <class>375</class>
        <subclass>E07211</subclass>
      </further-classification>
      <further-classification sequence="19">
        <text>375E07252</text>
        <class>375</class>
        <subclass>E07252</subclass>
      </further-classification>
    </classification-national>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-009/64</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>9</main-group>
        <subgroup>64</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="2">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06T-001/60</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>1</main-group>
        <subgroup>60</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="3">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06T-003/4023</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>3</main-group>
        <subgroup>4023</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="4">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>G06T-003/4084</classification-symbol>
        <section>G</section>
        <class>06</class>
        <subclass>T</subclass>
        <main-group>3</main-group>
        <subgroup>4084</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="5">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/4401</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>4401</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="6">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-005/46</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>5</main-group>
        <subgroup>46</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="7">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-007/0122</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>0122</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="8">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-007/0125</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>0125</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="9">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-007/014</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>014</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="10">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-007/015</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>7</main-group>
        <subgroup>015</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130730</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="11">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/132</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>132</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="12">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/162</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>162</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="13">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/18</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>18</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="14">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/186</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>186</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="15">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/30</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>30</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>A</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="16">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/423</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>423</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="17">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/428</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>428</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="18">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/44</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>44</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="19">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/523</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>523</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="20">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/527</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>527</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="21">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/59</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>59</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="22">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/61</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>61</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="23">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/80</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>80</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="24">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/82</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>82</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="25">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/85</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>85</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
      <patent-classification sequence="26">
        <classification-scheme office="EP" scheme="CPC">
          <date>20141101</date>
        </classification-scheme>
        <classification-symbol>H04N-019/86</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>N</subclass>
        <main-group>19</main-group>
        <subgroup>86</subgroup>
        <symbol-position>L</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20141108</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>9</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>7</number-of-drawing-sheets>
      <number-of-figures>8</number-of-figures>
      <image-key data-format="questel">US6184935</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Upsampling filter and half-pixel generator for an HDTV downconversion system</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>PARK HAKJAE</text>
          <document-id>
            <country>US</country>
            <doc-number>5351086</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5351086</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="2">
          <text>VELTMAN MARKUS H, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5386234</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5386234</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="3">
          <text>PARK HAK-JAE</text>
          <document-id>
            <country>US</country>
            <doc-number>5386241</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5386241</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="4">
          <text>KIMURA SCOTT A</text>
          <document-id>
            <country>US</country>
            <doc-number>5469223</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5469223</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="5">
          <text>SUZUKI TERUHIKO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5481553</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5481553</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="6">
          <text>HOSONO YOSHIMASA</text>
          <document-id>
            <country>US</country>
            <doc-number>5796438</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5796438</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="examiner">
        <patcit num="7">
          <text>CANFIELD BARTH ALAN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5825424</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5825424</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>CROCHIERE RONALD ELDON, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>3997772</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US3997772</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>GABRIEL STEVEN A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4468688</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4468688</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>BENNETT PHILLIP P, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4472732</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4472732</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>KASUGA MASAO</text>
          <document-id>
            <country>US</country>
            <doc-number>4472785</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4472785</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>YAMAGUCHI HIROHISA, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4536745</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4536745</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>GABRIEL STEVEN A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4631750</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4631750</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>FLING RUSSELL T, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4652908</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4652908</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>SHIRATSUCHI SHINICHI</text>
          <document-id>
            <country>US</country>
            <doc-number>4774581</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4774581</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>YAMADA MASAHIRO, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4870661</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4870661</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>GABRIEL STEVEN A</text>
          <document-id>
            <country>US</country>
            <doc-number>4908874</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4908874</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>STEC KEVIN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5057911</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5057911</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>NG SHEAU-BAO</text>
          <document-id>
            <country>US</country>
            <doc-number>5262854</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5262854</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="20">
          <text>LUTHRA AJAY K, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5274372</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5274372</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="21">
          <text>RICHARDS JOHN W</text>
          <document-id>
            <country>US</country>
            <doc-number>5327235</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5327235</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="22">
          <text>SHIELDS JEROME D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5331346</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5331346</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="23">
          <text>IWATA EIJI, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5389923</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5389923</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="24">
          <text>YADA HIROAKI</text>
          <document-id>
            <country>US</country>
            <doc-number>5481568</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5481568</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="25">
          <text>ARBEITER JAMES H, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5483474</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5483474</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="26">
          <text>WILSON JAMES, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5489903</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5489903</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="27">
          <text>HAU CLARENCE J-Y, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5528301</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5528301</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="28">
          <text>RAN XIAONONG, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5581302</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5581302</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="29">
          <text>HAU CLARENCE J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5613084</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5613084</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="30">
          <text>KIM HEE-YONG</text>
          <document-id>
            <country>US</country>
            <doc-number>5737019</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5737019</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="31">
          <text>HITACHI LTD</text>
          <document-id>
            <country>EP</country>
            <doc-number>0707426</doc-number>
            <kind>A2</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>EP-707426</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>Jill Boyce, John Henderson and Larry Pearlstein, "SDTV Receivers With HDTV Decoding Capability," ACATS Technical Subgroup Meeting, May 18, 1995, Washington, D.C., (18 pp).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="2">
          <text>K. Blair Benson, revised by Jerry Whitaker, "Television Engineering Handbook," (Revised copyright 1992, 1986 by McGraw-Hill, Inc., (7 pp.).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="3">
          <text>Jill Boyce and Larry Pearlstein "Low-Cost All Format ATV Decoding With Improved Quality" 30th Advanced Motion Imaging Conference, Paper #11, Feb. 2, 1996 (7 pp.).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="4">
          <text>Jack S. Fuhrer, "The All Format Decoder", Hitachi America, Ltd., Jun. 3, 1996.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="5">
          <text>"Recommended Practices For Video Encoding Using The ATSC Digital Television Standard-Consideration of Downsampling Decoders", Jun. 3, 1996 (6 pp.).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="6">
          <text>Larry Pearlstein "Discussion On Recommended Practices For North American ATV Coding", Hitachi America Ltd., Presented to SMPTE WG TVCM, Mar. 8, 1996 (8 pp.).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="7">
          <text>Data Sheet "GP9101 High Performance Multirate Digital Filter", Gennum Corporation, Jan. 1994 (21 pp.).</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="8">
          <text>Marco Winzker, Peter Pirsch, Jochen Reimers, "Architecture And Memory Requirements For Stand Alone Hierarchial MPEG2 HDTV-Decoders With Synchronous DRAMS", pp. 609-612, IEEE, Apr. 30, 1995.</text>
        </nplcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="9">
          <text>International Search Report, Jun. 23, 1998.</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <related-publication>
        <document-id>
          <country>US</country>
          <doc-number>60/040,517</doc-number>
          <date>19970312</date>
        </document-id>
        <document-id>
          <country>US</country>
          <doc-number>60/040517</doc-number>
          <date>19970312</date>
        </document-id>
      </related-publication>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Matsushita Electric Industrial, Co. Ltd.</orgname>
            <address>
              <address-1>Osaka, JP</address-1>
              <city>Osaka</city>
              <country>JP</country>
            </address>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>PANASONIC</orgname>
          </addressbook>
          <nationality>
            <country>JP</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Iaquinto, Michael</name>
            <address>
              <address-1>Horsham, PA, US</address-1>
              <city>Horsham</city>
              <state>PA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Kim, Hee-Yong</name>
            <address>
              <address-1>Plainsboro, NJ, US</address-1>
              <city>Plainsboro</city>
              <state>NJ</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="3">
          <addressbook lang="en">
            <name>Meyer, Edwin Robert</name>
            <address>
              <address-1>Bensalem, PA, US</address-1>
              <city>Bensalem</city>
              <state>PA</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="4">
          <addressbook lang="en">
            <name>Egawa, Ren</name>
            <address>
              <address-1>Princeton, NJ, US</address-1>
              <city>Princeton</city>
              <state>NJ</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Ratner &amp; Prestia</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Kostak, Victor R.</name>
      </primary-examiner>
    </examiners>
    <pct-or-regional-filing-data>
      <document-id>
        <country>WO</country>
        <doc-number>US9804757</doc-number>
        <date>19980311</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1998WO-US04757</doc-number>
      </document-id>
    </pct-or-regional-filing-data>
    <pct-or-regional-publishing-data>
      <document-id>
        <country>WO</country>
        <doc-number>9841029</doc-number>
        <kind>A1</kind>
        <date>19980917</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>WO9841029</doc-number>
      </document-id>
    </pct-or-regional-publishing-data>
    <lgst-data>
      <lgst-status>LAPSED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      A video down conversion system compliant with the Advanced Television Systems Standard (ATSC) includes a decoder which decodes a Main Profile, High Level (MP@HL) image and employs a downconversion processor to produce a standard definition video signal.
      <br/>
      The system stores a subsampled image in order to reduce memory requirements and employs an upsampling filter to generate reference image data from the stored. subsampled image.
      <br/>
      The reference image data spatially correspond to the image data produced by the video decoder before it is subsampled.
      <br/>
      The upsampling filter uses different filter coefficients based on the subsampling phase of the stored image and the half-pixel indicator in the motion vector which is used to locate the downsampled reference image data in the stored subsampled image.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">This patent application claims the benefit of U.S. Provisional Application No. 60/040,517 filed Mar. 12, 1997.</p>
    <p num="2">The entire disclosure of U.S. Provisional Application No. 60/040,517 is expressly incorporated herein by reference.</p>
    <heading>FIELD OF THE INVENTION</heading>
    <p num="3">This invention relates to a decoder for receiving, decoding and conversion of frequency domain encoded signals, e.g. MPEG-2 encoded video signals, into standard output video signals, and more specifically to an upsampling and half-pixel generator of a decoder which converts an encoded high resolution video signal to a decoded lower resolution output video signal.</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="4">
      In the United States a standard, the Advanced Television System Committee (ATSC) standard defines digital encoding of high definition television (HDTV) signals.
      <br/>
      A portion of this standard is essentially the same as the MPEG-2 standard, proposed by the Moving Picture Experts Group (MPEG) of the International Organization for Standardization (ISO).
      <br/>
      The standard is described in an International Standard (IS) publication entitled, "Information Technology--Generic Coding of Moving Pictures and Associated Audio, Recommendation H.626", ISO/IEC 13818-2, IS, 11/94 which is available from the ISO and which is hereby incorporated by reference for its teaching on the MPEG-2 digital video coding standard.
    </p>
    <p num="5">
      The MPEG-2 standard is actually several different standards.
      <br/>
      In MPEG-2 several different profiles are defined, each corresponding to a different level of complexity of the encoded image.
      <br/>
      For each profile, different levels are defined, each level corresponding to a different image resolution.
      <br/>
      One of the MPEG-2 standards, known as Main Profile, Main Level is intended for coding video signals conforming to existing television standards (i.e., NTSC and PAL).
      <br/>
      Another standard, known as Main Profile, High Level is intended for coding high-definition television images.
      <br/>
      Images encoded according to the Main Profile, High Level standard may have as many as 1,152 active lines per image frame and 1,920 pixels per line.
    </p>
    <p num="6">
      The Main Profile, Main Level standard, on the other hand, defines a maximum picture size of 720 pixels per line and 567 lines per frame.
      <br/>
      At a frame rate of 30 frames per second, signals encoded according to this standard have a data rate of 720*567*30 or 12,247,200 pixels per second.
      <br/>
      By contrast, images encoded according to the Main Profile, High Level standard have a maximum data rate of 1,152*1,920*30 or 66,355,200 pixels per second.
      <br/>
      This data rate is more than five times the data rate of image data encoded according to the Main Profile Main Level standard.
      <br/>
      The standard for HDTV encoding in the United States is a subset of this standard, having as many as 1,080 lines per frame, 1,920 pixels per line and a maximum frame rate, for this frame size, of 30 frames per second.
      <br/>
      The maximum data rate for this standard is still far greater than the maximum data rate for the Main Profile, Main Level standard.
    </p>
    <p num="7">
      The MPEG-2 standard defines a complex syntax which contains a mixture of data and control information.
      <br/>
      Some of this control information is used to enable signals having several different formats to be covered by the standard.
      <br/>
      These formats define images having differing numbers of picture elements (pixels) per line, differing numbers of lines per frame or field and differing numbers of frames or fields per second.
      <br/>
      In addition, the basic syntax of the MPEG-2 Main Profile defines the compressed MPEG-2 bit stream representing a sequence of images in five layers, the sequence layer, the group of pictures layer, the picture layer, the slice layer, and the macroblock layer.
      <br/>
      Each of these layers is introduced with control information.
      <br/>
      Finally, other control information, also known as side information, (e.g. frame type, macroblock pattern, image motion vectors, coefficient zig-zag patterns and dequantization information) are interspersed throughout the coded bit stream.
    </p>
    <p num="8">
      Format conversion of encoded high resolution Main Profile, High Level pictures to lower resolution Main Profile, High Level pictures; Main Profile, Main Level pictures, or other lower resolution picture formats, has gained increased importance for a) providing a single decoder for use with multiple existing video formats, b) providing an interface between Main Profile, high level signals and personal computer monitors or existing consumer television receivers, and c) reducing implementation costs of HDTV.
      <br/>
      For example, conversion allows replacement of expensive high definition monitors used with Main Profile, High Level encoded pictures with inexpensive existing monitors which have a lower picture resolution to support, for example, Main Profile, Main Level encoded pictures, such as NTSC or 525 progressive monitors.
      <br/>
      One aspect, down conversion, converts a high definition input picture into lower resolution picture for display on the lower resolution monitor.
    </p>
    <p num="9">
      To effectively receive the digital images, a decoder should process the video signal information rapidly.
      <br/>
      To be optimally effective, the decoding systems should be relatively inexpensive and yet have sufficient power to decode these digital signals in real time.
      <br/>
      Consequently, a decoder which supports conversion into multiple low resolution formats must minimize processor memory.
    </p>
    <p num="10">
      The MPEG-2 Main Profile standard defines a sequence of images in five levels: the sequence level, the group of pictures level, the picture level, the slice level, and the macroblock level.
      <br/>
      Each of these levels may be considered to be a record in a data stream, with the later-listed levels occurring as nested sub-levels in the earlier listed levels.
      <br/>
      The records for each level include a header section which contains data that is used in decoding its sub-records.
    </p>
    <p num="11">Each macroblock of the encoded HDTV signal contains six blocks and each block contains data representing 64 respective coefficient values of a discrete cosine transform (DCT) representation of 64 picture elements (pixels) in the HDTV image.</p>
    <p num="12">
      In the encoding process, the pixel data may be subject to motion compensated differential coding prior to the discrete cosine transformation and the blocks of transformed coefficients are further encoded by applying run-length and variable length encoding techniques.
      <br/>
      A decoder which recovers the image sequence from the data stream reverses the encoding process.
      <br/>
      This decoder employs an entropy decoder (e.g. a variable length decoder), an inverse discrete cosine transform processor, a motion compensation processor, and an interpolation filter.
    </p>
    <p num="13">
      FIG. 1 is a high level block diagram of a typical video decoding system of the prior art which processes an MPEG-2 encoded picture.
      <br/>
      The general methods used to decode an MPEG-2 encoded picture, without subsequent processing, downconversion or format conversion, are specified by the MPEG-2 standard.
      <br/>
      The video decoding system includes an entropy decoder (ED) 110, which may include variable length decoder (VLD) 210 and run length decoder 212.
      <br/>
      The system also includes an inverse quantizer 214, and inverse discrete cosine transform (IDCT) processor 218.
      <br/>
      A controller 207 controls the various components of the decoding system responsive to the control information retrieved from the input bit stream by the ED 110.
      <br/>
      For processing of prediction images, the system further includes a memory 199 having reference frame memory 222, summing network 230, and motion compensation processor 206a which may have a motion vector processor 221 and half-pixel generator 228.
    </p>
    <p num="14">
      The ED 110 receives the encoded video image signal, and reverses the encoding process to produce macroblocks of quantized frequency-domain (DCT) coefficient values and control information including motion vectors describing the relative displacement of a matching marcoblock in a previously decoded image which corresponds to a macroblock of the predicted picture that is currently being decoded.
      <br/>
      The Inverse Quantizer 214 receives the quantized DCT transform coefficients and reconstructs the quantized DCT coefficients for a particular macroblock.
      <br/>
      The quantization matrix to be used for a particular block is received from the ED 110.
    </p>
    <p num="15">The IDCT processor 218 transforms the reconstructed DCT coefficients to pixel values in the spatial domain (for each block of 8 * 8 matrix values representing luminance or chrominance components of the macroblock, and for each block of 8 * 8 matrix values representing the differential luminance or differential chrominance components of the predicted macroblock).</p>
    <p num="16">
      If the current macroblock is not predictively encoded, then the output matrix values provided by the IDCT processor 218 are the pixel values of the corresponding macroblock of the current video image.
      <br/>
      If the macroblock is interframe encoded, the corresponding macroblock of the previous video picture frame is stored in memory 199 for use by the motion compensation processor 206.
      <br/>
      The motion compensation processor 206 receives a previously decoded macroblock from memory 199 responsive to the motion vector, and then adds the previous macroblock to the current IDCT macroblock (corresponding to a residual component of the present predictively encoded frame) in summing network 230 to produce the corresponding macroblock of pixels for the current video image, which is then stored into the reference frame memory 222 of memory 199.
    </p>
    <heading>SUMMARY OF THE INVENTION</heading>
    <p num="17">
      The present invention is embodied in an upsampling filter for a digital video signal down conversion system.
      <br/>
      The downconversion system decodes a digitally encoded video signal representing a video image and decimates the decoded signal to produce a subsampled image signal.
      <br/>
      This subsampled signal is stored for use in decoding a subsequently received encoded image signal which is encoded as differential pixel values relative to the earlier decoded image.
      <br/>
      When a subsequent image signal representing differential pixel values is received and decoded, segments of the stored image are retrieved and upsampled, using a filter according to the present invention, to produce decoded image pixel values which may be combined with the decoded differential pixel values to produce a decoded image signal.
      <br/>
      The upsampling filter according to the present invention includes an upsampling filter having programmable coefficient values and a plurality of filter coefficient sets, each coefficient set corresponding to a distinct subsampling phase.
      <br/>
      The filter also includes circuitry which receives a motion vector from the encoded image signal, processes the received motion vector to locate the desired segment in the stored image and determines the subsampling phase of the desired segment.
      <br/>
      In response to this determination, the circuitry retrieves the desired segment from the identified location in the stored image data, programs the filter with the appropriate filter coefficient set and filters the retrieved segment to provide reference image data which matches the decoded differential image data.
    </p>
    <p num="18">According to another aspect of the invention, the motion vectors in the encoded video signal define the location of the desired segment with a resolution of one-half of one pixel position and the plurality of coefficient sets includes a number 2N coefficient sets, where N is the decimation factor applied to the decoded image to produce the subsampled image.</p>
    <p num="19">According to another aspect of the invention, the motion vectors in the encoded video signal define the location of the desired segment with a resolution on one-half of one pixel position, the plurality of coefficient sets include a number N coefficient sets, where N is the decimation factor applied to the decoded image to produce the subsampled image, and the filter further include a linear interpolator which averages adjacent pixels in the filtered desired segment to produce output pixel values which are displaced by one-half pixel position from the pixel values of the filtered desired segment.</p>
    <p num="20">According to another aspect of the invention, the filter is programmable to decimate the decoded video image by one of a plurality of decimation factors and includes multiple groups of coefficient sets, each group corresponding to one of the plurality of decimation factors.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="21">
      These and other features and advantages of the present invention will become apparent from the following detailed description, taken in conjunction with the accompanying drawings, wherein:
      <br/>
      FIG. 1 is a high level block diagram of a video decoder of the prior art.
      <br/>
      FIG. 2 is a high level block diagram of the down conversion system as employed by an exemplary embodiment of the present invention.
      <br/>
      FIG. 3A is a macroblock diagram which shows the input and decimated output pixels for 4:2:0 video signal using 3:1 decimation.
      <br/>
      FIG. 3B is a pixel block diagram which shows the input and decimated output pixels for 4:2:0 video signal using 2:1 decimation.
      <br/>
      FIG. 4A is a pixel chart which illustrates subpixel positions and corresponding predicted pixels for the 3:1 and 2:1 exemplary embodiments of the present invention.
      <br/>
      FIG. 4B is a flow-chart diagram which shows the upsampling process which is performed for each row of an input macroblock for an exemplary embodiment of the present invention.
      <br/>
      FIG. 5 is a pixel chart which illustrates the multiplication pairs for the first and second output pixel values of an exemplary embodiment of a block mirror filter.
      <br/>
      FIG. 6 is a block diagram which illustrates an exemplary implementation of the filter for down-conversion for a two-dimensional system processing the horizontal and vertical components implemented as cascaded one-dimensional IDCTs.
    </p>
    <heading>DETAILED DESCRIPTION</heading>
    <p num="22">The exemplary embodiments of the invention decode conventional HDTV signals which have been encoded according to the MPEG-2 standard and in particular, the Main Profile High Level (MP@HL) and the Main Profile Main Level (MP@ML) MPEG-2 standards, and provides the decoded signals as video signals having a lower resolution than that of the received HDTV signals having a selected one of multiple formats.</p>
    <p num="23">Downconversion Decoder</p>
    <p num="24">
      FIG. 2 is a high level block diagram of the down conversion system including one exemplary embodiment of the present invention employing such a DCT filtering operation, and which may be employed by an exemplary embodiment of the present invention.
      <br/>
      As shown in FIG. 2, the down conversion system includes a variable length decoder (VLD) 210, a run-length (R/L) decoder 212, an inverse quantizer 214, and inverse discrete cosine transform (IDCT) processor 218.
      <br/>
      In addition, the down conversion system includes a down conversion filter 216 for filtering of encoded pictures and a down sampling processor 232.
      <br/>
      While the following describes the exemplary embodiment for a MP@HL encoded input, the present invention may be practiced with any similarly encoded high-resolution image bit stream.
    </p>
    <p num="25">
      The upsampling filter and half-pixel generator employed by the down conversion system in accordance with the present invention includes an up-sampling processor 226, half-pixel generator 228, and employs a reference frame memory 222.
      <br/>
      The downconversion system also includes a motion compensation processor 206 including a motion vector MV) translator 220 and a motion block generator 224
    </p>
    <p num="26">The system of FIG. 2 also includes a display conversion block 280 having a vertical programmable filter (VPF) 282 and horizontal programmable filter (HZPF) 284. The display conversion block 280 converts downsampled images into images for display on a particular display device having a lower resolution that the original image.</p>
    <p num="27">
      The down conversion filter 216 performs a low-pass filtering of the high resolution (e.g. Main Profile, High Level DCT) coefficients in the frequency domain.
      <br/>
      The down sampling process 232 eliminates spatial pixels by decimation of the filtered Main Profile, High Level picture to produce a set of pixel values which can be displayed on a monitor having lower resolution than that required to display a MP@HL picture.
      <br/>
      The exemplary reference frame memory 222 stores the spatial pixel values corresponding to at least one previously decoded reference frame having a resolution corresponding to the down-sampled picture.
      <br/>
      For interframe encoding, the MV translator 220 scales the motion vectors for each block of the received picture consistent with the reduction in resolution, and the High Resolution motion block generator 224 receives the low resolution motion blocks provided by the reference frame memory 222, upsamples these motion blocks and performs half-pixel interpolation as needed to provide motion blocks which have pixel positions that correspond to the decoded and filtered differential pixel blocks.
    </p>
    <p num="28">Note that in the down conversion system of FIG. 2 the downsampled images are stored rather than high definition images, resulting in a considerable reduction of memory required for storing reference images.</p>
    <p num="29">
      The operation of an exemplary down-conversion system of the present invention for intra-frame encoding is now described.
      <br/>
      The MP@HL bit-stream is received and decoded by VLD 210.
      <br/>
      In addition to header information used by the HDTV system, the VLD 210 provides DCT coefficients for each block and macroblock, and motion vector information.
      <br/>
      The DCT coefficients are run length decoded in the R/L decoder 212 and inverse quantized by the inverse quantizer 214.
    </p>
    <p num="30">
      Since the received video image represented by the DCT coefficients is a high resolution picture, the exemplary embodiment of the present invention employs low-pass filtering of the DCT coefficients of each block before decimation of the high resolution video image.
      <br/>
      The inverse quantizer 214 provides the DCT coefficients to the DCT filter 216 which performs a low-pass filtering in the frequency domain by weighting the DCT coefficients with predetermined filter coefficient values before providing them to the IDCT processor 218.
      <br/>
      For one exemplary embodiment of the present invention, this filter operation is performed on a block by block basis.
    </p>
    <p num="31">
      The IDCT processor 218 provides spatial pixel sample values by performing an inverse discrete cosine transform of the filtered DCT coefficients.
      <br/>
      The down sampling processor 232 reduces the picture sample size by eliminating spatial pixel sample values according to a predetermined decimation ratio; therefore, storing the lower resolution picture uses a smaller frame memory compared to that which would be needed to store the higher resolution MP@HL picture.
    </p>
    <p num="32">
      The operation of an exemplary embodiment of the down-conversion system of the present invention for predicted frames of the encoding standard is now described.
      <br/>
      In this example, the current received image DCT coefficients represent the DCT coefficients of the residual components of the predicted image macroblocks.
      <br/>
      In the described exemplary embodiment, the horizontal components of the motion vectors for a predicted frame are scaled since the low resolution reference pictures of previous frames stored in memory do not have the same number of pixels as the high resolution predicted frame (MP@HL).
    </p>
    <p num="33">
      Referring to FIG. 2, the motion vectors of the MP@HL bit stream provided by the VLD 210 are provided to the MV translator 220.
      <br/>
      Each motion vector is scaled by the MV translator 220 to reference the appropriate prediction block of the reference frame of a previous image stored in reference frame memory 222.
      <br/>
      The size (number of pixel values) in the retrieved block is smaller than block provided by the IDCT processor 218; consequently, the retrieved block is upsampled to form a prediction block having the same number of pixels as the residual block provided by the IDCT processor 218 before the blocks are combined by the summing network 230.
    </p>
    <p num="34">
      The prediction block is upsampled by the up-sampling processor 226 responsive to a control signal from the MV translator 220 to generate a block corresponding to the original high resolution block of pixels, and then half pixel values are generated--if indicated by the motion vector for the up-sampled prediction block in the Half Pixel Generator 228--to ensure proper spatial alignment of the prediction block.
      <br/>
      The upsampled and aligned prediction block is added in summing network 230 to the current filtered block, which is, for this example, the reduced resolution residual component from the prediction block.
      <br/>
      All processing is done on a macroblock by macroblock basis.
      <br/>
      After the motion compensation process is complete for the current high-resolution macroblock, the reconstructed macroblock is decimated accordingly by the down sampling processor 232.
      <br/>
      This process does not reduce the resolution of the image but simply removes redundant pixels from the low resolution filtered image.
    </p>
    <p num="35">Down Sampling for Low Resolution Formats</p>
    <p num="36">
      Down sampling is accomplished by the down sampling process 232 of FIG. 2 to reduce the number of pixels in the downconverted image.
      <br/>
      FIG. 3A shows the input and decimated output pixels for a 4:2:0 signal format for 3:1 decimation.
      <br/>
      FIG. 3B shows the input and decimated output pixels for 4:2:0 chrominance type 2:1 decimation.
      <br/>
      Table 1 gives the legend identification for the Luminance and Chrominance pixels of FIG. 3A and FIG. 3B. The pixel positions before and after the down conversion of FIGS. 3A and 3B are the interlaced (3:1 decimation) and progressive (2:1 decimation) cases respectively.
    </p>
    <p num="37">
      -- TABLE 1
      <br/>
      -- Symbol                       Pixel
      <br/>
      -- +                       Luminance Before
      <br/>
      --                              Decimation
      <br/>
      --  *                       Chrominance
      <br/>
      --                              Before Decimation
      <br/>
      --  *                        Luminance After
      <br/>
      --                              decimation
      <br/>
      --  DELTA                         Chrominance After
      <br/>
      --                              Decimation
    </p>
    <p num="38">
      For down sampling of the interlaced image, which may be the conversion from a 1920 by 1080 pixel image to a 640 by 1080 pixel horizontally compressed image, two out of every three pixels are decimated on the horizontal axis.
      <br/>
      For the exemplary 3:1 decimation, there are three different macroblock types after the down conversion process.
      <br/>
      In FIG. 3A, original macroblocks were denoted by MB0, MB1, MB2.
      <br/>
      The down sampled luminance pixels in MB0 start at the first pixel in the original macroblock, but in MB1 and MB2 the down-sampled pixels start at the third and the second pixels.
      <br/>
      Also the number of down-sampled pixels in each macroblock are not the same.
      <br/>
      In MB0, there are 6 down-sampled pixels horizontally, but 5 pixels in MB1 and MB2.
      <br/>
      These three MB types are repeating, therefore Modulo 3 arithmetic is to be applied.
      <br/>
      Table 2 summarizes the number of downsampling pixels and offsets for each input macroblock MB0, MB1, MB2.
    </p>
    <p num="39">
      --                       TABLE 2
      <br/>
      --                       MB0            MB1    MB2
      <br/>
      --      No. of Down Sampled 6              5      5
      <br/>
      --      Luminance Pixels
      <br/>
      --      No. of Down Sampled 3              3      2
      <br/>
      --      Chrominance Pixels
      <br/>
      --      Offset of 1st Down 0              2      1
      <br/>
      --      Sampled
      <br/>
      --      Luminance Pixel
      <br/>
      --      Offset of 1st Down 0              1      2
      <br/>
      --      Sampled
      <br/>
      --      Chrominance Pixel
    </p>
    <p num="40">
      For downsampling of the progressive format image the luminance signal is subsampled for every second sample horizontally.
      <br/>
      For the chrominance signal, the down-sampled pixel has a spatial position that is one-half pixel below the pixel position in the original image.
    </p>
    <p num="41">Macroblock Prediction for Downconversion</p>
    <p num="42">
      For the exemplary downconversion process, since the reference frames of the previous images are down sized in the horizontal direction, the received motion vectors pointing to these frames may also be translated according to the conversion ratio.
      <br/>
      The following describes the motion translation for the luminance block in the horizontal direction.
      <br/>
      One skilled in the art could easily extend the following discussion to motion translation in the vertical direction if desired.
      <br/>
      Denoting x and y as the current macroblock address in the original image frame, Dx as the horizontal decimation factor and mvx as the half pixel horizontal motion vector of the original image frame, the address of the top left pixel of the motion block in the original image frame, denoted as XH in the half pixel unit, is given by (1):
      <br/>
      XH=2x+mvx   (1)
    </p>
    <p num="43">The pixel corresponding to the motion block starts in the down-sampled image, and has an address denoted as x* and y* may be determined using equation (2).  (Equation image '1' not included in text)</p>
    <p num="44">The division of equation (2) is an integer division with truncation.</p>
    <p num="45">
      Because the exemplary filter 216 and down sampling processor 232 only reduce the horizontal components of the image, the vertical component of the motion vector is not affected.
      <br/>
      For the chrominance data, the motion vector is one-half of a luminance motion vector in the original picture.
      <br/>
      Therefore, definitions for translating the chrominance motion vector may also use the two equations (1) and (2).
    </p>
    <p num="46">Motion prediction is done by a two step process: first, pixel accuracy motion estimation in the original image frame may be accomplished by upsampling of down-sampled image frame in the Up Sampling processor 226 of FIGS. 2A and 2B, then the half pixel Generator 228 performs a half pixel interpolation by averaging of nearest pixel values.</p>
    <p num="47">
      The reference image data is added to output data provided by the IDCT processor 218.
      <br/>
      Since the output values of the summing network 230 correspond to an image having a number of pixels consistent with a high resolution format, these values may be downsampled for display on a display having a lower resolution.
      <br/>
      Downsampling in the down sampling processor 232 is substantially equivalent to subsampling of an image frame, but adjustments may be made based upon the conversion ratio.
      <br/>
      For example, in the case of 3:1 downsampling, the number of horizontally downsampled pixels are 6 or 5 for each input macroblock, and the first downsampled pixels are not always first pixel in the input macroblock.
    </p>
    <p num="48">
      After acquiring the correct motion prediction block from the down-sampled image, upsampling is used to get the corresponding prediction block in the high resolution picture.
      <br/>
      Consequently, subpixel accuracy in motion block prediction is desirable in the down sampled picture.
      <br/>
      For example, using 3:1 decimation, it is desirable to have 1/3 (or 1/6) subpixel accuracy in motion prediction for the downconverted picture.
      <br/>
      The subpixel which is a first pixel required by the motion vector, in addition to the down-sampled motion block, is determined.
      <br/>
      Then, subsequent subpixel positions are determined using modulo arithmetic as described in the following.
      <br/>
      The subpixel positions are denoted as xs as given in equation (3):  (Equation image '2' not included in text)
    </p>
    <p num="49">where "%" represents modulo division.</p>
    <p num="50">
      For example, the ranges of xs are 0, 1, 2 for 3:1 upsampling and 0, 1 for 2:1 upsampling.
      <br/>
      FIG. 4A shows subpixel positions and corresponding 17 predicted pixels for the 3:1 and 2:1 examples, and Table 3 gives the legend for FIG. 4A.
    </p>
    <p num="51">
      -- TABLE 3
      <br/>
      -- Symbol                         Pixel
      <br/>
      --  *                          Downsampled
      <br/>
      --                                Pixel
      <br/>
      --  DELTA                           Upsampled Pixel
      <br/>
      --  (small circle)                        Prediction Pixel
      <br/>
      -- .quadrature.                       Extra Right and
      <br/>
      --                                Left Pixels for
      <br/>
      --                                Upsampling
    </p>
    <p num="52">As previously described, the upsampling filters may be upsampling polyphase filters, and Table 4 gives characteristics of these upsampling polyphase interpolation filters.</p>
    <p num="53">
      --                                TABLE 4
      <br/>
      --                                3:1         2:1
      <br/>
      --                                Upsampling  Upsampling
      <br/>
      --      Number of Polyphase Filters 3           2
      <br/>
      --      Number of Taps              3           5
      <br/>
      --      Maximum number of horizontal 9           13
      <br/>
      --      downsampled pixels
    </p>
    <p num="54">Next two tables, Table 5 and Table 6, show polyphase filter coefficients for the exemplary 3:1 and 2:1 upsampling polyphase filters.</p>
    <p num="55">
      -- TABLE 5
      <br/>
      -- 3:1 Upsampling Filter
      <br/>
      --           Phase 0          Phase 1        Phase 2
      <br/>
      -- Double    -0.1638231735591 0.0221080691070  0.3737642376078
      <br/>
      -- Precision  0.7900589359512 0.9557838617858  0.7900589359512
      <br/>
      --            0.3737642376078 0.0221080691070 -0.1638231735591
      <br/>
      -- Fixed     -0.1640625 (-42) 0.0234375 (6)   0.3750000 (96)
      <br/>
      -- Point      0.7890625 (202) 0.95703125 (244)  0.7890625 (202)
      <br/>
      -- (9 bits)   0.3750000 (96) 0.0234375 (6)  -0.1640625 (-42)
    </p>
    <p num="56">
      -- TABLE 6
      <br/>
      -- 2:1 Upsampling Filter
      <br/>
      --                       Phase 0          Phase 1
      <br/>
      --      Double Precision   0.0110396839260  -0.1433363887113
      <br/>
      --                         0.0283886402920   0.6433363887113
      <br/>
      --                         0.9211433515636   0.6433363887113
      <br/>
      --                         0.0283886402920  -0.1433363887113
      <br/>
      --                         0.0110396839260   0.0000000000000
      <br/>
      --      Fixed Point (9 bits) 0.01718750 (3)   -0.14453125 (-37)
      <br/>
      --                         0.02734375 (7)    0.64453125 (165)
      <br/>
      --                         0.92187500 (236)  0.64453125 (165)
      <br/>
      --                         0.02734375 (7)   -0.14453125 (-37)
      <br/>
      --                         0.01718750 (3)    0.00000000 (0)
    </p>
    <p num="57">
      In a fixed point representation, the numbers in parenthesis of Table 5 and Table 6 are 2's complement representations in 9 bits with the corresponding double precision numbers are on the left.
      <br/>
      Depending upon the subpixel position of the motion prediction block in the downsampled reference image frame, one corresponding phase of the polyphase interpolation filter is used.
      <br/>
      Also, for the exemplary embodiment additional pixels on the left and right are used to interpolate 17 horizontal pixels in the original image frame.
      <br/>
      For example, in the case of 3:1 decimation, a maximum of 6 horizontally downsampled pixels are produced for each input macroblock.
      <br/>
      However, when upsampling, 9 horizontal pixels are used to produce the corresponding motion prediction block values because an upsampling filter requires more left and right pixels outside of the boundary for the filter to operate.
      <br/>
      Since the exemplary embodiment employs half pixel motion estimation, 17 pixels are needed to get 16 half pixels which are the average values of nearest two pixel samples.
      <br/>
      A half pixel interpolator performs the interpolation operation which provides the block of pixels with half-pixel resolution.
      <br/>
      Table 7A illustrates an exemplary mapping between subpixel positions and polyphase filter elements, and shows a number of left pixels which are needed in addition to the pixels in the upsampled block for the upsampling process.
    </p>
    <p num="58">
      --                  TABLE 7A
      <br/>
      --                  Sub Pixel           No. of Extra Coordinate
      <br/>
      --                  Position  Polyphase Left Pixels Change
      <br/>
      -- 3:1 Upsampling   0         1         1           x* - &gt; x* -1
      <br/>
      --                  1         2         1           x* - &gt; x* -1
      <br/>
      --                  2         0         0
      <br/>
      -- 2:1 Upsampling   0         0         2           x* - &gt; x* -2
      <br/>
      --                  1         1         2           x* - &gt; x* -2
    </p>
    <p num="59">
      FIG. 4B summarizes the upsampling process which is performed for each row of an input macroblock.
      <br/>
      First, in step 310, the motion vector for the block of the input image frame being processed is received.
      <br/>
      At step 312, the motion vector is translated to correspond to the downsampled reference frame in memory.
      <br/>
      At step 314, the scaled motion vector is used to calculate the coordinates of the reference image block stored in memory 130.
      <br/>
      At step 316 the subpixel point for the block is determined and the initial polyphase filter values for upsampling are then determined at step 318.
      <br/>
      The identified pixels for the reference block of the stored downsampled reference frame are then retrieved from memory 130 at step 320.
    </p>
    <p num="60">
      Before the first pass at the filtering step 324, the registers of the filter may be initialized at step 322, which, for the exemplary embodiment includes the step of loading the registers with the initial 3 or 5 pixel values.
      <br/>
      Then, after filtering step 324, the process determines, at step 326, whether all pixels have been processed, which for the exemplary embodiment is 17 pixels.
      <br/>
      If all pixels have been processed, the upsampled block is complete.
      <br/>
      For an exemplary embodiment, a 17 by 9 pixel block is returned for the upper or lower motion block.
      <br/>
      If all pixels have not been processed, the phase is updated at step 328, and the phase is checked, for the 0 value.
      <br/>
      If the phase is zero, the registers are updated for the next set of pixel values.
      <br/>
      Updating the phase at step 328 updates the phase value to 0, 1, and 2 for the filter loop period for exemplary 3:1 upsampling and to 0, and 1 for the filter loop period for 2:1 upsampling.
      <br/>
      Where the left-most pixel is outside of a boundary of the image picture, the first pixel value in the image picture may be repeated.
    </p>
    <p num="61">
      For an exemplary embodiment, the upsample filtering operation may be implemented in accordance with the following guidelines.
      <br/>
      First, several factors may be used: 1) the half-pixel motion prediction operation averages two full pixels, and corresponding filter coefficients are also averaged to provide the half-pixel filter coefficient; 2) a fixed number of filter coefficients, five for example, which may be equivalent to the number of filter taps, may be employed regardless of the particular downconversion; 3) five parallel input ports may be provided to the upsampling block for each forward and backward, lower and upper block, with five input pixels LWR(0)-LWR(4) for each clock transition for each reference block being combined with corresponding filter coefficients to provide one output pixel, and 4) the sum of filter coefficients h(0)-h(4) combined with respective pixels LWR(0)-LWR(4) provide the output pixel of the sampling block.
    </p>
    <p num="62">
      Filter coefficients are desirably reversed because the multiplication ordering is opposite to the normal ordering of filter coefficients, and it may be desirable to zero some coefficients.
      <br/>
      Table 7B gives exemplary coefficients for the 3:1 upsampling filter, and Table 7C gives exemplary coefficients for the 2:1 upsampling filter:
    </p>
    <p num="63">
      --               TABLE 7B
      <br/>
      --               Sub-    Sub-    Sub-    Sub-    Sub-    Sub-
      <br/>
      --               pixel 0 pixel 1 pixel 2 pixel 3 pixel 4 pixel 5
      <br/>
      -- Filter Coeff. 6       -18  -42  -21 96       51
      <br/>
      --               244  223  202  149     202  223
      <br/>
      --               6       51      96      149     -42  -18
      <br/>
      --               0        0  0 -21  0  0
      <br/>
      --               0        0  0  0  0  0
      <br/>
      -- Reference     x*-1  x*-1  x*-1  x*-1  x*      x*
      <br/>
      -- Phase         01  00      10       01 00       10
      <br/>
      -- Half Pixel    0        1  0  1  0  1
    </p>
    <p num="64">
      --               TABLE 7C
      <br/>
      --               Subpixel 0 Subpixel 1  Subpixel 2 Subpixel 3
      <br/>
      -- Filter Coeff. 3         2           -37 -17
      <br/>
      --               7         -15   165       86
      <br/>
      --               236       200         165       200
      <br/>
      --               7         86          -37 -15
      <br/>
      --               3         -17   0         2
      <br/>
      -- Reference     x*-2 x*-2  x*-1 x*-1
      <br/>
      -- Phase         00        00          01        01
      <br/>
      -- Half Pixel    0         1           0         1
    </p>
    <p num="65">
      In Tables 7B and 7C, x *  is the downsampled pixel position defined in equations (1) and (2), and subpixel position, xs, is redefined from equation (3) as equation (3')
      <br/>
      xs =(XH)%(2Dx)   (3')
    </p>
    <p num="66">
      For chrominance values of the exemplary implementation, XH is scaled by two and equations (1),(2) and (3') are applied.
      <br/>
      In one embodiment, phase and half pixel information (coded as two bits and one bit, respectively) is used by motion compensation processor 220 and half-pixel generator 228 of FIG. 2B. For example, reference block pixels are provided as U pixels first, V pixels next, and finally Y pixels.
      <br/>
      U and V pixels are clocked in for 40 cycles and Y pixels are clocked in for 144 cycles.
      <br/>
      Reference blocks may be provided for 3:1 decimation by providing the first five pixels, repeating twice, shifting the data by one, and repeating until a row is finished.
      <br/>
      The same method may be used for 2:1 decimation except that it is repeated once rather than twice.
      <br/>
      Input pixels are repeated since decimation follows addition of the output from motion compensation and half-pixel generation with the residual value.
      <br/>
      Consequently, for 3:1 decimation, two of three pixels are deleted, and dummy pixels for these pixel values do not matter.
    </p>
    <p num="67">DCT Domain Filtering Employing Weighting of DCT Coefficients</p>
    <p num="68">
      The exemplary embodiment of the present invention is employed with the DCT filter 216 of FIG. 2 which processes the DCT coefficients in the frequency domain, replacing a low-pass filter operation in the spatial domain.
      <br/>
      There are several advantages in DCT domain filtering instead of spatial domain filtering for DCT coded pictures, such as contemplated by the MPEG or JPEG standards.
      <br/>
      Most notably, a DCT domain filter is computationally more efficient and requires less hardware than a spatial domain filter applied to the spatial pixel sample values.
      <br/>
      For example, a spatial filter having N taps may use as many as N additional multiplications and additions for each spatial pixel sample value.
      <br/>
      This compares to only one additional multiplication in the DCT domain filter.
    </p>
    <p num="69">
      The simplest DCT domain filter of the prior art is a truncation of the high frequency DCT coefficients.
      <br/>
      However, truncation of high frequency DCT coefficients does not result in a smooth filter and has drawbacks such as "ringing" near edges in the decoded picture.
      <br/>
      The DCT domain low-pass filter of the exemplary embodiment of the present invention is derived from a block mirror filter in the spatial domain.
      <br/>
      The filter coefficient values for the block mirror filter are, for example, optimized by numerical analysis in the spatial domain, and these values are then converted into coefficients of the DCT domain filter.
    </p>
    <p num="70">Although the exemplary embodiment shows DCT domain filtering in only the horizontal direction, DCT domain filtering can be done in either horizontal or vertical direction or both by combining horizontal and vertical filters.</p>
    <p num="71">Derivation of the DCT Domain Filter Coefficients</p>
    <p num="72">One exemplary DCT filter as employed with the present invention is derived from two constraints: first, that the filter process image data on a block by block basis for each block of the image without using information from previous blocks of a picture; and second, that the filter reduce the visibility of block boundaries which occur when the filter processes boundary pixel values.</p>
    <p num="73">
      According to the first constraint, in the DCT based compression of an MPEG image sequence, for example, N X N DCT coefficients yield N X N spatial pixel values.
      <br/>
      Consequently, the exemplary embodiment of the present invention implements a DCT domain filter which only processes a current block of the received picture.
    </p>
    <p num="74">
      According to the second constraint, if the filter is simply applied to a block of spatial frequency coefficients, there is a transition of the filtering operation at the block boundary which is caused by an insufficient number spatial pixel values beyond the boundary to fill the residual of the filter.
      <br/>
      That is to say, coefficient values at the edge of a block cannot be properly filtered because the N-tap filter has values for only N/2 taps, the remaining values are beyond the boundary of the block.
      <br/>
      Several methods of supplying the missing pixel values exist: 1) repeat a predetermined constant pixel value beyond a boundary; 2) repeat the same pixel value as the boundary pixel value; and 3) mirror the pixel values of the block to simulate previous and subsequent blocks of pixel values adjacent to the processed block.
      <br/>
      Without prior information on the contents of the previous or subsequent block, the mirroring method of repeating pixel values is considered as a preferred method.
      <br/>
      Therefore, one embodiment of the present invention employs this mirroring method for the filter and is termed a "block mirror filter."
    </p>
    <p num="75">
      The following describes an exemplary embodiment which implements a horizontal block mirror filter that low-pass filters 8 input spatial pixel sample values of a block.
      <br/>
      If the size of input block is an 8 * 8 block matrix of pixel sample values, then a horizontal filtering can be done by applying the block mirror filter to each row of 8 pixel sample values.
      <br/>
      It will be apparent to one skilled in the art that the filtering process can be implemented by applying the filter coefficients columnwise to the block matrix, or that multidimensional filtering may be accomplished by filtering the rows and then filtering the columns of the block matrix.
    </p>
    <p num="76">
      FIG. 5 shows an exemplary correspondence between the input pixel values x0 through x7 (group X0) and filter taps for an exemplary mirror filter for 8 input pixels which employs a 15 tap spatial filter represented by tap values h0 through h14.
      <br/>
      The input pixels are mirrored on the left side of group X0, shown as group X1, and on the right side of group X0, shown as group X2.
      <br/>
      The output pixel value of the filter is the sum of 15 multiplications of the filer tap coefficient values with the corresponding pixel sample values.
      <br/>
      FIG. 5 illustrates the multiplication pairs for the first and second output pixel values.
    </p>
    <p num="77">
      The following shows that the block mirror filter in the spatial domain is equivalent to DCT domain filter.
      <br/>
      The mirror filtering is related to a circular convolution with 2N points (N=8).
    </p>
    <p num="78">
      Define the vector x' as shown in equation (4).
      <br/>
      x'(n)=x(n)+x(2N-1-n); 0&lt;=n&lt;=2N-1   (4)
    </p>
    <p num="79">In the case of N=8,</p>
    <p num="80">x'=(x0, x1, x2, x3, x4, x5, x6, x7, x7, x6, x5, x4, x3, x2, x1, x0)</p>
    <p num="81">
      Rearranging the filter tap values h0 through h14, and denoting the rearranged values by h'
      <br/>
      h'=(h7, h8, h9, h10, h11, h12, h13, h14, 0, h0, h1, h2, h3, h4, h5, h6)
    </p>
    <p num="82">
      Therefore, the mirror filtered output y(n) is a circular convolution of x'(n) and h'(n) which is given by equation (5).
      <br/>
      y(n)=x'(n) +character pullout}h'(n)   (5)
    </p>
    <p num="83">
      Which is equivalent to equation (6).  (Equation image '3' not included in text)
      <br/>
      where x'n-k is a circular modulo of x'(n) and
    </p>
    <p num="84">
      - x'n=x'(n) for n&gt;=0
      <br/>
      - x'n=x'(n+2N) for n&lt;0.
    </p>
    <p num="85">
      The circular convolution in the spatial domain shown in equation (5) corresponds to the scalar multiplication in the Discrete Fourier Transform (DFT) domain.
      <br/>
      Defining Y(k) as the DFT of y(n), then equation (5) becomes equation (7) in the DFT domain.
    </p>
    <p num="86">
      Y(k)=X'(k) * H'(k)   (7)
      <br/>
      where X'(k) and H'(k) are the DFTs of x'(n) and h'(n) respectively.
    </p>
    <p num="87">
      Equations (4) through (7) are valid for a filter with a number of taps less than 2N.
      <br/>
      In addition, the filter is limited to be a symmetric filter with an odd number of taps, with these constraints H'(k) is a real number.
      <br/>
      Therefore, X'(k), the DFT of x'(n), can be weighed with a real number H'(k) in the DFT frequency-domain instead of 2N multiplication and 2N addition operations in the spatial domain to implement the filtering operation.
      <br/>
      The values of X'(k) are very closely related to the DCT coefficients of the original N-point x(n), because an N-point DCT of x(n) is obtained by the 2N-point DFT of x'(n) which is the joint sequence composed of x(n) and its minor, x(2N-1-n).
    </p>
    <p num="88">
      The following describes the derivation of the DFT coefficients of the spatial filter, H'(k), by assuming a symmetric filter having an odd number of taps, 2N-1, which is h(n)=h(2N-2-n), and equivalently h'(n)=h'(2N-n) and h'(N)=0. Define H'(k) as in equation (8).  (Equation image '4' not included in text)
      <br/>
      where W2Nkn=exp+- 2 PI kn/(2N)}; and H'(k)=H'(2N-k).
    </p>
    <p num="89">
      The inventor has determined that the 2N-point DFT of x'(n), X'(k), can be expressed by its DCT coefficients as shown in equation (9).  (Equation image '5' not included in text)
      <br/>
      whereas the DCT coefficient of x (n), C(k), is given by equation (10).  (Equation image '6' not included in text)
      <br/>
      and C(k)=0 elsewhere.
    </p>
    <p num="90">The values of X'(k), the DFT coefficients of x'(n), can be expressed by C(k), the DCT coefficients of x'(n) by the matrix of equation (11).  (Equation image '7' not included in text)</p>
    <p num="91">The original spatial pixel sample values, x(n), can be also obtained by IDCT (Inverse Discrete Cosine Transformation) shown in equation (12).  (Equation image '8' not included in text)</p>
    <p num="92">where  ALPHA (k)=1/2 for k=0 and 1 otherwise.</p>
    <p num="93">The values of y(n) for 0&lt;=n&lt;=N-1, are obtained by IDFT of X'(k)H'(k) given in (13):  (Equation image '9' not included in text)</p>
    <p num="94">
      The values y(n) of equation (13) are the spatial values of the IDCT of C(k)H'(k).
      <br/>
      Therefore, the spatial filtering can be replaced by the DCT weighting of the input frequency-domain coefficients representing the image block with H'(k) and the n performing the IDCT of the weighted values to reconstruct the filtered pixel values in the spatial domain.
    </p>
    <p num="95">One embodiment of the exemplary block mirror filtering of the present invention is derived as by the following steps: 1) a one dimensional low-pass symmetric filter is chosen with an odd number of taps, which is less than 2N taps; 2) the filter coefficients are increased to 2N values by padding with zero's; 3) the filter coefficients are rearranged so that the original middle coefficient goes to the zeroth position by a left circular shift; 4) the DFT coefficients of the rearranged filter coefficients are determined; 5) the DCT coefficients are multiplied with the real number DFT coefficients of the filter; and 6) an inverse discrete cosine transform (IDCT) of the filtered DCT coefficients is performed to provide a block of low-pass-filtered pixels prepared for decimation.</p>
    <p num="96">
      The cutoff frequency of the low-pass filter is determined by the decimation ratio.
      <br/>
      For one exemplary embodiment, the cutoff frequency is  PI /3 for a 3:1 decimation and  PI /2 for a 2:1 decimation, where  PI  corresponds to one-half of sampling frequency.
    </p>
    <p num="97">
      A DCT domain filter in MPEG and JPEG decoders allows memory requirements to be reduced because the inverse quantizer and IDCT processing of blocks already exists in the decoder of the prior art, and only the additional scalar multiplication of DCT coefficients by the DCT domain filter is required.
      <br/>
      Therefore, a separate DCT domain filter block multiplication is not physically required in a particular implementation; another embodiment of the present invention simply combines the DCT domain filter coefficients with the IDCT processing coefficients and applies the combined coefficients to the IDCT operation.
    </p>
    <p num="98">
      For the exemplary down conversion system of the present invention, the horizontal filtering and decimations of the DCT coefficients were considered; and the following are two exemplary implementations for:
      <br/>
      1. 1920 H by 1080 V interlace to 640 by 1080 interlace conversion (Horizontal 3:1 decimation).
      <br/>
      2. 1280 H by 720 V progressive to 640 by 720 progressive conversion (Horizontal 2:1 Decimation)
    </p>
    <p num="99">
      Table 8 shows the DCT block mirror filter (weighting) coefficients; in Table 8 the numbers in the parenthesis are 10 bit 2's complementary representations.
      <br/>
      The "*" of Table 8 indicates an out of bound value for the 10 bit 2's complement representation because the value is more than 1; however, as is known by one skilled in the art, the multiplication of the column coefficients of the block by the value indicated by the * can be easily implemented by adding the coefficient value to the coefficient multiplied by the fractional value (remainder) of the filter value.
    </p>
    <p num="100">
      --         TABLE 8
      <br/>
      --         3:1 Decimation          2:1 Decimation
      <br/>
      -- H0   1.000000000000000 (511)   1.0000000000000000 (511)
      <br/>
      -- H1   0.986934590759779 (505)   1.0169628157945179 (*)
      <br/>
      -- H2   0.790833583171840 (405)   1.0000000000000000 (511)
      <br/>
      -- H3   0.334720213357461 (171)   0.82247656390475166 (421)
      <br/>
      -- H4 -0.0323463361027473 (-17)   0.46728234862006007 (239)
      <br/>
      -- H5 -0.0377450036954524 (-19)   0.10634261847436199 (54)
      <br/>
      -- H6 -0.0726889747390758 (37) -0.052131780559049545 (-27)
      <br/>
      -- H7   0.00954287167337307 (5) -0.003489737967467715 (-2)
    </p>
    <p num="101">
      These horizontal DCT filter coefficients weight each column in the 8 * 8 block of DCT coefficients of the encoded video image.
      <br/>
      For example, the DCT coefficients of column zero are weighted by H0, and the DCT coefficients of the first column are weighted by H1 and so on.
    </p>
    <p num="102">
      The above description illustrates a horizontal filter implementation using one-dimensional DCTs.
      <br/>
      As is known in the digital signal processing art, such processing can be extended to two-dimensional systems.
      <br/>
      Equation (12) illustrates the IDCT for the one-dimensional case, consequently, equation (12') gives the more general two dimensional IDCT:  (Equation image '10' not included in text)   (Equation image '11' not included in text)
    </p>
    <p num="103">
      where f(x,y) is the spatial domain representation, x and y are spatial coordinates in the sample domain, and u,v are the coordinates in the transform domain.
      <br/>
      Since the coefficients C(u), C(v) are known, as are the values of the cosine terms, only the transform domain coefficients need to be provided for the processing algorithms.
    </p>
    <p num="104">
      For a two-dimensional system, the input sequence is now represented as a matrix of values, each representing the respective coordinate in the transform domain, and the matrix may be shown to have sequences periodic in the column sequence with period M, and periodic in the row sequence with period N, N and M being integers.
      <br/>
      A two-dimensional DCT can be implemented as a one dimensional DCT performed on the columns of the input sequence, and then a second one dimensional DCT performed on the rows of the DCT processed input sequence.
      <br/>
      Also, as is known in the art, a two-dimensional IDCT can be implemented as a single process.
    </p>
    <p num="105">
      FIG. 6 shows an exemplary implementation of the filter for down-conversion for a two-dimensional system processing the horizontal and vertical components implemented as cascaded one-dimensional IDCTs.
      <br/>
      As shown in FIG. 6, the DCT filter Mask 216 and IDCT 218 of FIG. 2 may be implemented by a Vertical processor 510, containing a Vertical DCT filter 530 and a Vertical IDCT 540, and a Horizontal processor 520, containing a horizontal DCT filter and horizontal IDCT which are the same as those implemented for the vertical components.
      <br/>
      Since the filtering and IDCT processes are linear, the order of implementing these processes can be rearranged (e.g, horizontal and vertical DCT filtering first and horizontal and vertical IDCTs second, or vise-versa, or Vertical processor 520 first and Horizontal processor 510 (second)).
    </p>
    <p num="106">
      In the particular implementation shown in FIG. 6, the Vertical processor 510 is followed by a block Transpose Operator 550, which switches the rows and columns of the block of vertical processed values provided by the Vertical processor.
      <br/>
      This operation may be used to increase the efficiency of computation by preparing the block for processing by the Horizontal processor 520.
    </p>
    <p num="107">
      The encoded video block, for example an 8 * 8 block of matrix values, is received by the Vertical DCT filter 530, which weights each row entry of the block by the DCT filter values corresponding to the desired vertical decimation.
      <br/>
      Next, the Vertical IDCT 540 performs the inverse DCT for the vertical components of the block.
      <br/>
      As described previously, since both processes simply perform a matrix multiplication and addition, the DCT LPF coefficients can be combined with the vertical DCT coefficients for matrix multiplications and addition operations.
      <br/>
      The Vertical processor 510 then provides the vertically processed blocks to the Transpose Operator 550, which provides the transposed block of vertically processed values to the Horizontal processor 520.
      <br/>
      The Transpose Operator 550 is not necessary unless the IDCT operation is only done by row or by column.
      <br/>
      The Horizontal processor 520 performs the weighting of each column entry of the block by the DCT filter values corresponding to the desired horizontal filtering, and then performs the inverse DCT for the horizontal components of the block.
    </p>
    <p num="108">
      As described with reference to equation (12'), only coefficients in the transform domain are provided to the processing algorithms; and the operations are linear which allows mathematical operations on these coefficients only.
      <br/>
      The operations for the IDCT, as is readily apparent from equation (12'), form a sum of products.
      <br/>
      Consequently, a hardware implementation requires known coefficients to be stored in memory, such as a ROM (not shown), and a group of multiply and add circuits (not shown) which receives these coefficients from the ROM as well as selected coefficients from the matrix of input transform coordinates.
      <br/>
      For more advanced systems, a ROM-accumulator method may be used if the order of mathematical operations is modified according to distributed arithmetic to convert from a sum of products implementation to a bit-serial implementation.
      <br/>
      Such techniques are described in, for example, Stanley A. White, Applications of Distributed Arithmetic to Digital Signal processing: A Tutorial Review, IEEE ASSP Magazine, July, 1989, which take advantage of symmetries in the computations to reduce a total gate count of the sum of products implementation.
    </p>
    <p num="109">
      In an alternative embodiment of the present invention, the DCT filter operation may be combined with the inverse DCT (IDCT) operation.
      <br/>
      For such an embodiment, since the filtering and inverse transform operations are linear, the filter coefficients may be combined with the coefficients of the IDCT to form a modified IDCT.
      <br/>
      As is known in the art, the modified IDCT, and hence the combined IDCT and DCT downconversion filtering, may be performed through a hardware implementation similar to that of the simple IDCT operation.
    </p>
    <p num="110">
      While exemplary embodiments of the invention have been shown and described herein, it will be understood that such embodiments are provided by way of example only.
      <br/>
      Numerous variations, changes, and substitutions will occur to those skilled in the art without departing from the spirit of the invention.
      <br/>
      Accordingly, it is intended that the appended claims cover all such variations as fall within the scope of the invention.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>Upsampling filter circuitry for a digital video signal down conversion system which decodes a digitally encoded video signal representing a video image and decimates the decoded signal to produce a subsampled image signal that is stored for use as reference image data in decoding a subsequently received encoded image signal that is encoded as differential picture element (pixel) values relative to the earlier decoded image, the upsampling circuitry comprising:</claim-text>
      <claim-text>a programmable filter having a plurality of filter coefficient values; a coefficient memory which holds a plurality of filter coefficient sets, each coefficient set corresponding to a distinct subsampling phase; memory access circuitry which receives a motion vector from the encoded image signal, processes the received motion vector to locate a desired segment from the stored subsampled image signal;</claim-text>
      <claim-text>and control circuitry which determines the subsampling phase of the desired segment from location information provided by the memory access circuitry and programs the programmable filter with the coefficient set that corresponds to the determined subsampling phase; wherein the programmable filter filters the retrieved desired segment to provide reference image data which corresponds to the decoded differential image data in image pixel position.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. Upsampling filter circuitry according to claim 1, wherein: the motion vectors in the encoded video signal define the location of the desired segment with a resolution of one-half of one pixel position; the plurality of coefficient sets includes a number 2N coefficient sets, where N is the decimation factor applied to the decoded image to produce the subsampled image, each coefficient set corresponding to a distinct combination of subsampling phase and half pixel position; the control circuitry determines the subsampling phase of the desired segment from the location information provided by the memory access circuitry and the half pixel position from the motion vector and programs the programmable filter with the coefficient set that corresponds to the determined sampling phase and half pixel position.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. Upsampling filter circuitry according to claim 1, wherein: the motion vectors in the encoded video signal define the location of the desired segment with a resolution of one-half of one pixel position;</claim-text>
      <claim-text>and the filter further include a linear interpolator, responsive to the motion vector, which selectively averages adjacent pixels in the filtered desired segment to produce output pixel values which are displaced by one-half pixel position from the pixel values of the filtered desired segment.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. Upsampling filter circuitry according to claim 1, wherein the video signal downconversion system is configured to decimate the decoded video signal by one of a plurality of decimation factors and wherein: the filter is programmable to decimate the decoded video image by one of a plurality of decimation factors; the coefficient memory holds multiple groups of coefficient sets, each group corresponding to one of the plurality of decimation factors; and the control circuitry is responsive to the decimation factor and the location information provided by the memory access circuitry to program the programmable filter with the coefficient set that corresponds to the decimation factor and determined sampling phase.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. Upsampling filter circuitry according to claim 4, wherein the decimated video signal is decimated only in the horizontal direction and the programmable filter is a one-dimensional finite impulse response (FIR) filter.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. Upsampling filter circuitry for a digital video signal down conversion system which decodes a digitally encoded video signal representing a video image and decimates the decoded signal to produce a subsampled image signal that is stored for use as reference image data in decoding a subsequently received encoded image signal that is encoded as differential picture element (pixel) values relative to the earlier decoded image, the upsampling circuitry comprising: a programmable filter having a plurality of filter coefficient values; memory access circuitry which receives a motion vector, that defines the location of the desired segment with a resolution of one-half of one pixel position, from the encoded image signal, processes the received motion vector to locate a desired segment in the stored image, retrieves the desired segment from the stored subsampled image signal; a coefficient memory which holds a plurality of filter coefficient sets, each coefficient set corresponding to a distinct combination of subsampling phase and half-pixel position;</claim-text>
      <claim-text>and control circuitry which determines the subsampling phase of the desired segment from location information provided by the memory access circuitry and programs the programmable filter with the coefficient set that corresponds to the determined subsampling phase; wherein the programmable filter filters the retrieved desired segment to provide reference image data which corresponds to the decoded differential image data in image pixel position.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. Upsampling filter circuitry according to claim 5, wherein the video signal downconversion system is configured to decimate the decoded video signal by one of a plurality of decimation factors: the filter is programmable to upsample the decoded video image by one of a plurality of upsampling factors, each upsampling factor corresponding to one of the decimation factors; the coefficient memory holds multiple-groups of coefficient sets, each group corresponding to one of the plurality of decimation factors; and the control circuitry is responsive to the decimation factor and the location information provided by the memory access circuitry to program the programmable filter with the coefficient set that corresponds to the decimation factor and determined sampling phase.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. A method for upsampling data representative of a stored, subsampled digital image for use in a digital video signal down conversion system which decodes a digitally encoded video signal representing a video image and decimates the decoded signal to produce the stored subsampled image, wherein the subsampled image is stored for use as reference image data in decoding a subsequently received encoded image signal which is encoded as differential picture element (pixel) values relative to the earlier decoded image before the decoded image was subsampled, the upsampling method comprising the steps of: receiving a motion vector from the encoded image signal; processing the received motion vector to locate a desired segment in the stored image, retrieving the desired segment from the stored subsampled image signal;</claim-text>
      <claim-text>and determining, from the location of the desired segment, a subsampling phase of the desired segment; selecting, responsive to the determined subsampling phase of the desired segment, one set of coefficients from a plurality of coefficient sets, which one set of coefficients is to be used to filter the retrieved segment;</claim-text>
      <claim-text>and filtering the retrieved desired segment using the selected set of coefficients to produce reference image data which corresponds to the decoded differential image data in image pixel position.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. A method for upsampling according to claim 7, wherein: the motion vector defines the location of the desired image segment to one-half pixel resolution;</claim-text>
      <claim-text>and the selecting step selects a pair of coefficient sets responsive to the subsampling phase, representing the subsampling phase and the subsampling phase shifted by one-half pixel position;</claim-text>
      <claim-text>and the method further comprises the step of:</claim-text>
      <claim-text>- identifying, responsive to the motion vector, one coefficient set of the pair of coefficient sets which is to be used by the filtering step to produce the reference image data.</claim-text>
    </claim>
  </claims>
</questel-patent-document>