<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06181798B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06181798</doc-number>
        <kind>B2</kind>
        <date>20010130</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6181798</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="26309107" extended-family-id="17755778">
      <document-id>
        <country>US</country>
        <doc-number>08826647</doc-number>
        <kind>A</kind>
        <date>19970404</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>1997US-08826647</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>18213112</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>82664797</doc-number>
        <kind>A</kind>
        <date>19970404</date>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>1997US-08826647</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>GB</country>
        <doc-number>9607572</doc-number>
        <kind>A</kind>
        <date>19960412</date>
        <priority-linkage-type>T</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1996GB-0007572</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010130</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04H  60/04        20080101A I20080823RMEP</text>
        <ipc-version-indicator>
          <date>20080101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>H</subclass>
        <main-group>60</main-group>
        <subgroup>04</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20080823</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>381119000</text>
        <class>381</class>
        <subclass>119000</subclass>
      </main-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04H-060/04</text>
        <section>H</section>
        <class>04</class>
        <subclass>H</subclass>
        <main-group>60</main-group>
        <subgroup>04</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04H-060/04</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>H</subclass>
        <main-group>60</main-group>
        <subgroup>04</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>4</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>3</number-of-drawing-sheets>
      <number-of-figures>4</number-of-figures>
      <image-key data-format="questel">US6181798</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Audio signal fader control system and method therefor</invention-title>
    <references-cited>
      <citation srep-phase="examiner">
        <patcit num="1">
          <text>SUZUKI TAKASHI</text>
          <document-id>
            <country>US</country>
            <doc-number>5054077</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5054077</doc-number>
          </document-id>
        </patcit>
      </citation>
    </references-cited>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>Tektronix, Inc.</orgname>
            <address>
              <address-1>Beaverton, OR, US</address-1>
              <city>Beaverton</city>
              <state>OR</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>TEKTRONIX</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Steers, Hugh</name>
            <address>
              <address-1>London, GB</address-1>
              <city>London</city>
              <country>GB</country>
            </address>
          </addressbook>
          <nationality>
            <country>GB</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <name>Gray, Francis I.</name>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Harvey, Minsun Oh</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      An audio signal fader control system has a control console including a motorized fader control.
      <br/>
      Signals from the console are transmitted over a transmission path to a host computer system.
      <br/>
      The control console and host computer system incorporate timing means such that when the audio signal is played back, the fader control is moved ahead of time by a predetermined amount so that inertia delay in the fader control and transmission path delays are overcome.
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <heading>CROSS-REFERENCE TO RELATED APPLICATION</heading>
    <p num="1">Not applicable</p>
    <heading>STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT</heading>
    <p num="2">Not applicable</p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="3">This invention relates to an audio signal fader control system and an operating method therefor.</p>
    <p num="4">
      Audio signal mixing is conventionally performed using an audio mixing desk which may have analog audio mixers or be digitally operated.
      <br/>
      In an analog audio mixer the audio signal is modified between input and output of the mixer by an editor applying gain and attenuation to the audio signal using slider fader controls.
    </p>
    <p num="5">In a digital system, the signal is processed with a digital signal processor (DSP) and values for gain and attenuation from fader controls are generated using an analog to digital converter (ADC) which communicates with the DSP.</p>
    <p num="6">
      The values generated by either the analog or the digital system are usually stored and later played back.
      <br/>
      If a digital system is used then digital position values are converted back to a voltage using a digital to analog converter (DAC), which voltage is used to drive a motorized fader control.
    </p>
    <p num="7">
      The process of driving a motorized fader control from stored or computed audio level control values is called "dynamic automation".
      <br/>
      When playing back the stored audio, the editor may modify the audio signal by revising the motorized fader control position.
      <br/>
      In this respect it is usual for the motorized fader control to have the motor drive disabled when the control is touched by an editor so as to avoid the motor being burned out.
      <br/>
      When the editor modifies the fader control position to modify the audio during playback mode, the new fader position is stored.
    </p>
    <p num="8">A discussion of digital audio and digital fader controls can be found in "The Art of Digital Audio", 2nd Edition by John Watkinson at Section 2.8, page 48, published by Focal Press, ISBN 0-240-51320-7.</p>
    <p num="9">
      A problem with motorized fader controls is that they have inertia and that it takes a period of time for the fader to arrive at a new desired position.
      <br/>
      Furthermore, the fader control is usually located in a control console which is connected over a network to a host computer system.
      <br/>
      The network introduces communication delays which again lead to a time error in the motorized fader control arriving at a desired position.
    </p>
    <p num="10">The object of this invention is to provide dynamic automation with the capability of moving the motorized fader control to be at a desired position at a required time.</p>
    <heading>BRIEF SUMMARY OF THE INVENTION</heading>
    <p num="11">According to a first aspect of this invention there is provided an audio signal fader control system including control means for receiving signals output by a motorized fader control means and for applying control signals to said fader control means, host computer means connected to said control means by transmission path means, and timing means associated with said control means and said host computer means for arranging said control signals from said host control means to be transmitted to said control means so that said control means is able to drive said fader control means to a desired position a predetermined period before said fader control means is actually required to be at said desired position.</p>
    <p num="12">Preferably said fader control means desired positions are in discrete steps and said control means includes interpolation means for interpolating locations of said fader control means between said desired points.</p>
    <p num="13">Conveniently, said host control means has a CPU and a real time clock, and said control means has counter means supplying data relative to a predetermined cyclical position of said counter means to said host CPU so as to provide synchronisation between said counter means and said host CPU.</p>
    <p num="14">Advantageously said host CPU has arithmetic means for adding said predetermined period to said real time and subtracting the real time at which said predetermined position of said counter means provides said synchronisation, and dividing the result by the control means counter means cycle rate to provide a predetermined value of said counter means, which predetermined value is used to drive said fader control means.</p>
    <p num="15">Advantageously said host control means is arranged to write a fader control means position to said control means at an integer multiple of said control means cycle rate, thereby providing over sampling of said control means.</p>
    <p num="16">According to a second aspect of this invention there is provided a method of operating an audio signal fader control system having control means for receiving signals output by a motorised fader control means and for applying control signals to said fader control means and a host computer means connected to said control means by transmission path means including the steps of arranging said control signals from said host control means to be transmitted to said control means so that said control means is able to drive said fader control means to a desired position a predetermined period before said fader control means is actually required to be at said desired position.</p>
    <heading>BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING</heading>
    <p num="17">
      The invention will now be described by way of example with reference to the accompanying drawings in which:
      <br/>
      FIG. 1 shows a block schematic diagram of an audio signal fader control in accordance with this invention,
      <br/>
      FIG. 2 shows a host computer state diagram,
      <br/>
      FIG. 3 shows a control console state diagram, and
      <br/>
      FIG. 4 shows a stored counter position timetable and desired fader control position.
      <br/>
      In the Figures like reference numerals denote like parts.
    </p>
    <heading>DETAILED DESCRIPTION OF THE INVENTION</heading>
    <p num="18">
      The audio signal fader control system shown in FIG. 1 has a control console 1 connected by a transmission path 2 to a host computer system 3.
      <br/>
      The control console includes a motorised fader 10 providing output via an analog to digital converter 11 to a CPU 12 of the control console.
      <br/>
      The control console CPU provides control signals to the motorised fader 10 via a digital to analog converter 13.
      <br/>
      The CPU 12 is connected to a counter 14 which is incremented at, for example, 5 ms intervals so that the counter counts up from zero to 256 and then returns to zero.
    </p>
    <p num="19">
      The CPU 12 connects to a host computer system CPU 30 via the transmission path 2.
      <br/>
      The transmission path 2 may be an Ethernet network or, for example, an RS 232 Serial Communication Routing.
    </p>
    <p num="20">
      The CPU 30 is connected with a real time clock 31 and a memory disk drive 32 and also with a digital signal processor 33.
      <br/>
      The digital signal processor is connected to a digital to analog converter 34 for driving a speaker 35.
    </p>
    <p num="21">The real time clock 31 is used as a timing reference for synchronisation of events between the host computer system 3 and the control console 1.</p>
    <p num="22">
      The audio signal fader control system has a messaging protocol involving two kinds of message.
      <br/>
      The first message type is one from the host CPU 30 to the control console CPU 12 containing the following information:  (Chemical Structure image '1' not included in text)
    </p>
    <p num="23">
      The fader identifier is required since there may be up to four, or even more, fader controls.
      <br/>
      The position information is indicative of the position of the fader control along its track, and the time is indicative of the time, in real time, at which the fader control is to be at its desired position.
      <br/>
      Thus the first message is an instruction to the control console CPU 12 to position the identified fader control to a required position at a given time.
    </p>
    <p num="24">
      The second message is from the control console CPU 12 to the CPU 30 and is for time synchronisation:
      <br/>
      &lt;sync&gt;
    </p>
    <p num="25">
      The control console CPU 12 has no real time clock but utilises the numeric counter 14.
      <br/>
      Whenever the counter 14 reaches the value 256, it is reset to zero and a &lt;sync&gt; message is sent to the host CPU 30.
    </p>
    <p num="26">On receipt of the &lt;sync&gt; message, the CPU 30 uses the real time clock 31 to correlate (remember) the actual real, correct time that the counter 14 was at value zero.</p>
    <p num="27">
      Whenever the host CPU 30 transmits a time stamped fader control message to CPU 12, it computes the appropriate counter value that the counter 14 will reach when it will be the correct real time to achieve the desired fader control position.
      <br/>
      This computation is performed by the CPU 30 with the knowledge of stored positions and the synchronisation time of the zero value previously received from the control console 1.
    </p>
    <p num="28">
      FIG. 2 shows the state diagram for the host CPU 30.
      <br/>
      Starting at IDLE, the CPU 30 periodically triggers the fader control, e.g. at periods of 20 ms, as will now be described.
    </p>
    <p num="29">
      The CPU 30 uses a fixed "lookahead" time which is a time deemed to be sufficient to overcome fader inertia and delays on the network as well as any possible delays in the host CPU performing the requisite calculations.
      <br/>
      In this respect the host CPU 30 is not dedicated to fader control and is used to run the host computer system operating system, e.g. DOS or NT, support front end of user interface and running of files stored disk input/output.
      <br/>
      In the currently preferred embodiment the "lookahead" time is 80 ms ahead of the actual, real time the fader position is desired to be achieved.
    </p>
    <p num="30">
      The host CPU 30 converts the real time plus the "lookahead" time to a position of the counter 14 where it will be at that "lookahead" time.
      <br/>
      In other words, the CPU 30 predicts the position where the audio signal will be in terms of the counter position 14 at real time plus "lookahead" time (80 ms).
      <br/>
      In performing such a computation, the CPU 30 uses the last &lt;sync&gt; time stamp from the counter 14 in real time to perform the conversation.
    </p>
    <p num="31">
      Thus the computation is:
      <br/>
      real time+"lookahead" time-&lt;sync&gt; in real time
    </p>
    <p num="32">(i.e. current counter position in real time),</p>
    <p num="33">and divide the result by the cycle rate of the counter 14 (5 ms in the present embodiment)</p>
    <p num="34">to provide the predicted value/position of the counter 14 for a desired fader control position.</p>
    <p num="35">
      The counter positions and appropriate fader control positions are located in a timetable (shown in FIG. 4 to be described later herein) which is written to and read from.
      <br/>
      If, when the stored position value is read from the counter position timetable of FIG. 4 and no change is noted, then the CPU returns to the IDLE position.
    </p>
    <p num="36">
      Thus the host CPU 30 now has a fader control identifier, a fader control position and a time at which it is to be at the desired position.
      <br/>
      The above mentioned first message is transmitted to the CPU 12.
    </p>
    <p num="37">
      The host CPU 20 may have a cycle rate of 20 ms for a given fader and advantageously this rate is related to a TV system video field rate.
      <br/>
      In the present embodiment 20 ms is the PAL video field rate.
    </p>
    <p num="38">
      Referring to FIG. 3, the control console CPU starting from idle provides an interrupt to the counter 14 at 5 ms intervals to increment the counter 14.
      <br/>
      Each time the counter reaches a count of 256 it is returned to zero and at that time the above mentioned second, &lt;sync&gt; message is transmitted to the host CPU 30.
      <br/>
      At that time the CPU 30 reads the real time from clock 31 and it is that synchronised real time that is taken away from the present real time plus "lookahead" real time and the result is divided by the console counter rate.
      <br/>
      On receipt of a time stamped fader control message, the CPU 12 places the counter position in a timetable store as shown in FIG. 4, which is notionally marked out in terms of 5 ms counter increments.
      <br/>
      The timetable also contains fader control positions which, at the appropriate time, are transmitted via the DAC 13 to the fader control 10.
    </p>
    <p num="39">
      Thus the CPU 12 maintains a timetable of fader control positions in 5 ms increments and maintains in the timetable an entry corresponding to the counter 14 value.
      <br/>
      At each period of 5 ms, the CPU 12 moves to the next entry and writes any new fader control position to the DAC 13 for incrementing the fader 10.
    </p>
    <p num="40">
      Since the time stamped messages transmitted from the host CPU 30 will always correspond to a future timetable entry, there may well be empty timetable entries between the present time and the command time due to the different work rates of the CPUs of 20 ms for the host and 5 ms for the control console, so that only every fourth position is filled.
      <br/>
      The CPU 12 is able to interpolate intermediate positions between values between the current position and the next command position and is arranged to fill the empty timetable values with interpolated fader control positions.
      <br/>
      Such interpolation is important for smoothing the movement of the fader and allows future intermediate values to be predicted and written to the timetable of FIG. 4.
      <br/>
      Furthermore, such interpolation allows the CPU 12 to work on a higher resolution of fader control positions than the host CPU 30.
      <br/>
      Thus, in the present embodiment, the CPU 30 despatches a timed message for a given fader control every 20 ms but the CPU 12 writes to the DAC 13 every 5 ms so that there is 4 *  oversampling.
    </p>
    <p num="41">
      In use, an audio signal is manipulated by an editor using the fader control 10 and the audio signal is transmitted from the control console 1 to the host computer system to be stored on the disk drive memory 32.
      <br/>
      The audio signal can be played via the CPU 30, DSP 33, DAC 34 on the speaker 35.
      <br/>
      When an editor wishes to modify the audio signal, it is retransmitted from the host computer system 3 to the control console 1.
      <br/>
      When the editor moves the fader control 10 the new position is stored on the disk drive memory 32.
    </p>
    <p num="42">The present invention has the advantage that the fader control position is moved ahead of time so that any inertia in the fader control or delays in the transmission path may be eliminated by the forementioned early movement of the fader control.</p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed is:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An audio signal fader control system comprising:</claim-text>
      <claim-text>a controller coupled to receive signals output by a fader control and to apply signals to the fader control; a host processor coupled to the controller by a transmission path for sending messages to and receiving messages from the controller;</claim-text>
      <claim-text>and a timing circuit coupled to the controller and the host processor for arranging that the messages from the processor are applied to the controller so that the controller drives the fader control to a desired position a predetermined period prior to a time that the fader control is required to be at the desired position such that inertia and delays in the audio signal fader control system are overcome.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The audio signal fader control system as recited in claim 1 wherein the timing circuit comprises: a counter situated in the controller, the counter being clocked periodically by the controller at a first predetermined rate and providing a sync message to the host processor at predetermined intervals;</claim-text>
      <claim-text>and a realtime clock situated in the host processor, the host processor providing fader control messages to the controller at a second predetermined rate less than the first predetermined rate by a predetermined integer factor, the fader control messages being based upon the sync messages from the controller, the realtime clock and a predetermined lookahead time so that the fader control is driven to the desired position prior to the time it is required to be at the desired position.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The audio signal fader control system as recited in claim 2 wherein the controller further comprises: a table having fader control commands generated by the controller from the fader control messages from the host processor at the second predetermined rate;</claim-text>
      <claim-text>and means for interpolating fader control commands between the fader control commands generated from the fader control messages at the first predetermined rate, the fader control commands being used to drive the fader controls at the first predetermined rate.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. A method of operating an audio signal fader control system comprising the steps of: receiving a sync signal from a controller at a predetermined interval; based upon the sync signal, a realtime clock signal and a lookahead time generating fader control commands for the audio signal fader control system so that a fader control is driven to a desired position a predetermined period prior to when it is required to be at the desired position.</claim-text>
    </claim>
  </claims>
</questel-patent-document>