<?xml version="1.0" encoding="UTF-8"?>
<questel-patent-document lang="en" date-produced="20180805" produced-by="Questel" schema-version="3.23" file="US06185282B2.xml">
  <bibliographic-data lang="en">
    <publication-reference publ-desc="Granted patent as second publication">
      <document-id>
        <country>US</country>
        <doc-number>06185282</doc-number>
        <kind>B2</kind>
        <date>20010206</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>US6185282</doc-number>
      </document-id>
    </publication-reference>
    <original-publication-kind>B2</original-publication-kind>
    <application-reference family-id="25253933" extended-family-id="42082039">
      <document-id>
        <country>US</country>
        <doc-number>09480461</doc-number>
        <kind>A</kind>
        <date>20000111</date>
      </document-id>
      <document-id data-format="questel">
        <doc-number>2000US-09480461</doc-number>
      </document-id>
      <document-id data-format="questel_Uid">
        <doc-number>43128544</doc-number>
      </document-id>
    </application-reference>
    <language-of-filing>en</language-of-filing>
    <language-of-publication>en</language-of-publication>
    <priority-claims>
      <priority-claim kind="national" sequence="1">
        <country>US</country>
        <doc-number>48046100</doc-number>
        <kind>A</kind>
        <date>20000111</date>
        <priority-active-indicator>N</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="1">
        <doc-number>2000US-09480461</doc-number>
      </priority-claim>
      <priority-claim kind="national" sequence="2">
        <country>US</country>
        <doc-number>82923597</doc-number>
        <kind>A</kind>
        <date>19970331</date>
        <priority-linkage-type>1</priority-linkage-type>
        <priority-active-indicator>Y</priority-active-indicator>
      </priority-claim>
      <priority-claim data-format="questel" sequence="2">
        <doc-number>1997US-08829235</doc-number>
      </priority-claim>
    </priority-claims>
    <dates-of-public-availability>
      <publication-of-grant-date>
        <date>20010206</date>
      </publication-of-grant-date>
    </dates-of-public-availability>
    <term-of-grant>
      <disclaimer/>
    </term-of-grant>
    <classifications-ipcr>
      <classification-ipcr sequence="1">
        <text>H04Q   3/00        20060101A I20051008RMEP</text>
        <ipc-version-indicator>
          <date>20060101</date>
        </ipc-version-indicator>
        <classification-level>A</classification-level>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>3</main-group>
        <subgroup>00</subgroup>
        <classification-value>I</classification-value>
        <generating-office>
          <country>EP</country>
        </generating-office>
        <classification-status>R</classification-status>
        <classification-data-source>M</classification-data-source>
        <action-date>
          <date>20051008</date>
        </action-date>
      </classification-ipcr>
    </classifications-ipcr>
    <classification-national>
      <country>US</country>
      <main-classification>
        <text>379045000</text>
        <class>379</class>
        <subclass>045000</subclass>
      </main-classification>
      <further-classification sequence="1">
        <text>379037000</text>
        <class>379</class>
        <subclass>037000</subclass>
      </further-classification>
      <further-classification sequence="2">
        <text>379207150</text>
        <class>379</class>
        <subclass>207150</subclass>
      </further-classification>
    </classification-national>
    <classifications-ecla>
      <classification-ecla sequence="1">
        <text>H04Q-003/00D3</text>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>003</main-group>
        <subgroup>00D3</subgroup>
      </classification-ecla>
    </classifications-ecla>
    <patent-classifications>
      <patent-classification sequence="1">
        <classification-scheme office="EP" scheme="CPC">
          <date>20130101</date>
        </classification-scheme>
        <classification-symbol>H04Q-003/0029</classification-symbol>
        <section>H</section>
        <class>04</class>
        <subclass>Q</subclass>
        <main-group>3</main-group>
        <subgroup>0029</subgroup>
        <symbol-position>F</symbol-position>
        <classification-value>I</classification-value>
        <classification-status>B</classification-status>
        <classification-data-source>H</classification-data-source>
        <action-date>
          <date>20130101</date>
        </action-date>
      </patent-classification>
    </patent-classifications>
    <number-of-claims>65</number-of-claims>
    <exemplary-claim>1</exemplary-claim>
    <figures>
      <number-of-drawing-sheets>10</number-of-drawing-sheets>
      <number-of-figures>10</number-of-figures>
      <image-key data-format="questel">US6185282</image-key>
    </figures>
    <invention-title format="original" lang="en" id="title_en">Apparatus and method for intelligent call routing and call return</invention-title>
    <references-cited>
      <citation srep-phase="applicant">
        <patcit num="1">
          <text>ASMUTH RICHARD L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4611094</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4611094</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="2">
          <text>ASMUTH RICHARD L, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4611096</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4611096</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="3">
          <text>MCNABB SANDRA D, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>4788718</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US4788718</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="4">
          <text>KAY WILLIAM A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5247571</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5247571</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="5">
          <text>VANACORE VINCENT D</text>
          <document-id>
            <country>US</country>
            <doc-number>5249223</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5249223</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="6">
          <text>FRIEDES ALBERT, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5311572</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5311572</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="7">
          <text>EMERY MARK J, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5353331</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5353331</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="8">
          <text>MORRISEY JAMES A, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5524146</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5524146</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="9">
          <text>IRWIN JANINE M, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5533107</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5533107</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="10">
          <text>LEE DOOYONG</text>
          <document-id>
            <country>US</country>
            <doc-number>5537470</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5537470</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="11">
          <text>NEVILLE DANIEL E</text>
          <document-id>
            <country>US</country>
            <doc-number>5588048</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5588048</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="12">
          <text>FLEISCHER III HAROLD C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5592541</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5592541</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="13">
          <text>FLEISCHER III HAROLD C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5680446</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5680446</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="14">
          <text>DEWITT CONSTANCE ANN, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5734709</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5734709</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="15">
          <text>MELCHER JOHN R, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5799061</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5799061</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="16">
          <text>FLEISCHER III HAROLD C, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5799073</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5799073</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="17">
          <text>GILLESPIE DONALD E, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5805688</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5805688</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="18">
          <text>FLEISCHER III HAROLD C</text>
          <document-id>
            <country>US</country>
            <doc-number>5878127</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5878127</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <patcit num="19">
          <text>FLEISCHER HAROLD C III, et al</text>
          <document-id>
            <country>US</country>
            <doc-number>5920618</doc-number>
            <kind>A</kind>
          </document-id>
          <document-id data-format="questel">
            <doc-number>US5920618</doc-number>
          </document-id>
        </patcit>
      </citation>
      <citation srep-phase="applicant">
        <nplcit num="1">
          <text>BERMAN, Roger K. et al., "Perspectives on the AIN Architecture", IEEE Communications Magazine, pp. 27-32, (Feb. 1992).</text>
        </nplcit>
      </citation>
    </references-cited>
    <related-documents>
      <continuation>
        <relation>
          <parent-doc>
            <document-id>
              <country>US</country>
              <doc-number>82923597</doc-number>
              <kind>A</kind>
              <date>19970331</date>
            </document-id>
          </parent-doc>
        </relation>
      </continuation>
    </related-documents>
    <parties>
      <applicants>
        <applicant data-format="original" app-type="applicant" sequence="1">
          <addressbook lang="en">
            <orgname>SBC Technology Resources, Inc.</orgname>
            <address>
              <address-1>Austin, TX, US</address-1>
              <city>Austin</city>
              <state>TX</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
        <applicant data-format="questel" app-type="applicant" sequence="2">
          <addressbook lang="en">
            <orgname>SBC TECHNOLOGY RESOURCES</orgname>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </applicant>
      </applicants>
      <inventors>
        <inventor data-format="original" sequence="1">
          <addressbook lang="en">
            <name>Boeckman, Michael W.</name>
            <address>
              <address-1>Austin, TX, US</address-1>
              <city>Austin</city>
              <state>TX</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
        <inventor data-format="original" sequence="2">
          <addressbook lang="en">
            <name>Plunkett, William E.</name>
            <address>
              <address-1>Apex, NC, US</address-1>
              <city>Apex</city>
              <state>NC</state>
              <country>US</country>
            </address>
          </addressbook>
          <nationality>
            <country>US</country>
          </nationality>
        </inventor>
      </inventors>
      <agents>
        <agent sequence="1" rep-type="agent">
          <addressbook lang="en">
            <orgname>Greenblum &amp; Bernstein, P.L.C.</orgname>
          </addressbook>
        </agent>
      </agents>
    </parties>
    <examiners>
      <primary-examiner>
        <name>Smith, Creighton</name>
      </primary-examiner>
    </examiners>
    <lgst-data>
      <lgst-status>EXPIRED</lgst-status>
    </lgst-data>
  </bibliographic-data>
  <abstract format="original" lang="en" id="abstr_en">
    <p id="P-EN-00001" num="00001">
      <br/>
      According to the present invention, intelligent call routing and call return capabilities are provided in an Advanced Intelligent Network (AIN) or AIN-type network environment.
      <br/>
      The intelligent call routing features of the present invention may be utilized for routing service calls to an appropriate service or control center (e.g., a Poison Control Answering Point (PCAP)), in accordance with the location of the calling party and one or more routing options.
      <br/>
      For example, the Number Plan Area (NPA) and Central Office Code (NXX) of the calling party's telephone number may be analyzed in order to determine where to route the call.
      <br/>
      In addition, other routing features may be provided to facilitate handling of the call.
      <br/>
      For instance, calls may be routed according to the time-of-day and/or day-of-week, and recorded announcements may be provided to indicate when a particular service call cannot be completed.
      <br/>
      The routing features of the present invention may also be combined with the intelligent call return capabilities, for returning the service call over the network to a location from which the call was transferred (e.g., to a 911 operator located at a Public Service Answering Point (PSAP)).
    </p>
  </abstract>
  <description format="original" lang="en" id="desc_en">
    <p num="1">
      This is a continuation of U.S. patent application Ser.
      <br/>
      No. 08/829,235, filed Mar. 31, 1997, the contents of which are expressly incorporated by reference herein in its entirety.
    </p>
    <heading>BACKGROUND OF THE INVENTION</heading>
    <p num="2">
      1.
      <br/>
      Field of the Invention
    </p>
    <p num="3">
      The present invention generally relates to the field of telecommunications.
      <br/>
      More particularly, the present invention relates to a telecommunications network environment having intelligent call routing and call return capabilities for routing service calls, such as emergency or poison assistance calls, to an appropriate service or control center.
    </p>
    <p num="4">2. Acronyms</p>
    <p num="5">
      The written description provided herein contains acronyms which refer to various telecommunications services, components and techniques, as well as features relating to the present invention.
      <br/>
      Although some of these acronyms are known, use of these acronyms is not strictly standardized in the art.
      <br/>
      For purposes of the written description herein, acronyms will be defined as follows:
    </p>
    <p num="6">
      10-Digit (10D)
      <br/>
      Action Control Point (ACP)
      <br/>
      Advanced Intelligent Network (AIN)
      <br/>
      Common Channel Signaling (CCS)
      <br/>
      Central Office (CO)
      <br/>
      Call Processing Record (CPR)
      <br/>
      Data and Reporting System (DRS)
      <br/>
      End Office (EO)
      <br/>
      Integrated Service Control Point (ISCP)
      <br/>
      Integrated Services Digital Network (ISDN)
      <br/>
      Multi-Frequency (MF)
      <br/>
      Number Plan Area (NPA)
      <br/>
      Central Office Code (NXX)
      <br/>
      Poison Control Answering Point (PCAP)
      <br/>
      Poisoned Party Number (PPN)
      <br/>
      Primary Rate Interface (PRI)
      <br/>
      Public Service Answering Point (PSAP)
      <br/>
      Service Creation Environment (SCE)
      <br/>
      Service Control Point (SCP)
      <br/>
      Service Management System (SMS)
      <br/>
      Signaling System 7 (SS7)
      <br/>
      Service Switching Point (SSP)
      <br/>
      Signaling Transfer Point (STP)
      <br/>
      Terminating Attempt Trigger (TAT)
      <br/>
      Transaction Capabilities Applications Part (TCAP)
      <br/>
      Transmission Control Protocol/Internet Protocol (TCP/IP)
    </p>
    <p num="7">3. Background Information</p>
    <p num="8">
      In recent years, a number of new telephony service features have been implemented and provided by an Advanced Intelligent Network (AIN).
      <br/>
      The AIN evolved out of a need to increase the capabilities of the existing telephone network architecture and meet the growing needs of telephony customers.
      <br/>
      The AIN architecture generally comprises two networks, a data messaging network and a trunked communications network.
      <br/>
      The trunked communications network handles voice and data communications between dispersed network locations, whereas the data messaging network is provided for controlling operations of the trunked communications network.
    </p>
    <p num="9">
      An illustration of the basic components of an AIN network environment is shown in FIG. 1, which is provided to facilitate communication between a plurality of network locations or stations 72-86.
      <br/>
      As shown in FIG. 1, Central Offices (COs) 64-70 are provided for sending and receiving data messages from a Service Control Point (SCP) 56 via one or more Signaling Transfer Points (STPs) 51, 53 and 59.
      <br/>
      The data messages are communicated to and from the COs 64-70 and the SCP 56 along a Common Channel Signaling (CCS) network 88.
      <br/>
      Each CO 64-70 serves as a network Service Switching Point (SSP) to route telephone calls between a calling station (e.g., station 72) and a called station (e.g., station 84) through the trunked communications network 90-93.
    </p>
    <p num="10">Additional information regarding AIN and AIN-related network environments, see Berman, Roger K., and Brewster, John H., "Perspectives on the AIN Architecture," IEEE Communications Magazine, February 1992, pp. 27-32, the disclosure of which is expressly incorporated herein by reference in its entirety.</p>
    <p num="11">
      A number of features provided by prior AIN or AIN-type intelligent networks relate to specialized call processing of incoming calls.
      <br/>
      For example, U.S. Pat. Nos. 4,611,094 and 4,611,09, both to ASMUTH et al., disclose a system for providing custom incoming telephone call processing services to a subscriber operating at geographically diverse locations.
      <br/>
      A subscriber program stored in a central database is accessed to provide instructions to the SSPs to complete incoming calls to one of the subscriber locations in accordance with special services defined by the subscriber.
      <br/>
      The subscriber program controls the Action Control Points (ACPs) to string together the desired call processing capabilities to process each call.
      <br/>
      Specified parameters stored in the program, such as time of day, caller location, and data inputted by the caller may be utilized to determine the final destination to which each call should be completed.
    </p>
    <p num="12">
      U.S. Pat. No. 4,788,718, to McNABB, discloses centralized recording of call traffic information.
      <br/>
      The system provides a data gathering and recording function to the centralized database which stores the subscriber's call routing program.
      <br/>
      The subscriber's call routing program performs several functions, including presenting various announcements to callers, prompting callers for inputting information digits and collecting the resulting information digits, routing the call to a number provided by the subscriber, and performing final call dispositions other than routing to the telephone number provided by the subscriber.
      <br/>
      Processing of the call traffic information dynamically changes the subscriber's call routing program to reduce the number of blocked calls to the subscriber's telephone numbers.
    </p>
    <p num="13">
      U.S. Pat. No. 5,247,571, to KAY et al., discloses an Area Wide Centrex system to provide specialized calling features to stations connected to a plurality of central offices.
      <br/>
      Each of the central office switching points connects to a number of local telephone lines.
      <br/>
      The features are extended to the local telephone lines by taking the programming intelligence out of the central offices and moving it into a database located at a centralized location, such as an SCP.
      <br/>
      Service features are controlled by the central database and are changed by reprogramming the service logic located at the central database.
      <br/>
      A variety of service features are provided including a work at home service that enables a user of a private network access from a home telephone and access authorization to increase the security of the private network.
    </p>
    <p num="14">
      U.S. Pat. No. 5,353,331, to EMERY et al., discloses an AIN system which connects to, and controls processing of, calls to a subscriber's wireless handset via a home base station or wireless communication network.
      <br/>
      In response to calls directed to the subscriber's wireless handset, the AIN determines where the handset is located using a central database and routes the call to that location.
      <br/>
      The incoming call can be routed directly to the handset, blocked, or routed to an alternate termination point.
      <br/>
      In response to calls from the handset, the central database provides data instructions to the landline network to extend a requested special service to the subscriber.
    </p>
    <p num="15">
      U.S. Pat. No. 5,592,541, to FLEISCHER, III et al., discloses an AIN network environment for forwarding incoming calls by utilizing a subscriber defined routing list.
      <br/>
      The routing list may comprise alternate telephone numbers to which calls placed to the subscriber's number(s) will be routed.
      <br/>
      The routing lists may be defined for forwarding incoming calls to other numbers for either all of the numbers or for selected groups of one or more numbers.
      <br/>
      Incoming calls may also be routed according to the time-of-day, day-of-week, percentage allocation, specific date, originating location of calling party, or calling party selection.
    </p>
    <p num="16">
      While prior AIN or AIN-type intelligent network applications have provided various call forwarding and routing features as indicated above, such prior attempts have not provided intelligent call routing capabilities for routing service calls to predetermined service or control centers.
      <br/>
      For instance, with the development of emergency and poison assistance control centers by state and local governments, there is an increasing need to provide intelligent call routing capabilities to facilitate the handling and routing of emergency or poison assistance calls, so that calls may be directed to the most appropriate or nearest control center.
      <br/>
      It would be desirable, for example, to provide an intelligent network environment that is capable of routing calls based on the location of the calling party and the availability of designated service or control centers.
      <br/>
      Prior attempts have also not provided system flexibility in terms of providing various routing and/or call return options that may be combined with routing based on the location of the calling party.
    </p>
    <p num="17">
      Such features would be highly desirable for service or control centers that provide assistance to individuals or members of the general public who dial a single publicized telephone number.
      <br/>
      With intelligent routing capabilities, calls could be automatically directed to the most appropriate control or service center, without requiring additional information or assistance from the calling party.
      <br/>
      Further, with flexible routing options, calls could be routed away from under-staffed or closed centers (e.g., based on the time-of-day, day-of-week, percentage allocation, etc.) so that reliable service or assistance may be provided to end users.
    </p>
    <heading>SUMMARY OF THE PRESENT INVENTION</heading>
    <p num="18">In view of the above, the present invention, through one or more of its various aspects and/or embodiments is thus presented to accomplish one or more objectives and advantages, such as those noted below.</p>
    <p num="19">
      A general object of the present invention is to provide intelligent call routing and call return features in an Advanced Intelligent Network (AIN) or AIN-type network environment.
      <br/>
      In particular, an object of the present invention is to provide intelligent call routing and call return capabilities for routing service calls to predetermined service or control centers.
    </p>
    <p num="20">
      Another object of the invention is to provide intelligent call routing capabilities to facilitate the handling and routing of emergency or poison assistance calls, so that calls may be directed to the most appropriate or nearest control center.
      <br/>
      An object of the invention is to route calls based on, for example, the NPA-NXX of the calling party.
    </p>
    <p num="21">Still another object of the present invention is to provide an intelligent network environment that is capable of routing calls based on the location of the calling party and the availability of designated service or control centers.</p>
    <p num="22">
      Another object of the invention is to provide an apparatus and method that has flexibility in terms of providing various routing and/or call return options that may be combined with routing based on the location of the calling party.
      <br/>
      An object of the invention is to automatically route calls away from under-staffed or closed centers (e.g., based on the time-of-day, day-of-week, percentage allocation, etc.) so that reliable service or assistance may be provided to end users.
    </p>
    <p num="23">
      Yet another object of the invention is to provide intelligent call routing and call return features for service or control centers that provide assistance to individuals or members of the general public who dial a single publicized telephone number.
      <br/>
      An object of the invention is to automatically direct or route service calls to the most appropriate control or service center, without requiring additional information or assistance from the calling party.
    </p>
    <p num="24">
      According to an aspect of the present invention, intelligent call routing and call return capabilities are provided in an Advanced Intelligent Network (AIN) or AIN-type network environment.
      <br/>
      The intelligent call routing features of the present invention are adapted for routing service calls (e.g., emergency or poison assistance calls) to an appropriate service or control center (e.g., a Poison Control Answering Point (PCAP)), in accordance with the location of the calling party and one or more routing options.
      <br/>
      For example, the Number Plan Area (NPA) and Central Office Code (NXX) of the calling party's telephone number may be analyzed in order to determine where to route the call.
      <br/>
      In addition, other routing features may be provided to facilitate handling of the call.
      <br/>
      For instance, calls may be routed according to the time-of-day and/or day-of-week, and recorded announcements may be provided to indicate when a particular service call cannot be completed.
      <br/>
      The routing features of the present invention may also be combined with the intelligent call return capabilities, for returning the service call over the network to a location from which the call was transferred (e.g., to a 911 operator located at a Public Service Answering Point (PSAP)).
    </p>
    <p num="25">
      According to one aspect of the present invention, an intelligent call routing method is provided for routing a service call from a calling party to a service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The method may comprise: receiving, at one of the service switching points, a service call request to connect the calling party to one of the service network locations; sending, in response to the request, a query message from the one of the service switching points to the service control point over the signaling communication system; determining, at the service control point, a location of the calling party based on a calling number of the calling party; identifying, based on the location of the calling party, one of the service network locations for receiving the service call request, and identifying routing information for routing the service call request to the receiving service network location; sending, from the service control point, a response message over the signaling communication system to the querying service switching point, the response message including the routing information; and completing, in response to receiving the response message, the service call request to the receiving service network location based on the routing information.
    </p>
    <p num="26">
      In the intelligent call routing method of the invention, the location of the calling party may be determined based on an Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of the calling party.
      <br/>
      Further, the service control point may comprise a service network location number table including a plurality of NPA-NXX entries and a number identifying the service network locations that correspond to each of the NPA-NXX entries, and in the method of the invention the NPA and NXX of the calling number of the calling party may be compared to each of the NPA-NXX entries in the service network location number table in order to determine a number identifying the receiving service network location that corresponds to the NPA and NXX of the calling number of the calling party.
      <br/>
      The service control point may further comprise a route table comprising a plurality of entries containing a route index and an outpulse number for routing service call requests to each of the service network locations, whereby a route index and an outpulse number are determined from the route table based on the number identifying the receiving service network location.
      <br/>
      In such a case, the route index and the outpulse number can be included as part of the routing information contained in the response message from the service control point.
    </p>
    <p num="27">
      In the intelligent call routing method of the present invention, the service call request may be initiated from the location of the calling party by dialing a predefined emergency assistance number (e.g., "911").
      <br/>
      The service call request may be received at a 911 tandem switch in response to the predefined emergency assistance number being dialed and, thereafter, the service call request may be transferred from the 911 tandem switch to the one of the service switching points.
    </p>
    <p num="28">
      In addition, according to the intelligent call routing method of the invention, the service control point may further comprise a routing options table having a plurality of entries containing numbers identifying alternate service network locations to route a service call request according to predetermined routing options, such that in the method of the invention the routing options table is searched to determine if the service call request should be routed to an alternate service network location based on the predetermined routing options.
      <br/>
      The predetermined routing options may comprise routing options to route to an alternate service network location based on at least one of a time-of-day and a day-of-week.
    </p>
    <p num="29">
      In the intelligent call routing method of the invention, the service control point may further comprise a NPA table comprising a plurality of entries indicating an NPA corresponding to each combination of an incoming trunk line number and an NPA code.
      <br/>
      The query message that is sent to the service control point may include the NXX of the calling number of the calling party, as well as an incoming trunk line number and an NPA code associated with the calling number.
      <br/>
      According to the method of the invention, the NPA table may be searched to determine the NPA of the calling number based on the incoming trunk line number and the NPA code contained in the query message.
    </p>
    <p num="30">
      In the intelligent call routing method of the present invention, the service network may comprise a poison control service network and the service network locations may comprise poison control answering points (PCAPs) that are adapted to provide assistance and counseling to calling parties that have been poisoned.
      <br/>
      Further, the poison control service network may comprise a Primary Rate Interface (PRI) network for interconnecting the service switching points, and the service control point may be implemented as an Integrated Service Control Point (ISCP).
    </p>
    <p num="31">
      According to another aspect of the present invention, an intelligent call return routing method may be provided for returning a service call placed to a service network by a calling party to one of a plurality of service answering points, the service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The method may comprise: initiating, at one of the service network locations, a call return request to return the service call of the calling party to one of the service answering points; receiving, at one of the service switching points, the call return request from the one of the service network locations; sending, in response to the call return request, a query message from the one of the service switching points to the service control point over the signaling communication system; determining, at the service control point, a location of the calling party based on a calling number of the calling party; identifying, based on the location of the calling party, one of the service answering points for receiving the call return request, and identifying routing information for routing the call return request to the receiving service answering point; sending, from the service control point, a response message to the querying service switching point, the response message including the routing information; and completing, in response to receiving the response message, the call return request to the receiving service answering point based on the routing information.
    </p>
    <p num="32">
      In the intelligent call return routing method, it may be determined when the call return request can be routed locally to the receiving service answering point by the querying service switching point and determined when the call return request must be routed remotely to the receiving service answering point by the querying service switching point.
      <br/>
      Local routing information may be identified and included as part of the routing information when it is determined that local routing can be performed, and remote routing information may be identified and included as part of the routing information when it is determined that remote routing must be performed.
      <br/>
      The local routing information may comprise a route index and a predefined emergency assistance number to be outpulsed.
      <br/>
      The emergency assistance number may comprise "911", and the route index may identify a communication line connecting the querying service switching point to a 911 tandem switch serving the receiving service answering point.
    </p>
    <p num="33">
      For remote call return routing, the remote routing information may comprise a route index and a predefined virtual number to be outpulsed.
      <br/>
      In addition, the intelligent call return method may further comprise: routing the service call over the service network from the querying service switching point to a remote service switching point based on the route index and the virtual number contained in the routing information; sending, in response to the service call be routed to the remote service switching point, another query message to the service control point over the signaling communication system; identifying additional routing information for routing the call return request to the receiving service answering point from the remote service switching point; sending, from the service control point, another response message to the remote service switching point, the response message including the additional routing information; and routing, in response to receiving the another response message, the call return request to the receiving service answering point based on the additional routing information.
    </p>
    <p num="34">
      In the intelligent call return routing method of the present invention, the location of the calling party may be determined from the NPA and NXX of the calling number of the calling party.
      <br/>
      In addition, the service control point may comprise a stand-alone table for each of the service switching points, wherein each of the stand-alone tables includes a plurality of NPA-NXX entries, each of the NPA-NXX entries including a corresponding number to be outpulsed for routing the call return request to the receiving service answering point based on the NPA and the NXX of the calling party.
    </p>
    <p num="35">
      In the intelligent call return routing method of the present invention, the service network may comprise a poison control service network and the service network locations may comprise poison control answering points (PCAPs) that are adapted to provide assistance and counseling to calling parties that have been poisoned.
      <br/>
      Further, the poison control service network may comprise a Primary Rate Interface (PRI) network for interconnecting the service switching points, and the service control point may be implemented as an Integrated Service Control Point (ISCP).
    </p>
    <p num="36">
      According to still another aspect of the present invention, a method may be provided for routing a service call placed to a poison control service network by a calling party, the poison control service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, the service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties that have been poisoned, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The method may comprise: initiating the service call request, from a location of the calling party, by dialing a predefined emergency assistance number; receiving the service call request at a 911 tandem switch in response to the predefined emergency assistance number being dialed, and transferring the service call request from the 911 tandem switch to one of the service switching points over a communication line; receiving, at the one of the service switching points, the service call request to connect the calling party to one of the service network locations; sending, in response to the request, a query message from the one of the service switching points to the service control point over the signaling communication system; determining, at the service control point, the location of the calling party based on a calling number of the calling party; identifying, based on the location of the calling party, one of the service network locations for receiving the service call request, and identifying routing information for routing the service call request to the receiving service network location; sending, from the service control point, a response message over the signaling communication system to the querying service switching point, the response message including the routing information; and completing, in response to receiving the response message, the service call request to the receiving service network location based on the routing information.
    </p>
    <p num="37">In order to facilitate call return requests, the method of the present invention for routing a service call may further comprise: initiating, at the receiving service network locations, a call return request to return the service call of the calling party to one of a plurality of service answering points; receiving, at one of the service switching points, the call return request from the receiving service network location; sending, in response to the call return request, a query message from the one of the service switching points to the service control point over the signaling communication system; determining, at the service control point, the location of the calling party based on the calling number of the calling party; identifying, based on the location of the calling party, one of the service answering points for receiving the call return request, and identifying routing information for routing the call return request to the receiving service answering point; sending, from the service control point, a response message to the querying service switching point, the response message including the routing information; and completing, in response to receiving the response message, the call return request to the receiving service answering point based on the routing information.</p>
    <p num="38">
      According to another aspect of the invention, an intelligent call routing system is provided for routing a service call from a calling party to a service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The system may comprise: a receiving system for receiving, at one of the service switching points, a service call request to connect the calling party to one of the service network locations; a sending system for sending, in response to the request, a query message from the one of the service switching points to the service control point over the signaling communication system; a determining system for determining, at the service control point, a location of the calling party based on a calling number of the calling party; an identifying system for identifying, based on the location of the calling party, one of the service network locations for receiving the service call request, and identifying routing information for routing the service call request to the receiving service network location; a sending system for sending, from the service control point, a response message over the signaling communication system to the querying service switching point, the response message including the routing information; and a completing system for completing, in response to receiving the response message, the service call request to the receiving service network location based on the routing information.
    </p>
    <p num="39">
      In the intelligent call routing system of the invention, the determining system may comprises means for determining the location of the calling party based on an Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of the calling party.
      <br/>
      Further, the service control point may comprise a service network location number table including a plurality of NPA-NXX entries and a number identifying the service network locations that correspond to each of the NPA-NXX entries, wherein the intelligent call routing system further comprises a system for comparing the NPA and NXX of the calling number of the calling party to each of the NPA-NXX entries in the service network location number table to determine a number identifying the receiving service network location that corresponds to the NPA and NXX of the calling number of the calling party.
    </p>
    <p num="40">
      The service control point may also include a route table comprising a plurality of entries containing a route index and an outpulse number for routing service call requests to each of the service network locations, wherein the system for identifying routing information comprises means for determining a route index and an outpulse number from the route table based on the number identifying the receiving service network location.
      <br/>
      The route index and the outpulse number may be included as part of the routing information in the response message from the service control point.
    </p>
    <p num="41">
      In the intelligent call routing system, the service control point may further comprise a routing options table comprising a plurality of entries containing numbers identifying alternate service network locations to route a service call request according to predetermined routing options.
      <br/>
      A system may also be provided for searching the routing options table to determine if the service call request should be routed to an alternate service network location based on the predetermined routing options.
      <br/>
      The predetermined routing options may comprise routing options to route to an alternate service network location based on at least one of a time-of-day and a day-of-week.
    </p>
    <p num="42">
      The service control point may also include an NPA table comprising a plurality of entries indicating an NPA corresponding to each combination of an incoming trunk line number and an NPA code.
      <br/>
      Further, the query message may include the NXX of the calling number of the calling party and an incoming trunk line number and an NPA code associated with the calling number.
      <br/>
      The determining system of the invention may comprise means for searching the NPA table to determine the NPA of the calling number based on the incoming trunk line number and the NPA code contained in the query message.
    </p>
    <p num="43">
      According to yet another aspect of the invention, an intelligent call return routing system is provided for returning a service call placed to a service network by a calling party to one of a plurality of service answering points, the service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The system may comprise: an initiating system for initiating, at one of the service network locations, a call return request to return the service call of the calling party to one of the service answering points; a receiving system for receiving, at one of the service switching points, the call return request from the one of the service network locations; a sending system for sending, in response to the call return request, a query message from the one of the service switching points to the service control point over the signaling communication system; a determining system for determining, at the service control point, a location of the calling party based on a calling number of the calling party; an identifying system for identifying, based on the location of the calling party, one of the service answering points for receiving the call return request, and identifying routing information for routing the call return request to the receiving service answering point; a sending system for sending, from the service control point, a response message to the querying service switching point, the response message including the routing information; and a completing system for completing, in response to receiving the response message, the call return request to the receiving service answering point based on the routing information.
    </p>
    <p num="44">
      In the intelligent call return routing system, a system may also be provided for determining when the call return request can be routed locally to the receiving service answering point by the querying service switching point and when the call return request must be routed remotely to the receiving service answering point by the querying service switching point.
      <br/>
      A system may also be provided for identifying local routing information to be included as part of the routing information when it is determined that local routing can be performed, and identifying remote routing information to be included as part of the routing information when it is determined that remote routing must be performed.
      <br/>
      The local routing information may comprise a route index and a predefined emergency assistance number to be outpulsed, and the intelligent call return routing system may further comprise a system for returning the service call to the receiving service answering point from the querying service switching point based on the route index and the emergency assistance number contained in the routing information.
      <br/>
      The emergency assistance number may comprise "911", and the route index may identify a communication line connecting the querying service switching point to a 911 tandem switch serving the receiving service answering point.
    </p>
    <p num="45">
      According to the intelligent call return routing system, the remote routing information may comprise a route index and a predefined virtual number to be outpulsed.
      <br/>
      For, in order to facilitate remote call return routing, the system may further comprise: a routing system for routing the service call over the service network from the querying service switching point to a remote service switching point based on the route index and the virtual number contained in the routing information; a sending system for sending, in response to the service call be routed to the remote service switching point, another query message to the service control point over the signaling communication system; an identifying system for identifying additional routing information for routing the call return request to the receiving service answering point from the remote service switching point; a sending system for sending, from the service control point, another response message to the remote service switching point, the response message including the additional routing information; and a routing system for routing, in response to receiving the another response message, the call return request to the receiving service answering point based on the additional routing information.
    </p>
    <p num="46">
      According to an aspect of the intelligent call return routing system, the determining system may comprise means for determining the location of the calling party based on an Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of the calling party, and the query message from the querying service switching point may include the NPA and the NXX of the calling number of the calling party.
      <br/>
      The service control point also may include a stand-alone table for each of the service switching points, wherein each of the stand-alone tables includes a plurality of NPA-NXX entries, each of the NPA-NXX entries including a corresponding number to be outpulsed for routing the call return request to the receiving service answering point.
    </p>
    <p num="47">
      In the intelligent call return routing system of the present invention, the service network may comprise a poison control service network and the service network locations may comprise poison control answering points (PCAPs) that are adapted to provide assistance and counseling to calling parties that have been poisoned.
      <br/>
      Further, the poison control service network may comprise a Primary Rate Interface (PRI) network for interconnecting the service switching points, and the service control point may be implemented as an Integrated Service Control Point (ISCP).
    </p>
    <p num="48">
      According to a further aspect of the invention, a system may be provided for routing a service call placed to a poison control service network by a calling party, the poison control service network comprising a plurality of interconnected service switching points and a plurality of service network locations, each of the service network locations being connected by a communication line to one of the plurality of service switching points, the service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties that have been poisoned, each of the service switching points being connected by a signaling communication system to a service control point, the signaling communication system providing communication of data messages between the service switching points and the service control point.
      <br/>
      The system may comprise: an initiating system for initiating the service call request, from a location of the calling party, by dialing a predefined emergency assistance number; a receiving system for receiving the service call request at a 911 tandem switch in response to the predefined emergency assistance number being dialed, and transferring the service call request from the 911 tandem switch to one of the service switching points over a communication line; a receiving system for receiving, at the one of the service switching points, the service call request to connect the calling party to one of the service network locations; a sending system for sending, in response to the request, a query message from the one of the service switching points to the service control point over the signaling communication system; a determining system for determining, at the service control point, the location of the calling party based on a calling number of the calling party; an identifying system for identifying, based on the location of the calling party, one of the service network locations for receiving the service call request, and identifying routing information for routing the service call request to the receiving service network location; a sending system for sending, from the service control point, a response message over the signaling communication system to the querying service switching point, the response message including the routing information; and a completing system for completing, in response to receiving the response message, the service call request to the receiving service network location based on the routing information.
    </p>
    <p num="49">The system for routing a service call may also facilitate call return requests and, as such, may further comprise: an initiating system for initiating, at the receiving service network locations, a call return request to return the service call of the calling party to one of a plurality of service answering points; a receiving system for receiving, at one of the service switching points, the call return request from the receiving service network location; a sending system for sending, in response to the call return request, a query message from the one of the service switching points to the service control point over the signaling communication system; a determining system for determining, at the service control point, the location of the calling party based on the calling number of the calling party; an identifying system for identifying, based on the location of the calling party, one of the service answering points for receiving the call return request, and identifying routing information for routing the call return request to the receiving service answering point; a sending system for sending, from the service control point, a response message to the querying service switching point, the response message including the routing information; and a completing system for completing, in response to receiving the response message, the call return request to the receiving service answering point based on the routing information.</p>
    <p num="50">The above-listed and other objects, features and advantages of the present invention will be more fully set forth hereinafter.</p>
    <heading>BRIEF DESCRIPTION OF THE DRAWINGS</heading>
    <p num="51">
      The present invention is further described in the detailed description which follows, by reference to the noted plurality of drawings by way of non-limiting examples of preferred embodiments of the present invention, in which like reference numerals represent similar parts throughout the several views of the drawings, and wherein:
      <br/>
      FIG. 1 illustrates the components of a conventional Advanced Intelligent Network (AIN) network environment;
      <br/>
      FIG. 2 is a block diagram of an exemplary AIN network environment for supporting the intelligent call routing and call return features of the present invention;
      <br/>
      FIG. 3 is a flow chart of exemplary processes and operations for providing intelligent call routing capabilities, in accordance with an aspect of the present invention;
      <br/>
      FIGS. 4A and 4B illustrate, in accordance with one implementation of the present invention, the logic flow of exemplary processes and operations for providing intelligent call routing features;
      <br/>
      FIG. 5 is an exemplary flow chart of the processes and operations for providing intelligent call return capabilities, in accordance with an aspect of the present invention;
      <br/>
      FIGS. 6A and 6B illustrate the logic flow of exemplary processes and operations for performing intelligent call return processing, in accordance with one implementation of the present invention;
      <br/>
      FIG. 7 illustrates an exemplary message flow for local call return routing, in accordance with another aspect of the present invention; and
      <br/>
      FIG. 8 illustrates an exemplary message flow for remote return call routing, according to another aspect of the present invention.
    </p>
    <heading>DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS</heading>
    <p num="52">Referring to the accompanying drawings, a detailed description of the preferred embodiments, features and aspects of the present invention will be provided.</p>
    <p num="53">
      The present invention relates to an apparatus and method for providing intelligent call routing and call return capabilities in a telecommunications network environment.
      <br/>
      The intelligent call routing features of the present invention may be utilized for routing service calls to an appropriate service or control center, in accordance with one or more routing options.
      <br/>
      The routing features of the present invention may also be combined with the call return capabilities, for returning the service call over the network to an appropriate location.
      <br/>
      By way of a non-limiting example, the present invention may be utilized for routing public service calls, such as emergency or poison assistance calls, to one of a plurality of service or control centers depending upon the location of the calling party (i.e., the poisoned party).
      <br/>
      For purposes of illustration, the various features and aspects of the present invention are described herein with reference to an exemplary poison control service network, that provides counseling and emergency assistance to the public.
      <br/>
      However, the present invention is not limited to such applications, and may be implemented to provide intelligent call routing and call return features in other network environments and applications (e.g., alcohol and substance abuse counseling, crisis intervention, health and human services, disaster relief, and other types of service or counseling networks).
    </p>
    <p num="54">
      According to an aspect of the present invention, service calls may be routed to an appropriate service or control center based on the location of the calling party.
      <br/>
      Various methods and techniques may be utilized to determine the location of the calling party.
      <br/>
      For example, the Number Plan Area (NPA) and Central Office Code (NXX) of the calling party's telephone number may be analyzed in order to determine where to route the call.
      <br/>
      In addition to routing the call based on the NPA-NXX of the calling party, other routing features or options may be provided to facilitate handling of the call.
      <br/>
      For instance, calls may be routed according to the time-of-day and/or day-of-week, and recorded announcements may be provided to indicate when a particular service call cannot be completed.
    </p>
    <p num="55">
      As discussed further below, the various features of the present invention may be implemented through the use of an Advanced Intelligent Network (AIN) that provides centralized control of telephony services, as opposed to localized control of services at the Central Office (CO) or End Office (EO).
      <br/>
      Such an AIN system is provided through interaction between switching points and other systems supporting AIN logic and functionality.
      <br/>
      Other types of intelligent network environments may also be provided to implement the various features of the present invention, as disclosed herein.
    </p>
    <p num="56">
      In accordance with an aspect of the present invention, FIG. 2 illustrates a general block diagram of an exemplary AIN network environment for supporting the intelligent call routing and call return features of the invention.
      <br/>
      In the block diagram of FIG. 2, a poison control service network is illustrated that comprises a plurality of service network nodes 92A-92D that are interconnected by a communication network, such as an Integrated Digital Services Network (ISDN) or a fully meshed Primary Rate Interface (PRI) backbone network 57.
      <br/>
      The exemplary poison control service network of FIG. 2 may be established, for example, by a local or state government, and may include centers that specialize in the handling of emergency calls from individuals who may require the assistance of poison specialists.
      <br/>
      For this purpose, Poison Control Answering Points (PCAP) 94A-94D may be provided at geographically dispersed locations and may comprise poison assistance service or control centers for handling service calls.
      <br/>
      Each of the PCAP locations 94A-94D may be connected to one of the service network nodes 92A-92D by a communication link 97.
      <br/>
      Communication link 97 may comprise, for example, a PRI link.
      <br/>
      As indicated above, while the embodiment of FIG. 2 is disclosed with reference to a poison control service network, the intelligent routing and call return features of the present invention may be utilized in other types of service networks.
      <br/>
      Further, it should be noted that the arrangement and number of service network nodes and other components in FIG. 2 are provided for the purposes of illustration only, and that other network arrangements may be provided to implement the features of the present invention.
      <br/>
      For example, depending on the size of the service network and number of customers or users to which service is to be extended, more or less than four service network nodes may be provided.
    </p>
    <p num="57">
      In FIG. 2, each service network node 92A-92D may be implemented as a Service Switching Point (SSP) that is equipped with Common Channel Signaling (CCS) capabilities to provide two-way communication of data messages between each service network node and a Service Control Point (SCP) or Integrated Service Control Point (ISCP) 10 via CCS links 50.
      <br/>
      Each SSP 92A-92D may comprise a programmable switch which is capable of recognizing AIN-type calls, launching queries to the ISCP 10, and receiving commands and data from the ISCP to further process and route AIN-type calls.
      <br/>
      The SSPs of the service network nodes 92A-92D may include, but are not limited to, 5ESS and DMS switches.
      <br/>
      If 5ESS switches are utilized, then these switches should be equipped with Generic 5E10 (or higher) software and provide the necessary trigger requirements in order to provide service to users.
      <br/>
      For DMS switches, these switches should be equipped with DMS release NA(LEC/LET)004 or Generic NA005 (or higher) software, and the necessary trigger features should be provided.
      <br/>
      When one of the SSPs 92A-92D is triggered by a AIN-type call, the SSP formulates an AIN query request and responds to call processing instructions in which the AIN service logic resides.
      <br/>
      The AIN service logic may reside in a database at the ISCP 10.
      <br/>
      As shown in FIG. 2, the SSPs 92A-92D may be interconnected by PRI network links 57 to carry voice and/or data signals over the PRI network.
    </p>
    <p num="58">
      As noted above, the SSPs 92A-92D are equipped with CCS capabilities which provide for two-way communication of data messages between the service network nodes and the ISCP 10 via CCS links 50.
      <br/>
      The data messages may be formatted in accordance with Transaction Capabilities Applications Protocol (TCAP).
      <br/>
      In the embodiment of FIG. 2, each of the service network nodes 92A-92D are directly connected to and communicate with ISCP 10.
      <br/>
      However, it is possible to provide Signal Transfer Points (STPs) between the service network nodes 92A-92D and the ISCP 10 in order to facilitate the transfer of messages to and from the ISCP.
    </p>
    <p num="59">
      The ISCP 10 of FIG. 2 may be implemented as an integrated system or as a stand-alone, programmable Service Control Point (SCP).
      <br/>
      If the ISCP 10 is implemented as an integrated system, the ISCP may include a Service Management System (SMS), a Data and Reporting System (DRS), a programmable SCP, and a Service Creation Environment (SCE) (not shown in FIG. 2).
      <br/>
      The SCE is a terminal attached to the SMS for programming the database in the SCP which defines the service logic.
      <br/>
      If, however, the ISCP 10 is implemented as a stand alone SCP, then it may be remotely programmable to provide AIN functionality.
      <br/>
      In either case, the SCP may execute software-based, Call Processing Record (CPR) service logic and return call routing instructions to the SSPs for disposition of service calls.
      <br/>
      The SMS and DRS are generally provided to compile calling information to be used for billing and administrative purposes.
      <br/>
      By way of example, the ISCP 10 may be implemented with the Bellcore Integrated Service Control Point (ISCP), loaded with ISCP software Version 4.4 (or higher), available from Bellcore, Murray Hill, N.J.
    </p>
    <p num="60">
      Each of the service network nodes or SSPs 92A-92D may be connected by Multi-Frequency (MF) links 70 to one or more emergency/911 tandem switches 62 to handle and receive, for example, poison assistance calls.
      <br/>
      Existing 911 tandem switches 62 may be utilized to handle and route poison assistance calls to the poison control service network.
      <br/>
      Dedicated trunks on the MF links 70 may be established for transferring service calls from the 911 tandems 62 to the SSPs 92A-92D.
      <br/>
      Depending on the number dialed by the calling party, poison assistance service calls may be directly routed to one of the service network nodes 92A-92D and PCAP locations 94A-94D (e.g., if the number of one of the PCAP locations 94A-94D is dialled), or may be transferred to the poison control service network after first being routed to a 911 operator at a Public Service Answering Point (PSAP) 65 connected to one of the 911 tandem switches (e.g., when a "E911" or "911" emergency call is placed).
      <br/>
      A 911 operator may transfer a call by pressing, for example, a transfer button or another function button at their customer premise equipment so that the service call will be sent to the serving SSP.
      <br/>
      For service calls that are transferred via the MF links 70, the SSPs 92A-92D may be configured to trigger whenever a service call is received over the dedicated trunk groups of the MF links.
      <br/>
      When a service call is transferred to one of the service network nodes or SSPs 92A-92D from the 911 tandems 62, an AIN trigger event will occur at the SSP and AIN call processing will be initiated by launching a query to the ISCP 10 via one of the CCS links 50.
      <br/>
      Thereafter, routing of the service call will be performed in accordance with the response message and routing instructions returned from the ISCP 10.
    </p>
    <p num="61">
      In the embodiment of FIG. 2, each of the service network nodes 92A-92D may be connected to one or more 911 tandem switches 62 by MF links 70.
      <br/>
      For purposes of illustration, FIG. 2 depicts service network nodes 92A being connected to one or more 911 tandem switches 62 through MF links 70.
      <br/>
      Conventional 911 call signalling protocols may be used when transferring service call requests from the 911 tandems 62 to the SSPs 92A-92D via the dedicated trunk groups of the MF links 70.
      <br/>
      When a service call is to be transferred to one of the SSPs 92A-92D, the SSP may receive the called number (e.g., "911"), as well as the number of the calling party (i.e., the number of the poisoned party).
      <br/>
      The SSP may receive the last seven digits of the poisoned party's number with a preceding, coded digit indicating the trunk group or NPA of poisoned party.
      <br/>
      The SSP may also receive billing information to identify the incoming trunk line.
    </p>
    <p num="62">
      Although not shown in FIG. 2, each of the other service network nodes 92B-92D may also be connected to one or more 911 tandem switches 62 by dedicated MF trunks 70.
      <br/>
      Each 911 tandem switch 62 may be connected to a PSAP location 65 by a communication link 58.
      <br/>
      Communication link 58 may comprise a trunked communication line or other type of communication line.
      <br/>
      An exemplary End Office (EO) 22 is also illustrated in FIG. 2, as being connected to one of the 911 tandem switches 62 by a communication link 58.
      <br/>
      The EO 22 may serve a plurality of individual telephone locations 30-38 that are connected to the EO by telephone lines 54.
      <br/>
      In addition, other customer telephone locations and End Offices may also be provided in the embodiment of FIG. 2, which are connected to other EOs and 911 tandem switches that are connected to, for example, service network nodes 92B-92D.
    </p>
    <p num="63">
      According to the present invention, AIN-type call processing may be utilized in order to determine routing information for service calls placed to the poison control service network.
      <br/>
      Predefined tables may be stored in the ISCP 10 so that the appropriate routing information is returned to the service network nodes or SSPs 92A-92D.
      <br/>
      Each of the tables may be populated with data prior to the service being activated.
      <br/>
      AIN-type call processing may be initiated by the SSPs 92A-92D when a service call is transferred to the network and an AIN trigger event is detected.
      <br/>
      The AIN trigger and launching of the query message to the ISCP 10 may take place at the originating service network node or SSP that receives the service call over the dedicated MF trunk group.
      <br/>
      When the query message is received by the ISCP 10, the appropriate CPR service logic may be triggered and accessed, so that the necessary database tables may be searched and routing information returned to the querying SSP to direct the service call to the appropriate PCAP location.
    </p>
    <p num="64">
      In accordance with an aspect of the present invention, FIG. 3 is a flow chart of exemplary operations and processes that may be performed to provide intelligent call routing.
      <br/>
      The processes and operations performed in FIG. 3 may be performed based on software-based logic residing in the ISCP 10.
      <br/>
      At step S.2, processing is initialized when CPR service logic is triggered in response to a query message being received at the ISCP 10 from one of the SSPs 92A-92D via CCS links 50.
      <br/>
      The query message that is sent to the ISCP 10 may be provided in TCAP format and include the number of the calling or poisoned party (e.g., the seven digit number, NXX-XXXX of the poisoned party, preceded by a coded digit indicating the NPA of the poisoned party).
      <br/>
      The query message may be sent in response to the detection of an AIN trigger event at one of the service network nodes or SSPs 92A-92D.
      <br/>
      The SSPs 92A-92D may be configured to trigger whenever a service call is transferred over one of the dedicated trunk groups of the MF links 70.
    </p>
    <p num="65">
      The presence of an AIN trigger event may result under a variety of circumstances.
      <br/>
      For example, an individual who requires the assistance of poison specialists may dial a single publicized telephone number (e.g., "911") from a telephone location (e.g., telephone location 38).
      <br/>
      The service call is then routed to the appropriate 911 tandem switch 62 by EO 22 and the call is received by a 911 operator at a PSAP location 65.
      <br/>
      When the 911 operator determines that the individual requires special assistance, such as counseling from a poison specialist, the service call may be transferred from the PSAP 65 to one of the service network nodes or SSPs 92A-92D via the 911 tandem switch 62 and MF links 70.
      <br/>
      As noted above, when a service call is transferred to the SSPs 92A-92D, the number of the poisoned party may be transferred to the receiving SSP (e.g. SSP 92A).
      <br/>
      An AIN trigger event may then be detected by the receiving SSP, and an appropriate query message may be sent to the ISCP 10 via one of the CCS links 50 to trigger the CPR service logic for intelligent call routing.
    </p>
    <p num="66">
      At step S.6, the NPA-NXX of the calling party is determined by the ISCP 10.
      <br/>
      The NPA-NXX of the calling party may be determined based on the information provided in the query message from the SSP.
      <br/>
      For example, as noted above, the query message may contain the seven digit number of the calling or poisoned party (i.e., NXX-XXXX) and a coded digit identifying the NPA, as well as billing information indicating the incoming trunk located between the 911 tandem switch and the originating or querying SSP.
      <br/>
      If the calling party's full ten digit telephone number (including NPA and NXX) is provided as part of the query message sent to the ISCP 10, then the NPA-NXX may be determined directly from the information contained in the query message.
      <br/>
      On the other hand, if only the eight digit number of the calling party (i.e., the seven digit number preceded by the coded NPA digit) and the incoming trunk number is provided in the query message, then the NPA-NXX may be determined by searching a stored NPA table (e.g., using the coded NPA digit and/or the incoming trunk number as search keys).
      <br/>
      From the AIN query message, the QCOLLECTEDADDR parameter may be used to obtain the calling party's NXX and the QCHARGENUMBER parameter may be used to determine the incoming trunk.
    </p>
    <p num="67">
      After the NPA-NXX of the calling party is determined at step S.6, then the appropriate PCAP location 94 and route may be determined by the ISCP 10 at step S.10. One or more database tables may be utilized to determine the PCAP location and route index based on the NPA-NXX of the calling party.
      <br/>
      Such database table(s) may be predefined, and may group and assign NPA-NXX numbers to particular PCAP locations.
      <br/>
      Other tables may also be provided that contain routing options, which may cause the service call to be routed to alternate PCAP location(s) depending on predefined routing options.
    </p>
    <p num="68">
      According to an aspect of the present invention, the service network nodes or SSPs 92A-92D, the PCAP locations 94A-94D, and the PRI network links 57 may be numbered and labelled in order to accommodate different potential routing schemes.
      <br/>
      For example, each service network node 92A-92D and each PCAP location 94A-94D may be assigned a specific number or code.
      <br/>
      The corresponding PCAP route index over the PRI network 57 may be numbered by appending the number of the terminating PCAP location to the number of the originating service network node.
      <br/>
      Further, a corresponding outpulse number may be assigned for each PCAP route.
      <br/>
      For example, a call originating in a service network node assigned a number value of "4" and terminating at a PCAP location assigned a number value of "6", would use PCAP route "46" and would be outpulsed on the number (e.g., 5126761166) corresponding to the identified PCAP location.
    </p>
    <p num="69">
      At step S.14 in FIG. 3, the ISCP 10 determines whether there are any routing options or restrictions for the identified PCAP location or route.
      <br/>
      These routing options or restrictions may comprise, for example, a routing options that are based on the time-of-day, day-of-week, specific dates and/or percentage allocation.
      <br/>
      The determination of whether routing options are present, may be performed by the ISCP 10 by analyzing, for example, a routing option status flag or by searching a routing options table (e.g., using the identified PCAP location or name as a search key).
    </p>
    <p num="70">
      At step S.14 in FIG. 3, if it is determined that there are no routing options, then logic flow may proceed to step S.18 so that the routing information determined at step S.10 is returned to the querying SSP (e.g., in the form of a response message from the ISCP 10) and so that the call may be completed to the identified PCAP location.
      <br/>
      If, however, it is determined that routing options exist at step S.14, then logic flow proceeds to step S.20 where the routing options are applied.
      <br/>
      At step S.20, a routing options table may be accessed and analyzed by the ISCP 10 to determine if the service call should be routed to another PCAP location or whether the service call cannot be completed.
      <br/>
      Different routing options may be implemented.
      <br/>
      For example, a routing options table may be defined to provide routing based on the day-of-week and/or time-of-day, so that the service calls may be routed to another PCAP location during off-hours or when a PCAP location identified in step S.10 is not operating to receive calls.
    </p>
    <p num="71">
      At step S.24, it is determined whether the routing options have been applied successfully and that a PCAP location has been identified.
      <br/>
      If it is determined that the application of the routing options has not resulted in the successful identification of a PCAP location, then logic flow proceeds to step S.28, where an instruction may be sent back from the ISCP 10 to the SSP to play an announcement to the 911 operator or user to indicate that the service call could not be completed and/or to thereafter terminate the call.
      <br/>
      If, however, the routing options have been successfully applied, then logic flows to step S.32 where the same or modified routing instructions are sent back to the SSP from the ISCP 10 to complete the call according to the appropriate routing information.
      <br/>
      If, for example, calls are to be routed based on the time-of-day and/or day-of-week, then the service call will be routed to the PCAP location identified at step S.10 when the call is received during valid hours and/or days of operation.
      <br/>
      If calls are received during off-hours and/or days of operation, then a service call may be routed to another PCAP location at step S.32 (i.e., a location different from the PCAP location identified in step S.10).
      <br/>
      If, however, an off-hour PCAP location is not identified in the routing option table, or if routing cannot otherwise be completed successfully, then a recorded announcement may be played back to the user to indicate that service cannot be extended, as illustrated at step S.28.
    </p>
    <p num="72">
      FIGS. 4A and 4B illustrate, in accordance with one implementation of the present invention, the logic flow of exemplary processes and operations for providing the intelligent call routing features of the invention.
      <br/>
      The processes and operations performed in FIGS. 4A and 4B may be performed based on software-based service logic residing in the ISCP 10.
      <br/>
      One or more predefined database tables may also be provided in the ISCP 10 to implement the intelligent routing features of the invention, as described herein.
      <br/>
      Examples of the various tables that may be utilized with the embodiment of FIGS. 4A and 4B are provided and discussed below with reference to Tables 1-4.
    </p>
    <p num="73">
      At step S.34 in FIG. 4A, intelligent call routing is initialized when the CPR service logic is triggered in response to, for example, an AIN query message being received at the ISCP 10.
      <br/>
      The AIN query message may be sent from the originating service network node or SSP and may be received by the ISCP 10 via one of the CCS links 50.
      <br/>
      Each SSP 92A-92D is responsible for formulating an appropriate query message for intelligent call routing, so that the corresponding CPR will be triggered and accessed at the ISCP 10.
      <br/>
      At step S.36, an NPA table is accessed and searched in order to determine the NPA of the calling party.
      <br/>
      In accordance with an aspect of the present invention, the NPA of the calling party may be determined based on the incoming trunk number and the NPA code appended to the calling party's seven digit telephone number.
      <br/>
      The trunk number and NPA code may be sent as part of the information included in the query message sent to the ISCP 10 from the originating or querying SSP.
      <br/>
      The trunk number may correspond to the number of the incoming trunk located between the 911 tandem switch and the originating SSP where an AIN trigger event was detected.
      <br/>
      The ISCP 10 may use the incoming trunk number and/or the NPA code to search a predefined NPA table in order to determine the NPA for the calling party.
    </p>
    <p num="74">
      Table 1 is an exemplary NPA table that may be stored in the ISCP 10 and searched at step S.36 to determine the NPA of the calling party.
      <br/>
      As shown in Table 1, the NPA table may include a IN_TRUNK field containing all of the possible incoming trunk numbers.
      <br/>
      The IN_TRUNK field may be defined, for example, as a number string containing up to ten digits.
      <br/>
      The NPA table may also include a corresponding NPA_CODE field and a corresponding NPA field for each IN_TRUNK field entry.
      <br/>
      The NPA_CODE and NPA fields may be defined, for example, as a number string containing one or three digits.
      <br/>
      The NPA_CODE field may contain the coded NPA digit that is appended to the calling party's seven digit number.
      <br/>
      The valid digits for the NPA_CODE field may comprise, for example, 0-7.
      <br/>
      The NPA field contains the actual NPA values that correspond to the single digit NPA code and incoming trunk number for each entry in the table.
    </p>
    <p num="75">
      -- TABLE 1
      <br/>
      -- NPA TABLE
      <br/>
      -- IN_TRUNK                NPA_CODE      NPA
      <br/>
      -- 0000111000              2             214
      <br/>
      -- 0000121000              2             214
      <br/>
      -- 0000131000              2             214
      <br/>
      -- 0000141000              5             512
      <br/>
      -- 0000151000              7             713
    </p>
    <p num="76">
      At step S.38 in FIG. 4A, it is determined whether the NPA of the calling party was located from the NPA table.
      <br/>
      If the NPA of the calling party was successfully determined, then logic flow proceeds at step S.42. Otherwise, if the NPA cannot be determined from the database table, then logic flow proceeds to step S.62 (see FIG. 4B) so that an appropriate message may be played back to indicate that the service call cannot be properly routed or completed.
    </p>
    <p num="77">
      At step S.42, a PCAP_NBR table may be accessed and searched in order to determine the PCAP location to which the service call should be sent.
      <br/>
      In accordance with the present invention, the PCAP location may be determined based on the location of the calling party.
      <br/>
      The NPA or NPA-NXX of the calling party's telephone number may be utilized to determine the location of the calling party and the PCAP location to which the service call should be sent.
      <br/>
      Each of the available PCAP locations may be assigned a number, and a PCAP_NBR table may be provided at the ISCP 10 to indicate the number of the PCAP location that should receive the service call from the calling party.
    </p>
    <p num="78">
      Table 2 illustrates an exemplary PCAP_NBR table for locating the number of the PCAP location based on the NPA-NXX of the calling party.
      <br/>
      Each of the fields in the PCAP_NBR table may be defined as a number string, containing two or three digits.
      <br/>
      As shown in Table 2, a NPA field may be provided to indicate the NPA's that are serviced by each PCAP location in the network.
      <br/>
      A NXX_BEG field and a NXX_END field may also be provided to indicate, along with the NPA field, the range of NPA-NXXs that each PCAP location is associated with.
      <br/>
      A PCAP_NBR field may also be provided to indicate the number that is assigned to the PCAP location for each corresponding entry.
      <br/>
      If a particular PCAP location is assigned or maps to multiple, consecutive NXXs within a particular NPA, then a range can be inputted rather than listing each NXX separately.
      <br/>
      For example, if a PCAP location assigned a number of "03" controls NXXs 577-999 inclusive within NPA 214, then the NXX_BEG field would contain "577", the NXX_END field would contain "999" and the PCAP_NBR field would contain "03".
      <br/>
      If, however, a particular PCAP location was only mapped to one NPA-NXX, then the NXX_BEG field and the NXX_END field would contain the same value.
    </p>
    <p num="79">
      -- TABLE 2
      <br/>
      -- PCAP_NBR TABLE
      <br/>
      --      NPA    NXX_BEG            NXX_END     PCAP_NBR
      <br/>
      --      214    000                463         01
      <br/>
      --      214    464                576         02
      <br/>
      --      214    577                999         03
      <br/>
      --      512    000                999         04
      <br/>
      --      713    000                999         06
    </p>
    <p num="80">
      At step S.44, it is determined whether a PCAP location number was successfully determined at step S.42. If a PCAP location could not be found or located for the NPA or NPA-NXX of the calling party, then logic flows to step S.62 (see FIG. 4B), where the ISCP 10 sends a response message to the SSP to play an announcement indicating that service is not available.
      <br/>
      If, however, a PCAP location number was determined, then logic proceeds to step S.48 in FIG. 4B. At step S.48, a predefined Route table is accessed and searched by the ISCP 10 to select the appropriate trunk routing and outpulse number based on the identified PCAP location number.
      <br/>
      The PCAP location number identified at step S.42 may be used by the ISCP 10 to search the Route table and determine the trunk routing and outpulse number for the identified PCAP location.
    </p>
    <p num="81">
      Table 3 is an exemplary Route table that may be utilized by the ISCP at step S.48 to determine the routing information for the identified PCAP location.
      <br/>
      Each of the fields in the Route table may be defined as an alphanumeric or number string.
      <br/>
      As shown in Table 3, a PCAP_NAME field may be provided to indicate the name of the service or control center for each of the PCAP locations identified by the PCAP_NBR field.
      <br/>
      The PCAP-NAME field may be provided to make the table more "readable" for data entry and be used as a search key for other tables (e.g., a routing options table).
      <br/>
      A RTE_INDX field and OUTP_NBR field may also be provided in the Route table to indicate the primary route index used to route the call and the PCAP location telephone number to be outpulsed.
      <br/>
      The Route table may also include a DISASTER_PCAP field to indicate alternate PCAP locations for disaster recovery purposes.
      <br/>
      The DISASTER_PCAP field may indicate the number assigned to each alternate PCAP location.
      <br/>
      Under normal conditions, the PCAP_NBR field and the DISASTER_PCAP field should contain similar values.
      <br/>
      If conditions warrant, the DISASTER_PCAP field may contain values that are changed to another PCAP location value, so that all calls intended for the original PCAP location will be routed to the PCAP location identified in the DISASTER_PCAP field.
    </p>
    <p num="82">
      -- TABLE 3
      <br/>
      -- ROUTE TABLE
      <br/>
      --                           DISAS-                  OUTP--
      <br/>
      -- PCAP_NAME     PCAP_NBR    TER_PCAP    RTE_INDX    NBR
      <br/>
      -- DALLAS-1      01          08          00000181    2146761111
      <br/>
      -- DALLAS-2      02          08          00000102    2146761122
      <br/>
      -- DALLAS-3      03          09          00000103    2146761133
      <br/>
      -- S-ANTONIO     04          12          00000406    5126761166
      <br/>
      -- HOUSTON       06          18          00000605    7136761155
    </p>
    <p num="83">
      At step S.50 in FIG. 4B, it is determined whether the routing information was successfully determined in step S.48. If the route index and the outpulse number were not successfully determined, then the logic flow proceeds to step S.62 so that the ISCP 10 will send a response message to the SSP to instruct that an error announcement should be played to indicate that service cannot be extended to the calling party and/or that the call should be terminated.
      <br/>
      If, however, routing information is successfully determined, then at step S.54 a Routing Options table may be accessed and searched to perform and execute any required routing options for the identified PCAP location.
      <br/>
      As disclosed herein, routing options may be combined with the features of the present invention in order to route service calls to the most appropriate PCAP location.
      <br/>
      If an identified PCAP location assigned to a calling party is closed or accessed during off-hours, service calls may be directed to an off-hour or backup PCAP location.
      <br/>
      The routing options searched at step S.54 may comprise, for example, routing based on the time-of-day and/or day-of-week.
      <br/>
      Other routing options, such as percentage allocation and specific date routing, may be also implemented.
    </p>
    <p num="84">
      Table 4 illustrates an exemplary Routing Options table that may be accessed and searched by the ISCP 10 at step S.54. The exemplary Routing Options table of Table 4 is based on a time-of-day/day-of-week routing scheme.
      <br/>
      As indicated in Table 4, the actual name of the service or control center at each PCAP location may be identified by a PCAP_NAME field, and the name of the PCAP location (e.g., as identified by the Route table) may be used as a key to searching and finding the appropriate routing information.
      <br/>
      The hours of operation for each day of the week may be indicated for the PCAP locations identified in the PCAP_NAME field.
      <br/>
      Separate START and END time fields may be provided in the Routing Options table for particular days of the week or group of days during the week (e.g., "MF" for Monday through Friday, and "SS" for Saturday through Sunday).
      <br/>
      The time fields may indicate both the hour and minute that the PCAP location starts operation or ends operation.
      <br/>
      In order to distinguish between morning and evening hours, a military time format may be used in each of the time fields.
      <br/>
      In the exemplary embodiment of Table 4, a MF_START field and an MF_END field are provided to indicate the hour and minute that each PCAP location starts and ends operation Monday through Friday.
      <br/>
      The hours of operation on weekdays are also indicated by separate time fields (see, for example, SS_START and SS_END).
      <br/>
      An OFF_HR_PCAP field may also be provided to indicate the number of a PCAP location that all off-hour calls should be routed to when encountered.
    </p>
    <p num="85">
      -- TABLE 4
      <br/>
      -- ROUTING OPTIONS TABLE
      <br/>
      --               MF--            SS--            OFF_HR_
      <br/>
      -- PCAP_NAME     START   MF_END    START   SS_END    PCAP
      <br/>
      -- DALLAS-1      07:00   19:00     07:00   12:30     10
      <br/>
      -- DALLAS-2      07:00   19:00     07:00   12:30     10
      <br/>
      -- DALLAS-3      07:00   19:00     07:00   12:30     10
      <br/>
      -- S-ANTONIO     06:30   20:00     10:00   15:00     14
      <br/>
      -- HOUSTON       09:00   17:00     09:00   13:00     21
    </p>
    <p num="86">
      In the embodiment of Table 4, if a particular PCAP location is to be opened twenty-four hours during particular days of the week (such as Monday through Friday), then the start and end fields for those days of the week should both be set to "00:00".
      <br/>
      If, for example, a particular PCAP location is to be closed on a particular day or group of days (such as Saturday and Sunday), then both the start and end time fields should contain "12:00".
      <br/>
      Further, if the number of an alternate PCAP location is returned by, for example, the OFF_HR_PCAP field when searching the Routing Options table, then the routing information (including a route index and outpulse number) may be obtained by accessing another database table similar to the Route table of Table 3.
      <br/>
      Similarly, if disaster routing is performed and a number of a PCAP location is provided from the DISASTER_PCAP field of the routing table, the number of the alternate PCAP location may be used as a key to index another route table to determine a route index and other routing information (e.g., the number of the alternate PCAP location to be outpulsed).
      <br/>
      Various modifications may also be made to the Routing Options table, such as providing hours of operation for particular dates or holidays, and routing calls to alternate locations based on the percentage of allocation or number of calls received at predefined PCAP location(s).
    </p>
    <p num="87">
      Referring again to FIG. 4B, after step S.54 it is determined at S.58 whether the searching of the Routing Options table has been successful (i.e., whether the identified PCAP location or an alternate PCAP location is available for the service call).
      <br/>
      If it is determined that the search of the Routing Options table was successful, and that routing information has been obtained for the service call, then logic proceeds to step S.66. At step S.66, a response message with the routing information is sent back to the originating or querying SSP so that the service call may be completed to the appropriate PCAP location over PRI network 57.
      <br/>
      If, however, the ISCP 10 determines that the service call cannot be successfully routed, then logic proceeds to step S.62 where instructions are provided to the SSP to play an error announcement to the user and/or to thereafter terminate the call.
    </p>
    <p num="88">
      The information that is returned to the SSP by the ISCP 10 may be formatted according to TCAP and sent as a response message via one of the CCS links 50.
      <br/>
      The response message may include the appropriate routing information, including the route index and the number to be outpulsed, as well as other information.
      <br/>
      When the call is routed over the PRI network 57 to the appropriate PCAP location, the full 10-digit telephone number of the calling party may be transmitted and delivered to the PCAP attendant.
      <br/>
      That is, the response message from the ISCP 10 may include the determined NPA-NXX of the calling party, so that the querying SSP may build and send the full ten digit number of the calling party (i.e., the NPA-NXX-XXXX of the calling party) to the PCAP location over the PRI network 57 by rearranging or modifying the appropriate parameters.
    </p>
    <p num="89">
      In accordance with another aspect of the present invention, a call return capability or feature may be provided to permit personnel at PCAP locations to return or transfer a service call back to the originating PSAP (or another appropriate PSAP) for dispatch of emergency services (e.g., ambulatory services) or other final disposition.
      <br/>
      As with the initial routing of the service call, the return call may be routed and returned via the PRI network 57.
      <br/>
      The intelligent call return features of the present invention may be implemented as an AIN-based service, with the appropriate service logic and database tables being provided in the ISCP 10 for providing routing information and call return functionality.
      <br/>
      In addition, the call return features may be combined with the intelligent call routing features of the present invention to provide combined service features.
      <br/>
      The various aspects of the intelligent call return capabilities of the invention is described below with reference to FIGS. 5-8.
    </p>
    <p num="90">
      As discussed above with reference to the embodiment FIG. 2, the intelligent call routing features of the invention may include routing options such as off-hours and/or disaster routing.
      <br/>
      Since one or more options can be in effect at any given time, a calling party that is directed to the poison control service network could be routed to any PCAP location 94A-94D, without regard to the location of the serving switch or the geographic location of the calling party.
      <br/>
      Therefore, when a call return service request is received at one of the service network nodes 92A-92D, the call should not necessarily be routed to the closest 911 tandem switch or even to the 911 tandem that is connected to the service network node receiving the call return request.
      <br/>
      Service logic in the form of a CPR should be provided in the ISCP 10 to determine which 911 tandem switch should receive the call based on, for example, the location or NPA-NXX of the calling party.
    </p>
    <p num="91">
      In order to implement the call return features of the present invention, the ISCP 10 may be provided with call return service logic and database tables in order to determine the appropriate routing information for the returned call.
      <br/>
      When a PCAP attendant at one of the PCAP locations 94A-94D determines that the service call needs to be returned to an operator (e.g., a 911 operator) at one of the PSAP locations 65, the PCAP location attendant may send the telephone number of the calling party to the serving or local service network node.
      <br/>
      The number of the calling party should be dialed on a ten digit basis (i.e., so as to include the NPANXXXXXX of the calling party, with no hyphens, "1+", "0+", etc.) and may be sent over the PRI link 97 connecting the PCAP location to the serving service network node or SSP.
      <br/>
      Since any PCAP attendant can potentially dial any NPA-NXX for a given locality or state, digit validation may be performed based on the first digit dialed.
      <br/>
      That is, any dialed number that is ten digits in length should trigger the serving SSP if the first digit is in the range of 0 through 9.
      <br/>
      However, since valid NPAs may be limited (e.g., a valid NPA may not begin with a 0 or 1), this range could be limited to the digits 2 through 9, or could consist only of the digits that are valid first digits for NPAs serviced by the poison control service network.
    </p>
    <p num="92">
      The customer premise equipment at the PCAP location may be configured according to several alternatives in order to permit the ten digit called number to be sent over the PRI trunk to the service network node.
      <br/>
      For example, the attendant at the PCAP location may perform a manual flash-hook, invokes a conference circuit in the customer premise equipment, and then keys in the ten digit number of the calling or poisoned party, which is sent over the PRI trunk group 97 to the serving SSP.
      <br/>
      Alternatively, the customer premise equipment at the PCAP location may be configured with a feature button (e.g., a TRANSFER button) that automatically invokes the conference circuit and allows the attendant to key in the ten digit number of the calling party.
      <br/>
      Still further, as another alternative, the customer premise equipment may be configured with a feature button or abbreviated dial code (e.g., "*911") that automatically invokes the conference circuit, seizes the appropriate PRI trunk group, and transmits the ten digit number of the calling party that is displayed on the attendant's screen.
    </p>
    <p num="93">
      The serving service network node or SSP may trigger on the receipt of the ten digit number of the calling party from the PCAP attendant, in order to launch an AIN query to the ISCP 10 via one of the CCS links 50.
      <br/>
      A segregated trunk group of one or more channels may be established on the PRI link 97 that serves the attendant's PCAP location.
      <br/>
      The PCAP location premise equipment may be configured to send calls to the segregated trunk group for call return traffic only.
      <br/>
      While the group may still be used to determine incoming traffic (i.e., calls that are sent from the serving service network node to the PCAP location), traffic that is outgoing from the PCAP location to the service network node may be restricted to call return traffic only on this group, if the trunk group is to be provisioned with a trigger (e.g., a Off-Hook Delay trigger) that generates AIN queries to the ISCP 10.
      <br/>
      Whenever a call containing a valid ten digit number is transmitted over this group, a trigger will always occur at the SSP to invoke the transmission of a query message to the ISCP 10 for call return processing.
      <br/>
      A more detailed description of the various processes and operations that may be performed in order to provide the call return features of the present invention are provided below.
    </p>
    <p num="94">
      FIG. 5 illustrates an exemplary logic flow of the processes and operations for performing intelligent call return in accordance with an embodiment of the present invention.
      <br/>
      At step S.80, call return processing is initiated when a trigger event is detected at one of the service network nodes or SSPs 92A-92D.
      <br/>
      As discussed above, a trigger event may be detected at one of the SSPs 92A-92D when a call return request is placed from a PCAP location via PRI link 97.
      <br/>
      A segregated trunk group of one or more channels may be established on the PRI link 97 to handle call return traffic.
      <br/>
      Whenever a call return request containing a valid ten digit number is sent over this segregated trunk group, a trigger may be engaged at the SSP serving the PCAP location to invoke call return processing.
    </p>
    <p num="95">
      As noted above, each of the service network nodes 92A-92D may be implemented as SSPs with AIN functionality (e.g., AIN 0.1 functionality).
      <br/>
      For 5ESS and DMS switch types, the service network nodes 92A-92D may be provided with, for example, AIN 0.1 functionality in 5ESS Generic 5E9.1 or 5E10 (or higher), and in DMS Release NA(LEC/LAT)004 or Generic NA005 (or higher), respectively.
      <br/>
      If ISCP 10 is implemented as an integrated system, ISCP Version 4.4 or other compatible software releases may be provided in the ISCP.
      <br/>
      In service network nodes implemented with 5ESS switches, the AIN Off-Hook Delay trigger may be utilized, with a trigger criteria type of "PRI B Channel Setup", and for DMS switches, the AIN Off-Hook Delay trigger may be utilized with a trigger criteria type of "Off-Hook Delay".
    </p>
    <p num="96">
      When a trigger is engaged at step S.80, the service network node encountering the trigger will formulate and send, at step S.82, an AIN query message to the ISCP 10 via a CCS link 50.
      <br/>
      The AIN query message that is sent to the ISCP may include the number of the calling or poisoned party, including the NPA-NXX of the poisoned party, as well as the number of the PCAP location which initiated the call return request.
      <br/>
      The number associated with the PCAP location may be used by the ISCP 10 to identify the appropriate service logic or CPR to perform call return processing.
      <br/>
      CPR service logic may be provided for each PCAP location, or one CPR may be provided for all PCAP locations.
      <br/>
      At step S.84, in accordance with the service logic, the ISCP 10 may determine the NPA-NXX of the poisoned party, which may be contained in a QCOLLECTEDADDR parameter of the query.
      <br/>
      At step S.86, an appropriate database table may be accessed and searched based on the NPA-NXX of the poisoned party to determine the routing information for the call return.
      <br/>
      In accordance with an aspect of the present invention, a stand-alone table may be stored in memory in the ISCP 10 for each service network node 92A-92D.
      <br/>
      Each stand-alone table may provide call return routing information for return calls based on the NPA-NXX of the poisoned party.
      <br/>
      The ISCP 10 may search and access the appropriate database table based on the service network node that launched the query to the ISCP.
    </p>
    <p num="97">
      At step S.88 in FIG. 5, the ISCP 10 may determine and return the appropriate call return routing information in a response message to the querying SSP node via one of the CCS links 50.
      <br/>
      If the ISCP 10 determines that the call can be returned by routing to a 911 tandem switch 62 that is served by the same service network node as the calling PCAP location (i.e., a "local" call return), then a route index that identifies the appropriate MF trunk 70 to the 911 tandem switch, a called party number of "911", and a charge number that equals the number of the poisoned party may be returned in the response message.
      <br/>
      If, however, the ISCP 10 determines that the call must be sent to a 911 tandem that is served by a different service network node (i.e., a service network node other than the node that generated the query to the ISCP), then in order to route this call (i.e., a "remote" call return) a route index that indicates a route on the PRI network 57 to the remote service network node, a calling party number that equals the number of the poisoned party, and a called party number that is set to a ten digit virtual number on the remote service network node may be returned in the response message.
    </p>
    <p num="98">
      As a result of receiving the response message from the ISCP 10, the querying SSP node at step S.90 will analyze the routing information and return the call to either the local 911 tandem switch or to a remote service network node identified by the ISCP.
      <br/>
      For local call returns, the serving SSP may be adapted to automatically delete the NPA from the ten digit calling party number, prepend a "0" and outpulse the correct eight digit format to the 911 tandem.
      <br/>
      For calls to be routed to a remote service network node, once the call encounters the triggered virtual number in the remote node, another query may be generated to the ISCP so that the call may be processed by the ISCP service logic as in the local call return case described above.
    </p>
    <p num="99">
      FIGS. 6A and 6B illustrate exemplary processes and operations for performing call return processing in accordance with one implementation of the present invention.
      <br/>
      The functions and operations represented in the exemplary flow charts of FIGS. 6A and 6B may be implemented through the use of AIN functionality and service logic provided at the ISCP 10.
      <br/>
      Through the service logic of the ISCP 10, when a call return is requested by a PCAP attendant, an AIN query will be launched to the ISCP 10 from the service network node or SSP serving the PCAP attendant's location.
      <br/>
      The ISCP 10 will then determine, in accordance with the call return service logic, whether the call should be routed to a 911 tandem that is locally served by the same service network node that generated the query message, or whether the call should be routed to a remote service network node for further processing.
      <br/>
      Routing tables may be provided in the ISCP 10 in order to facilitate the determination of whether local or remote routing is necessary based on the NPA-NXX of the calling party.
      <br/>
      Such routing tables may be provided for each of the service network nodes and may be predefined and populated, on an NPA-NXX basis, with route index or office route information that is required to complete the call.
    </p>
    <p num="100">
      At step S.100 in FIG. 6A, call return processing is initiated when a trigger is encountered at one of the service network nodes 92A-92D.
      <br/>
      An AIN trigger may be encountered at one of the service network nodes 92A-92D when an attendant at a PCAP location requests call return processing.
      <br/>
      For example, an attendant at PCAP location 94C in FIG. 2 may decide that the calling party requires ambulance service, and that the call should be returned to the 911 operator serving the calling party.
      <br/>
      In such a situation, the PCAP attendant may send, via PRI link 97, the ten digit number of the calling or poisoned party to the service network node 92C.
      <br/>
      Upon receipt of the ten digit calling party number, a trigger will be encountered at the serving service network node (i.e., service network node 92C) to initiate call return processing.
    </p>
    <p num="101">
      At step S.102, the service network node that encountered the trigger will formulate and send a query message to the ISCP 10 via one of the CCS links 50.
      <br/>
      The query message that is sent to the ISCP 10 may be TCAP formatted and may include the ten digit calling party number or poisoned party number (PPN), as well as the number of the PCAP attendant requesting the call return.
      <br/>
      Upon receipt of the query message at the ISCP 10, the appropriate call return service logic or CPR may be searched and accessed at the ISCP.
      <br/>
      Thereafter, at step S.104, the NPA-NXX of the calling party may be determined based on the information contained in the query message sent to the ISCP.
      <br/>
      The CPR service logic may determine the NPA-NXX of the calling party based on the QCOLLECTEDADDR parameter of the query message.
      <br/>
      At step S.106, the appropriate database table may be accessed and searched by the ISCP 10.
      <br/>
      As noted above, tables containing routing information for return calls may be populated and stored in the ISCP 10.
      <br/>
      A stand-alone table may be created for each service network node 92A-92D.
      <br/>
      The stand-alone tables may be defined with routes for all of the possible NPA-NXX combinations for the state or locality in which the service network is provided.
      <br/>
      The stand-alone tables containing routing information should be defined to handle any and all calling party numbers from any PCAP location of the service network.
      <br/>
      Based on the service network node that launched the query, the ISCP 10 may access and search the stand-alone table associated with the querying service network node.
    </p>
    <p num="102">
      Table 5 illustrates an exemplary stand-alone table that may be stored in the ISCP 10, and the data fields that may be provided in such a stand-alone table for each service network node.
      <br/>
      Each of the fields in the stand-alone table may be defined as a number string.
      <br/>
      The NPA field, NXX_BEG field, and NXX_END field are provided in the table to indicate the possible NPA-NXX combinations for each route index.
      <br/>
      A RTE_INDX field is provided to indicate the route index or office route for each possible range of NPA-NXX.
      <br/>
      A CALLED_NBR field may also be provided and populated with either the digits "911" (e.g., for local call return routing) or the digits of a virtual number that represent the remote service network node (e.g., for remote call return routing).
    </p>
    <p num="103">
      -- TABLE 5
      <br/>
      -- STAND-ALONE TABLE
      <br/>
      -- NPA     NXX_BEG     NXX_END       RTE_INDX    CALLED_NBR
      <br/>
      -- 214     000         576           00001211    911
      <br/>
      -- 214     577         999           00001131    911
      <br/>
      -- 817     000         999           00001131    911
      <br/>
      -- 713     000         999           00001561    7139990000
    </p>
    <p num="104">
      For example, in the exemplary stand-alone table of Table 5, if a PCAP location served by the service network node corresponding to the table returns a call that originated from a calling party having an NPA-NXX of "214464", the ISCP 10 would determine that an office route of "00001211" should be a route to the MF trunk group 70 that connects the 911 tandem switch 62 that serves "214464".
      <br/>
      Similarly, for calls being returned to any calling party in the NPA-NXX range of "214577" to "214999", an office route of "00001131" should be a route to the MF trunk group that connects to the 911 tandem that serves those NPA-NXXs.
      <br/>
      While several entries may be necessary for any given NPA, only a few (or one as shown in Table 5 for an NPA of 817 or 713) may be required for others.
      <br/>
      For local call return routing, the CALLED_NBR field should be populated with the digits "911", whereas for remote routing the CALLED_NBR field should be populated with the digits of the virtual number that exists for the remote service network node.
      <br/>
      For example, in Table 5, for NPA-NXXs having a NPA of "713", the ISCP 10 would return an office route of "00001561" that represents the PRI route to the remote service network node, and "7139990000" would be returned representing the virtual number for the remote service network node.
    </p>
    <p num="105">
      At step S.108 in FIG. 6A, it is determined whether an valid NPA-NXX is present.
      <br/>
      An invalid NPA-NXX may occur if the PCAP attendant dialed an inaccurate calling party number (e.g., dialed an NPA that is not valid or out of the territory served by the service network) or if the stand-alone table is not populated with all of the possible NPA-NXX combinations.
      <br/>
      The ISCP 10 may determine that an invalid NPA-NXX is present when the NPA-NXX that was sent in the query message does not match any row in the stand-alone table for the querying service network node.
      <br/>
      If it is determined that a valid NPA-NXX is not present, then processing may continue to step S.110 where the ISCP 10 returns a response message so that an error announcement is invoked and played back to the PCAP attendant and so that the call is thereafter terminated.
      <br/>
      The announcement may be prerecorded and contain an error message (e.g., "We're sorry.
      <br/>
      We cannot complete your call as dialed.
      <br/>
      Please hang up, check the number, and try again.") to indicate an invalid calling party number is present or has been entered.
      <br/>
      The recorded announcement that is played back may be constructed from one or more AIN, or other prerecorded phrases.
    </p>
    <p num="106">
      If a match is found with one of the rows in the stand-alone table, such that a valid NPA-NXX exists, then logic proceeds to step S.112 where it is determined whether local call return routing is required.
      <br/>
      A call return may be determined to be "local" if the service logic of the ISCP 10 determines that the call return should be routed to a 911 tandem switch that is serviced by the same service network node that launched the query.
      <br/>
      The presence of local routing may be determined from the stand-alone table.
      <br/>
      For local routing, the ISCP 10 will locate, for example, a CALLED_NBR field having a value of "911" for the entry or row of the table that matches the NPA-NXX of the calling party.
      <br/>
      If it is determined at step S.112 that the call return is local, then logic flow proceeds to step S.118, where the ISCP will return a route index or office route that indicates the appropriate MF trunk to the 911 tandem switch (i.e., based on the route index indicated in the RTE_INDX field of the stand-alone database table).
      <br/>
      Thereafter, at step S.120, the querying service network node or SSP will analyze the routing information contained in the response message and return the call to the appropriate 911 tandem and PSAP/911 operator.
      <br/>
      The 911 operator may then receive the call and provide further assistance to the calling party (e.g., dispatch an ambulance or provide other emergency service).
    </p>
    <p num="107">
      If it is determined that the call return is not local at step S.112, then routing for the call return is determined to be remote and logic proceeds from step S.112 to step S.130 in FIG. 6B. A call is "remote" if the ISCP determines that the call return should be routed to a 911 tandem switch that is serviced or served by a different service network node than the node that generated the query to the ISCP.
      <br/>
      For remote routing, the digits of a virtual number for the remote service network node will be provided in the CALLED_NBR field for the row or entry corresponding to the calling party's NPA-NXX.
      <br/>
      At step S.130, the ISCP 10 will return the virtual number to the querying service network node in the form of a response message via one of the CCS links 50.
      <br/>
      The response message may also include a route index that designates a PRI route on the PRI network 57 to the remote service network node (i.e., a route index indicated by the RTE_INDX field in the database table).
      <br/>
      The virtual number that is returned may be a ten digit number and may be assigned a 3/6/10D trigger (for a 5ESS switch) or a virtual TAT trigger (for a DMS switch) on the remote service network node.
    </p>
    <p num="108">
      At step S.132 in FIG. 6B, the querying service network node will analyze the routing information returned in the response message and route the call to the appropriate remote service network node via the PRI route identified by the ISCP 10.
      <br/>
      The ten digit virtual number may be assigned to the called party number and be used to trigger the remote service network node, as described above.
      <br/>
      When the call encounters the triggered virtual number in the remote switch at step S.134, another query is generated and sent to the ISCP 10 via one of the CCS links 50.
      <br/>
      When the query arrives at the ISCP 10, the ISCP 10 may search and access the appropriate CPR service logic identified by the Called Party ID in the query.
      <br/>
      The Called Party ID may be set to the ten digit triggered number.
      <br/>
      At step S.136, the CPR service logic may determine the NPA-NXX of the calling party based on the information contained in the query message.
      <br/>
      The NPA-NXX may be contained in the QCALLINGNUMBER parameter of the query.
    </p>
    <p num="109">
      Using the NPA-NXX determined at step S.136, the ISCP 10 may access and search the appropriate stand-alone table (see, for example, Table 5) for the remote service network node that launched the query.
      <br/>
      At step S.140, the ISCP 10 determines whether the CALLED_NBR field equals "911".
      <br/>
      If all of the database tables in the ISCP 10 are correctly populated and defined, the CALLED_NBR field value should always equal 911 whenever a search is performed based on a query launched from a remote service network node.
      <br/>
      That is, with remote call return routing, the call should always be routed to the appropriate remote service network node that serves the 911 tandem switch for the calling party.
      <br/>
      If it is determined at step S.140 that the CALLED_NBR field value does not equal "911", then logic flow may proceed to step S.142, where an appropriate error announcement is played back and the call is thereafter terminated.
      <br/>
      The announcement may be prerecorded and may contain an error message (e.g., "We're sorry.
      <br/>
      You call cannot be completed as dialed.") to indicate that the call can not be returned or completed as dialed.
    </p>
    <p num="110">
      If it is determined at step S.140 that the CALLED_NBR field value is equal to "911", then logic flow proceeds to step S.144, where the ISCP 10 returns the route index or office route (e.g., as identified by the corresponding RTE_INDX field) to the 911 tandem in the form of a response message.
      <br/>
      At step S.146, the remote service network node will analyze the routing information sent from the ISCP and return the call to the 911 tandem switch via the identified office route.
      <br/>
      The call may then be received by the appropriate PSAP/911 operator so that the calling party may receive any necessary emergency service (e.g., dispatch of an ambulance).
    </p>
    <p num="111">
      Referring now to FIGS. 7 and 8, exemplary message flows and exchanges for local and remote call return routing will be provided in accordance with one or more aspects of the present invention.
      <br/>
      FIG. 7 illustrates an exemplary message flow for local call return routing between a querying service network node (i.e., an originating SSP) and the ISCP.
      <br/>
      FIG. 8, on the other hand, illustrates an exemplary message flow for remote call return routing between an originating service network node (i.e., an originating SSP), the ISCP, and the remote service network node (i.e., a remote SSP).
      <br/>
      The exemplary query and response messages illustrated in FIGS. 7 and 8 may be sent over the CCS links 50 and may be formatted in accordance with Signalling System 7 (SS7 ).
      <br/>
      For the embodiments discussed below, the service network nodes or SSPs may be implemented as 5ESS switches or DMS switches with AIN functionality and capabilities.
    </p>
    <p num="112">
      FIG. 7 illustrates an exemplary message flow between an originating SSP and an ISCP for local call return routing.
      <br/>
      Assume, for example, that a PCAP attendant located at PCAP location 94A wishes to transfer and return a service call (e.g., from a poisoned party at location 38) to the 911 operator at PSAP 65.
      <br/>
      In such a situation, the PCAP attendant will key in the ten digit number of the calling or poisoned party and send the same over PRI trunk 97 to service network node or SSP 92A.
      <br/>
      This step is illustrated by step S.200 in FIG. 7, where a call origination from a PCAP PRI trunk is received at the originating SSP and causes an Off-Hook Delay trigger at the SSP.
      <br/>
      In addition to sending the ten digit number of the poisoned party, the PCAP attendant may also send the ten digit number of the PCAP location to the SSP.
      <br/>
      When an Off-Hook Delay trigger is encountered at the originating SSP, a query message is formulated and sent to the ISCP, as represented by step S.204 in FIG. 7.
      <br/>
      For Off-Hook Delay queries at SSPs equipped as a 5ESS switch, the initial query that is generated may comprise an Info_Collected message, with a trigger criteria type of "PRI B Channel Setup" (i.e., this may be the designation given to PRI Off-Hook Delay triggers in the 5ESS).
      <br/>
      The query message from such a 5ESS switch may be approximately 114 octets in length and include all of the SS7 protocol layers.
      <br/>
      For Off-Hook Delay queries at a DMS switch, the initial query that is generated may comprise an Info_Collected message, with a trigger type criteria type of "Off-Hook Delay".
      <br/>
      This query message from such a DMS switch may be approximately 96 octets in length, and include all of the SS7 protocol layers.
      <br/>
      In addition, the query message from the DMS switches may be shorter than that from 5ESS switches, since it does not need to include some parameters (e.g., LATA) that are customarily included by the 5ESS switch.
    </p>
    <p num="113">
      Table 6 illustrates exemplary parameters and parameter values that may be provided in the Off-Hook Delay query message at step S.204 from an originating SSP equipped as a 5ESS or DMS switch.
      <br/>
      As shown in Table 6, the query message may include a USERID parameter, a CHARGE NUMBER parameter, a TRIGGER CRITERIA TYPE parameter, a CALLING PARTY ID parameter, and a COLLECTED ADDRESS parameter.
      <br/>
      The USERID parameter may be set to the calling number of the PCAP location, the CHARGE NUMBER parameter may be set to the trunk group billing number, and the TRIGGER CRITERIA TYPE parameter may be set to a value of "PRI B Channel Setup" for 5ESS switches or to "Off-Hook Delay" value for DMS switches.
      <br/>
      In addition, the CALLING PARTY ID parameter may be set to the calling number of the PCAP location and the COLLECTED ADDRESS parameter may be set to the ten digit number of the poisoned party (i.e., the poison party number (PPN)).
    </p>
    <p num="114">
      -- TABLE 6
      <br/>
      -- 5ESS AND DMS OFF-HOOK DELAY QUERY MESSAGE
      <br/>
      --      Parameter                 Value
      <br/>
      --      USERID                    PCAP Calling Party Number
      <br/>
      --      CHARGE NUMBER             Trunk Group Billing Number
      <br/>
      --      TRIGGER CRITERIA TYPE     "PRI B Channel Setup"**
      <br/>
      --      CALLING PARTY ID          PCAP Calling Party Number
      <br/>
      --      COLLECTED ADDRESS         10D Poisoned Party Number (PPN)
      <br/>
      -- **5ESS only.
      <br/>
      Trigger Criteria Type is "Off-Hook Delay" for DMS
    </p>
    <p num="115">
      When the query message is received at the ISCP, the appropriate CPR service logic will be accessed and used to determine where the call should be returned.
      <br/>
      For local call return routing, as shown in FIG. 7, the ISCP will determine based on the NPA-NXX of the poisoned party that the call should be returned to the 911 tandem that is on the same service network node or SSP that launched the query.
      <br/>
      That is, a CALLED_NBR field value of "911" (see, for example, Table 5) will be returned from the stand-alone table corresponding to the originating SSP.
      <br/>
      Thereafter, as represented at step S.208 in FIG. 7, the ISCP will formulate and return a response message.
      <br/>
      For SSPs implemented as 5ESS or DMS switches, the ISCP may return a response message that is an Analyze_Route message when responding to an Off-Hook Delay query from the SSP.
      <br/>
      An example of the parameters and parameters values that may be contained in the Analyze_Route response message from the ISCP is provided in Table 7.
      <br/>
      For local call return routing, the Analyze_Route response message may contain a CHARGE NUMBER parameter, a CALLED PARTY ID parameter, and a PRIMARY TRUNK GROUP parameter.
      <br/>
      The CHARGE NUMBER parameter that is set to the ten digit poison party number (PPN), and the CALLED PARTY ID parameter may be set to a value of "911".
      <br/>
      In addition, the PRIMARY TRUNK GROUP parameter may be set to the route index for the MF trunk connecting the SSP to the 911 tandem, as indicated by the RTE_INDX field in the stand-alone table in the ISCP (see, for example, Table 5).
    </p>
    <p num="116">
      -- TABLE 7
      <br/>
      -- ISCP "LOCAL" ANALYZE_ROUTE RESPONSE MESSAGE
      <br/>
      --      Parameter                 Value
      <br/>
      --      CHARGE NUMBER             10D Poisoned Party Number (PPN)
      <br/>
      --      CALLED PARTY ID           "911"
      <br/>
      --      PRIMARY TRUNK GROUP       Route index for MF 911 trunk
    </p>
    <p num="117">
      After the response message is received from the querying SSP, the SSP will analyze the routing information and complete the call to the 911 tandem via the MF trunk identified in the response message.
      <br/>
      As represented at step S.212 in FIG. 7, the originating SSP will complete the call to the 911 tandem by outpulsing a 911 digit stream plus an eight digit number of the poisoned party.
      <br/>
      As noted above, in order to conform with 911 call signalling format, the SSP may automatically delete the NPA from the ten digit PPN, prepend a "0" digit, and outpulse the correct eight digit format to the 911 tandem.
      <br/>
      In the example discussed above, SSP 92A would return the call from PCAP location 94A to a 911 operator at PSAP 65 via MF trunk 70 and 911 tandem switch 62.
    </p>
    <p num="118">
      FIG. 8 illustrates an exemplary message flow for remote call return routing.
      <br/>
      Call return processing is initiated when a call return request, originating from a PCAP attendant, is forwarded to an originating SSP over an appropriate PRI trunk group.
      <br/>
      Assume, for example, that for the exemplary message flow of FIG. 8, that a PCAP attendant located at PCAP location 94D wishes to return a call initiated by a poison party located at telephone location 38.
      <br/>
      The PCAP attendant may transfer the call by dialing the ten digit number of the poison party (i.e., the PPN) and sending the PPN over the PRI trunk 97 to the service network node 92D acting as the originating SSP.
      <br/>
      This step is generally represented at step S.220 in FIG. 8.
      <br/>
      The trigger in the SSP may be defined according to various schemes.
      <br/>
      For example, as noted above, a segregated PRI trunk group may be defined and provisioned with an Off-Hook Delay trigger, which is engaged whenever a call is transferred from the PCAP attendant over the segregated PRI trunk to the SSP.
    </p>
    <p num="119">
      When the call return request is received at the originating SSP, an Off-Hook Delay trigger will be engaged and a query message will be formulated and sent to the ISCP, as shown in step S.224. The query message that is sent at step S.224 may be similar to that described above for local call return routing.
      <br/>
      That is, the query message for SSPs equipped with 5ESS or DMS Off-Hook Delay triggers may contain similar parameters and parameter values as that described above with reference to Table 6.
      <br/>
      The query message may include a USERID parameter, a CHARGE NUMBER parameter, a TRIGGER CRITERIA TYPE parameter, a CALLING PARTY ID parameter, and a COLLECTED ADDRESS parameter.
      <br/>
      The USERID parameter may be set to the calling number of the PCAP location, the CHARGE NUMBER parameter may be set to the trunk group billing number, and the TRIGGER CRITERIA TYPE parameter may be set to a value of "PRI B Channel Setup" for 5ESS switches or to "Off-Hook Delay" value for DMS switches.
      <br/>
      In addition, the CALLING PARTY ID parameter may be set to the calling number of the PCAP location and the COLLECTED ADDRESS parameter may be set to the ten digit number of the poisoned party (i.e., the poisoned party number (PPN)).
    </p>
    <p num="120">
      In the example discussed above, the poisoned party or calling party is served by a 911 tandem switch that is connected to a remote service network node (i.e., service network node or SSP 92A).
      <br/>
      Therefore, the call should be routed to a 911 tandem that is served by a different SSP node than that which generated the Off-Hook Delay query (i.e., service network node 92D serving PCAP location 94D).
      <br/>
      The CPR service logic of the ISCP will determine that the call should be returned remotely and, therefore, that the call must first be routed to a virtual number of the remote SSP.
      <br/>
      As represented at step S.228 in FIG. 8, the ISCP will formulate and return a response message for remote call return routing.
      <br/>
      The response message at step S.228 may be sent as an Analyze_Route response and include the virtual number to outpulse for the remote SSP.
      <br/>
      Table 8 illustrates exemplary parameters and parameter values for the Analyze_Route response for remote call return routing.
      <br/>
      For both 5ESS and DMS switches, the Analyze_Route response to an Off-Hook delay query may include a CALLING PARTY ID parameter that is set to the ten digit poisoned party number (i.e., the PPN) and a CALLED PARTY ID parameter that is set to the ten digit virtual number associated with the remote SSP node.
      <br/>
      Based on the information contained in the stand-alone table accessed and searched by the ISCP (see, for example, the RTE_INDX field of Table 5), a PRIMARY TRUNK GROUP parameter may be set to the value of the route index for the PRI trunk connecting the originating SSP to the remote SSP node.
    </p>
    <p num="121">
      -- TABLE 8
      <br/>
      -- ISCP "REMOTE" ANALYZE_ROUTE RESPONSE MESSAGE
      <br/>
      -- Parameter                 Value
      <br/>
      -- CALLING PARTY ID          10D Poisoned Party Number (PPN)
      <br/>
      -- CALLED PARTY ID           10D Virtual Number on remote SSP
      <br/>
      -- PRIMARY TRUNK GROUP       Route index for PRI to remote SSP
    </p>
    <p num="122">
      The originating SSP will then analyze the response message from the ISCP and route the call to the virtual number on a remote SSP via the PRI trunk indicated in the response message.
      <br/>
      That is, for the example discussed above, querying service network node 92D will route the call to remote service network node 92A over PRI network 57.
      <br/>
      Step S.232 in FIG. 8 generally illustrates this step.
      <br/>
      At step S.232, the originating SSP will route the call via the given office route to the ten digit virtual number contained or identified in the stand-alone table in the ISCP (see, for example, the CALLED_NBR field of Table 5).
      <br/>
      The PPN may be passed along as the CALLING PARTY ID value for further processing at the remote SSP.
      <br/>
      At the remote SSP, the ten digit virtual number will cause a ten digit trigger or a virtual TAT trigger to occur at the remote SSP, so that another query message may be sent to the ISCP.
      <br/>
      For 5ESS switches, a ten digit trigger may be utilized, and for DMS switches a virtual TAT trigger may be utilized.
      <br/>
      In either case, the ten digit virtual number should be established as the virtual number with the trigger.
    </p>
    <p num="123">
      As illustrated at step S.236 in FIG. 8, after the trigger is encountered at the remote SSP, a query message will be sent to the ISCP.
      <br/>
      A 3/6/10D query message may be used for 5ESS switches, and a virtual TAT query message may be used for DMS switches at the remote SSP.
      <br/>
      For 3/6/10D queries from 5ESS switches, this query may comprise an Info_Analyzed message, with a trigger criteria type of "npaNXXXXXX" (i.e., the form taken by 3/6/10D trigger).
      <br/>
      The 3/6/10D query message may be approximately 100 octets in length.
      <br/>
      For virtual TAT query messages from DMS switches, this query may comprise a Termination_Attempt message with a trigger criteria type of "terminationAttempt".
      <br/>
      The virtual TAT query message may be approximately 107 octets in length.
    </p>
    <p num="124">
      Tables 9A and 9B contain exemplary parameters and parameter values for 3/6/10D query messages and virtual TAT query messages, respectively.
      <br/>
      As indicated in Table 9A, the 3/6/10D query may include a CALLED PARTY ID parameter, a CHARGE NUMBER parameter, a TRIGGER CRITERIA TYPE parameter and a CALLING PARTY parameter.
      <br/>
      In the 3/6/10D query, the ten digit virtual number may set for the value of the CALLED PARTY ID parameter, and the ten digit poisoned party number (PPN) may be set for the value of the CALLING PARTY ID parameter (see, for example, Table 9A).
      <br/>
      The virtual TAT query may also include a CALLED PARTY ID parameter, a CHARGE NUMBER parameter, a TRIGGER CRITERIA TYPE parameter and a CALLING PARTY parameter.
      <br/>
      As shown in Table 9B, in the virtual TAT query the ten digit virtual number may be set as the value of the CALLED PARTY ID parameter and the ten digit poisoned party number (PPN) may be set to the value of the CALLING PARTY ID parameter.
      <br/>
      For both the 5ESS 3/6/10D query and the DMS virtual TAT query, the CHARGE NUMBER parameter may be set to the trunk group billing number for the PRI trunk identified by the ISCP.
    </p>
    <p num="125">
      -- TABLE 9A
      <br/>
      -- 5ESS 3/6/10D QUERY MESSAGE FROM REMOTE SSP
      <br/>
      -- Parameter                 Value
      <br/>
      -- CALLED PARTY ID           10D Virtual Number on remote SSP
      <br/>
      -- CHARGE NUMBER             Trunk Group Billing Number
      <br/>
      -- TRIGGER CRITERIA TYPE     "npaNXXXXXX"
      <br/>
      -- CALLING PARTY ID          10D Poisoned Party Number (PPN)
    </p>
    <p num="126">
      -- TABLE 9B
      <br/>
      -- DMS VIRTUAL TAT QUERY MESSAGE FROM REMOTE SSP
      <br/>
      -- Parameter                 Value
      <br/>
      -- CALLED PARTY ID           10D Virtual Number on remote SSP
      <br/>
      -- CHARGE NUMBER             Trunk Group Billing Number
      <br/>
      -- TRIGGER CRITERIA TYPE     "terminationAttempt"
      <br/>
      -- CALLING PARTY ID          10D Poisoned Party Number (PPN)
    </p>
    <p num="127">
      Following step S.236 in FIG. 8, the CPR service logic in the ISCP will determine that the call should be routed to a 911 tandem served by the remote SSP.
      <br/>
      As a result, a response message will be formulated and returned at step S.240 to the remote SSP via one of the CCS links.
      <br/>
      That is, in the example noted above, ISCP 10 will return a response message to the remote service network node 92A to indicate that the call may be returned to a 911 operator at PSAP 65.
      <br/>
      The response message from the ISCP for remote call return routing may comprise an Analyze_Route message and may be approximately 70 octets in length.
      <br/>
      Table 10 illustrates exemplary parameters and parameter values that may be provided as part of the Analyze_Route response message for queries from 5ESS switches.
      <br/>
      For a DMS virtual TAT query, the response message may comprise a Forward_Call message.
      <br/>
      The Forward_Call response message may also be 70 octets in length, and may comprise values similar to the Analyze_Route response message indicated in Table 10.
    </p>
    <p num="128">
      -- TABLE 10
      <br/>
      -- ISCP ANALYZE_ROUTE (5ESS) AND FORWARD_CALL (DMS)
      <br/>
      -- RESPONSE MESSAGE TO REMOTE SWITCH QUERIES
      <br/>
      --      Parameter                 Value
      <br/>
      --      CHARGE NUMBER             10D Poisoned Party Number (PPN)
      <br/>
      --      CALLED PARTY ID           "911"
      <br/>
      --      PRIMARY TRUNK GROUP       Route index for MF 911 trunk
    </p>
    <p num="129">
      As shown in Table 10, the Analyze_Route and Forward_Call response messages may include a CHARGE NUMBER parameter, a CALLED_PARTY ID parameter, and a PRIMARY TRUNK GROUP parameter.
      <br/>
      The CALLED PARTY ID parameter may be set to a value of "911", and the CHARGE NUMBER parameter may be set to the ten digit poisoned party number (i.e., PPN).
      <br/>
      In addition, the PRIMARY TRUNK GROUP parameter may be set to the route index for the MF link 70 identified for connecting the remote SSP to the 911 tandem.
      <br/>
      When the response message is sent, the remote SSP will analyze the routing information contained in the response message and will complete the call to the 911 tandem, as represented at step S.244 in FIG. 8.
      <br/>
      When completing the call to the 911 tandem, the remote SSP may outpulse the 911 digit stream and an eight digit poisoned party number.
      <br/>
      Once again, the eight digit poisoned party number may be automatically formatted by the remote SSP by removing the NPA from the full ten digit poisoned party number and appending "0" digit to the remaining seven digit number of the poisoned party.
    </p>
    <p num="130">
      While the invention has been described with reference to several exemplary embodiments, it is understood that the words which have been used herein are words of description and illustration, rather than words of limitations.
      <br/>
      Changes may be made, within the purview of the appended claims, as presently stated and as amended, without departing from the scope and spirit of the invention in its aspects.
      <br/>
      Although the invention has been described herein with reference to particular means, materials and embodiments, the invention is not intended to be limited to the particulars disclosed herein; rather, the invention extends to all functionally equivalent structures, methods and uses, such as are within the scope of the appended claims.
    </p>
  </description>
  <claims format="original" lang="en" id="claim_en">
    <claim num="1">
      <claim-text>What is claimed:</claim-text>
      <claim-text>1.</claim-text>
      <claim-text>An intelligent call routing method for routing a service call from a calling party to a service network comprising a plurality of service network locations. the method comprising:</claim-text>
      <claim-text>receiving a service call request to connect said calling party to one of said service network locations; determining a location of said calling party by searching an Number Plan Area (NPA) table, the NPA table comprising a plurality of entries indicating an NPA corresponding to each combination of an incoming trunk line number and an NPA code, to determine the NPA of the calling number of the calling party based on the incoming trunk line number; identifying, based on the location of said calling party, one of said service network locations for receiving said service call request, and identifying routing information for routing said service call request to said receiving service network location;</claim-text>
      <claim-text>and completing said service call request to said receiving service network location based on said routing information.</claim-text>
    </claim>
    <claim num="2">
      <claim-text>2. The intelligent call routing method according to claim 1, wherein the location of said calling party is determined based on one of the NPA and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="3">
      <claim-text>3. The intelligent call routing method according to claim 2, further comprising comparing at a service network location number table including a plurality of NPA-NXX entries and a number identifying said service network locations that correspond to each of said NPA-NXX entries, the NPA and NXX of the calling number of said calling party to each of said NPA-NXX entries in said service network location number table, to determine a number identifying said receiving service network location that corresponds to the NPA and NXX of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="4">
      <claim-text>4. The intelligent call routing method according to claim 3, further comprising identifying, by determining a route index and an outpulse number from a route table comprising a plurality of entries containing a route index and an outpulse number for routing service call requests to each of said service network locations, wherein said routing information is identified, based on said number identifying said receiving service network location, said route index and said outpulse number being included as part of said routing information.</claim-text>
    </claim>
    <claim num="5">
      <claim-text>5. The intelligent call routing method according to claim 4, further comprising searching a routing options table comprising a plurality of entries containing numbers identifying alternate service network locations to route a service call request according to predetermined routing options, to determine if said service call request should be routed to an alternate service network location based on said predetermined routing options.</claim-text>
    </claim>
    <claim num="6">
      <claim-text>6. The intelligent call routing method according to claim 5, wherein said predetermined routing options comprise routing options to route to an alternate service network location based on at least one of a time-of-day and a day-of-week.</claim-text>
    </claim>
    <claim num="7">
      <claim-text>7. The intelligent call routing method according to claim 1, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="8">
      <claim-text>8. The intelligent call routing method according to claim 7, wherein said poison control service network comprises a Primary Rate Interface (PRI) network.</claim-text>
    </claim>
    <claim num="9">
      <claim-text>9. The intelligent call routing method according to claim 1, further comprising initiating said service call request by dialing a predefined emergency assistance number.</claim-text>
    </claim>
    <claim num="10">
      <claim-text>10. The intelligent call routing method according to claim 9, further comprising receiving said service call request at a 911 tandem switch in response to said predefined emergency assistance number being dialed, and transferring said service call request from said 911 tandem switch to one of said service network locations.</claim-text>
    </claim>
    <claim num="11">
      <claim-text>11. An intelligent call return routing method for returning a service call placed to a service network by a calling party to one of a plurality of service answering points, said service network comprising a plurality of service network locations, the method comprising: initiating a call return request to return said service call of said calling party to one of said service answering points; receiving said call return request from said one of said service network locations; determining a location of said calling party based on a calling number of said calling party; identifying, based on the location of said calling party, one of said service answering points for receiving said call return request, and identifying routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and completing said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
    <claim num="12">
      <claim-text>12. The intelligent call return routing method according to claim 11, further comprising determining when said call return request can be routed locally to said receiving service answering point and when said call return request must be routed remotely to said receiving service answering point.</claim-text>
    </claim>
    <claim num="13">
      <claim-text>13. The intelligent call return routing method according to claim 12, further comprising identifying local routing information to be included as part of said routing information when it is determined that local routing can be performed, and identifying remote routing information to be included as part of said routing information when it is determined that remote routing must be performed.</claim-text>
    </claim>
    <claim num="14">
      <claim-text>14. The intelligent call return routing method according to claim 13, wherein said local routing information comprises a route index and a predefined emergency assistance number to be outpulsed, said method further comprising returning said service call to said receiving service answering point based on the route index and the emergency assistance number contained in said routing information.</claim-text>
    </claim>
    <claim num="15">
      <claim-text>15. The intelligent call return routing method according to claim 14, wherein said emergency assistance number comprises 911.</claim-text>
    </claim>
    <claim num="16">
      <claim-text>16. The intelligent call return routing method according to claim 13, wherein said remote routing information comprises a route index and a predefined virtual number to be outpulsed, said method further comprising: routing said service call over said service network based on the route index and the virtual number contained in said routing information; identifying additional routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and routing said call return request to said receiving service answering point based on said additional routing information.</claim-text>
    </claim>
    <claim num="17">
      <claim-text>17. The intelligent call return routing method according to claim 11, wherein said location of said calling party is determined based on a Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="18">
      <claim-text>18. The intelligent call return routing method according to claim 11, further comprising outpulsing a number corresponding to one of a plurality of NPA-NXX entries present in a stand-alone table, for routing said call return request to said receiving service answering point.</claim-text>
    </claim>
    <claim num="19">
      <claim-text>19. The intelligent call return routing method according to claim 11, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="20">
      <claim-text>20. The intelligent call return routing method according to claim 19, wherein said poison control service network comprises a Primary Rate Interface (PRI) network.</claim-text>
    </claim>
    <claim num="21">
      <claim-text>21. A method for routing a service call placed to a poison control service network by a calling party, said poison control service network comprising a plurality of service network locations, the method comprising: initiating said service call request from the calling party by dialing a predefined emergency assistance number; receiving said service call request at a 911 tandem switch, and transferring said service call request from said 911 tandem switch to one of said service network locations; determining the location of the calling party based on a calling number of the calling party; identifying, based on the location of said calling party, one of the service network locations for receiving said service call request, and identifying routing information for routing said service call request to said receiving service network location; completing said service call request to said receiving service network location based on said routing information; initiating a call return request to return said service call of the calling party to one of a plurality of service answering points; receiving said call return request from said receiving service network location; determining the location of the calling party based on the calling number of the calling party; identifying, based on the location of the calling party, one of said service answering points for receiving said call return request, and identifying routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and completing said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
    <claim num="22">
      <claim-text>22. An intelligent call routing system for routing a service call from a calling party to a service network comprising a plurality of service network locations, the system comprising: a receiving system that is adapted to receive a service call request to connect said calling party to one of said service network locations; an Number Plan Area (NPA) table comprising a plurality of entries indicating an NPA corresponding to each combination of an incoming trunk line number and an NPA code, a determining system that is adapted to determine a location of said calling party based on a calling number of said calling party, the determining system including a searcher to search said NPA table to determine the NPA of the calling number based on the incoming trunk line number and the NPA code; an identifying system that is adapted to identify, based on the location of said calling party, one of said service network locations for receiving said service call request, and to identify routing information for routing said service call request to said receiving service network location;</claim-text>
      <claim-text>and a completing system that is adapted to complete said service call request to said receiving service network location based on said routing information.</claim-text>
    </claim>
    <claim num="23">
      <claim-text>23. The intelligent call routing system according to claim 22, wherein said determining system comprises a system that determines the location of said calling party based on an NPA and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="24">
      <claim-text>24. The intelligent call routing system according to claim 23, further comprising: a service network location number table including a plurality of NPA-NXX entries and a number identifying said service network locations that correspond to each of said NPA-NXX entries;</claim-text>
      <claim-text>and a system for comparing the NPA and NXX of the calling number of said calling party to each of said NPA-NXX entries in said service network location number table to determine a number identifying said receiving service network location that corresponds to the NPA and NXX of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="25">
      <claim-text>25. An intelligent call routing system according to claim 24, further comprising a route table comprising a plurality of entries containing a route index and an outpulse number for routing service call requests to each of said service network locations, said system for identifying routing information comprising a system that determines a route index and an outpulse number from said route table based on said number identifying said receiving service network location, said route index and said outpulse number being included as part of said routing information.</claim-text>
    </claim>
    <claim num="26">
      <claim-text>26. The intelligent call routing system according to claim 25, further comprising: a routing options table comprising a plurality of entries containing numbers identifying alternate service network locations to route a service call request according to predetermined routing options;</claim-text>
      <claim-text>and a system that is adapted to search said routing options table to determine if said service call request should be routed to an alternate service network location based on said predetermined routing options.</claim-text>
    </claim>
    <claim num="27">
      <claim-text>27. The intelligent call routing system according to claim 26, wherein said predetermined routing options comprise routing options to route to an alternate service network location based on at least one of a time-of-day and a day-of-week.</claim-text>
    </claim>
    <claim num="28">
      <claim-text>28. The intelligent call routing system according to claim 22, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="29">
      <claim-text>29. The intelligent call routing system according to claim 28, wherein said poison control service network comprises a Primary Rate Interface (PRI) network.</claim-text>
    </claim>
    <claim num="30">
      <claim-text>30. The intelligent call routing system according to claim 22, further comprising a system that is adapted to initiate said service call request by dialing a predefined emergency assistance number.</claim-text>
    </claim>
    <claim num="31">
      <claim-text>31. An intelligent call routing system according to claim 30, further comprising a receiving system that is adapted to receive said service call request at a 911 tandem switch in response to said predefined emergency assistance number being dialed, and a transferring system that transfers said service call request from said 911 tandem switch to one of said service network locations.</claim-text>
    </claim>
    <claim num="32">
      <claim-text>32. An intelligent call return routing system for returning a service call placed to a service network by a calling party to one of a plurality of service answering points, said service network comprising a plurality of service network locations, the system comprising: an initiating system that is adapted to initiate a call return request to return said service call of said calling party to one of said service answering points; a receiving system that is adapted to receive said call return request from said one of said service network locations; a determining system that is adapted to determine a location of said calling party based on a calling number of said calling party; an identifying system that is adapted to identify, based on the location of said calling party, one of said service answering points for receiving said call return request, and to identify routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and a completing system that is adapted to complete said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
    <claim num="33">
      <claim-text>33. The intelligent call return routing system according to claim 32, further comprising a system that is adapted to determine when said call return request can be routed locally to said receiving service answering point and when said call return request must be routed remotely to said receiving service answering point.</claim-text>
    </claim>
    <claim num="34">
      <claim-text>34. The intelligent call return routing system according to claim 33, further comprising a system that is adapted to identify local routing information to be included as part of said routing information when it is determined that local routing can be performed, and to identify remote routing information to be included as part of said routing information when it is determined that remote routing must be performed.</claim-text>
    </claim>
    <claim num="35">
      <claim-text>35. The intelligent call return routing system according to claim 34, wherein said local routing information comprises a route index and a predefined emergency assistance number to be outpulsed, said intelligent call return routing system further comprising a system that is adapted to return said service call to said receiving service answering point based on the route index and the emergency assistance number contained in said routing information.</claim-text>
    </claim>
    <claim num="36">
      <claim-text>36. The intelligent call return routing system according to claim 35, wherein said emergency assistance number comprises 911.</claim-text>
    </claim>
    <claim num="37">
      <claim-text>37. The intelligent call return routing system according to claim 34, wherein said remote routing information comprises a route index and a predefined virtual number to be outpulsed, the system further comprising: a routing system that is adapted to route said service call over said service network based on the route index and the virtual number contained in said routing information; an identifying system that is adapted to identify additional routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and a routing system that is adapted to route said call return request to said receiving service answering point based on said additional routing information.</claim-text>
    </claim>
    <claim num="38">
      <claim-text>38. The intelligent call return routing system according to claim 32, wherein said determining system comprises means for determining the location of said calling party based on an Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="39">
      <claim-text>39. The intelligent call return routing system according to claim 32, further comprising a stand-alone table including a plurality of NPA-NXX entries, each of said NPA-NXX entries including a corresponding number to be outpulsed for routing said call return request to said receiving service answering point.</claim-text>
    </claim>
    <claim num="40">
      <claim-text>40. The intelligent call return routing system according to claim 32, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="41">
      <claim-text>41. The intelligent call return routing system according to claim 40, wherein said poison control service network comprises a Primary Rate Interface (PRI).</claim-text>
    </claim>
    <claim num="42">
      <claim-text>42. A system for routing a service call placed to a poison control service network by a calling party, said poison control service network comprising a plurality of service network locations, the system comprising: an initiating system that is adapted to initiate said service call request by dialing a predefined emergency assistance number; a receiving system that is adapted to receive said service call request at a 911 tandem switch, and further adapted to transfer said service call request from said 911 tandem switch to one of said service network locations; a Number Plan Area (NPA) table comprising a plurality of entries indicating an NPA corresponding to each combination of an incoming trunk line number and an NPA code a receiving system that is adapted to receive said service call request to connect said calling party to one of said service network locations; a determining system that is adapted to determine the location of said calling party based on a calling number of said calling party, the determining system including a searcher to search said NPA table to determine the NPA of the calling number based on the incoming trunk line number and the NPA code; an identifying system that is adapted to identify, based on the location of said calling party, one of said service network locations for receiving said service call request, and identify routing information for routing said service call request to said receiving service network location;</claim-text>
      <claim-text>and a completing system that is adapted to complete said service call request to said receiving service network location based on said routing information.</claim-text>
    </claim>
    <claim num="43">
      <claim-text>43. The system for routing a service call according to claim 42, wherein said completing system comprising a transmitting system adapted to transmit the NPA and a central office code (NXX) of the calling number of said calling party to said receiving service network location.</claim-text>
    </claim>
    <claim num="44">
      <claim-text>44. The system for routing a service call according to claim 42, further comprising: an initiating system that is adapted to initiate a call return request to return said service call of said calling party to one of a plurality of service answering points; a receiving system that is adapted to receive said call return request from said receiving service network location; a determining system that is adapted to determine, at said service control point, the location of said calling party based on the calling number of said calling party; an identifying system that is adapted to identify, based on the location of said calling party, one of said service answering points for receiving said call return request, and identifying routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and a completing system that is adapted to complete said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
    <claim num="45">
      <claim-text>45. A computer program for routing a service call from a calling party to a service network having a plurality of service network locations, the program stored in a computer-readable medium, the program comprising: receiving a service call request to connect said calling party to one of said service network locations; determining a location of said calling party by searching an NPA table, the NPA table comprising a plurality of entries indicating a Number Plan Area (NPA) corresponding to each combination of an incoming trunk line number and an NPA code, to determine the NPA of the calling number of the calling party based on the incoming trunk line number; identifying, based on the location of said calling party, one of said service network locations for receiving said service call request, and identifying routing information for routing said service call request to said receiving service network location;</claim-text>
      <claim-text>and completing said service call request to said receiving service network location based on said routing information.</claim-text>
    </claim>
    <claim num="46">
      <claim-text>46. The computer program according to claim 45, wherein the location of said calling party is determined based on a NPA and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="47">
      <claim-text>47. The computer program according to claim 46, further comprising comparing, at a service network location number table including a plurality of NPA-NXX entries and a number identifying said service network locations that correspond to each of said NPA-NXX entries, the NPA and NXX of the calling number of said calling party to each of said NPA-NXX entries in said service network location number table, to determine a number identifying said receiving service network location that corresponds to the NPA and NXX of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="48">
      <claim-text>48. The computer program according to claim 47, further comprising identifying, by determining a route index and an outpulse number from a route table comprising a plurality of entries containing a route index and an outpulse number for routing service call requests to each of said service network locations, wherein said routing information is identified, based on said number identifying said receiving service network location, said route index and said outpulse number being included as part of said routing information.</claim-text>
    </claim>
    <claim num="49">
      <claim-text>49. The computer program according to claim 48, further comprising searching a routing options table comprising a plurality of entries containing numbers identifying alternate service network locations to route a service call request according to predetermined routing options, to determine if said service call request should be routed to an alternate service network location based on said predetermined routing options.</claim-text>
    </claim>
    <claim num="50">
      <claim-text>50. The computer program according to claim 49, wherein said predetermined routing options comprise routing options to route to an alternate service network location based on at least one of a time-of-day and a day-of-week.</claim-text>
    </claim>
    <claim num="51">
      <claim-text>51. The computer program according to claim 45, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="52">
      <claim-text>52. The computer program according to claim 51, wherein said poison control service network comprises a Primary Rate Interface (PRI) network.</claim-text>
    </claim>
    <claim num="53">
      <claim-text>53. The computer program according to claim 45, further comprising initiating said service call request by dialing a predefined emergency assistance number.</claim-text>
    </claim>
    <claim num="54">
      <claim-text>54. The computer program according to claim 53, further comprising receiving said service call request at a 911 tandem switch in response to said predefined emergency assistance number being dialed, and transferring said service call request from said 911 tandem switch to one of said service network locations.</claim-text>
    </claim>
    <claim num="55">
      <claim-text>55. A computer program for returning a service call placed to a service network by a calling party to one of a plurality of service answering points, the service network having a plurality of service network locations, the program stored in a computer-readable medium and comprising: initiating a call return request to return said service call of said calling party to one of said service answering points; receiving said call return request from said one of said service network locations; determining a location of said calling party based on a calling number of said calling party; identifying, based on the location of said calling party, one of said service answering points for receiving said call return request, and identifying routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and completing said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
    <claim num="56">
      <claim-text>56. The computer program according to claim 55, further comprising determining when said call return request can be routed locally to said receiving service answering point.</claim-text>
    </claim>
    <claim num="57">
      <claim-text>57. The computer program according to claim 56, further comprising identifying local routing information to be included as part of said routing information when it is determined that local routing can be performed, and identifying remote routing information to be included as part of said routing information when it is determined that remote routing must be performed.</claim-text>
    </claim>
    <claim num="58">
      <claim-text>58. The computer program according to claim 57, wherein said local routing information comprises a route index and a predefined emergency assistance number to be outpulsed, said program further comprising returning said service call to said receiving service answering point based on the route index and the emergency assistance number contained in said routing information.</claim-text>
    </claim>
    <claim num="59">
      <claim-text>59. The computer program according to claim 58, wherein said emergency assistance number comprises 911.</claim-text>
    </claim>
    <claim num="60">
      <claim-text>60. The computer program according to claim 57, wherein said remote routing information comprises a route index and a predefined virtual number to be outpulsed, said method further comprising: routing said service call over said service network based on the route index and the virtual number contained in said routing information; identifying additional routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and routing said call return request to said receiving service answering point based on said additional routing information.</claim-text>
    </claim>
    <claim num="61">
      <claim-text>61. The computer program according to claim 55, wherein said location of said calling party is determined based on a Number Plan Area (NPA) and a Central Office Code (NXX) of the calling number of said calling party.</claim-text>
    </claim>
    <claim num="62">
      <claim-text>62. The computer program according to claim 55, further comprising outpulsing a number corresponding to one of a plurality of NPA-NXX entries present in a stand-alone table, for routing said call return request to said receiving service answering point.</claim-text>
    </claim>
    <claim num="63">
      <claim-text>63. The computer program according to claim 55, wherein said service network comprises a poison control service network and said service network locations comprise poison control answering points that are adapted to provide assistance and counseling to calling parties regarding poisoning.</claim-text>
    </claim>
    <claim num="64">
      <claim-text>64. The computer program according to claim 63, wherein said poison control service network comprises a Primary Rate Interface (PRI) network.</claim-text>
    </claim>
    <claim num="65">
      <claim-text>65. A computer program for routing a service call placed to a poison control service network by a calling party, the poison control service network having a plurality of service network locations, the computer program stored in a computer-readable medium and comprising: initiating said service call request from the calling party by dialing a predefined emergency assistance number; receiving said service call request at a 911 tandem switch, and transferring said service call request from said 911 tandem switch to one of said service network locations; determining the location of the calling party based on a calling number of the calling party; identifying, based on the location of said calling party, one of the service network locations for receiving said service call request, and identifying routing information for routing said service call request to said receiving service network location; completing said service call request to said receiving service network location based on said routing information; initiating a call return request to return said service call of the calling party to one of a plurality of service answering points; receiving said call return request from said receiving service network location; determining the location of the calling party based on the calling number of the calling party; identifying, based on the location of the calling party, one of said service answering points for receiving said call return request, and identifying routing information for routing said call return request to said receiving service answering point;</claim-text>
      <claim-text>and completing said call return request to said receiving service answering point based on said routing information.</claim-text>
    </claim>
  </claims>
</questel-patent-document>